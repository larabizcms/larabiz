import{bh as b,n as j,bi as y,bj as L,a as k,r as g,R as v,bk as w,j as e,C as S,I as C,bl as A,b3 as h,ap as I,bm as B,a7 as M,bn as R,a1 as T,a8 as E,a9 as O,bo as P,ac as X}from"./index-C7XDJ_kP.js";import{u as z}from"./useTranslation-FWVaBoU2.js";const l={width:22,height:22,fontSize:"1rem"},W={mt:"6px",ml:1,top:"auto",right:"auto",alignSelf:"flex-start",transform:"none"};function q(){var d;const p=b(),c=j(p.breakpoints.down("md")),o=y(L),u=k(),{i18n:t}=z(),n=g.useRef(null),[r,i]=g.useState(!1),m=()=>{i(a=>!a)},x=a=>{n.current&&n.current.contains(a.target)||i(!1)},f=a=>{if(t.language===a.code){i(!1);return}t.changeLanguage(a.code),localStorage.setItem("i18nextLng",a.code),window.location.reload(),i(!1)};return v.useEffect(()=>{o||u(w({limit:10}))},[o,u]),o?e.jsxs(S,{sx:{flexShrink:0,ml:.75},children:[e.jsx(C,{color:"secondary",sx:{color:"text.primary",bgcolor:r?"grey.100":"transparent"},"aria-label":"open profile",ref:n,"aria-controls":r?"profile-grow":void 0,"aria-haspopup":"true",onClick:m,children:e.jsx(A,{color:"primary",children:e.jsx(h,{sx:l,src:`https://unpkg.com/language-icons/icons/${t.language}.svg`,alt:((d=o.find(a=>a.code===t.language))==null?void 0:d.name)||t.language})})}),e.jsx(I,{placement:c?"bottom":"bottom-end",open:r,anchorEl:n.current,role:void 0,transition:!0,disablePortal:!0,popperOptions:{modifiers:[{name:"offset",options:{offset:[c?-5:0,9]}}]},children:({TransitionProps:a})=>e.jsx(B,{type:"grow",position:c?"top":"top-right",in:r,...a,children:e.jsx(M,{sx:{boxShadow:p.customShadows.z1,width:"100%",maxWidth:150},children:e.jsx(R,{onClickAway:x,children:e.jsx(T,{elevation:0,border:!1,content:!1,children:e.jsx(E,{component:"nav",sx:{p:0,"& .MuiListItemButton-root":{py:.5,"&.Mui-selected":{bgcolor:"grey.50",color:"text.primary"},"& .MuiAvatar-root":l,"& .MuiListItemSecondaryAction-root":{...W,position:"relative"}}},children:o.map(s=>e.jsxs(O,{onClick:D=>f(s),children:[e.jsx(P,{sx:{minWidth:36},children:e.jsx(h,{sx:l,src:`https://unpkg.com/language-icons/icons/${s.code}.svg`,alt:s.name,color:"success"})}),e.jsx(X,{primary:s.name})]},s.code))})})})})})})]}):e.jsx(e.Fragment,{})}export{q as default};
