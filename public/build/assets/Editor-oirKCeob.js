import{bE as Fo,r as TE,j as EE,G as yG,S as vG,a$ as xG,b0 as wG}from"./index-C-recmsz.js";var zZ=function(){return zZ=Object.assign||function(ro){for(var Gt,Wt=1,Jt=arguments.length;Wt<Jt;Wt++){Gt=arguments[Wt];for(var Lt in Gt)Object.prototype.hasOwnProperty.call(Gt,Lt)&&(ro[Lt]=Gt[Lt])}return ro},zZ.apply(this,arguments)},rG={onActivate:Fo.func,onAddUndo:Fo.func,onBeforeAddUndo:Fo.func,onBeforeExecCommand:Fo.func,onBeforeGetContent:Fo.func,onBeforeRenderUI:Fo.func,onBeforeSetContent:Fo.func,onBeforePaste:Fo.func,onBlur:Fo.func,onChange:Fo.func,onClearUndos:Fo.func,onClick:Fo.func,onContextMenu:Fo.func,onCommentChange:Fo.func,onCompositionEnd:Fo.func,onCompositionStart:Fo.func,onCompositionUpdate:Fo.func,onCopy:Fo.func,onCut:Fo.func,onDblclick:Fo.func,onDeactivate:Fo.func,onDirty:Fo.func,onDrag:Fo.func,onDragDrop:Fo.func,onDragEnd:Fo.func,onDragGesture:Fo.func,onDragOver:Fo.func,onDrop:Fo.func,onExecCommand:Fo.func,onFocus:Fo.func,onFocusIn:Fo.func,onFocusOut:Fo.func,onGetContent:Fo.func,onHide:Fo.func,onInit:Fo.func,onInput:Fo.func,onKeyDown:Fo.func,onKeyPress:Fo.func,onKeyUp:Fo.func,onLoadContent:Fo.func,onMouseDown:Fo.func,onMouseEnter:Fo.func,onMouseLeave:Fo.func,onMouseMove:Fo.func,onMouseOut:Fo.func,onMouseOver:Fo.func,onMouseUp:Fo.func,onNodeChange:Fo.func,onObjectResizeStart:Fo.func,onObjectResized:Fo.func,onObjectSelected:Fo.func,onPaste:Fo.func,onPostProcess:Fo.func,onPostRender:Fo.func,onPreProcess:Fo.func,onProgressState:Fo.func,onRedo:Fo.func,onRemove:Fo.func,onReset:Fo.func,onSaveContent:Fo.func,onSelectionChange:Fo.func,onSetAttrib:Fo.func,onSetContent:Fo.func,onShow:Fo.func,onSubmit:Fo.func,onUndo:Fo.func,onVisualAid:Fo.func,onSkinLoadError:Fo.func,onThemeLoadError:Fo.func,onModelLoadError:Fo.func,onPluginLoadError:Fo.func,onIconsLoadError:Fo.func,onLanguageLoadError:Fo.func,onScriptsLoad:Fo.func,onScriptsLoadError:Fo.func},kG=zZ({apiKey:Fo.string,licenseKey:Fo.string,id:Fo.string,inline:Fo.bool,init:Fo.object,initialValue:Fo.string,onEditorChange:Fo.func,value:Fo.string,tagName:Fo.string,tabIndex:Fo.number,cloudChannel:Fo.string,plugins:Fo.oneOfType([Fo.string,Fo.array]),toolbar:Fo.oneOfType([Fo.string,Fo.array]),disabled:Fo.bool,textareaName:Fo.string,tinymceScriptSrc:Fo.oneOfType([Fo.string,Fo.arrayOf(Fo.string),Fo.arrayOf(Fo.shape({src:Fo.string,async:Fo.bool,defer:Fo.bool}))]),rollback:Fo.oneOfType([Fo.number,Fo.oneOf([!1])]),scriptLoading:Fo.shape({async:Fo.bool,defer:Fo.bool,delay:Fo.number})},rG),TZ=function(ro){return typeof ro=="function"},Qq=function(ro){return ro in rG},eG=function(ro){return ro.substr(2)},_G=function(ro,Gt,Wt,Jt,Lt,Ht,qe){var Re=Object.keys(Lt).filter(Qq),Pt=Object.keys(Ht).filter(Qq),so=Re.filter(function(So){return Ht[So]===void 0}),po=Pt.filter(function(So){return Lt[So]===void 0});so.forEach(function(So){var Ft=eG(So),Vt=qe[Ft];Wt(Ft,Vt),delete qe[Ft]}),po.forEach(function(So){var Ft=Jt(ro,So),Vt=eG(So);qe[Vt]=Ft,Gt(Vt,Ft)})},CG=function(ro,Gt,Wt,Jt,Lt){return _G(Lt,ro.on.bind(ro),ro.off.bind(ro),function(Ht,qe){return function(Re){var Pt;return(Pt=Ht(qe))===null||Pt===void 0?void 0:Pt(Re,ro)}},Gt,Wt,Jt)},tG=0,aG=function(ro){var Gt=Date.now(),Wt=Math.floor(Math.random()*1e9);return tG++,ro+"_"+Wt+tG+String(Gt)},oG=function(ro){return ro!==null&&(ro.tagName.toLowerCase()==="textarea"||ro.tagName.toLowerCase()==="input")},nG=function(ro){return typeof ro>"u"||ro===""?[]:Array.isArray(ro)?ro:ro.split(" ")},SG=function(ro,Gt){return nG(ro).concat(nG(Gt))},EG=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},TG=function(ro){if(!("isConnected"in Node.prototype)){for(var Gt=ro,Wt=ro.parentNode;Wt!=null;)Gt=Wt,Wt=Gt.parentNode;return Gt===ro.ownerDocument}return ro.isConnected},sG=function(ro,Gt){ro!==void 0&&(ro.mode!=null&&typeof ro.mode=="object"&&typeof ro.mode.set=="function"?ro.mode.set(Gt):ro.setMode(Gt))},OZ=function(){return OZ=Object.assign||function(ro){for(var Gt,Wt=1,Jt=arguments.length;Wt<Jt;Wt++){Gt=arguments[Wt];for(var Lt in Gt)Object.prototype.hasOwnProperty.call(Gt,Lt)&&(ro[Lt]=Gt[Lt])}return ro},OZ.apply(this,arguments)},AG=function(ro,Gt,Wt){var Jt,Lt,Ht=ro.createElement("script");Ht.referrerPolicy="origin",Ht.type="application/javascript",Ht.id=Gt.id,Ht.src=Gt.src,Ht.async=(Jt=Gt.async)!==null&&Jt!==void 0?Jt:!1,Ht.defer=(Lt=Gt.defer)!==null&&Lt!==void 0?Lt:!1;var qe=function(){Ht.removeEventListener("load",qe),Ht.removeEventListener("error",Re),Wt(Gt.src)},Re=function(Pt){Ht.removeEventListener("load",qe),Ht.removeEventListener("error",Re),Wt(Gt.src,Pt)};Ht.addEventListener("load",qe),Ht.addEventListener("error",Re),ro.head&&ro.head.appendChild(Ht)},zG=function(ro){var Gt={},Wt=function(qe,Re){var Pt=Gt[qe];Pt.done=!0,Pt.error=Re;for(var so=0,po=Pt.handlers;so<po.length;so++){var So=po[so];So(qe,Re)}Pt.handlers=[]},Jt=function(qe,Re,Pt){var so=function(Be){return Pt!==void 0?Pt(Be):console.error(Be)};if(qe.length===0){so(new Error("At least one script must be provided"));return}for(var po=0,So=!1,Ft=function(Be,X){So||(X?(So=!0,so(X)):++po===qe.length&&Re())},Vt=0,St=qe;Vt<St.length;Vt++){var to=St[Vt],Qe=Gt[to.src];if(Qe)Qe.done?Ft(to.src,Qe.error):Qe.handlers.push(Ft);else{var nt=aG("tiny-");Gt[to.src]={id:nt,src:to.src,done:!1,error:null,handlers:[Ft]},AG(ro,OZ({id:nt},to),Wt)}}},Lt=function(){for(var qe,Re=0,Pt=Object.values(Gt);Re<Pt.length;Re++){var so=Pt[Re],po=ro.getElementById(so.id);po!=null&&po.tagName==="SCRIPT"&&((qe=po.parentNode)===null||qe===void 0||qe.removeChild(po))}Gt={}},Ht=function(){return ro};return{loadScripts:Jt,deleteScripts:Lt,getDocument:Ht}},OG=function(){var ro=[],Gt=function(Lt){var Ht=ro.find(function(qe){return qe.getDocument()===Lt});return Ht===void 0&&(Ht=zG(Lt),ro.push(Ht)),Ht},Wt=function(Lt,Ht,qe,Re,Pt){var so=function(){return Gt(Lt).loadScripts(Ht,Re,Pt)};qe>0?setTimeout(so,qe):so()},Jt=function(){for(var Lt=ro.pop();Lt!=null;Lt=ro.pop())Lt.deleteScripts()};return{loadList:Wt,reinitialize:Jt}},DG=OG(),AZ=function(ro){var Gt=ro;return Gt&&Gt.tinymce?Gt.tinymce:null},RG=function(){var ro=function(Gt,Wt){return ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Jt,Lt){Jt.__proto__=Lt}||function(Jt,Lt){for(var Ht in Lt)Object.prototype.hasOwnProperty.call(Lt,Ht)&&(Jt[Ht]=Lt[Ht])},ro(Gt,Wt)};return function(Gt,Wt){if(typeof Wt!="function"&&Wt!==null)throw new TypeError("Class extends value "+String(Wt)+" is not a constructor or null");ro(Gt,Wt);function Jt(){this.constructor=Gt}Gt.prototype=Wt===null?Object.create(Wt):(Jt.prototype=Wt.prototype,new Jt)}}(),AE=function(){return AE=Object.assign||function(ro){for(var Gt,Wt=1,Jt=arguments.length;Wt<Jt;Wt++){Gt=arguments[Wt];for(var Lt in Gt)Object.prototype.hasOwnProperty.call(Gt,Lt)&&(ro[Lt]=Gt[Lt])}return ro},AE.apply(this,arguments)},NG=function(ro){RG(Gt,ro);function Gt(Wt){var Jt,Lt,Ht,qe=ro.call(this,Wt)||this;return qe.rollbackTimer=void 0,qe.valueCursor=void 0,qe.rollbackChange=function(){var Re=qe.editor,Pt=qe.props.value;Re&&Pt&&Pt!==qe.currentContent&&Re.undoManager.ignore(function(){if(Re.setContent(Pt),qe.valueCursor&&(!qe.inline||Re.hasFocus()))try{Re.selection.moveToBookmark(qe.valueCursor)}catch{}}),qe.rollbackTimer=void 0},qe.handleBeforeInput=function(Re){if(qe.props.value!==void 0&&qe.props.value===qe.currentContent&&qe.editor&&(!qe.inline||qe.editor.hasFocus()))try{qe.valueCursor=qe.editor.selection.getBookmark(3)}catch{}},qe.handleBeforeInputSpecial=function(Re){(Re.key==="Enter"||Re.key==="Backspace"||Re.key==="Delete")&&qe.handleBeforeInput(Re)},qe.handleEditorChange=function(Re){var Pt=qe.editor;if(Pt&&Pt.initialized){var so=Pt.getContent();qe.props.value!==void 0&&qe.props.value!==so&&qe.props.rollback!==!1&&(qe.rollbackTimer||(qe.rollbackTimer=window.setTimeout(qe.rollbackChange,typeof qe.props.rollback=="number"?qe.props.rollback:200))),so!==qe.currentContent&&(qe.currentContent=so,TZ(qe.props.onEditorChange)&&qe.props.onEditorChange(so,Pt))}},qe.handleEditorChangeSpecial=function(Re){(Re.key==="Backspace"||Re.key==="Delete")&&qe.handleEditorChange(Re)},qe.initialise=function(Re){var Pt,so,po;Re===void 0&&(Re=0);var So=qe.elementRef.current;if(So){if(!TG(So)){if(Re===0)setTimeout(function(){return qe.initialise(1)},1);else if(Re<100)setTimeout(function(){return qe.initialise(Re+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var Ft=AZ(qe.view);if(!Ft)throw new Error("tinymce should have been loaded into global scope");var Vt=AE(AE(AE(AE({},qe.props.init),{selector:void 0,target:So,readonly:qe.props.disabled,inline:qe.inline,plugins:SG((Pt=qe.props.init)===null||Pt===void 0?void 0:Pt.plugins,qe.props.plugins),toolbar:(so=qe.props.toolbar)!==null&&so!==void 0?so:(po=qe.props.init)===null||po===void 0?void 0:po.toolbar}),qe.props.licenseKey?{license_key:qe.props.licenseKey}:{}),{setup:function(St){qe.editor=St,qe.bindHandlers({}),qe.inline&&!oG(So)&&St.once("PostRender",function(to){St.setContent(qe.getInitialValue(),{no_events:!0})}),qe.props.init&&TZ(qe.props.init.setup)&&qe.props.init.setup(St)},init_instance_callback:function(St){var to,Qe,nt=qe.getInitialValue();qe.currentContent=(to=qe.currentContent)!==null&&to!==void 0?to:St.getContent(),qe.currentContent!==nt&&(qe.currentContent=nt,St.setContent(nt),St.undoManager.clear(),St.undoManager.add(),St.setDirty(!1));var Be=(Qe=qe.props.disabled)!==null&&Qe!==void 0?Qe:!1;sG(qe.editor,Be?"readonly":"design"),qe.props.init&&TZ(qe.props.init.init_instance_callback)&&qe.props.init.init_instance_callback(St)}});qe.inline||(So.style.visibility=""),oG(So)&&(So.value=qe.getInitialValue()),Ft.init(Vt)}},qe.id=qe.props.id||aG("tiny-react"),qe.elementRef=TE.createRef(),qe.inline=(Ht=(Jt=qe.props.inline)!==null&&Jt!==void 0?Jt:(Lt=qe.props.init)===null||Lt===void 0?void 0:Lt.inline)!==null&&Ht!==void 0?Ht:!1,qe.boundHandlers={},qe}return Object.defineProperty(Gt.prototype,"view",{get:function(){var Wt,Jt;return(Jt=(Wt=this.elementRef.current)===null||Wt===void 0?void 0:Wt.ownerDocument.defaultView)!==null&&Jt!==void 0?Jt:window},enumerable:!1,configurable:!0}),Gt.prototype.componentDidUpdate=function(Wt){var Jt=this,Lt,Ht;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(Wt),this.editor.initialized)){if(this.currentContent=(Lt=this.currentContent)!==null&&Lt!==void 0?Lt:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==Wt.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var qe=this.editor;qe.undoManager.transact(function(){var Pt;if(!Jt.inline||qe.hasFocus())try{Pt=qe.selection.getBookmark(3)}catch{}var so=Jt.valueCursor;if(qe.setContent(Jt.props.value),!Jt.inline||qe.hasFocus())for(var po=0,So=[Pt,so];po<So.length;po++){var Ft=So[po];if(Ft)try{qe.selection.moveToBookmark(Ft),Jt.valueCursor=Ft;break}catch{}}})}if(this.props.disabled!==Wt.disabled){var Re=(Ht=this.props.disabled)!==null&&Ht!==void 0?Ht:!1;sG(this.editor,Re?"readonly":"design")}}},Gt.prototype.componentDidMount=function(){var Wt=this,Jt,Lt,Ht,qe,Re;if(AZ(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(Lt=(Jt=this.props).onScriptsLoadError)===null||Lt===void 0||Lt.call(Jt,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((Ht=this.elementRef.current)===null||Ht===void 0)&&Ht.ownerDocument){var Pt=function(){var po,So;(So=(po=Wt.props).onScriptsLoad)===null||So===void 0||So.call(po),Wt.initialise()},so=function(po){var So,Ft;(Ft=(So=Wt.props).onScriptsLoadError)===null||Ft===void 0||Ft.call(So,po)};DG.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(Re=(qe=this.props.scriptLoading)===null||qe===void 0?void 0:qe.delay)!==null&&Re!==void 0?Re:0,Pt,so)}},Gt.prototype.componentWillUnmount=function(){var Wt=this,Jt=this.editor;Jt&&(Jt.off(this.changeEvents(),this.handleEditorChange),Jt.off(this.beforeInputEvent(),this.handleBeforeInput),Jt.off("keypress",this.handleEditorChangeSpecial),Jt.off("keydown",this.handleBeforeInputSpecial),Jt.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(Lt){Jt.off(Lt,Wt.boundHandlers[Lt])}),this.boundHandlers={},Jt.remove(),this.editor=void 0)},Gt.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},Gt.prototype.changeEvents=function(){var Wt,Jt,Lt,Ht=(Lt=(Jt=(Wt=AZ(this.view))===null||Wt===void 0?void 0:Wt.Env)===null||Jt===void 0?void 0:Jt.browser)===null||Lt===void 0?void 0:Lt.isIE();return Ht?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},Gt.prototype.beforeInputEvent=function(){return EG()?"beforeinput SelectionChange":"SelectionChange"},Gt.prototype.renderInline=function(){var Wt=this.props.tagName,Jt=Wt===void 0?"div":Wt;return TE.createElement(Jt,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},Gt.prototype.renderIframe=function(){return TE.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},Gt.prototype.getScriptSources=function(){var Wt,Jt,Lt=(Wt=this.props.scriptLoading)===null||Wt===void 0?void 0:Wt.async,Ht=(Jt=this.props.scriptLoading)===null||Jt===void 0?void 0:Jt.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:Lt,defer:Ht}]:this.props.tinymceScriptSrc.map(function(so){return typeof so=="string"?{src:so,async:Lt,defer:Ht}:so});var qe=this.props.cloudChannel,Re=this.props.apiKey?this.props.apiKey:"no-api-key",Pt="https://cdn.tiny.cloud/1/".concat(Re,"/tinymce/").concat(qe,"/tinymce.min.js");return[{src:Pt,async:Lt,defer:Ht}]},Gt.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},Gt.prototype.bindHandlers=function(Wt){var Jt=this;if(this.editor!==void 0){CG(this.editor,Wt,this.props,this.boundHandlers,function(Re){return Jt.props[Re]});var Lt=function(Re){return Re.onEditorChange!==void 0||Re.value!==void 0},Ht=Lt(Wt),qe=Lt(this.props);!Ht&&qe?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):Ht&&!qe&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},Gt.propTypes=kG,Gt.defaultProps={cloudChannel:"7"},Gt}(TE.Component),MG={exports:{}};(function(ro){(function(){var Gt=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var o=typeof e;return o==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":o==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":o},Wt=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Jt=function(e,o){var n=Array.prototype.slice.call(e);return n.sort(o)},Lt=function(e,o){return Ht(function(n,r){return e.eq(o(n),o(r))})},Ht=function(e){return{eq:e}},qe=Ht(function(e,o){return e===o}),Re=qe,Pt=function(e){return Ht(function(o,n){if(o.length!==n.length)return!1;for(var r=o.length,c=0;c<r;c++)if(!e.eq(o[c],n[c]))return!1;return!0})},so=function(e,o){return Lt(Pt(e),function(n){return Jt(n,o)})},po=function(e){return Ht(function(o,n){var r=Object.keys(o),c=Object.keys(n);if(!so(Re).eq(r,c))return!1;for(var u=r.length,m=0;m<u;m++){var b=r[m];if(!e.eq(o[b],n[b]))return!1}return!0})},So=Ht(function(e,o){if(e===o)return!0;var n=Gt(e),r=Gt(o);return n!==r?!1:Wt(n)?e===o:n==="array"?Pt(So).eq(e,o):n==="object"?po(So).eq(e,o):!1});const Ft=Object.getPrototypeOf,Vt=(e,o,n)=>{var r;return n(e,o.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===o.name},St=e=>{const o=typeof e;return e===null?"null":o==="object"&&Array.isArray(e)?"array":o==="object"&&Vt(e,String,(n,r)=>r.isPrototypeOf(n))?"string":o},to=e=>o=>St(o)===e,Qe=e=>o=>typeof o===e,nt=e=>o=>e===o,Be=(e,o)=>lt(e)&&Vt(e,o,(n,r)=>Ft(n)===r),X=to("string"),lt=to("object"),Go=e=>Be(e,Object),pt=to("array"),U=nt(null),zt=Qe("boolean"),ko=nt(void 0),co=e=>e==null,We=e=>!co(e),ie=Qe("function"),gn=Qe("number"),Oe=(e,o)=>{if(pt(e)){for(let n=0,r=e.length;n<r;++n)if(!o(e[n]))return!1;return!0}return!1},Me=()=>{},_=(e,o)=>(...n)=>e(o.apply(null,n)),ot=(e,o)=>n=>e(o(n)),ue=e=>()=>e,bt=e=>e,wt=(e,o)=>e===o;function ye(e,...o){return(...n)=>{const r=o.concat(n);return e.apply(null,r)}}const vt=e=>o=>!e(o),yo=e=>()=>{throw new Error(e)},He=e=>e(),Zt=e=>{e()},ke=ue(!1),Xe=ue(!0);class P{constructor(o,n){this.tag=o,this.value=n}static some(o){return new P(!0,o)}static none(){return P.singletonNone}fold(o,n){return this.tag?n(this.value):o()}isSome(){return this.tag}isNone(){return!this.tag}map(o){return this.tag?P.some(o(this.value)):P.none()}bind(o){return this.tag?o(this.value):P.none()}exists(o){return this.tag&&o(this.value)}forall(o){return!this.tag||o(this.value)}filter(o){return!this.tag||o(this.value)?this:P.none()}getOr(o){return this.tag?this.value:o}or(o){return this.tag?this:o}getOrThunk(o){return this.tag?this.value:o()}orThunk(o){return this.tag?this:o()}getOrDie(o){if(this.tag)return this.value;throw new Error(o??"Called getOrDie on None")}static from(o){return We(o)?P.some(o):P.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(o){this.tag&&o(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}P.singletonNone=new P(!1);const wn=Array.prototype.slice,st=Array.prototype.indexOf,Nt=Array.prototype.push,Ue=(e,o)=>st.call(e,o),dt=(e,o)=>{const n=Ue(e,o);return n===-1?P.none():P.some(n)},K=(e,o)=>Ue(e,o)>-1,te=(e,o)=>{for(let n=0,r=e.length;n<r;n++){const c=e[n];if(o(c,n))return!0}return!1},he=(e,o)=>{const n=e.length,r=new Array(n);for(let c=0;c<n;c++){const u=e[c];r[c]=o(u,c)}return r},V=(e,o)=>{for(let n=0,r=e.length;n<r;n++){const c=e[n];o(c,n)}},re=(e,o)=>{for(let n=e.length-1;n>=0;n--){const r=e[n];o(r,n)}},de=(e,o)=>{const n=[],r=[];for(let c=0,u=e.length;c<u;c++){const m=e[c];(o(m,c)?n:r).push(m)}return{pass:n,fail:r}},be=(e,o)=>{const n=[];for(let r=0,c=e.length;r<c;r++){const u=e[r];o(u,r)&&n.push(u)}return n},ut=(e,o,n)=>(re(e,(r,c)=>{n=o(n,r,c)}),n),Ee=(e,o,n)=>(V(e,(r,c)=>{n=o(n,r,c)}),n),Ke=(e,o,n)=>{for(let r=0,c=e.length;r<c;r++){const u=e[r];if(o(u,r))return P.some(u);if(n(u,r))break}return P.none()},xt=(e,o)=>Ke(e,o,ke),ho=(e,o)=>{for(let n=0,r=e.length;n<r;n++){const c=e[n];if(o(c,n))return P.some(n)}return P.none()},je=e=>{const o=[];for(let n=0,r=e.length;n<r;++n){if(!pt(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Nt.apply(o,e[n])}return o},Je=(e,o)=>je(he(e,o)),Ut=(e,o)=>{for(let n=0,r=e.length;n<r;++n){const c=e[n];if(o(c,n)!==!0)return!1}return!0},io=e=>{const o=wn.call(e,0);return o.reverse(),o},hn=(e,o)=>be(e,n=>!K(o,n)),Lo=(e,o)=>{const n={};for(let r=0,c=e.length;r<c;r++){const u=e[r];n[String(u)]=o(u,r)}return n},Mo=(e,o)=>{const n=wn.call(e,0);return n.sort(o),n},Hn=(e,o)=>o>=0&&o<e.length?P.some(e[o]):P.none(),Bo=e=>Hn(e,0),Wn=e=>Hn(e,e.length-1),bs=ie(Array.from)?Array.from:e=>wn.call(e),os=(e,o)=>{for(let n=0;n<e.length;n++){const r=o(e[n],n);if(r.isSome())return r}return P.none()},Ys=(e,o)=>{const n=[],r=ie(o)?c=>te(n,u=>o(u,c)):c=>K(n,c);for(let c=0,u=e.length;c<u;c++){const m=e[c];r(m)||n.push(m)}return n},vn=Object.keys,jr=Object.hasOwnProperty,Kt=(e,o)=>{const n=vn(e);for(let r=0,c=n.length;r<c;r++){const u=n[r],m=e[u];o(m,u)}},Gn=(e,o)=>hr(e,(n,r)=>({k:r,v:o(n,r)})),hr=(e,o)=>{const n={};return Kt(e,(r,c)=>{const u=o(r,c);n[u.k]=u.v}),n},ar=e=>(o,n)=>{e[n]=o},Pr=(e,o,n,r)=>{Kt(e,(c,u)=>{(o(c,u)?n:r)(c,u)})},$r=(e,o)=>{const n={},r={};return Pr(e,o,ar(n),ar(r)),{t:n,f:r}},ys=(e,o)=>{const n={};return Pr(e,o,ar(n),Me),n},ea=(e,o)=>{const n=[];return Kt(e,(r,c)=>{n.push(o(r,c))}),n},ia=e=>ea(e,bt),vs=(e,o)=>Qo(e,o)?P.from(e[o]):P.none(),Qo=(e,o)=>jr.call(e,o),Vs=(e,o)=>Qo(e,o)&&e[o]!==void 0&&e[o]!==null,Le=(e,o,n=So)=>po(n).eq(e,o),at=e=>{const o={};return V(e,n=>{o[n]={}}),vn(o)},xo=e=>e.length!==void 0,Ro=Array.isArray,Vn=e=>{if(Ro(e))return e;{const o=[];for(let n=0,r=e.length;n<r;n++)o[n]=e[n];return o}},is=(e,o,n)=>{if(!e)return!1;if(n=n||e,xo(e)){for(let r=0,c=e.length;r<c;r++)if(o.call(n,e[r],r,e)===!1)return!1}else for(const r in e)if(Qo(e,r)&&o.call(n,e[r],r,e)===!1)return!1;return!0},_r=(e,o)=>{const n=[];return is(e,(r,c)=>{n.push(o(r,c,e))}),n},Cr=(e,o)=>{const n=[];return is(e,(r,c)=>{(!o||o(r,c,e))&&n.push(r)}),n},ir=(e,o)=>{if(e){for(let n=0,r=e.length;n<r;n++)if(e[n]===o)return n}return-1},ge=(e,o,n,r)=>{let c=ko(n)?e[0]:n;for(let u=0;u<e.length;u++)c=o.call(r,c,e[u],u);return c},le=(e,o,n)=>{for(let r=0,c=e.length;r<c;r++)if(o.call(n,e[r],r,e))return r;return-1},tt=e=>e[e.length-1],mt=e=>{let o=!1,n;return(...r)=>(o||(o=!0,n=e.apply(null,r)),n)},en=(e,o,n,r)=>{const c=e.isiOS()&&/ipad/i.test(n)===!0,u=e.isiOS()&&!c,m=e.isiOS()||e.isAndroid(),b=m||r("(pointer:coarse)"),v=c||!u&&m&&r("(min-device-width:768px)"),E=u||m&&!v,R=o.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,N=!E&&!v&&!R;return{isiPad:ue(c),isiPhone:ue(u),isTablet:ue(v),isPhone:ue(E),isTouch:ue(b),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ue(R),isDesktop:ue(N)}},kn=(e,o)=>{for(let n=0;n<e.length;n++){const r=e[n];if(r.test(o))return r}},Rn=(e,o)=>{const n=kn(e,o);if(!n)return{major:0,minor:0};const r=c=>Number(o.replace(n,"$"+c));return Nn(r(1),r(2))},lr=(e,o)=>{const n=String(o).toLowerCase();return e.length===0?Ae():Rn(e,n)},Ae=()=>Nn(0,0),Nn=(e,o)=>({major:e,minor:o}),ve={nu:Nn,detect:lr,unknown:Ae},Se=(e,o)=>os(o.brands,n=>{const r=n.brand.toLowerCase();return xt(e,c=>{var u;return r===((u=c.brand)===null||u===void 0?void 0:u.toLowerCase())}).map(c=>({current:c.name,version:ve.nu(parseInt(n.version,10),0)}))}),Mt=(e,o)=>{const n=String(o).toLowerCase();return xt(e,r=>r.search(n))},jt=(e,o)=>Mt(e,o).map(n=>{const r=ve.detect(n.versionRegexes,o);return{current:n.name,version:r}}),To=(e,o)=>Mt(e,o).map(n=>{const r=ve.detect(n.versionRegexes,o);return{current:n.name,version:r}}),Zo=(e,o)=>e.substring(o),Ko=(e,o,n)=>o===""||e.length>=o.length&&e.substr(n,n+o.length)===o,jo=(e,o)=>_n(e,o)?Zo(e,o.length):e,ln=(e,o,n=0,r)=>{const c=e.indexOf(o,n);return c!==-1?ko(r)?!0:c+o.length<=r:!1},_n=(e,o)=>Ko(e,o,0),xs=(e,o)=>Ko(e,o,e.length-o.length),Rs=e=>o=>o.replace(e,""),Zs=Rs(/^\s+|\s+$/g),Pa=Rs(/^\s+/g),Za=Rs(/\s+$/g),xn=e=>e.length>0,ds=e=>!xn(e),ms=(e,o)=>o<=0?"":new Array(o+1).join(e),la=(e,o=10)=>{const n=parseInt(e,o);return isNaN(n)?P.none():P.some(n)},ua=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Yr=e=>o=>ln(o,e),ur=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>ln(e,"edge/")&&ln(e,"chrome")&&ln(e,"safari")&&ln(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ua],search:e=>ln(e,"chrome")&&!ln(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>ln(e,"msie")||ln(e,"trident")},{name:"Opera",versionRegexes:[ua,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Yr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Yr("firefox")},{name:"Safari",versionRegexes:[ua,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(ln(e,"safari")||ln(e,"mobile/"))&&ln(e,"applewebkit")}],sd=[{name:"Windows",search:Yr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>ln(e,"iphone")||ln(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Yr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Yr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Yr("linux"),versionRegexes:[]},{name:"Solaris",search:Yr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Yr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Yr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ac={browsers:ue(ur),oses:ue(sd)},Ts="Edge",Aa="Chromium",ka="IE",Wr="Opera",Mi="Firefox",za="Safari",$a=()=>$c({current:void 0,version:ve.unknown()}),$c=e=>{const o=e.current,n=e.version,r=c=>()=>o===c;return{current:o,version:n,isEdge:r(Ts),isChromium:r(Aa),isIE:r(ka),isOpera:r(Wr),isFirefox:r(Mi),isSafari:r(za)}},fc={unknown:$a,nu:$c,edge:ue(Ts),chromium:ue(Aa),ie:ue(ka),opera:ue(Wr),firefox:ue(Mi),safari:ue(za)},yl="Windows",hi="iOS",ci="Android",mc="Linux",ta="macOS",vl="Solaris",xl="FreeBSD",wl="ChromeOS",Qi=()=>Xr({current:void 0,version:ve.unknown()}),Xr=e=>{const o=e.current,n=e.version,r=c=>()=>o===c;return{current:o,version:n,isWindows:r(yl),isiOS:r(hi),isAndroid:r(ci),isMacOS:r(ta),isLinux:r(mc),isSolaris:r(vl),isFreeBSD:r(xl),isChromeOS:r(wl)}},gc={unknown:Qi,nu:Xr,windows:ue(yl),ios:ue(hi),android:ue(ci),linux:ue(mc),macos:ue(ta),solaris:ue(vl),freebsd:ue(xl),chromeos:ue(wl)},fe={detect:(e,o,n)=>{const r=Ac.browsers(),c=Ac.oses(),u=o.bind(v=>Se(r,v)).orThunk(()=>jt(r,e)).fold(fc.unknown,fc.nu),m=To(c,e).fold(gc.unknown,gc.nu),b=en(m,u,e,n);return{browser:u,os:m,deviceType:b}}},$e=e=>window.matchMedia(e).matches;let Et=mt(()=>fe.detect(window.navigator.userAgent,P.from(window.navigator.userAgentData),$e));const oo=()=>Et(),Ho=window.navigator.userAgent,es=oo(),Us=es.browser,ls=es.os,Oo=es.deviceType,Rr=Ho.indexOf("Windows Phone")!==-1,on={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Us.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Us.isIE(),windowsPhone:Rr,browser:{current:Us.current,version:Us.version,isChromium:Us.isChromium,isEdge:Us.isEdge,isFirefox:Us.isFirefox,isIE:Us.isIE,isOpera:Us.isOpera,isSafari:Us.isSafari},os:{current:ls.current,version:ls.version,isAndroid:ls.isAndroid,isChromeOS:ls.isChromeOS,isFreeBSD:ls.isFreeBSD,isiOS:ls.isiOS,isLinux:ls.isLinux,isMacOS:ls.isMacOS,isSolaris:ls.isSolaris,isWindows:ls.isWindows},deviceType:{isDesktop:Oo.isDesktop,isiPad:Oo.isiPad,isiPhone:Oo.isiPhone,isPhone:Oo.isPhone,isTablet:Oo.isTablet,isTouch:Oo.isTouch,isWebView:Oo.isWebView}},oa=/^\s*|\s*$/g,ii=e=>co(e)?"":(""+e).replace(oa,""),B=(e,o)=>o?o==="array"&&Ro(e)?!0:typeof e===o:e!==void 0,Q=(e,o,n={})=>{const r=X(e)?e.split(o||","):e||[];let c=r.length;for(;c--;)n[r[c]]={};return n},xe=Qo,Ge=(e,...o)=>{for(let n=0;n<o.length;n++){const r=o[n];for(const c in r)if(Qo(r,c)){const u=r[c];u!==void 0&&(e[c]=u)}}return e},Dt=function(e,o,n,r){r=r||this,e&&(n&&(e=e[n]),is(e,(c,u)=>o.call(r,c,u,n)===!1?!1:(Dt(c,o,n,r),!0)))},Qt={trim:ii,isArray:Ro,is:B,toArray:Vn,makeMap:Q,each:is,map:_r,grep:Cr,inArray:ir,hasOwn:xe,extend:Ge,walk:Dt,resolve:(e,o=window)=>{const n=e.split(".");for(let r=0,c=n.length;r<c&&(o=o[n[r]],!!o);r++);return o},explode:(e,o)=>pt(e)?e:e===""?[]:_r(e.split(o||","),ii),_addCacheSuffix:e=>{const o=on.cacheSuffix;return o&&(e+=(e.indexOf("?")===-1?"?":"&")+o),e}},nr=(e,o,n=wt)=>e.exists(r=>n(r,o)),_a=(e,o,n=wt)=>Zn(e,o,n).getOr(e.isNone()&&o.isNone()),sc=e=>{const o=[],n=r=>{o.push(r)};for(let r=0;r<e.length;r++)e[r].each(n);return o},Zn=(e,o,n)=>e.isSome()&&o.isSome()?P.some(n(e.getOrDie(),o.getOrDie())):P.none(),rc=(e,o,n,r)=>e.isSome()&&o.isSome()&&n.isSome()?P.some(r(e.getOrDie(),o.getOrDie(),n.getOrDie())):P.none(),Ir=(e,o)=>e?P.some(o):P.none(),Zl=typeof window<"u"?window:Function("return this;")(),Xs=(e,o)=>{let n=o??Zl;for(let r=0;r<e.length&&n!==void 0&&n!==null;++r)n=n[e[r]];return n},Bi=(e,o)=>{const n=e.split(".");return Xs(n,o)},Hd=(e,o)=>Bi(e,o),mm=(e,o)=>{const n=Hd(e,o);if(n==null)throw new Error(e+" not available on this browser");return n},wr=Object.getPrototypeOf,Vd=e=>mm("HTMLElement",e),Jr=e=>{const o=Bi("ownerDocument.defaultView",e);return lt(e)&&(Vd(o).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(wr(e).constructor.name))},Oa=8,li=9,ui=11,bu=1,G=3,oe=e=>e.dom.nodeName.toLowerCase(),Ze=e=>e.dom.nodeType,Ct=e=>o=>Ze(o)===e,fn=e=>Ze(e)===Oa||oe(e)==="#comment",Dn=e=>As(e)&&Jr(e.dom),As=Ct(bu),qs=Ct(G),Da=Ct(li),ac=Ct(ui),Qr=e=>o=>As(o)&&oe(o)===e,cc=(e,o,n)=>{if(X(n)||zt(n)||gn(n))e.setAttribute(o,n+"");else throw console.error("Invalid call to Attribute.set. Key ",o,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},Js=(e,o,n)=>{cc(e.dom,o,n)},pc=(e,o)=>{const n=e.dom;Kt(o,(r,c)=>{cc(n,c,r)})},qa=(e,o)=>{const n=e.dom.getAttribute(o);return n===null?void 0:n},Fr=(e,o)=>P.from(qa(e,o)),Sr=(e,o)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(o):!1},dr=(e,o)=>{e.dom.removeAttribute(o)},yu=e=>{const o=e.dom.attributes;return o==null||o.length===0},vu=e=>Ee(e.dom.attributes,(o,n)=>(o[n.name]=n.value,o),{}),xu=(e,o)=>{const n=qa(e,o);return n===void 0||n===""?[]:n.split(" ")},_f=(e,o,n)=>{const c=xu(e,o).concat([n]);return Js(e,o,c.join(" ")),!0},wu=(e,o,n)=>{const r=be(xu(e,o),c=>c!==n);return r.length>0?Js(e,o,r.join(" ")):dr(e,o),!1},Pi=e=>e.dom.classList!==void 0,Cf=e=>xu(e,"class"),da=(e,o)=>_f(e,"class",o),Sf=(e,o)=>wu(e,"class",o),wg=(e,o)=>K(Cf(e),o)?Sf(e,o):da(e,o),kl=(e,o)=>{Pi(e)?e.dom.classList.add(o):da(e,o)},kg=e=>{(Pi(e)?e.dom.classList:Cf(e)).length===0&&dr(e,"class")},ku=(e,o)=>{Pi(e)?e.dom.classList.remove(o):Sf(e,o),kg(e)},_g=(e,o)=>{const n=Pi(e)?e.dom.classList.toggle(o):wg(e,o);return kg(e),n},ql=(e,o)=>Pi(e)&&e.dom.classList.contains(o),Cg=(e,o)=>{const r=(o||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return _u(r.childNodes[0])},Ef=(e,o)=>{const r=(o||document).createElement(e);return _u(r)},gm=(e,o)=>{const r=(o||document).createTextNode(e);return _u(r)},_u=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},we={fromHtml:Cg,fromTag:Ef,fromText:gm,fromDom:_u,fromPoint:(e,o,n)=>P.from(e.dom.elementFromPoint(o,n)).map(_u)},Gl=(e,o)=>{const n=[],r=u=>(n.push(u),o(u));let c=o(e);do c=c.bind(r);while(c.isSome());return n},_l=(e,o)=>{const n=e.dom;if(n.nodeType!==bu)return!1;{const r=n;if(r.matches!==void 0)return r.matches(o);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(o);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(o);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(o);throw new Error("Browser lacks native selectors")}},Sg=e=>e.nodeType!==bu&&e.nodeType!==li&&e.nodeType!==ui||e.childElementCount===0,Jh=(e,o)=>{const n=o===void 0?document:o.dom;return Sg(n)?[]:he(n.querySelectorAll(e),we.fromDom)},Cu=(e,o)=>{const n=o===void 0?document:o.dom;return Sg(n)?P.none():P.from(n.querySelector(e)).map(we.fromDom)},ts=(e,o)=>e.dom===o.dom,ga=(e,o)=>{const n=e.dom,r=o.dom;return n===r?!1:n.contains(r)},$i=e=>we.fromDom(e.dom.ownerDocument),Su=e=>Da(e)?e:$i(e),Tf=e=>we.fromDom(Su(e).dom.documentElement),Ud=e=>we.fromDom(Su(e).dom.defaultView),hc=e=>P.from(e.dom.parentNode).map(we.fromDom),Af=e=>P.from(e.dom.parentElement).map(we.fromDom),Kl=(e,o)=>{const n=ie(o)?o:ke;let r=e.dom;const c=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const u=r.parentNode,m=we.fromDom(u);if(c.push(m),n(m)===!0)break;r=u}return c},zf=e=>{const o=n=>be(n,r=>!ts(e,r));return hc(e).map(Ia).map(o).getOr([])},Yl=e=>P.from(e.dom.previousSibling).map(we.fromDom),Ic=e=>P.from(e.dom.nextSibling).map(we.fromDom),Eg=e=>io(Gl(e,Yl)),jd=e=>Gl(e,Ic),Ia=e=>he(e.dom.childNodes,we.fromDom),Yc=(e,o)=>{const n=e.dom.childNodes;return P.from(n[o]).map(we.fromDom)},zc=e=>Yc(e,0),rd=e=>Yc(e,e.dom.childNodes.length-1),Wd=e=>e.dom.childNodes.length,Tg=e=>{const o=e.dom.head;if(o==null)throw new Error("Head is not available yet");return we.fromDom(o)},Zd=e=>ac(e)&&We(e.dom.host),el=e=>we.fromDom(e.dom.getRootNode()),Of=e=>Zd(e)?e:Tg(Su(e)),Dp=e=>Zd(e)?e:we.fromDom(Su(e).dom.body),Ag=e=>{const o=el(e);return Zd(o)?P.some(o):P.none()},Dy=e=>we.fromDom(e.dom.host),hm=e=>{if(We(e.target)){const o=we.fromDom(e.target);if(As(o)&&qd(o)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return Bo(n)}}return P.from(e.target)},qd=e=>We(e.dom.shadowRoot),ad=e=>{const o=qs(e)?e.dom.parentNode:e.dom;if(o==null||o.ownerDocument===null)return!1;const n=o.ownerDocument;return Ag(we.fromDom(o)).fold(()=>n.body.contains(o),ot(ad,Dy))};var Gd=(e,o,n,r,c)=>e(n,r)?P.some(n):ie(c)&&c(n)?P.none():o(n,r,c);const Nr=(e,o,n)=>{let r=e.dom;const c=ie(n)?n:ke;for(;r.parentNode;){r=r.parentNode;const u=we.fromDom(r);if(o(u))return P.some(u);if(c(u))break}return P.none()},Lr=(e,o,n)=>Gd((c,u)=>u(c),Nr,e,o,n),bi=(e,o)=>{const n=e.dom;return n.parentNode?cd(we.fromDom(n.parentNode),r=>!ts(e,r)&&o(r)):P.none()},cd=(e,o)=>{const n=c=>o(we.fromDom(c));return xt(e.dom.childNodes,n).map(we.fromDom)},zg=(e,o)=>{const n=r=>{for(let c=0;c<r.childNodes.length;c++){const u=we.fromDom(r.childNodes[c]);if(o(u))return P.some(u);const m=n(r.childNodes[c]);if(m.isSome())return m}return P.none()};return n(e.dom)},Ca=(e,o,n)=>Nr(e,r=>_l(r,o),n),nn=(e,o)=>Cu(o,e),Xl=(e,o,n)=>Gd((c,u)=>_l(c,u),Ca,e,o,n),bm=e=>Xl(e,"[contenteditable]"),Ga=(e,o=!1)=>ad(e)?e.dom.isContentEditable:bm(e).fold(ue(o),n=>js(n)==="true"),js=e=>e.dom.contentEditable,Eu=e=>e.style!==void 0&&ie(e.style.getPropertyValue),Og=(e,o,n)=>{if(!X(n))throw console.error("Invalid call to CSS.set. Property ",o,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Eu(e)&&e.style.setProperty(o,n)},Kd=(e,o)=>{Eu(e)&&e.style.removeProperty(o)},Rp=(e,o,n)=>{const r=e.dom;Og(r,o,n)},Kn=(e,o)=>{const n=e.dom;Kt(o,(r,c)=>{Og(n,c,r)})},Sa=(e,o)=>{const n=e.dom,c=window.getComputedStyle(n).getPropertyValue(o);return c===""&&!ad(e)?id(n,o):c},id=(e,o)=>Eu(e)?e.style.getPropertyValue(o):"",ic=(e,o)=>{const n=e.dom,r=id(n,o);return P.from(r).filter(c=>c.length>0)},Fc=e=>{const o={},n=e.dom;if(Eu(n))for(let r=0;r<n.style.length;r++){const c=n.style.item(r);o[c]=n.style[c]}return o},yi=(e,o)=>{const n=e.dom;Kd(n,o),nr(Fr(e,"style").map(Zs),"")&&dr(e,"style")},Fa=e=>e.dom.offsetWidth,Oc=(e,o)=>{hc(e).each(r=>{r.dom.insertBefore(o.dom,e.dom)})},di=(e,o)=>{Ic(e).fold(()=>{hc(e).each(c=>{Zr(c,o)})},r=>{Oc(r,o)})},ym=(e,o)=>{zc(e).fold(()=>{Zr(e,o)},r=>{e.dom.insertBefore(o.dom,r.dom)})},Zr=(e,o)=>{e.dom.appendChild(o.dom)},ld=(e,o)=>{Oc(e,o),Zr(o,e)},na=(e,o)=>{V(o,(n,r)=>{const c=r===0?e:o[r-1];di(c,n)})},Tu=(e,o)=>{V(o,n=>{Zr(e,n)})},ud=e=>{e.dom.textContent="",V(Ia(e),o=>{sr(o)})},sr=e=>{const o=e.dom;o.parentNode!==null&&o.parentNode.removeChild(o)},Ii=e=>{const o=Ia(e);o.length>0&&na(e,o),sr(e)},Np=(e,o)=>{const r=(o||document).createElement("div");return r.innerHTML=e,Ia(we.fromDom(r))},Jl=e=>he(e,we.fromDom),br=e=>e.dom.innerHTML,Au=(e,o)=>{const r=$i(e).dom,c=we.fromDom(r.createDocumentFragment()),u=Np(o,r);Tu(c,u),ud(e),Zr(e,c)},Xc=e=>{const o=we.fromTag("div"),n=we.fromDom(e.dom.cloneNode(!0));return Zr(o,n),br(o)},ss=(e,o,n,r,c,u,m)=>({target:e,x:o,y:n,stop:r,prevent:c,kill:u,raw:m}),dd=e=>{const o=we.fromDom(hm(e).getOr(e.target)),n=()=>e.stopPropagation(),r=()=>e.preventDefault(),c=_(r,n);return ss(o,e.clientX,e.clientY,n,r,c,e)},Df=(e,o)=>n=>{e(n)&&o(dd(n))},vm=(e,o,n,r,c)=>{const u=Df(n,r);return e.dom.addEventListener(o,u,c),{unbind:ye(D,e,o,u,c)}},C=(e,o,n,r)=>vm(e,o,n,r,!1),D=(e,o,n,r)=>{e.dom.removeEventListener(o,n,r)},L=(e,o)=>({left:e,top:o,translate:(r,c)=>L(e+r,o+c)}),me=L,Te=e=>{const o=e.getBoundingClientRect();return me(o.left,o.top)},It=(e,o)=>e!==void 0?e:o!==void 0?o:0,Cn=e=>{const o=e.dom.ownerDocument,n=o.body,r=o.defaultView,c=o.documentElement;if(n===e.dom)return me(n.offsetLeft,n.offsetTop);const u=It(r==null?void 0:r.pageYOffset,c.scrollTop),m=It(r==null?void 0:r.pageXOffset,c.scrollLeft),b=It(c.clientTop,n.clientTop),v=It(c.clientLeft,n.clientLeft);return Yn(e).translate(m-v,u-b)},Yn=e=>{const o=e.dom,r=o.ownerDocument.body;return r===o?me(r.offsetLeft,r.offsetTop):ad(e)?Te(o):me(0,0)},Tn=e=>{const o=e!==void 0?e.dom:document,n=o.body.scrollLeft||o.documentElement.scrollLeft,r=o.body.scrollTop||o.documentElement.scrollTop;return me(n,r)},Sn=(e,o,n)=>{const c=(n!==void 0?n.dom:document).defaultView;c&&c.scrollTo(e,o)},yr=(e,o)=>{oo().browser.isSafari()&&ie(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(o)},fa=e=>{const o=e===void 0?window:e;return oo().browser.isFirefox()?P.none():P.from(o.visualViewport)},vi=(e,o,n,r)=>({x:e,y:o,width:n,height:r,right:e+n,bottom:o+r}),Ql=e=>{const o=e===void 0?window:e,n=o.document,r=Tn(we.fromDom(n));return fa(o).fold(()=>{const c=o.document.documentElement,u=c.clientWidth,m=c.clientHeight;return vi(r.left,r.top,u,m)},c=>vi(Math.max(c.pageLeft,r.left),Math.max(c.pageTop,r.top),c.width,c.height))},Rf=(e,o)=>be(Ia(e),o),Dg=(e,o)=>{let n=[];return V(Ia(e),r=>{o(r)&&(n=n.concat([r])),n=n.concat(Dg(r,o))}),n},Dc=(e,o)=>Jh(o,e),Rg=(e,o,n)=>Nr(e,o,n).isSome(),Ry=(e,o)=>bi(e,o).isSome(),Mp=(e,o)=>zg(e,o).isSome();class bc{constructor(o,n){this.node=o,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(o){return this.node=this.findSibling(this.node,"firstChild","nextSibling",o),this.node}prev(o){return this.node=this.findSibling(this.node,"lastChild","previousSibling",o),this.node}prev2(o){return this.node=this.findPreviousNode(this.node,o),this.node}findSibling(o,n,r,c){if(o){if(!c&&o[n])return o[n];if(o!==this.rootNode){let u=o[r];if(u)return u;for(let m=o.parentNode;m&&m!==this.rootNode;m=m.parentNode)if(u=m[r],u)return u}}}findPreviousNode(o,n){if(o){const r=o.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!n){for(let u=r.lastChild;u;u=u.lastChild)if(!u.lastChild)return u}return r}const c=o.parentNode;if(c&&c!==this.rootNode)return c}}}const Bp="\uFEFF",Ra=" ",Ny=e=>e===Bp,Jc=e=>e.replace(/\uFEFF/g,""),En=/^[ \t\r\n]*$/,Fi=e=>En.test(e),xm=e=>{for(const o of e)if(!Ny(o))return!1;return!0},Ng=e=>" \f	\v".indexOf(e)!==-1,Pp=e=>e===`
`||e==="\r",Qh=(e,o)=>o<e.length&&o>=0?Pp(e[o]):!1,Cl=(e,o=4,n=!0,r=!0)=>{const c=ms(" ",o),u=e.replace(/\t/g,c);return Ee(u,(b,v)=>Ng(v)||v===Ra?b.pcIsSpace||b.str===""&&n||b.str.length===u.length-1&&r||Qh(u,b.str.length+1)?{pcIsSpace:!1,str:b.str+Ra}:{pcIsSpace:!0,str:b.str+" "}:{pcIsSpace:Pp(v),str:b.str+v},{pcIsSpace:!1,str:""}).str},zu=e=>o=>!!o&&o.nodeType===e,Yd=e=>!!e&&!Object.getPrototypeOf(e),Do=zu(1),tl=e=>Do(e)&&Dn(we.fromDom(e)),$p=e=>Do(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Nf=e=>{const o=e.toLowerCase();return n=>We(n)&&n.nodeName.toLowerCase()===o},Sl=e=>{const o=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const r=n.nodeName.toLowerCase();return K(o,r)}return!1}},Mg=(e,o)=>{const n=o.toLowerCase().split(" ");return r=>{if(Do(r)){const c=r.ownerDocument.defaultView;if(c)for(let u=0;u<n.length;u++){const m=c.getComputedStyle(r,null);if((m?m.getPropertyValue(e):null)===n[u])return!0}}return!1}},Xd=e=>o=>Do(o)&&o.hasAttribute(e),Mf=e=>Do(e)&&e.hasAttribute("data-mce-bogus"),Bg=e=>Do(e)&&e.getAttribute("data-mce-bogus")==="all",eu=e=>Do(e)&&e.tagName==="TABLE",My=e=>o=>!!(tl(o)&&(o.contentEditable===e||o.getAttribute("data-mce-contenteditable")===e)),qr=Sl(["textarea","input"]),Xt=zu(3),Lc=zu(4),tu=zu(7),Ka=zu(8),wm=zu(9),La=zu(11),Ms=Nf("br"),Ip=Nf("img"),Ot=My("true"),Bs=My("false"),Pg=Sl(["td","th"]),Na=Sl(["td","th","caption"]),Hc=Sl(["video","audio","object","embed"]),By=Nf("li"),Li=Nf("details"),m0=Nf("summary"),fd={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Py=(e,o,n)=>{const r=we.fromDom(o),c=we.fromDom(e),u=n.getWhitespaceElements();return Rg(c,b=>Qo(u,oe(b)),ye(ts,r))},Hi=e=>Do(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),Os=(e,o)=>Do(e)&&Qo(o.getNonEmptyElements(),e.nodeName),Ou=Xd("data-mce-bookmark"),Bf=e=>Af(we.fromDom(e)).exists(o=>!Ga(o)),Ha=(e,o,n)=>Fi(e.data)&&!Py(e,o,n),Fp=(e,o,n,r)=>Xt(e)&&!Ha(e,o,n)&&(!r.includeZwsp||!xm(e.data)),Du=(e,o,n,r)=>ie(r.isContent)&&r.isContent(o)||Os(o,e)||Ou(o)||Hi(o)||Fp(o,n,e,r)||Bs(o)||Ot(o)&&Bf(o),Ru=(e,o,n)=>{const r={...fd,...n};if(r.checkRootAsContent&&Du(e,o,o,r))return!1;let c=o.firstChild,u=0;if(!c)return!0;const m=new bc(c,o);do{if(r.skipBogus&&Do(c)){const b=c.getAttribute("data-mce-bogus");if(b){c=m.next(b==="all");continue}}if(Ka(c)){c=m.next(!0);continue}if(Ms(c)){u++,c=m.next();continue}if(Du(e,c,o,r))return!1;c=m.next()}while(c);return u<=1},kr=(e,o,n)=>Ru(e,o.dom,{checkRootAsContent:!0,...n}),km=(e,o,n)=>Du(e,o,o,{includeZwsp:fd.includeZwsp,...n}),Ve=e=>{let o=e;return{get:()=>o,set:c=>{o=c}}},Vi=e=>{const o=Ve(P.none()),n=()=>o.get().each(e);return{clear:()=>{n(),o.set(P.none())},isSet:()=>o.get().isSome(),get:()=>o.get(),set:b=>{n(),o.set(P.some(b))}}},_m=e=>{const o=Ve(P.none()),n=()=>o.get().each(b=>clearInterval(b));return{clear:()=>{n(),o.set(P.none())},isSet:()=>o.get().isSome(),get:()=>o.get(),set:b=>{n(),o.set(P.some(setInterval(b,e)))}}},Vc=()=>{const e=Vi(Me);return{...e,on:n=>e.get().each(n)}},Ui=e=>{const o=e.toLowerCase();return o==="svg"?"svg":o==="math"?"math":"html"},pa=e=>Ui(e)!=="html",sa=e=>pa(e.nodeName),g0=e=>Ui(e.nodeName),w=["svg","math"],A=()=>{const e=Vc(),o=()=>e.get().map(g0).getOr("html");return{track:c=>(sa(c)?e.set(c):e.get().exists(u=>!u.contains(c))&&e.clear(),o()),current:o,reset:()=>{e.clear()}}},F="data-mce-block",J=e=>be(vn(e),o=>!/[A-Z]/.test(o)),ze=e=>he(J(e),o=>{const n=CSS.escape(o);return`${n}:`+he(w,r=>`not(${r} ${n})`).join(":")}).join(","),Tt=(e,o)=>We(o.querySelector(e))?(o.setAttribute(F,"true"),o.getAttribute("data-mce-selected")==="inline-boundary"&&o.removeAttribute("data-mce-selected"),!0):(o.removeAttribute(F),!1),fo=(e,o)=>{const n=ze(e.getTransparentElements()),r=ze(e.getBlockElements());return be(o.querySelectorAll(n),c=>Tt(r,c))},Wo=(e,o,n)=>{var r;const c=n?"lastChild":"firstChild";for(let u=o[c];u;u=u[c])if(Ru(e,u,{checkRootAsContent:!0})){(r=u.parentNode)===null||r===void 0||r.removeChild(u);return}},Un=(e,o,n)=>{const r=document.createRange(),c=o.parentNode;if(c){r.setStartBefore(o),r.setEndBefore(n);const u=r.extractContents();Wo(e,u,!0),r.setStartAfter(n),r.setEndAfter(o);const m=r.extractContents();Wo(e,m,!1),Ru(e,u,{checkRootAsContent:!0})||c.insertBefore(u,o),Ru(e,n,{checkRootAsContent:!0})||c.insertBefore(n,o),Ru(e,m,{checkRootAsContent:!0})||c.insertBefore(m,o),c.removeChild(o)}},Qn=(e,o,n)=>{const r=e.getBlockElements(),c=we.fromDom(o),u=b=>oe(b)in r,m=b=>ts(b,c);V(Jl(n),b=>{Nr(b,u,m).each(v=>{const E=Rf(b,R=>u(R)&&!e.isValidChild(oe(v),oe(R)));if(E.length>0){const R=Af(v);V(E,N=>{Nr(N,u,m).each($=>{Un(e,$.dom,N.dom)})}),R.each(N=>fo(e,N.dom))}})})},Is=(e,o,n)=>{V([...n,...Nu(e,o)?[o]:[]],r=>V(Dc(we.fromDom(r),r.nodeName.toLowerCase()),c=>{$g(e,c.dom)&&Ii(c)}))},Fs=(e,o)=>{const n=fo(e,o);Qn(e,o,n),Is(e,o,n)},Hr=(e,o)=>{if(El(e,o)){const n=ze(e.getBlockElements());Tt(n,o)}},ji=(e,o,n)=>{const r=u=>ts(u,we.fromDom(o)),c=Kl(we.fromDom(n),r);Hn(c,c.length-2).filter(As).fold(()=>Fs(e,o),u=>Fs(e,u.dom))},yc=e=>e.hasAttribute(F),ou=(e,o)=>Qo(e.getTransparentElements(),o),El=(e,o)=>Do(o)&&ou(e,o.nodeName),Nu=(e,o)=>El(e,o)&&yc(o),$g=(e,o)=>El(e,o)&&!yc(o),ol=(e,o)=>o.type===1&&ou(e,o.name)&&X(o.attr(F)),Cm=oo().browser,Lp=e=>xt(e,As),Hp=e=>Cm.isFirefox()&&oe(e)==="table"?Lp(Ia(e)).filter(o=>oe(o)==="caption").bind(o=>Lp(jd(o)).map(n=>{const r=n.dom.offsetTop,c=o.dom.offsetTop,u=o.dom.offsetHeight;return r<=c?-u:0})).getOr(0):0,Pf=(e,o)=>e.children&&K(e.children,o),Ya=(e,o,n)=>{let r=0,c=0;const u=e.ownerDocument;if(n=n||e,o){if(n===e&&o.getBoundingClientRect&&Sa(we.fromDom(e),"position")==="static"){const b=o.getBoundingClientRect();return r=b.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,c=b.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:r,y:c}}let m=o;for(;m&&m!==n&&m.nodeType&&!Pf(m,n);){const b=m;r+=b.offsetLeft||0,c+=b.offsetTop||0,m=b.offsetParent}for(m=o.parentNode;m&&m!==n&&m.nodeType&&!Pf(m,n);)r-=m.scrollLeft||0,c-=m.scrollTop||0,m=m.parentNode;c+=Hp(we.fromDom(o))}return{x:r,y:c}},nu=(e,o={})=>{let n=0;const r={},c=we.fromDom(e),u=Su(c),m=_e=>{o.referrerPolicy=_e},b=_e=>{o.contentCssCors=_e},v=_e=>{Zr(Of(c),_e)},E=_e=>{const Ie=Of(c);nn(Ie,"#"+_e).each(sr)},R=_e=>vs(r,_e).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),N=_e=>new Promise((Ie,Pe)=>{let et;const $t=Qt._addCacheSuffix(_e),mo=R($t);r[$t]=mo,mo.count++;const Po=(qo,un)=>{V(qo,Zt),mo.status=un,mo.passed=[],mo.failed=[],et&&(et.onload=null,et.onerror=null,et=null)},kt=()=>Po(mo.passed,2),ct=()=>Po(mo.failed,3);if(Ie&&mo.passed.push(Ie),Pe&&mo.failed.push(Pe),mo.status===1)return;if(mo.status===2){kt();return}if(mo.status===3){ct();return}mo.status=1;const Bt=we.fromTag("link",u.dom);pc(Bt,{rel:"stylesheet",type:"text/css",id:mo.id}),o.contentCssCors&&Js(Bt,"crossOrigin","anonymous"),o.referrerPolicy&&Js(Bt,"referrerpolicy",o.referrerPolicy),et=Bt.dom,et.onload=kt,et.onerror=ct,v(Bt),Js(Bt,"href",$t)}),$=(_e,Ie)=>{const Pe=R(_e);r[_e]=Pe,Pe.count++;const et=we.fromTag("style",u.dom);pc(et,{rel:"stylesheet",type:"text/css",id:Pe.id}),et.dom.innerHTML=Ie,v(et)},q=_e=>Promise.allSettled(he(_e,Pe=>N(Pe).then(ue(Pe)))).then(Pe=>{const et=de(Pe,$t=>$t.status==="fulfilled");return et.fail.length>0?Promise.reject(he(et.fail,$t=>$t.reason)):he(et.pass,$t=>$t.value)}),ne=_e=>{const Ie=Qt._addCacheSuffix(_e);vs(r,Ie).each(Pe=>{--Pe.count===0&&(delete r[Ie],E(Pe.id))})};return{load:N,loadRawCss:$,loadAll:q,unload:ne,unloadRawCss:_e=>{vs(r,_e).each(Ie=>{--Ie.count===0&&(delete r[_e],E(Ie.id))})},unloadAll:_e=>{V(_e,Ie=>{ne(Ie)})},_setReferrerPolicy:m,_setContentCssCors:b}},vr=(()=>{const e=new WeakMap;return{forElement:(n,r)=>{const u=el(n).dom;return P.from(e.get(u)).getOrThunk(()=>{const m=nu(u,r);return e.set(u,m),m})}}})(),Qc=e=>e.nodeName.toLowerCase()==="span",ma=(e,o)=>We(e)&&(km(o,e)||o.isInline(e.nodeName.toLowerCase())),Vp=(e,o,n)=>{const r=new bc(e,o).prev(!1),c=new bc(e,o).next(!1),u=ko(r)||ma(r,n),m=ko(c)||ma(c,n);return u&&m},$f=e=>Qc(e)&&e.getAttribute("data-mce-type")==="bookmark",If=(e,o,n)=>Xt(e)&&e.data.length>0&&Vp(e,o,n),nl=e=>Do(e)?e.childNodes.length>0:!1,md=e=>La(e)||wm(e),Jd=(e,o,n,r)=>{var c;const u=r||o;if(Do(o)&&$f(o))return o;const m=o.childNodes;for(let b=m.length-1;b>=0;b--)Jd(e,m[b],n,u);if(Do(o)){const b=o.childNodes;b.length===1&&$f(b[0])&&((c=o.parentNode)===null||c===void 0||c.insertBefore(b[0],o))}return!md(o)&&!km(n,o)&&!nl(o)&&!If(o,u,n)&&e.remove(o),o},Mu=Qt.makeMap,eb=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qd=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Up=/[<>&\"\']/g,Ig=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,o_={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},gd={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},n_={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},p0=e=>{const o=we.fromTag("div").dom;return o.innerHTML=e,o.textContent||o.innerText||e},ha=(e,o)=>{const n={};if(e){const r=e.split(",");o=o||10;for(let c=0;c<r.length;c+=2){const u=String.fromCharCode(parseInt(r[c],o));if(!gd[u]){const m="&"+r[c+1]+";";n[u]=m,n[m]=u}}return n}else return},$y=ha("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),pd=(e,o)=>e.replace(o?eb:Qd,n=>gd[n]||n),Sm=e=>(""+e).replace(Up,o=>gd[o]||o),Ff=(e,o)=>e.replace(o?eb:Qd,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":gd[n]||"&#"+n.charCodeAt(0)+";"),su=(e,o,n)=>{const r=n||$y;return e.replace(o?eb:Qd,c=>gd[c]||r[c]||c)},hd={encodeRaw:pd,encodeAllRaw:Sm,encodeNumeric:Ff,encodeNamed:su,getEncodeFunc:(e,o)=>{const n=ha(o)||$y,r=(m,b)=>m.replace(b?eb:Qd,v=>gd[v]!==void 0?gd[v]:n[v]!==void 0?n[v]:v.length>1?"&#"+((v.charCodeAt(0)-55296)*1024+(v.charCodeAt(1)-56320)+65536)+";":"&#"+v.charCodeAt(0)+";"),c=(m,b)=>su(m,b,n),u=Mu(e.replace(/\+/g,","));return u.named&&u.numeric?r:u.named?o?c:su:u.numeric?Ff:pd},decode:e=>e.replace(Ig,(o,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):o_[n]||String.fromCharCode(n)):n_[o]||$y[o]||p0(o))},ei=(e,o)=>(e=Qt.trim(e),e?e.split(o||" "):[]),ob=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),h0=e=>lt(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",nb=e=>{const o=n=>pt(n)?he(n,o):h0(n)?new RegExp(n.source,n.flags):lt(n)?Gn(n,o):n;return o(e)},sb=e=>{const o=/^(~)?(.+)$/;return Je(ei(e,","),n=>{const r=o.exec(n);if(r){const u=r[1]==="~"?"span":"div",m=r[2];return[{cloneName:u,name:m}]}else return[]})},b0=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Fg=e=>{let o,n;o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(o+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),o=[o,"center dir isindex noframes"].join(" "));const r=[o,n].join(" ");return{blockContent:o,phrasingContent:n,flowContent:r}},bd=e=>{const{blockContent:o,phrasingContent:n,flowContent:r}=Fg(e),c=u=>Object.freeze(u.split(" "));return Object.freeze({blockContent:c(o),phrasingContent:c(n),flowContent:c(r)})},xi={html4:mt(()=>bd("html4")),html5:mt(()=>bd("html5")),"html5-strict":mt(()=>bd("html5-strict"))},au=(e,o)=>{const{blockContent:n,phrasingContent:r,flowContent:c}=xi[e]();return o==="blocks"?P.some(n):o==="phrasing"?P.some(r):o==="flow"?P.some(c):P.none()},Em=e=>{const o=b0(e),{phrasingContent:n,flowContent:r}=Fg(e),c={},u=(v,E,R)=>{c[v]={attributes:Lo(E,ue({})),attributesOrder:E,children:Lo(R,ue({}))}},m=(v,E="",R="")=>{const N=ei(R),$=ei(v);let q=$.length;const ne=[...o,...ei(E)];for(;q--;)u($[q],ne.slice(),N)},b=(v,E)=>{const R=ei(v),N=ei(E);let $=R.length;for(;$--;){const q=c[R[$]];for(let ne=0,Y=N.length;ne<Y;ne++)q.attributes[N[ne]]={},q.attributesOrder.push(N[ne])}};return e!=="html5-strict"&&(V(ei("acronym applet basefont big font strike tt"),R=>{m(R,"",n)}),V(ei("center dir isindex noframes"),R=>{m(R,"",r)})),m("html","manifest","head body"),m("head","","base command link meta noscript script style title"),m("title hr noscript br"),m("base","href target"),m("link","href rel media hreflang type sizes hreflang"),m("meta","name http-equiv content charset"),m("style","media type scoped"),m("script","src async defer type charset"),m("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),m("dd div","",r),m("address dt caption","",e==="html4"?n:r),m("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),m("blockquote","cite",r),m("ol","reversed start type","li"),m("ul","","li"),m("li","value",r),m("dl","","dt dd"),m("a","href target rel media hreflang type",e==="html4"?n:r),m("q","cite",n),m("ins del","cite datetime",r),m("img","src sizes srcset alt usemap ismap width height"),m("iframe","src name width height",r),m("embed","src type width height"),m("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),m("param","name value"),m("map","name",[r,"area"].join(" ")),m("area","alt coords shape href target rel media hreflang type"),m("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),m("colgroup","span","col"),m("col","span"),m("tbody thead tfoot","","tr"),m("tr","","td th"),m("td","colspan rowspan headers",r),m("th","colspan rowspan headers scope abbr",r),m("form","accept-charset action autocomplete enctype method name novalidate target",r),m("fieldset","disabled form name",[r,"legend"].join(" ")),m("label","form for",n),m("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),m("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:n),m("select","disabled form multiple name required size","option optgroup"),m("optgroup","disabled label","option"),m("option","disabled label selected value"),m("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),m("menu","type label",[r,"li"].join(" ")),m("noscript","",r),e!=="html4"&&(m("wbr"),m("ruby","",[n,"rt rp"].join(" ")),m("figcaption","",r),m("mark rt rp bdi","",n),m("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),m("canvas","width height",r),m("data","value",n),m("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),m("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),m("picture","","img source"),m("source","src srcset type media sizes"),m("track","kind src srclang label default"),m("datalist","",[n,"option"].join(" ")),m("article section nav aside main header footer","",r),m("hgroup","","h1 h2 h3 h4 h5 h6"),m("figure","",[r,"figcaption"].join(" ")),m("time","datetime",n),m("dialog","open",r),m("command","type label icon disabled checked radiogroup command"),m("output","for form name",n),m("progress","value max",n),m("meter","value min max low high optimum",n),m("details","open",[r,"summary"].join(" ")),m("keygen","autofocus challenge disabled form keytype name"),u("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(b("script","language xml:space"),b("style","xml:space"),b("object","declare classid code codebase codetype archive standby align border hspace vspace"),b("embed","align name hspace vspace"),b("param","valuetype type"),b("a","charset name rev shape coords"),b("br","clear"),b("applet","codebase archive code object alt name width height align hspace vspace"),b("img","name longdesc align border hspace vspace"),b("iframe","longdesc frameborder marginwidth marginheight scrolling align"),b("font basefont","size color face"),b("input","usemap align"),b("select"),b("textarea"),b("h1 h2 h3 h4 h5 h6 div p legend caption","align"),b("ul","type compact"),b("li","type"),b("ol dl menu dir","compact"),b("pre","width xml:space"),b("hr","align noshade size width"),b("isindex","prompt"),b("table","summary width frame rules cellspacing cellpadding align bgcolor"),b("col","width align char charoff valign"),b("colgroup","width align char charoff valign"),b("thead","align char charoff valign"),b("tr","align char charoff valign bgcolor"),b("th","axis align char charoff valign nowrap bgcolor width height"),b("form","accept"),b("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),b("tfoot","align char charoff valign"),b("tbody","align char charoff valign"),b("area","nohref"),b("body","background bgcolor text link vlink alink")),e!=="html4"&&(b("input button select textarea","autofocus"),b("input textarea","placeholder"),b("a","download"),b("link script img","crossorigin"),b("img","loading"),b("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&V([c.video,c.audio],v=>{delete v.children.audio,delete v.children.video}),V(ei("a form meter progress dfn"),v=>{c[v]&&delete c[v].children[v]}),delete c.caption.children.table,delete c.script,c},y0=e=>e==="-"?"remove":"add",Lg=e=>{const o=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return P.from(o.exec(e)).map(n=>({preset:n[1]==="@",name:n[2]}))},v0=e=>{const o=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Je(ei(e,","),n=>{const r=o.exec(n);if(r){const c=r[1],u=c?y0(c):"replace",m=r[2],b=Je(ei(r[3],"|"),v=>Lg(v).toArray());return[{operation:u,name:m,validChildren:b}]}else return[]})},s_=(e,o)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:c,attributesOrder:u}=o;return V(ei(e,"|"),m=>{const b=n.exec(m);if(b){const v={},E=b[1],R=b[2].replace(/[\\:]:/g,":"),N=b[3],$=b[4];if(E==="!"&&(o.attributesRequired=o.attributesRequired||[],o.attributesRequired.push(R),v.required=!0),E==="-"){delete c[R],u.splice(Qt.inArray(u,R),1);return}if(N&&(N==="="?(o.attributesDefault=o.attributesDefault||[],o.attributesDefault.push({name:R,value:$}),v.defaultValue=$):N==="~"?(o.attributesForced=o.attributesForced||[],o.attributesForced.push({name:R,value:$}),v.forcedValue=$):N==="<"&&(v.validValues=Qt.makeMap($,"?"))),r.test(R)){const q=v;o.attributePatterns=o.attributePatterns||[],q.pattern=ob(R),o.attributePatterns.push(q)}else c[R]||u.push(R),c[R]=v}})},r_=(e,o)=>{Kt(e.attributes,(n,r)=>{o.attributes[r]=n}),o.attributesOrder.push(...e.attributesOrder)},a_=(e,o)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Je(ei(o,","),r=>{const c=n.exec(r);if(c){const u=c[1],m=c[2],b=c[3],v=c[4],E=c[5],R={attributes:{},attributesOrder:[]};if(e.each(N=>r_(N,R)),u==="#"?R.paddEmpty=!0:u==="-"&&(R.removeEmpty=!0),v==="!"&&(R.removeEmptyAttrs=!0),E&&s_(E,R),b&&(R.outputName=m),m==="@")if(e.isNone())e=P.some(R);else return[];return[b?{name:m,element:R,aliasName:b}:{name:m,element:R}]}else return[]})},Tm={},Hg=Qt.makeMap,ns=Qt.each,bn=Qt.extend,Am=Qt.explode,rb=(e,o={})=>{const n=Hg(e," ",Hg(e.toUpperCase()," "));return bn(n,o)},Iy=e=>rb("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),x0=(e,o)=>{if(e){const n={};return X(e)&&(e={"*":e}),ns(e,(r,c)=>{n[c]=n[c.toUpperCase()]=o==="map"?Hg(r,/[, ]/):Am(r,/[, ]/)}),n}else return},ef=(e={})=>{var o;const n={},r={};let c=[];const u={},m={},b=(dn,Cs,Kr)=>{const wa=e[dn];if(wa)return Hg(wa,/[, ]/,Hg(wa.toUpperCase(),/[, ]/));{let Ua=Tm[dn];return Ua||(Ua=rb(Cs,Kr),Tm[dn]=Ua),Ua}},v=(o=e.schema)!==null&&o!==void 0?o:"html5",E=Em(v);e.verify_html===!1&&(e.valid_elements="*[*]");const R=x0(e.valid_styles),N=x0(e.invalid_styles,"map"),$=x0(e.valid_classes,"map"),q=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ne=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Y=b("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ce=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),_e="td th iframe video audio object script code",Ie=b("non_empty_elements",_e+" pre svg textarea summary",Y),Pe=b("move_caret_before_on_enter_elements",_e+" table",Y),et="h1 h2 h3 h4 h5 h6",$t=b("text_block_elements",et+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),mo=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",$t),Po=b("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),kt=b("transparent_elements","a ins del canvas map"),ct=b("wrap_block_elements","pre "+et);ns("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),dn=>{m[dn]=new RegExp("</"+dn+"[^>]*>","gi")});const Bt=dn=>{const Cs=P.from(n["@"]),Kr=/[*?+]/;V(a_(Cs,dn??""),({name:wa,element:Ua,aliasName:Pc})=>{if(Pc&&(n[Pc]=Ua),Kr.test(wa)){const ja=Ua;ja.pattern=ob(wa),c.push(ja)}else n[wa]=Ua})},qo=dn=>{c=[],V(vn(n),Cs=>{delete n[Cs]}),Bt(dn)},un=(dn,Cs)=>{var Kr,wa;delete Tm.text_block_elements,delete Tm.block_elements;const Ua=Cs.extends?!Hl(Cs.extends):!1,Pc=Cs.extends;if(r[dn]=Pc?r[Pc]:{},u[dn]=Pc??dn,Ie[dn.toUpperCase()]={},Ie[dn]={},Ua||(mo[dn.toUpperCase()]={},mo[dn]={}),Pc&&!n[dn]&&n[Pc]){const ja=nb(n[Pc]);delete ja.removeEmptyAttrs,delete ja.removeEmpty,n[dn]=ja}else n[dn]={attributesOrder:[],attributes:{}};if(pt(Cs.attributes)){const ja=Ri=>{Wa.attributesOrder.push(Ri),Wa.attributes[Ri]={}},Wa=(Kr=n[dn])!==null&&Kr!==void 0?Kr:{};delete Wa.attributesDefault,delete Wa.attributesForced,delete Wa.attributePatterns,delete Wa.attributesRequired,Wa.attributesOrder=[],Wa.attributes={},V(Cs.attributes,Ri=>{const Pd=b0(v);Lg(Ri).each(({preset:$d,name:Id})=>{$d?Id==="global"&&V(Pd,ja):ja(Id)})}),n[dn]=Wa}if(zt(Cs.padEmpty)){const ja=(wa=n[dn])!==null&&wa!==void 0?wa:{};ja.paddEmpty=Cs.padEmpty,n[dn]=ja}if(pt(Cs.children)){const ja={},Wa=Pd=>{ja[Pd]={}},Ri=Pd=>{au(v,Pd).each($d=>{V($d,Wa)})};V(Cs.children,Pd=>{Lg(Pd).each(({preset:$d,name:Id})=>{$d?Ri(Id):Wa(Id)})}),r[dn]=ja}Pc&&Kt(r,(ja,Wa)=>{ja[Pc]&&(r[Wa]=ja=bn({},r[Wa]),ja[dn]=ja[Pc])})},us=dn=>{V(sb(dn??""),({name:Cs,cloneName:Kr})=>{un(Cs,{extends:Kr})})},gs=dn=>{lt(dn)?Kt(dn,(Cs,Kr)=>un(Kr,Cs)):X(dn)&&us(dn)},Ws=dn=>{V(v0(dn??""),({operation:Cs,name:Kr,validChildren:wa})=>{const Ua=Cs==="replace"?{"#comment":{}}:r[Kr],Pc=Wa=>{Cs==="remove"?delete Ua[Wa]:Ua[Wa]={}},ja=Wa=>{au(v,Wa).each(Ri=>{V(Ri,Pc)})};V(wa,({preset:Wa,name:Ri})=>{Wa?ja(Ri):Pc(Ri)}),r[Kr]=Ua})},rr=dn=>{const Cs=n[dn];if(Cs)return Cs;let Kr=c.length;for(;Kr--;){const wa=c[Kr];if(wa.pattern.test(dn))return wa}},xa=()=>{e.valid_elements?(qo(e.valid_elements),ns(E,(dn,Cs)=>{r[Cs]=dn.children})):(ns(E,(dn,Cs)=>{n[Cs]={attributes:dn.attributes,attributesOrder:dn.attributesOrder},r[Cs]=dn.children}),ns(ei("strong/b em/i"),dn=>{const Cs=ei(dn,"/");n[Cs[1]].outputName=Cs[0]}),ns(Po,(dn,Cs)=>{n[Cs]&&(e.padd_empty_block_inline_children&&(n[Cs].paddInEmptyBlock=!0),n[Cs].removeEmpty=!0)}),ns(ei("ol ul blockquote a table tbody"),dn=>{n[dn]&&(n[dn].removeEmpty=!0)}),ns(ei("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),dn=>{n[dn]&&(n[dn].paddEmpty=!0)}),ns(ei("span"),dn=>{n[dn].removeEmptyAttrs=!0})),delete n.svg,gs(e.custom_elements),Ws(e.valid_children),Bt(e.extended_valid_elements),Ws("+ol[ul|ol],+ul[ul|ol]"),ns({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(dn,Cs)=>{n[Cs]&&(n[Cs].parentsRequired=ei(dn))}),e.invalid_elements&&ns(Am(e.invalid_elements),dn=>{n[dn]&&delete n[dn]}),rr("span")||Bt("span[!data-mce-type|*]")},oc=ue(R),gr=ue(N),vo=ue($),an=ue(ce),Ps=ue(mo),zo=ue($t),yn=ue(Po),as=ue(Object.seal(Y)),No=ue(ne),cs=ue(Ie),ps=ue(Pe),Tc=ue(q),Ks=ue(kt),dc=ue(ct),Bd=ue(Object.seal(m)),dm=(dn,Cs)=>{const Kr=r[dn.toLowerCase()];return!!(Kr&&Kr[Cs.toLowerCase()])},Xi=(dn,Cs)=>{const Kr=rr(dn);if(Kr)if(Cs){if(Kr.attributes[Cs])return!0;const wa=Kr.attributePatterns;if(wa){let Ua=wa.length;for(;Ua--;)if(wa[Ua].pattern.test(Cs))return!0}}else return!0;return!1},Hl=dn=>Qo(Ps(),dn),ed=dn=>!_n(dn,"#")&&Xi(dn)&&!Hl(dn),Vl=dn=>Qo(dc(),dn)||ed(dn),td=ue(u);return xa(),{type:v,children:r,elements:n,getValidStyles:oc,getValidClasses:vo,getBlockElements:Ps,getInvalidStyles:gr,getVoidElements:as,getTextBlockElements:zo,getTextInlineElements:yn,getBoolAttrs:an,getElementRule:rr,getSelfClosingElements:No,getNonEmptyElements:cs,getMoveCaretBeforeOnEnterElements:ps,getWhitespaceElements:Tc,getTransparentElements:Ks,getSpecialElements:Bd,isValidChild:dm,isValid:Xi,isBlock:Hl,isInline:ed,isWrapper:Vl,getCustomElements:td,addValidElements:Bt,setValidElements:qo,addCustomElements:gs,addValidChildren:Ws}},Er=e=>({value:c_(e)}),c_=e=>jo(e,"#").toUpperCase(),w0=e=>{const o=e.toString(16);return(o.length===1?"0"+o:o).toUpperCase()},k0=e=>{const o=w0(e.red)+w0(e.green)+w0(e.blue);return Er(o)},Rt=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Vg=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,zE=(e,o,n,r)=>({red:e,green:o,blue:n,alpha:r}),zm=(e,o,n,r)=>{const c=parseInt(e,10),u=parseInt(o,10),m=parseInt(n,10),b=parseFloat(r);return zE(c,u,m,b)},OE=e=>Rt.test(e)?"rgb":Vg.test(e)?"rgba":"other",Ug=e=>{const o=Rt.exec(e);if(o!==null)return P.some(zm(o[1],o[2],o[3],"1"));const n=Vg.exec(e);return n!==null?P.some(zm(n[1],n[2],n[3],n[4])):P.none()},_0=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,yd=e=>Ug(e).map(k0).map(o=>"#"+o.value).getOr(e),C0=(e={},o)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={};let m,b;const v=Bp;o&&(m=o.getValidStyles(),b=o.getInvalidStyles());const E=(`\\" \\' \\; \\: ; : `+v).split(" ");for(let N=0;N<E.length;N++)u[E[N]]=v+N,u[v+N]=E[N];const R={parse:N=>{const $={};let q=!1;const ne=e.url_converter,Y=e.url_converter_scope||R,ce=(kt,ct,Bt)=>{const qo=$[kt+"-top"+ct];if(!qo)return;const un=$[kt+"-right"+ct];if(!un)return;const us=$[kt+"-bottom"+ct];if(!us)return;const gs=$[kt+"-left"+ct];if(!gs)return;const Ws=[qo,un,us,gs];let rr=Ws.length-1;for(;rr--&&Ws[rr]===Ws[rr+1];);rr>-1&&Bt||($[kt+ct]=rr===-1?Ws[0]:Ws.join(" "),delete $[kt+"-top"+ct],delete $[kt+"-right"+ct],delete $[kt+"-bottom"+ct],delete $[kt+"-left"+ct])},_e=kt=>{const ct=$[kt];if(!ct)return;const Bt=ct.indexOf(",")>-1?[ct]:ct.split(" ");let qo=Bt.length;for(;qo--;)if(Bt[qo]!==Bt[0])return!1;return $[kt]=Bt[0],!0},Ie=(kt,ct,Bt,qo)=>{_e(ct)&&_e(Bt)&&_e(qo)&&($[kt]=$[ct]+" "+$[Bt]+" "+$[qo],delete $[ct],delete $[Bt],delete $[qo])},Pe=kt=>(q=!0,u[kt]),et=(kt,ct)=>(q&&(kt=kt.replace(/\uFEFF[0-9]/g,Bt=>u[Bt])),ct||(kt=kt.replace(/\\([\'\";:])/g,"$1")),kt),$t=kt=>String.fromCharCode(parseInt(kt.slice(1),16)),mo=kt=>kt.replace(/\\[0-9a-f]+/gi,$t),Po=(kt,ct,Bt,qo,un,us)=>{if(un=un||us,un)return un=et(un),"'"+un.replace(/\'/g,"\\'")+"'";if(ct=et(ct||Bt||qo||""),!e.allow_script_urls){const gs=ct.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(gs)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(gs))return""}return ne&&(ct=ne.call(Y,ct,"style")),"url('"+ct.replace(/\'/g,"\\'")+"')"};if(N){N=N.replace(/[\u0000-\u001F]/g,""),N=N.replace(/\\[\"\';:\uFEFF]/g,Pe).replace(/\"[^\"]+\"|\'[^\']+\'/g,ct=>ct.replace(/[;:]/g,Pe));let kt;for(;kt=r.exec(N);){r.lastIndex=kt.index+kt[0].length;let ct=kt[1].replace(c,"").toLowerCase(),Bt=kt[2].replace(c,"");if(ct&&Bt){if(ct=mo(ct),Bt=mo(Bt),ct.indexOf(v)!==-1||ct.indexOf('"')!==-1||!e.allow_script_urls&&(ct==="behavior"||/expression\s*\(|\/\*|\*\//.test(Bt)))continue;ct==="font-weight"&&Bt==="700"?Bt="bold":(ct==="color"||ct==="background-color")&&(Bt=Bt.toLowerCase()),OE(Bt)==="rgb"&&Ug(Bt).each(qo=>{Bt=yd(_0(qo)).toLowerCase()}),Bt=Bt.replace(n,Po),$[ct]=q?et(Bt,!0):Bt}}ce("border","",!0),ce("border","-width"),ce("border","-color"),ce("border","-style"),ce("padding",""),ce("margin",""),Ie("border","border-width","border-style","border-color"),$.border==="medium none"&&delete $.border,$["border-image"]==="none"&&delete $["border-image"]}return $},serialize:(N,$)=>{let q="";const ne=(ce,_e)=>{const Ie=_e[ce];if(Ie)for(let Pe=0,et=Ie.length;Pe<et;Pe++){const $t=Ie[Pe],mo=N[$t];mo&&(q+=(q.length>0?" ":"")+$t+": "+mo+";")}},Y=(ce,_e)=>{if(!b||!_e)return!0;let Ie=b["*"];return Ie&&Ie[ce]?!1:(Ie=b[_e],!(Ie&&Ie[ce]))};return $&&m?(ne("*",m),ne($,m)):Kt(N,(ce,_e)=>{ce&&Y(_e,$)&&(q+=(q.length>0?" ":"")+_e+": "+ce+";")}),q}};return R},jp={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Mr=e=>e instanceof Event||ie(e.initEvent),tf=e=>e.isDefaultPrevented===Xe||e.isDefaultPrevented===ke,S0=e=>co(e.preventDefault)||Mr(e),Bu=(e,o)=>{const n=o??{};for(const r in e)Qo(jp,r)||(n[r]=e[r]);return We(e.composedPath)&&(n.composedPath=()=>e.composedPath()),We(e.getModifierState)&&(n.getModifierState=r=>e.getModifierState(r)),We(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},E0=(e,o,n,r)=>{var c;const u=Bu(o,r);return u.type=e,co(u.target)&&(u.target=(c=u.srcElement)!==null&&c!==void 0?c:n),S0(o)&&(u.preventDefault=()=>{u.defaultPrevented=!0,u.isDefaultPrevented=Xe,ie(o.preventDefault)&&o.preventDefault()},u.stopPropagation=()=>{u.cancelBubble=!0,u.isPropagationStopped=Xe,ie(o.stopPropagation)&&o.stopPropagation()},u.stopImmediatePropagation=()=>{u.isImmediatePropagationStopped=Xe,u.stopPropagation()},tf(u)||(u.isDefaultPrevented=u.defaultPrevented===!0?Xe:ke,u.isPropagationStopped=u.cancelBubble===!0?Xe:ke,u.isImmediatePropagationStopped=ke)),u},ab="mce-data-",Wp=/^(?:mouse|contextmenu)|click/,cb=(e,o,n,r)=>{e.addEventListener(o,n,r||!1)},sl=(e,o,n,r)=>{e.removeEventListener(o,n,r||!1)},i_=e=>We(e)&&Wp.test(e.type),ib=(e,o)=>{const n=E0(e.type,e,document,o);if(i_(e)&&ko(e.pageX)&&!ko(e.clientX)){const r=n.target.ownerDocument||document,c=r.documentElement,u=r.body,m=n;m.pageX=e.clientX+(c&&c.scrollLeft||u&&u.scrollLeft||0)-(c&&c.clientLeft||u&&u.clientLeft||0),m.pageY=e.clientY+(c&&c.scrollTop||u&&u.scrollTop||0)-(c&&c.clientTop||u&&u.clientTop||0)}return n},T0=(e,o,n)=>{const r=e.document,c={type:"ready"};if(n.domLoaded){o(c);return}const u=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,m=()=>{sl(e,"DOMContentLoaded",m),sl(e,"load",m),n.domLoaded||(n.domLoaded=!0,o(c)),e=null};u()?m():cb(e,"DOMContentLoaded",m),n.domLoaded||cb(e,"load",m)};class Om{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=ab+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(o,n,r,c){const u=this;let m;const b=window,v=$=>{u.executeHandlers(ib($||b.event),E)};if(!o||Xt(o)||Ka(o))return r;let E;o[u.expando]?E=o[u.expando]:(E=u.count++,o[u.expando]=E,u.events[E]={}),c=c||o;const R=n.split(" ");let N=R.length;for(;N--;){let $=R[N],q=v,ne=!1,Y=!1;if($==="DOMContentLoaded"&&($="ready"),u.domLoaded&&$==="ready"&&o.readyState==="complete"){r.call(c,ib({type:$}));continue}!u.hasFocusIn&&($==="focusin"||$==="focusout")&&(ne=!0,Y=$==="focusin"?"focus":"blur",q=ce=>{const _e=ib(ce||b.event);_e.type=_e.type==="focus"?"focusin":"focusout",u.executeHandlers(_e,E)}),m=u.events[E][$],m?$==="ready"&&u.domLoaded?r(ib({type:$})):m.push({func:r,scope:c}):(u.events[E][$]=m=[{func:r,scope:c}],m.fakeName=Y,m.capture=ne,m.nativeHandler=q,$==="ready"?T0(o,q,u):cb(o,Y||$,q,ne))}return o=m=null,r}unbind(o,n,r){if(!o||Xt(o)||Ka(o))return this;const c=o[this.expando];if(c){let u=this.events[c];if(n){const m=n.split(" ");let b=m.length;for(;b--;){const v=m[b],E=u[v];if(E){if(r){let R=E.length;for(;R--;)if(E[R].func===r){const N=E.nativeHandler,$=E.fakeName,q=E.capture,ne=E.slice(0,R).concat(E.slice(R+1));ne.nativeHandler=N,ne.fakeName=$,ne.capture=q,u[v]=ne}}(!r||E.length===0)&&(delete u[v],sl(o,E.fakeName||v,E.nativeHandler,E.capture))}}}else Kt(u,(m,b)=>{sl(o,m.fakeName||b,m.nativeHandler,m.capture)}),u={};for(const m in u)if(Qo(u,m))return this;delete this.events[c];try{delete o[this.expando]}catch{o[this.expando]=null}}return this}fire(o,n,r){return this.dispatch(o,n,r)}dispatch(o,n,r){if(!o||Xt(o)||Ka(o))return this;const c=ib({type:n,target:o},r);do{const u=o[this.expando];u&&this.executeHandlers(c,u),o=o.parentNode||o.ownerDocument||o.defaultView||o.parentWindow}while(o&&!c.isPropagationStopped());return this}clean(o){if(!o||Xt(o)||Ka(o))return this;if(o[this.expando]&&this.unbind(o),o.getElementsByTagName||(o=o.document),o&&o.getElementsByTagName){this.unbind(o);const n=o.getElementsByTagName("*");let r=n.length;for(;r--;)o=n[r],o[this.expando]&&this.unbind(o)}return this}destroy(){this.events={}}cancel(o){return o&&(o.preventDefault(),o.stopImmediatePropagation()),!1}executeHandlers(o,n){const r=this.events[n],c=r&&r[o.type];if(c)for(let u=0,m=c.length;u<m;u++){const b=c[u];if(b&&b.func.call(b.scope,o)===!1&&o.preventDefault(),o.isImmediatePropagationStopped())return}}}Om.Event=new Om;const A0=Qt.each,l_=Qt.grep,z0="data-mce-style",u_=Qt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),fi=(e,o,n)=>{co(n)||n===""?dr(e,o):Js(e,o,n)},rl=e=>e.replace(/[A-Z]/g,o=>"-"+o.toLowerCase()),ao=(e,o)=>{let n=0;if(e)for(let r=e.nodeType,c=e.previousSibling;c;c=c.previousSibling){const u=c.nodeType;o&&Xt(c)&&(u===r||!c.data.length)||(n++,r=u)}return n},Fy=(e,o)=>{const n=qa(o,"style"),r=e.serialize(e.parse(n),oe(o));fi(o,z0,r)},Rc=(e,o)=>gn(e)?Qo(u_,o)?e+"":e+"px":e,Ly=(e,o,n)=>{const r=rl(o);co(n)||n===""?yi(e,r):Rp(e,r,Rc(n,r))},d_=(e,o,n)=>{const r=o.keep_values,c={set:(m,b,v)=>{const E=we.fromDom(m);ie(o.url_converter)&&We(b)&&(b=o.url_converter.call(o.url_converter_scope||n(),String(b),v,m));const R="data-mce-"+v;fi(E,R,b),fi(E,v,b)},get:(m,b)=>{const v=we.fromDom(m);return qa(v,"data-mce-"+b)||qa(v,b)}},u={style:{set:(m,b)=>{const v=we.fromDom(m);r&&fi(v,z0,b),dr(v,"style"),X(b)&&Kn(v,e.parse(b))},get:m=>{const b=we.fromDom(m),v=qa(b,z0)||qa(b,"style");return e.serialize(e.parse(v),oe(b))}}};return r&&(u.href=u.src=c),u},Br=(e,o={})=>{const n={},r=window,c={};let u=0;const m=!0,b=!0,v=vr.forElement(we.fromDom(e),{contentCssCors:o.contentCssCors,referrerPolicy:o.referrerPolicy}),E=[],R=o.schema?o.schema:ef({}),N=C0({url_converter:o.url_converter,url_converter_scope:o.url_converter_scope},o.schema),$=o.ownEvents?new Om:Om.Event,q=R.getBlockElements(),ne=rt=>X(rt)?Qo(q,rt):Do(rt)&&(Qo(q,rt.nodeName)||Nu(R,rt)),Y=rt=>rt&&e&&X(rt)?e.getElementById(rt):rt,ce=rt=>{const it=Y(rt);return We(it)?we.fromDom(it):null},_e=(rt,it,bo="")=>{let lo;const On=ce(rt);if(We(On)&&As(On)){const ws=Qk[it];ws&&ws.get?lo=ws.get(On.dom,it):lo=qa(On,it)}return We(lo)?lo:bo},Ie=rt=>{const it=Y(rt);return co(it)?[]:it.attributes},Pe=(rt,it,bo)=>{an(rt,lo=>{if(Do(lo)){const On=we.fromDom(lo),ws=bo===""?null:bo,ca=qa(On,it),Fd=Qk[it];Fd&&Fd.set?Fd.set(On.dom,ws,it):fi(On,it,ws),ca!==ws&&o.onSetAttrib&&o.onSetAttrib({attrElm:On.dom,attrName:it,attrValue:ws})}})},et=(rt,it)=>rt.cloneNode(it),$t=()=>o.root_element||e.body,mo=rt=>{const it=Ql(rt);return{x:it.x,y:it.y,w:it.width,h:it.height}},Po=(rt,it)=>Ya(e.body,Y(rt),it),kt=(rt,it,bo)=>{an(rt,lo=>{const On=we.fromDom(lo);Ly(On,it,bo),o.update_styles&&Fy(N,On)})},ct=(rt,it)=>{an(rt,bo=>{const lo=we.fromDom(bo);Kt(it,(On,ws)=>{Ly(lo,ws,On)}),o.update_styles&&Fy(N,lo)})},Bt=(rt,it,bo)=>{const lo=Y(rt);if(!(co(lo)||!tl(lo)&&!$p(lo)))return bo?Sa(we.fromDom(lo),rl(it)):(it=it.replace(/-(\D)/g,(On,ws)=>ws.toUpperCase()),it==="float"&&(it="cssFloat"),lo.style?lo.style[it]:void 0)},qo=rt=>{const it=Y(rt);if(!it)return{w:0,h:0};let bo=Bt(it,"width"),lo=Bt(it,"height");return(!bo||bo.indexOf("px")===-1)&&(bo="0"),(!lo||lo.indexOf("px")===-1)&&(lo="0"),{w:parseInt(bo,10)||it.offsetWidth||it.clientWidth,h:parseInt(lo,10)||it.offsetHeight||it.clientHeight}},un=rt=>{const it=Y(rt),bo=Po(it),lo=qo(it);return{x:bo.x,y:bo.y,w:lo.w,h:lo.h}},us=(rt,it)=>{if(!rt)return!1;const bo=pt(rt)?rt:[rt];return te(bo,lo=>_l(we.fromDom(lo),it))},gs=(rt,it,bo,lo)=>{const On=[];let ws=Y(rt);lo=lo===void 0;const ca=bo||($t().nodeName!=="BODY"?$t().parentNode:null);if(X(it))if(it==="*")it=Do;else{const Fd=it;it=d0=>us(d0,Fd)}for(;ws&&!(ws===ca||co(ws.nodeType)||wm(ws)||La(ws));){if(!it||it(ws))if(lo)On.push(ws);else return[ws];ws=ws.parentNode}return lo?On:null},Ws=(rt,it,bo)=>{const lo=gs(rt,it,bo,!1);return lo&&lo.length>0?lo[0]:null},rr=(rt,it,bo)=>{let lo=it;if(rt){X(it)&&(lo=On=>us(On,it));for(let On=rt[bo];On;On=On[bo])if(ie(lo)&&lo(On))return On}return null},xa=(rt,it)=>rr(rt,it,"nextSibling"),oc=(rt,it)=>rr(rt,it,"previousSibling"),gr=rt=>ie(rt.querySelectorAll),vo=(rt,it)=>{var bo,lo;const On=(lo=(bo=Y(it))!==null&&bo!==void 0?bo:o.root_element)!==null&&lo!==void 0?lo:e;return gr(On)?bs(On.querySelectorAll(rt)):[]},an=function(rt,it,bo){const lo=bo??this;if(pt(rt)){const On=[];return A0(rt,(ws,ca)=>{const Fd=Y(ws);Fd&&On.push(it.call(lo,Fd,ca))}),On}else{const On=Y(rt);return On?it.call(lo,On):!1}},Ps=(rt,it)=>{an(rt,bo=>{Kt(it,(lo,On)=>{Pe(bo,On,lo)})})},zo=(rt,it)=>{an(rt,bo=>{const lo=we.fromDom(bo);Au(lo,it)})},yn=(rt,it,bo,lo,On)=>an(rt,ws=>{const ca=X(it)?e.createElement(it):it;return We(bo)&&Ps(ca,bo),lo&&(!X(lo)&&lo.nodeType?ca.appendChild(lo):X(lo)&&zo(ca,lo)),On?ca:ws.appendChild(ca)}),as=(rt,it,bo)=>yn(e.createElement(rt),rt,it,bo,!0),No=hd.decode,cs=hd.encodeAllRaw,ps=(rt,it,bo="")=>{let lo="<"+rt;for(const On in it)Vs(it,On)&&(lo+=" "+On+'="'+cs(it[On])+'"');return ds(bo)&&Qo(R.getVoidElements(),rt)?lo+" />":lo+">"+bo+"</"+rt+">"},Tc=rt=>{const it=e.createElement("div"),bo=e.createDocumentFragment();bo.appendChild(it),rt&&(it.innerHTML=rt);let lo;for(;lo=it.firstChild;)bo.appendChild(lo);return bo.removeChild(it),bo},Ks=(rt,it)=>an(rt,bo=>{const lo=we.fromDom(bo);return it&&V(Ia(lo),On=>{qs(On)&&On.dom.length===0?sr(On):Oc(lo,On)}),sr(lo),lo.dom}),dc=rt=>an(rt,it=>{const bo=it.attributes;for(let lo=bo.length-1;lo>=0;lo--)it.removeAttributeNode(bo.item(lo))}),Bd=rt=>N.parse(rt),dm=(rt,it)=>N.serialize(rt,it),Xi=rt=>{if(hg!==Br.DOM&&e===document){if(n[rt])return;n[rt]=!0}let it=e.getElementById("mceDefaultStyles");if(!it){it=e.createElement("style"),it.id="mceDefaultStyles",it.type="text/css";const bo=e.head;bo.firstChild?bo.insertBefore(it,bo.firstChild):bo.appendChild(it)}it.styleSheet?it.styleSheet.cssText+=rt:it.appendChild(e.createTextNode(rt))},Hl=rt=>{rt||(rt=""),V(rt.split(","),it=>{c[it]=!0,v.load(it).catch(Me)})},ed=(rt,it,bo)=>{an(rt,lo=>{if(Do(lo)){const On=we.fromDom(lo),ws=it.split(" ");V(ws,ca=>{We(bo)?(bo?kl:ku)(On,ca):_g(On,ca)})}})},Vl=(rt,it)=>{ed(rt,it,!0)},td=(rt,it)=>{ed(rt,it,!1)},dn=(rt,it)=>{const bo=ce(rt),lo=it.split(" ");return We(bo)&&Ut(lo,On=>ql(bo,On))},Cs=rt=>{an(rt,it=>yi(we.fromDom(it),"display"))},Kr=rt=>{an(rt,it=>Rp(we.fromDom(it),"display","none"))},wa=rt=>{const it=ce(rt);return We(it)&&nr(ic(it,"display"),"none")},Ua=rt=>(rt||"mce_")+u++,Pc=rt=>{const it=ce(rt);return We(it)?Do(it.dom)?it.dom.outerHTML:Xc(it):""},ja=(rt,it)=>{an(rt,bo=>{Do(bo)&&(bo.outerHTML=it)})},Wa=(rt,it)=>{const bo=Y(it);return an(rt,lo=>{const On=bo==null?void 0:bo.parentNode,ws=bo==null?void 0:bo.nextSibling;return On&&(ws?On.insertBefore(lo,ws):On.appendChild(lo)),lo})},Ri=(rt,it,bo)=>an(it,lo=>{var On;const ws=pt(it)?rt.cloneNode(!0):rt;return bo&&A0(l_(lo.childNodes),ca=>{ws.appendChild(ca)}),(On=lo.parentNode)===null||On===void 0||On.replaceChild(ws,lo),lo}),Pd=(rt,it)=>{if(rt.nodeName!==it.toUpperCase()){const bo=as(it);return A0(Ie(rt),lo=>{Pe(bo,lo.nodeName,_e(rt,lo.nodeName))}),Ri(bo,rt,!0),bo}else return rt},$d=(rt,it)=>{let bo=rt;for(;bo;){let lo=it;for(;lo&&bo!==lo;)lo=lo.parentNode;if(bo===lo)break;bo=bo.parentNode}return!bo&&rt.ownerDocument?rt.ownerDocument.documentElement:bo},Id=(rt,it,bo)=>Go(it)?Ru(R,rt,{...bo,isContent:On=>{const ws=On.nodeName.toLowerCase();return!!it[ws]}}):Ru(R,rt,bo),hu=()=>e.createRange(),gg=(rt,it,bo)=>{let lo=hu(),On,ws;if(rt&&it&&rt.parentNode&&it.parentNode){const ca=rt.parentNode;return lo.setStart(ca,ao(rt)),lo.setEnd(it.parentNode,ao(it)),On=lo.extractContents(),lo=hu(),lo.setStart(it.parentNode,ao(it)+1),lo.setEnd(ca,ao(rt)+1),ws=lo.extractContents(),ca.insertBefore(Jd(hg,On,R),rt),bo?ca.insertBefore(bo,rt):ca.insertBefore(it,rt),ca.insertBefore(Jd(hg,ws,R),rt),Ks(rt),bo||it}else return},Op=(rt,it,bo,lo)=>{if(pt(rt)){let On=rt.length;const ws=[];for(;On--;)ws[On]=Op(rt[On],it,bo,lo);return ws}else return o.collect&&(rt===e||rt===r)&&E.push([rt,it,bo,lo]),$.bind(rt,it,bo,lo||hg)},Ey=(rt,it,bo)=>{if(pt(rt)){let lo=rt.length;const On=[];for(;lo--;)On[lo]=Ey(rt[lo],it,bo);return On}else{if(E.length>0&&(rt===e||rt===r)){let lo=E.length;for(;lo--;){const[On,ws,ca]=E[lo];rt===On&&(!it||it===ws)&&(!bo||bo===ca)&&$.unbind(On,ws,ca)}}return $.unbind(rt,it,bo)}},vE=(rt,it,bo)=>$.dispatch(rt,it,bo),pg=(rt,it,bo)=>$.dispatch(rt,it,bo),u0=rt=>{if(rt&&tl(rt)){const it=rt.getAttribute("data-mce-contenteditable");return it&&it!=="inherit"?it:rt.contentEditable!=="inherit"?rt.contentEditable:null}else return null},hg={doc:e,settings:o,win:r,files:c,stdMode:m,boxModel:b,styleSheetLoader:v,boundEvents:E,styles:N,schema:R,events:$,isBlock:ne,root:null,clone:et,getRoot:$t,getViewPort:mo,getRect:un,getSize:qo,getParent:Ws,getParents:gs,get:Y,getNext:xa,getPrev:oc,select:vo,is:us,add:yn,create:as,createHTML:ps,createFragment:Tc,remove:Ks,setStyle:kt,getStyle:Bt,setStyles:ct,removeAllAttribs:dc,setAttrib:Pe,setAttribs:Ps,getAttrib:_e,getPos:Po,parseStyle:Bd,serializeStyle:dm,addStyle:Xi,loadCSS:Hl,addClass:Vl,removeClass:td,hasClass:dn,toggleClass:ed,show:Cs,hide:Kr,isHidden:wa,uniqueId:Ua,setHTML:zo,getOuterHTML:Pc,setOuterHTML:ja,decode:No,encode:cs,insertAfter:Wa,replace:Ri,rename:Pd,findCommonAncestor:$d,run:an,getAttribs:Ie,isEmpty:Id,createRng:hu,nodeIndex:ao,split:gg,bind:Op,unbind:Ey,fire:pg,dispatch:vE,getContentEditable:u0,getContentEditableParent:rt=>{const it=$t();let bo=null;for(let lo=rt;lo&&lo!==it&&(bo=u0(lo),bo===null);lo=lo.parentNode);return bo},isEditable:rt=>{if(We(rt)){const it=Do(rt)?rt:rt.parentElement;return We(it)&&tl(it)&&Ga(we.fromDom(it))}else return!1},destroy:()=>{if(E.length>0){let rt=E.length;for(;rt--;){const[it,bo,lo]=E[rt];$.unbind(it,bo,lo)}}Kt(c,(rt,it)=>{v.unload(it),delete c[it]})},isChildOf:(rt,it)=>rt===it||it.contains(rt),dumpRng:rt=>"startContainer: "+rt.startContainer.nodeName+", startOffset: "+rt.startOffset+", endContainer: "+rt.endContainer.nodeName+", endOffset: "+rt.endOffset},Qk=d_(N,o,ue(hg));return hg};Br.DOM=Br(document),Br.nodeIndex=ao;const Lf=Br.DOM,Hy=0,DE=1,Hf=2,Vy=3;class vd{constructor(o={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=o}_setReferrerPolicy(o){this.settings.referrerPolicy=o}loadScript(o){return new Promise((n,r)=>{const c=Lf;let u;const m=()=>{c.remove(E),u&&(u.onerror=u.onload=u=null)},b=()=>{m(),n()},v=()=>{m(),r("Failed to load script: "+o)},E=c.uniqueId();u=document.createElement("script"),u.id=E,u.type="text/javascript",u.src=Qt._addCacheSuffix(o),this.settings.referrerPolicy&&c.setAttrib(u,"referrerpolicy",this.settings.referrerPolicy),u.onload=b,u.onerror=v,(document.getElementsByTagName("head")[0]||document.body).appendChild(u)})}isDone(o){return this.states[o]===Hf}markDone(o){this.states[o]=Hf}add(o){const n=this;return n.queue.push(o),n.states[o]===void 0&&(n.states[o]=Hy),new Promise((c,u)=>{n.scriptLoadedCallbacks[o]||(n.scriptLoadedCallbacks[o]=[]),n.scriptLoadedCallbacks[o].push({resolve:c,reject:u})})}load(o){return this.add(o)}remove(o){delete this.states[o],delete this.scriptLoadedCallbacks[o]}loadQueue(){const o=this.queue;return this.queue=[],this.loadScripts(o)}loadScripts(o){const n=this,r=(v,E)=>{vs(n.scriptLoadedCallbacks,E).each(R=>{V(R,N=>N[v](E))}),delete n.scriptLoadedCallbacks[E]},c=v=>{const E=be(v,R=>R.status==="rejected");return E.length>0?Promise.reject(Je(E,({reason:R})=>pt(R)?R:[R])):Promise.resolve()},u=v=>Promise.allSettled(he(v,E=>n.states[E]===Hf?(r("resolve",E),Promise.resolve()):n.states[E]===Vy?(r("reject",E),Promise.reject(E)):(n.states[E]=DE,n.loadScript(E).then(()=>{n.states[E]=Hf,r("resolve",E);const R=n.queue;return R.length>0?(n.queue=[],u(R).then(c)):Promise.resolve()},()=>(n.states[E]=Vy,r("reject",E),Promise.reject(E)))))),m=v=>(n.loading=!0,u(v).then(E=>{n.loading=!1;const R=n.queueLoadedCallbacks.shift();return P.from(R).each(Zt),c(E)})),b=at(o);return n.loading?new Promise((v,E)=>{n.queueLoadedCallbacks.push(()=>{m(b).then(v,E)})}):m(b)}}vd.ScriptLoader=new vd;const f_=(e,o)=>{const n=e.indexOf(o);return n!==-1&&e.indexOf(o,n+1)>n},O0=e=>lt(e)&&Qo(e,"raw"),Tr=e=>pt(e)&&e.length>1,Zp={},ra=Ve("en"),m_=()=>vs(Zp,ra.get()),vc={getData:()=>Gn(Zp,e=>({...e})),setCode:e=>{e&&ra.set(e)},getCode:()=>ra.get(),add:(e,o)=>{let n=Zp[e];n||(Zp[e]=n={});const r=he(vn(o),c=>c.toLowerCase());Kt(o,(c,u)=>{const m=u.toLowerCase();m!==u&&f_(r,m)?(Qo(o,m)||(n[m]=c),n[u]=c):n[m]=c})},translate:e=>{const o=m_().getOr({}),n=m=>ie(m)?Object.prototype.toString.call(m):r(m)?"":""+m,r=m=>m===""||m===null||m===void 0,c=m=>{const b=n(m);return Qo(o,b)?n(o[b]):vs(o,b.toLowerCase()).map(n).getOr(b)},u=m=>m.replace(/{context:\w+}$/,"");if(r(e))return"";if(O0(e))return n(e.raw);if(Tr(e)){const m=e.slice(1),b=c(e[0]).replace(/\{([0-9]+)\}/g,(v,E)=>Qo(m,E)?n(m[E]):v);return u(b)}return u(c(e))},isRtl:()=>m_().bind(e=>vs(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Qo(Zp,e)},wi=()=>{const e=[],o={},n={},r=[],c=(Y,ce)=>{const _e=be(r,Ie=>Ie.name===Y&&Ie.state===ce);V(_e,Ie=>Ie.resolve())},u=Y=>Qo(o,Y),m=Y=>Qo(n,Y),b=Y=>{if(n[Y])return n[Y].instance},v=(Y,ce)=>{const _e=vc.getCode(),Ie=","+(ce||"")+",";!_e||ce&&Ie.indexOf(","+_e+",")===-1||vd.ScriptLoader.add(o[Y]+"/langs/"+_e+".js")},E=(Y,ce)=>{wi.languageLoad!==!1&&(u(Y)?v(Y,ce):ne(Y,"loaded").then(()=>v(Y,ce)))},R=(Y,ce)=>(e.push(ce),n[Y]={instance:ce},c(Y,"added"),ce),N=Y=>{delete o[Y],delete n[Y]},$=(Y,ce)=>X(ce)?X(Y)?{prefix:"",resource:ce,suffix:""}:{prefix:Y.prefix,resource:ce,suffix:Y.suffix}:ce,q=(Y,ce)=>{if(o[Y])return Promise.resolve();let _e=X(ce)?ce:ce.prefix+ce.resource+ce.suffix;_e.indexOf("/")!==0&&_e.indexOf("://")===-1&&(_e=wi.baseURL+"/"+_e),o[Y]=_e.substring(0,_e.lastIndexOf("/"));const Ie=()=>(c(Y,"loaded"),Promise.resolve());return n[Y]?Ie():vd.ScriptLoader.add(_e).then(Ie)},ne=(Y,ce="added")=>ce==="added"&&m(Y)||ce==="loaded"&&u(Y)?Promise.resolve():new Promise(_e=>{r.push({name:Y,state:ce,resolve:_e})});return{items:e,urls:o,lookup:n,get:b,requireLangPack:E,add:R,remove:N,createUrl:$,load:q,waitFor:ne}};wi.languageLoad=!0,wi.baseURL="",wi.PluginManager=wi(),wi.ThemeManager=wi(),wi.ModelManager=wi();const lb=(e,o)=>{let n=null;return{cancel:()=>{U(n)||(clearTimeout(n),n=null)},throttle:(...u)=>{U(n)&&(n=setTimeout(()=>{n=null,e.apply(null,u)},o))}}},Dm=(e,o)=>{let n=null;const r=()=>{U(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...u)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,u)},o)}}},D0=(e,o,n)=>Ca(e,o,n).isSome(),Gp=ue("mce-annotation"),of=ue("data-mce-annotation"),Kp=ue("data-mce-annotation-uid"),jg=ue("data-mce-annotation-active"),Rm=ue("data-mce-annotation-classes"),nf=ue("data-mce-annotation-attrs"),Wg=e=>o=>ts(o,e),Zg=(e,o)=>{const n=e.selection.getRng(),r=we.fromDom(n.startContainer),c=we.fromDom(e.getBody()),u=o.fold(()=>"."+Gp(),v=>`[${of()}="${v}"]`),m=Yc(r,n.startOffset).getOr(r);return Xl(m,u,Wg(c)).bind(v=>Fr(v,`${Kp()}`).bind(E=>Fr(v,`${of()}`).map(R=>{const N=Uy(e,E);return{uid:E,name:R,elements:N}})))},PE=e=>As(e)&&ql(e,Gp()),R0=(e,o)=>Sr(e,"data-mce-bogus")||D0(e,'[data-mce-bogus="all"]',Wg(o)),Uy=(e,o)=>{const n=we.fromDom(e.getBody()),r=Dc(n,`[${Kp()}="${o}"]`);return be(r,c=>!R0(c,n))},g_=(e,o)=>{const n=we.fromDom(e.getBody()),r=Dc(n,`[${of()}="${o}"]`),c={};return V(r,u=>{if(!R0(u,n)){const m=qa(u,Kp()),b=vs(c,m).getOr([]);c[m]=b.concat([u])}}),c},N0=(e,o)=>{const n=Ve({}),r=()=>({listeners:[],previous:Vc()}),c=(N,$)=>{u(N,q=>($(q),q))},u=(N,$)=>{const q=n.get(),ne=vs(q,N).getOrThunk(r),Y=$(ne);q[N]=Y,n.set(q)},m=(N,$,q)=>{c(N,ne=>{V(ne.listeners,Y=>Y(!0,N,{uid:$,nodes:he(q,ce=>ce.dom)}))})},b=N=>{c(N,$=>{V($.listeners,q=>q(!1,N))})},v=(N,$)=>{V(Uy(e,N),q=>{$?Js(q,jg(),"true"):dr(q,jg())})},E=Dm(()=>{const N=Mo(o.getNames());V(N,$=>{u($,q=>{const ne=q.previous.get();return Zg(e,P.some($)).fold(()=>{ne.each(Y=>{b($),q.previous.clear(),v(Y,!1)})},({uid:Y,name:ce,elements:_e})=>{nr(ne,Y)||(ne.each(Ie=>v(Ie,!1)),m(ce,Y,_e),q.previous.set(Y),v(Y,!0))}),{previous:q.previous,listeners:q.listeners}})})},30);return e.on("remove",()=>{E.cancel()}),e.on("NodeChange",()=>{E.throttle()}),{addListener:(N,$)=>{u(N,q=>({previous:q.previous,listeners:q.listeners.concat([$])}))}}},jy=(e,o)=>{const n=of(),r=u=>P.from(u.attr(n)).bind(o.lookup),c=u=>{var m,b;u.attr(Kp(),null),u.attr(of(),null),u.attr(jg(),null);const v=P.from(u.attr(nf())).map($=>$.split(",")).getOr([]),E=P.from(u.attr(Rm())).map($=>$.split(",")).getOr([]);V(v,$=>u.attr($,null));const R=(b=(m=u.attr("class"))===null||m===void 0?void 0:m.split(" "))!==null&&b!==void 0?b:[],N=hn(R,[Gp()].concat(E));u.attr("class",N.length>0?N.join(" "):null),u.attr(Rm(),null),u.attr(nf(),null)};e.serializer.addTempAttr(jg()),e.serializer.addAttributeFilter(n,u=>{for(const m of u)r(m).each(b=>{b.persistent===!1&&(m.name==="span"?m.unwrap():c(m))})})},M0=()=>{const e={};return{register:(c,u)=>{e[c]={name:c,settings:u}},lookup:c=>vs(e,c).map(u=>u.settings),getNames:()=>vn(e)}},B0=(e,o,n)=>Math.min(Math.max(e,o),n),P0=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let ub=0;const Wy=e=>{const n=new Date().getTime(),r=Math.floor(P0()*1e9);return ub++,e+"_"+r+ub+String(n)},mD=(e,o)=>{V(o,n=>{kl(e,n)})},db=(e,o)=>{V(o,n=>{ku(e,n)})},Yp=(e,o)=>we.fromDom(e.dom.cloneNode(o)),Nm=e=>Yp(e,!1),$0=e=>Yp(e,!0),I0=(e,o)=>{const n=we.fromTag(o),r=vu(e);return pc(n,r),n},p_=(e,o)=>{const n=I0(e,o);di(e,n);const r=Ia(e);return Tu(n,r),sr(e),n},F0=(e,o,n=ke)=>{const r=new bc(e,o),c=u=>{let m;do m=r[u]();while(m&&!Xt(m)&&!n(m));return P.from(m).filter(Xt)};return{current:()=>P.from(r.current()).filter(Xt),next:()=>c("next"),prev:()=>c("prev"),prev2:()=>c("prev2")}},qg=(e,o)=>{const n=o||(m=>e.isBlock(m)||Ms(m)||Bs(m)),r=(m,b,v,E)=>{if(Xt(m)){const R=E(m,b,m.data);if(R!==-1)return P.some({container:m,offset:R})}return v().bind(R=>r(R.container,R.offset,v,E))};return{backwards:(m,b,v,E)=>{const R=F0(m,E??e.getRoot(),n);return r(m,b,()=>R.prev().map(N=>({container:N,offset:N.length})),v).getOrNull()},forwards:(m,b,v,E)=>{const R=F0(m,E??e.getRoot(),n);return r(m,b,()=>R.next().map(N=>({container:N,offset:0})),v).getOrNull()}}},L0=((e,o)=>{const n=u=>{if(!e(u))throw new Error("Can only get "+o+" value of a "+o+" node");return r(u).getOr("")},r=u=>e(u)?P.from(u.dom.nodeValue):P.none();return{get:n,getOption:r,set:(u,m)=>{if(!e(u))throw new Error("Can only set raw "+o+" value of a "+o+" node");u.dom.nodeValue=m}}})(qs,"text"),Mm=e=>L0.get(e),Xp=e=>L0.getOption(e),H0=(e,o)=>L0.set(e,o),Zy=["td","th"],V0=["thead","tbody","tfoot"],h_=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],ti=["li","dd","dt"],gD=["ul","ol","dl"],U0=["pre","script","textarea","style"],fb=e=>{let o;return n=>(o=o||Lo(e,Xe),Qo(o,oe(n)))},IE=e=>oe(e)==="table",il=e=>As(e)&&oe(e)==="br",Pu=fb(h_),Bm=fb(gD),Gg=fb(ti),b_=fb(V0),mb=fb(Zy),qy=fb(U0),y_=e=>{const o=[];let n=e.dom;for(;n;)o.push(we.fromDom(n)),n=n.lastChild;return o},Pm=e=>{const o=Dc(e,"br"),n=be(y_(e).slice(-1),il);o.length===n.length&&V(n,sr)},Kg=()=>{const e=we.fromTag("br");return Js(e,"data-mce-bogus","1"),e},cu=e=>{ud(e),Zr(e,Kg())},Gy=(e,o)=>{rd(e).each(n=>{Yl(n).each(r=>{o.isBlock(oe(e))&&il(n)&&o.isBlock(oe(r))&&sr(n)})})},lc=Bp,j0=Ny,ki=Jc,FE=e=>e.insertContent(lc,{preserve_zwsp:!0}),v_=Do,Vf=Xt,$m=e=>(Vf(e)&&(e=e.parentNode),v_(e)&&e.hasAttribute("data-mce-caret")),Uf=e=>Vf(e)&&j0(e.data),ll=e=>$m(e)||Uf(e),x_=e=>e.firstChild!==e.lastChild||!Ms(e.firstChild),gb=(e,o)=>{var n;const c=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(lc),u=e.parentNode;if(o){const m=e.previousSibling;if(Vf(m)){if(ll(m))return m;if(ks(m))return m.splitText(m.data.length-1)}u==null||u.insertBefore(c,e)}else{const m=e.nextSibling;if(Vf(m)){if(ll(m))return m;if(Im(m))return m.splitText(1),m}e.nextSibling?u==null||u.insertBefore(c,e.nextSibling):u==null||u.appendChild(c)}return c},W0=e=>{const o=e.container();return Xt(o)?o.data.charAt(e.offset())===lc||e.isAtStart()&&Uf(o.previousSibling):!1},Jp=e=>{const o=e.container();return Xt(o)?o.data.charAt(e.offset()-1)===lc||e.isAtEnd()&&Uf(o.nextSibling):!1},Yg=(e,o,n)=>{var r;const u=((r=o.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);u.setAttribute("data-mce-caret",n?"before":"after"),u.setAttribute("data-mce-bogus","all"),u.appendChild(Kg().dom);const m=o.parentNode;return n?m==null||m.insertBefore(u,o):o.nextSibling?m==null||m.insertBefore(u,o.nextSibling):m==null||m.appendChild(u),u},Im=e=>Vf(e)&&e.data[0]===lc,ks=e=>Vf(e)&&e.data[e.data.length-1]===lc,Wi=e=>{var o;const n=e.getElementsByTagName("br"),r=n[n.length-1];Mf(r)&&((o=r.parentNode)===null||o===void 0||o.removeChild(r))},sf=e=>e&&e.hasAttribute("data-mce-caret")?(Wi(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Ky=e=>$m(e.startContainer),cr=Math.round,Fm=e=>e?{left:cr(e.left),top:cr(e.top),bottom:cr(e.bottom),right:cr(e.right),width:cr(e.width),height:cr(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Yy=(e,o)=>(e=Fm(e),o||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),LE=(e,o)=>e.left===o.left&&e.top===o.top&&e.bottom===o.bottom&&e.right===o.right,HE=(e,o,n)=>e>=0&&e<=Math.min(o.height,n.height)/2,pb=(e,o)=>{const n=Math.min(o.height/2,e.height/2);return e.bottom-n<o.top?!0:e.top>o.bottom?!1:HE(o.top-e.bottom,e,o)},Ar=(e,o)=>e.top>o.bottom?!0:e.bottom<o.top?!1:HE(o.bottom-e.top,e,o),w_=(e,o,n)=>o>=e.left&&o<=e.right&&n>=e.top&&n<=e.bottom,VE=e=>Ee(e,(o,n)=>o.fold(()=>P.some(n),r=>{const c=Math.min(n.left,r.left),u=Math.min(n.top,r.top),m=Math.max(n.right,r.right),b=Math.max(n.bottom,r.bottom);return P.some({top:u,right:m,bottom:b,left:c,width:m-c,height:b-u})}),P.none()),k_=(e,o,n)=>{const r=Math.max(Math.min(o,e.left+e.width),e.left),c=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((o-r)*(o-r)+(n-c)*(n-c))},Xg=(e,o)=>Math.max(0,Math.min(e.bottom,o.bottom)-Math.max(e.top,o.top)),ul=e=>{const o=e.startContainer,n=e.startOffset;return o===e.endContainer&&o.hasChildNodes()&&e.endOffset===n+1?o.childNodes[n]:null},Lm=(e,o)=>{if(Do(e)&&e.hasChildNodes()){const n=e.childNodes,r=B0(o,0,n.length-1);return n[r]}else return e},Z0=(e,o)=>{if(!(o<0&&Do(e)&&e.hasChildNodes()))return Lm(e,o)},Vo=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),q0=e=>X(e)&&e.charCodeAt(0)>=768&&Vo.test(e),UE=(...e)=>o=>{for(let n=0;n<e.length;n++)if(e[n](o))return!0;return!1},__=(...e)=>o=>{for(let n=0;n<e.length;n++)if(!e[n](o))return!1;return!0},G0=Ot,C_=Bs,S_=Ms,xd=Xt,hb=Sl(["script","style","textarea"]),Jg=Sl(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Xy=Sl(["table"]),jE=ll,Tl=e=>jE(e)?!1:xd(e)?!hb(e.parentNode):Jg(e)||S_(e)||Xy(e)||K0(e),E_=e=>Do(e)&&e.getAttribute("unselectable")==="true",K0=e=>!E_(e)&&C_(e),T_=(e,o)=>{for(let n=e.parentNode;n&&n!==o;n=n.parentNode){if(K0(n))return!1;if(G0(n))return!0}return!0},Jy=e=>K0(e)?!Ee(bs(e.getElementsByTagName("*")),(o,n)=>o||G0(n),!1):!1,WE=e=>Jg(e)||Jy(e),Qy=(e,o)=>Tl(e)&&T_(e,o),Y0=Do,X0=Tl,A_=Mg("display","block table"),ZE=Mg("float","left right"),rf=__(Y0,X0,vt(ZE)),z_=vt(Mg("white-space","pre pre-line pre-wrap")),Qp=Xt,eh=Ms,O_=Br.nodeIndex,ev=Z0,J0=e=>e?e.createRange():Br.DOM.createRng(),tv=e=>X(e)&&/[\r\n\t ]/.test(e),qE=e=>!!e.setStart&&!!e.setEnd,_i=e=>{const o=e.startContainer,n=e.startOffset;if(tv(e.toString())&&z_(o.parentNode)&&Xt(o)){const r=o.data;if(tv(r[n-1])||tv(r[n+1]))return!0}return!1},GE=e=>{const o=e.ownerDocument,n=J0(o),r=o.createTextNode(Ra),c=e.parentNode;c.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);const u=Fm(n.getBoundingClientRect());return c.removeChild(r),u},KE=e=>{const o=e.startContainer,n=e.endContainer,r=e.startOffset,c=e.endOffset;if(o===n&&Xt(n)&&r===0&&c===1){const u=e.cloneRange();return u.setEndAfter(n),Vm(u)}else return null},Hm=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,Vm=e=>{var o;let n;const r=e.getClientRects();return r.length>0?n=Fm(r[0]):n=Fm(e.getBoundingClientRect()),!qE(e)&&eh(e)&&Hm(n)?GE(e):Hm(n)&&qE(e)&&(o=KE(e))!==null&&o!==void 0?o:n},jf=(e,o)=>{const n=Yy(e,o);return n.width=1,n.right=n.left+1,n},Q0=e=>{const o=[],n=m=>{m.height!==0&&(o.length>0&&LE(m,o[o.length-1])||o.push(m))},r=(m,b)=>{const v=J0(m.ownerDocument);if(b<m.data.length){if(q0(m.data[b]))return;if(q0(m.data[b-1])&&(v.setStart(m,b),v.setEnd(m,b+1),!_i(v))){n(jf(Vm(v),!1));return}}b>0&&(v.setStart(m,b-1),v.setEnd(m,b),_i(v)||n(jf(Vm(v),!1))),b<m.data.length&&(v.setStart(m,b),v.setEnd(m,b+1),_i(v)||n(jf(Vm(v),!0)))},c=e.container(),u=e.offset();if(Qp(c))return r(c,u),o;if(Y0(c))if(e.isAtEnd()){const m=ev(c,u);Qp(m)&&r(m,m.data.length),rf(m)&&!eh(m)&&n(jf(Vm(m),!1))}else{const m=ev(c,u);if(Qp(m)&&r(m,0),rf(m)&&e.isAtEnd())return n(jf(Vm(m),!1)),o;const b=ev(e.container(),e.offset()-1);rf(b)&&!eh(b)&&(A_(b)||A_(m)||!rf(m))&&n(jf(Vm(b),!1)),rf(m)&&n(jf(Vm(m),!0))}return o},yt=(e,o,n)=>{const r=()=>(Qp(e),o===0),c=()=>Qp(e)?o>=e.data.length:o>=e.childNodes.length,u=()=>{const R=J0(e.ownerDocument);return R.setStart(e,o),R.setEnd(e,o),R},m=()=>(n||(n=Q0(yt(e,o))),n),b=()=>m().length>0,v=R=>R&&e===R.container()&&o===R.offset(),E=R=>ev(e,R?o-1:o);return{container:ue(e),offset:ue(o),toRange:u,getClientRects:m,isVisible:b,isAtStart:r,isAtEnd:c,isEqual:v,getNode:E}};yt.fromRangeStart=e=>yt(e.startContainer,e.startOffset),yt.fromRangeEnd=e=>yt(e.endContainer,e.endOffset),yt.after=e=>yt(e.parentNode,O_(e)+1),yt.before=e=>yt(e.parentNode,O_(e)),yt.isAbove=(e,o)=>Zn(Bo(o.getClientRects()),Wn(e.getClientRects()),pb).getOr(!1),yt.isBelow=(e,o)=>Zn(Wn(o.getClientRects()),Bo(e.getClientRects()),Ar).getOr(!1),yt.isAtStart=e=>e?e.isAtStart():!1,yt.isAtEnd=e=>e?e.isAtEnd():!1,yt.isTextPosition=e=>e?Xt(e.container()):!1,yt.isElementPosition=e=>!yt.isTextPosition(e);const ov=(e,o)=>{Xt(o)&&o.data.length===0&&e.remove(o)},Wf=(e,o,n)=>{o.insertNode(n),ov(e,n.previousSibling),ov(e,n.nextSibling)},Um=(e,o,n)=>{const r=P.from(n.firstChild),c=P.from(n.lastChild);o.insertNode(n),r.each(u=>ov(e,u.previousSibling)),c.each(u=>ov(e,u.nextSibling))},nv=(e,o,n)=>{La(n)?Um(e,o,n):Wf(e,o,n)},dl=Xt,ex=Mf,tx=Br.nodeIndex,Ci=e=>{const o=e.parentNode;return ex(o)?Ci(o):o},th=e=>e?ge(e.childNodes,(o,n)=>(ex(n)&&n.nodeName!=="BR"?o=o.concat(th(n)):o.push(n),o),[]):[],D_=(e,o)=>{let n=e;for(;(n=n.previousSibling)&&dl(n);)o+=n.data.length;return o},R_=e=>o=>e===o,YE=e=>{let o,n;o=th(Ci(e)),n=le(o,R_(e),e),o=o.slice(0,n+1);const r=ge(o,(c,u,m)=>(dl(u)&&dl(o[m-1])&&c++,c),0);return o=Cr(o,Sl([e.nodeName])),n=le(o,R_(e),e),n-r},N_=e=>(dl(e)?"text()":e.nodeName.toLowerCase())+"["+YE(e)+"]",XE=(e,o,n)=>{const r=[];for(let c=o.parentNode;c&&c!==e;c=c.parentNode)r.push(c);return r},M_=(e,o)=>{let n=[],r=o.container(),c=o.offset(),u;if(dl(r))u=D_(r,c);else{const b=r.childNodes;c>=b.length?(u="after",c=b.length-1):u="before",r=b[c]}n.push(N_(r));let m=XE(e,r);return m=Cr(m,vt(Mf)),n=n.concat(_r(m,b=>N_(b))),n.reverse().join("/")+","+u},JE=(e,o,n)=>{let r=th(e);return r=Cr(r,(c,u)=>!dl(c)||!dl(r[u-1])),r=Cr(r,Sl([o])),r[n]},QE=(e,o)=>{let n=e,r=0;for(;dl(n);){const c=n.data.length;if(o>=r&&o<=r+c){e=n,o=o-r;break}if(!dl(n.nextSibling)){e=n,o=c;break}r+=c,n=n.nextSibling}return dl(e)&&o>e.data.length&&(o=e.data.length),yt(e,o)},sv=(e,o)=>{if(!o)return null;const n=o.split(","),r=n[0].split("/"),c=n.length>1?n[1]:"before",u=ge(r,(m,b)=>{const v=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);return v?(v[1]==="text()"&&(v[1]="#text"),JE(m,v[1],parseInt(v[2],10))):null},e);if(!u)return null;if(!dl(u)&&u.parentNode){let m;return c==="after"?m=tx(u)+1:m=tx(u),yt(u.parentNode,m)}return QE(u,parseInt(c,10))},rv=Bs,eT=(e,o,n)=>{let r=e(o.data.slice(0,n)).length;for(let c=o.previousSibling;c&&Xt(c);c=c.previousSibling)r+=e(c.data).length;return r},B_=(e,o,n,r,c)=>{const u=c?r.startContainer:r.endContainer;let m=c?r.startOffset:r.endOffset;const b=[],v=e.getRoot();if(Xt(u))b.push(n?eT(o,u,m):m);else{let E=0;const R=u.childNodes;m>=R.length&&R.length&&(E=1,m=Math.max(0,R.length-1)),b.push(e.nodeIndex(R[m],n)+E)}for(let E=u;E&&E!==v;E=E.parentNode)b.push(e.nodeIndex(E,n));return b},tT=(e,o,n,r)=>{const c=o.dom,u=B_(c,e,n,r,!0),m=o.isForward(),b=Ky(r)?{isFakeCaret:!0}:{};if(o.isCollapsed())return{start:u,forward:m,...b};{const v=B_(c,e,n,r,!1);return{start:u,end:v,forward:m,...b}}},ox=(e,o,n)=>{let r=0;return Qt.each(e.select(o),c=>{if(c.getAttribute("data-mce-bogus")!=="all"){if(c===n)return!1;r++;return}}),r},aa=(e,o)=>{let n=o?e.startContainer:e.endContainer,r=o?e.startOffset:e.endOffset;if(Do(n)&&n.nodeName==="TR"){const c=n.childNodes;n=c[Math.min(o?r:r-1,c.length-1)],n&&(r=o?0:n.childNodes.length,o?e.setStart(n,r):e.setEnd(n,r))}},nx=e=>(aa(e,!0),aa(e,!1),e),P_=(e,o)=>{if(Do(e)&&(e=Lm(e,o),rv(e)))return e;if(ll(e)){Xt(e)&&$m(e)&&(e=e.parentNode);let n=e.previousSibling;if(rv(n)||(n=e.nextSibling,rv(n)))return n}},av=e=>P_(e.startContainer,e.startOffset)||P_(e.endContainer,e.endOffset),cv=(e,o,n)=>{const r=n.getNode(),c=n.getRng();if(r.nodeName==="IMG"||rv(r)){const m=r.nodeName;return{name:m,index:ox(n.dom,m,r)}}const u=av(c);if(u){const m=u.tagName;return{name:m,index:ox(n.dom,m,u)}}return tT(e,n,o,c)},oi=e=>{const o=e.getRng();return{start:M_(e.dom.getRoot(),yt.fromRangeStart(o)),end:M_(e.dom.getRoot(),yt.fromRangeEnd(o)),forward:e.isForward()}},Al=e=>({rng:e.getRng(),forward:e.isForward()}),sx=(e,o,n)=>{const r={"data-mce-type":"bookmark",id:o,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},rx=(e,o)=>{const n=e.dom;let r=e.getRng();const c=n.uniqueId(),u=e.isCollapsed(),m=e.getNode(),b=m.nodeName,v=e.isForward();if(b==="IMG")return{name:b,index:ox(n,b,m)};const E=nx(r.cloneRange());if(!u){E.collapse(!1);const N=sx(n,c+"_end",o);nv(n,E,N)}r=nx(r),r.collapse(!0);const R=sx(n,c+"_start",o);return nv(n,r,R),e.moveToBookmark({id:c,keep:!0,forward:v}),{id:c,forward:v}},$_=(e,o,n=!1)=>o===2?cv(ki,n,e):o===3?oi(e):o?Al(e):rx(e,!1),ax=ye(cv,bt,!0),bb=e=>{const o=u=>u(e),n=ue(e),r=()=>c,c={tag:!0,inner:e,fold:(u,m)=>m(e),isValue:Xe,isError:ke,map:u=>Si.value(u(e)),mapError:r,bind:o,exists:o,forall:o,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:u=>{u(e)},toOptional:()=>P.some(e)};return c},iv=e=>{const o=()=>n,n={tag:!1,inner:e,fold:(r,c)=>r(e),isValue:ke,isError:Xe,map:o,mapError:r=>Si.error(r(e)),bind:o,exists:ke,forall:Xe,getOr:bt,or:bt,getOrThunk:He,orThunk:He,getOrDie:yo(String(e)),each:Me,toOptional:P.none};return n},Si={value:bb,error:iv,fromOption:(e,o)=>e.fold(()=>iv(o),bb)},wd={generate:e=>{if(!pt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const o=[],n={};return V(e,(r,c)=>{const u=vn(r);if(u.length!==1)throw new Error("one and only one name per case");const m=u[0],b=r[m];if(n[m]!==void 0)throw new Error("duplicate key detected:"+m);if(m==="cata")throw new Error("cannot have a case named cata (sorry)");if(!pt(b))throw new Error("case arguments must be an array");o.push(m),n[m]=(...v)=>{const E=v.length;if(E!==b.length)throw new Error("Wrong number of arguments to case "+m+". Expected "+b.length+" ("+b+"), got "+E);return{fold:(...N)=>{if(N.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+N.length);return N[c].apply(null,v)},match:N=>{const $=vn(N);if(o.length!==$.length)throw new Error("Wrong number of arguments to match. Expected: "+o.join(",")+`
Actual: `+$.join(","));if(!Ut(o,ne=>K($,ne)))throw new Error("Not all branches were specified when using match. Specified: "+$.join(", ")+`
Required: `+o.join(", "));return N[m].apply(null,v)},log:N=>{console.log(N,{constructors:o,constructor:m,params:v})}}}}),n}};wd.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const cx=e=>{const o=[],n=[];return V(e,r=>{r.fold(c=>{o.push(c)},c=>{n.push(c)})}),{errors:o,values:n}},Vr=e=>e.type==="inline-command"||e.type==="inline-format",$u=e=>e.type==="block-command"||e.type==="block-format",Wm=(e,o)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===o,oT=e=>{var o;const n=c=>Si.error({message:c,pattern:e}),r=(c,u,m)=>{if(e.format!==void 0){let b;if(pt(e.format)){if(!Ut(e.format,X))return n(c+" pattern has non-string items in the `format` array");b=e.format}else if(X(e.format))b=[e.format];else return n(c+" pattern has non-string `format` parameter");return Si.value(u(b))}else return e.cmd!==void 0?X(e.cmd)?Si.value(m(e.cmd,e.value)):n(c+" pattern has non-string `cmd` parameter"):n(c+" pattern is missing both `format` and `cmd` parameters")};if(!lt(e))return n("Raw pattern is not an object");if(!X(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!X(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let c=e.start,u=e.end;return u.length===0&&(u=c,c=""),r("Inline",m=>({type:"inline-format",start:c,end:u,format:m}),(m,b)=>({type:"inline-command",start:c,end:u,cmd:m,value:b}))}else{if(e.replacement!==void 0)return X(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):Si.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const c=(o=e.trigger)!==null&&o!==void 0?o:"space";return e.start.length===0?n("Block pattern has empty `start` parameter"):r("Block",u=>({type:"block-format",start:e.start,format:u[0],trigger:c}),(u,m)=>({type:"block-command",start:e.start,cmd:u,value:m,trigger:c}))}}},ix=e=>be(e,$u),F_=e=>be(e,Vr),Qg=(e,o)=>({inlinePatterns:F_(e),blockPatterns:ix(e),dynamicPatternsLookup:o}),xc=(e,o)=>({...e,blockPatterns:be(e.blockPatterns,n=>Wm(n,o))}),Zf=e=>{const o=cx(he(e,oT));return V(o.errors,n=>console.error(n.message,n.pattern)),o.values},nT=e=>o=>{const n=e(o);return Zf(n)},lx=oo().deviceType,sT=lx.isTouch(),lv=Br.DOM,ux=e=>{const o=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Ee(o,(n,r)=>{const c=r.split("="),u=c[0],m=c.length>1?c[1]:u;return n[Zs(u)]=Zs(m),n},{})},uv=e=>Be(e,RegExp),Uo=e=>o=>o.options.get(e),yb=e=>X(e)||lt(e),dx=(e,o="")=>n=>{const r=X(n);if(r)if(n.indexOf("=")!==-1){const c=ux(n);return{value:vs(c,e.id).getOr(o),valid:r}}else return{value:n,valid:r};else return{valid:!1,message:"Must be a string."}},L_=e=>{const o=e.options.register;o("id",{processor:"string",default:e.id}),o("selector",{processor:"string"}),o("target",{processor:"object"}),o("suffix",{processor:"string"}),o("cache_suffix",{processor:"string"}),o("base_url",{processor:"string"}),o("referrer_policy",{processor:"string",default:""}),o("language_load",{processor:"boolean",default:!0}),o("inline",{processor:"boolean",default:!1}),o("iframe_attrs",{processor:"object",default:{}}),o("doctype",{processor:"string",default:"<!DOCTYPE html>"}),o("document_base_url",{processor:"string",default:e.documentBaseUrl}),o("body_id",{processor:dx(e,"tinymce"),default:"tinymce"}),o("body_class",{processor:dx(e),default:""}),o("content_security_policy",{processor:"string",default:""}),o("br_in_pre",{processor:"boolean",default:!0}),o("forced_root_block",{processor:n=>{const r=X(n)&&xn(n);return r?{value:n,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),o("forced_root_block_attrs",{processor:"object",default:{}}),o("newline_behavior",{processor:n=>{const r=K(["block","linebreak","invert","default"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),o("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),o("no_newline_selector",{processor:"string",default:""}),o("keep_styles",{processor:"boolean",default:!0}),o("end_container_on_empty_block",{processor:n=>zt(n)?{valid:!0,value:n}:X(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),o("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),o("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),o("font_size_classes",{processor:"string",default:""}),o("automatic_uploads",{processor:"boolean",default:!0}),o("images_reuse_filename",{processor:"boolean",default:!1}),o("images_replace_blob_uris",{processor:"boolean",default:!0}),o("icons",{processor:"string",default:""}),o("icons_url",{processor:"string",default:""}),o("images_upload_url",{processor:"string",default:""}),o("images_upload_base_path",{processor:"string",default:""}),o("images_upload_credentials",{processor:"boolean",default:!1}),o("images_upload_handler",{processor:"function"}),o("language",{processor:"string",default:"en"}),o("language_url",{processor:"string",default:""}),o("entity_encoding",{processor:"string",default:"named"}),o("indent",{processor:"boolean",default:!0}),o("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),o("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),o("indent_use_margin",{processor:"boolean",default:!1}),o("indentation",{processor:"string",default:"40px"}),o("content_css",{processor:n=>{const r=n===!1||X(n)||Oe(n,X);return r?X(n)?{value:he(n.split(","),Zs),valid:r}:pt(n)?{value:n,valid:r}:n===!1?{value:[],valid:r}:{value:n,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:kb(e)?[]:["default"]}),o("content_style",{processor:"string"}),o("content_css_cors",{processor:"boolean",default:!1}),o("font_css",{processor:n=>{const r=X(n)||Oe(n,X);return r?{value:pt(n)?n:he(n.split(","),Zs),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),o("inline_boundaries",{processor:"boolean",default:!0}),o("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),o("object_resizing",{processor:n=>{const r=zt(n)||X(n);return r?n===!1||lx.isiPhone()||lx.isiPad()?{value:"",valid:r}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!sT}),o("resize_img_proportional",{processor:"boolean",default:!0}),o("event_root",{processor:"string"}),o("service_message",{processor:"string"}),o("theme",{processor:n=>n===!1||X(n)||ie(n),default:"silver"}),o("theme_url",{processor:"string"}),o("formats",{processor:"object"}),o("format_empty_lines",{processor:"boolean",default:!1}),o("format_noneditable_selector",{processor:"string",default:""}),o("preview_styles",{processor:n=>{const r=n===!1||X(n);return r?{value:n===!1?"":n,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),o("custom_ui_selector",{processor:"string",default:""}),o("hidden_input",{processor:"boolean",default:!0}),o("submit_patch",{processor:"boolean",default:!0}),o("encoding",{processor:"string"}),o("add_form_submit_trigger",{processor:"boolean",default:!0}),o("add_unload_trigger",{processor:"boolean",default:!0}),o("custom_undo_redo_levels",{processor:"number",default:0}),o("disable_nodechange",{processor:"boolean",default:!1}),o("readonly",{processor:"boolean",default:!1}),o("editable_root",{processor:"boolean",default:!0}),o("plugins",{processor:"string[]",default:[]}),o("external_plugins",{processor:"object"}),o("forced_plugins",{processor:"string[]"}),o("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),o("model_url",{processor:"string"}),o("block_unsupported_drop",{processor:"boolean",default:!0}),o("visual",{processor:"boolean",default:!0}),o("visual_table_class",{processor:"string",default:"mce-item-table"}),o("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),o("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),o("setup",{processor:"function"}),o("init_instance_callback",{processor:"function"}),o("url_converter",{processor:"function",default:e.convertURL}),o("url_converter_scope",{processor:"object",default:e}),o("urlconverter_callback",{processor:"function"}),o("allow_conditional_comments",{processor:"boolean",default:!1}),o("allow_html_data_urls",{processor:"boolean",default:!1}),o("allow_svg_data_urls",{processor:"boolean"}),o("allow_html_in_named_anchor",{processor:"boolean",default:!1}),o("allow_script_urls",{processor:"boolean",default:!1}),o("allow_unsafe_link_target",{processor:"boolean",default:!1}),o("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),o("fix_list_elements",{processor:"boolean",default:!1}),o("preserve_cdata",{processor:"boolean",default:!1}),o("remove_trailing_brs",{processor:"boolean",default:!0}),o("pad_empty_with_br",{processor:"boolean",default:!1}),o("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),o("element_format",{processor:"string",default:"html"}),o("entities",{processor:"string"}),o("schema",{processor:"string",default:"html5"}),o("convert_urls",{processor:"boolean",default:!0}),o("relative_urls",{processor:"boolean",default:!0}),o("remove_script_host",{processor:"boolean",default:!0}),o("custom_elements",{processor:yb}),o("extended_valid_elements",{processor:"string"}),o("invalid_elements",{processor:"string"}),o("invalid_styles",{processor:yb}),o("valid_children",{processor:"string"}),o("valid_classes",{processor:yb}),o("valid_elements",{processor:"string"}),o("valid_styles",{processor:yb}),o("verify_html",{processor:"boolean",default:!0}),o("auto_focus",{processor:n=>X(n)||n===!0}),o("browser_spellcheck",{processor:"boolean",default:!1}),o("protect",{processor:"array"}),o("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),o("deprecation_warnings",{processor:"boolean",default:!0}),o("a11y_advanced_options",{processor:"boolean",default:!1}),o("api_key",{processor:"string"}),o("license_key",{processor:"string"}),o("paste_block_drop",{processor:"boolean",default:!1}),o("paste_data_images",{processor:"boolean",default:!0}),o("paste_preprocess",{processor:"function"}),o("paste_postprocess",{processor:"function"}),o("paste_webkit_styles",{processor:"string",default:"none"}),o("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),o("paste_merge_formats",{processor:"boolean",default:!0}),o("smart_paste",{processor:"boolean",default:!0}),o("paste_as_text",{processor:"boolean",default:!1}),o("paste_tab_spaces",{processor:"number",default:4}),o("text_patterns",{processor:n=>Oe(n,lt)||n===!1?{value:Zf(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),o("text_patterns_lookup",{processor:n=>ie(n)?{value:nT(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),o("noneditable_class",{processor:"string",default:"mceNonEditable"}),o("editable_class",{processor:"string",default:"mceEditable"}),o("noneditable_regexp",{processor:n=>Oe(n,uv)?{value:n,valid:!0}:uv(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),o("table_tab_navigation",{processor:"boolean",default:!0}),o("highlight_on_focus",{processor:"boolean",default:!0}),o("xss_sanitization",{processor:"boolean",default:!0}),o("details_initial_state",{processor:n=>{const r=K(["inherited","collapsed","expanded"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),o("details_serialized_state",{processor:n=>{const r=K(["inherited","collapsed","expanded"],n);return r?{value:n,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),o("init_content_sync",{processor:"boolean",default:!1}),o("newdocument_content",{processor:"string",default:""}),o("sandbox_iframes",{processor:"boolean",default:!0}),o("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),o("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{o("directionality",{processor:"string",default:vc.isRtl()?"rtl":void 0}),o("placeholder",{processor:"string",default:lv.getAttrib(e.getElement(),"placeholder")})})},H_=Uo("iframe_attrs"),rT=Uo("doctype"),Nc=Uo("document_base_url"),aT=Uo("body_id"),Zm=Uo("body_class"),fx=Uo("content_security_policy"),V_=Uo("br_in_pre"),Uc=Uo("forced_root_block"),qm=Uo("forced_root_block_attrs"),qf=Uo("newline_behavior"),U_=Uo("br_newline_selector"),cT=Uo("no_newline_selector"),iT=Uo("keep_styles"),Xa=Uo("end_container_on_empty_block"),ba=Uo("automatic_uploads"),Qs=Uo("images_reuse_filename"),jc=Uo("images_replace_blob_uris"),Ja=Uo("icons"),Qa=Uo("icons_url"),dv=Uo("images_upload_url"),fv=Uo("images_upload_base_path"),j_=Uo("images_upload_credentials"),W_=Uo("images_upload_handler"),Z_=Uo("content_css_cors"),mv=Uo("referrer_policy"),Gm=Uo("language"),gv=Uo("language_url"),lT=Uo("indent_use_margin"),oh=Uo("indentation"),uT=Uo("content_css"),dT=Uo("content_style"),Zi=Uo("font_css"),pD=Uo("directionality"),q_=Uo("inline_boundaries_selector"),zl=Uo("object_resizing"),pv=Uo("resize_img_proportional"),vb=Uo("placeholder"),kd=Uo("event_root"),Ei=Uo("service_message"),Km=Uo("theme"),mx=Uo("theme_url"),hv=Uo("model"),G_=Uo("model_url"),Gf=Uo("inline_boundaries"),K_=Uo("formats"),gx=Uo("preview_styles"),Y_=Uo("format_empty_lines"),xb=Uo("format_noneditable_selector"),wb=Uo("custom_ui_selector"),kb=Uo("inline"),fT=Uo("hidden_input"),bv=Uo("submit_patch"),mT=Uo("add_form_submit_trigger"),X_=Uo("add_unload_trigger"),gT=Uo("custom_undo_redo_levels"),yv=Uo("disable_nodechange"),J_=Uo("readonly"),pT=Uo("editable_root"),px=Uo("content_css_cors"),vv=Uo("plugins"),hT=Uo("external_plugins"),Q_=Uo("block_unsupported_drop"),Ti=Uo("visual"),hx=Uo("visual_table_class"),bx=Uo("visual_anchor_class"),yx=Uo("iframe_aria_text"),xv=Uo("setup"),bT=Uo("init_instance_callback"),wv=Uo("urlconverter_callback"),e2=Uo("auto_focus"),vx=Uo("browser_spellcheck"),xx=Uo("protect"),t2=Uo("paste_block_drop"),nh=Uo("paste_data_images"),o2=Uo("paste_preprocess"),n2=Uo("paste_postprocess"),s2=Uo("newdocument_content"),yT=Uo("paste_webkit_styles"),r2=Uo("paste_remove_styles_if_webkit"),a2=Uo("paste_merge_formats"),vT=Uo("smart_paste"),kv=Uo("paste_as_text"),c2=Uo("paste_tab_spaces"),sh=Uo("allow_html_data_urls"),i2=Uo("text_patterns"),wx=Uo("text_patterns_lookup"),l2=Uo("noneditable_class"),xT=Uo("editable_class"),Iu=Uo("noneditable_regexp"),_v=Uo("preserve_cdata"),Cv=Uo("highlight_on_focus"),Wc=Uo("xss_sanitization"),hD=Uo("init_content_sync"),Ol=e=>e.options.isSet("text_patterns_lookup"),kx=e=>Qt.explode(e.options.get("font_size_style_values")),wT=e=>Qt.explode(e.options.get("font_size_classes")),Ym=e=>e.options.get("encoding")==="xml",_b=e=>Qt.explode(e.options.get("images_file_types")),kT=Uo("table_tab_navigation"),u2=Uo("details_initial_state"),_x=Uo("details_serialized_state"),d2=Uo("sandbox_iframes"),Sv=e=>e.options.get("sandbox_iframes_exclusions"),Cb=Uo("convert_unsafe_embeds"),f2=Uo("license_key"),m2=Uo("api_key"),_T=Do,Ev=Xt,Tv=e=>{const o=e.parentNode;o&&o.removeChild(e)},CT=e=>{const o=ki(e);return{count:e.length-o.length,text:o}},rh=e=>{let o;for(;(o=e.data.lastIndexOf(lc))!==-1;)e.deleteData(o,1)},g2=(e,o)=>(ep(e),o),Av=(e,o)=>{const n=CT(e.data.substr(0,o.offset())),r=CT(e.data.substr(o.offset()));return(n.text+r.text).length>0?(rh(e),yt(e,o.offset()-n.count)):o},Cx=(e,o)=>{const n=o.container(),r=dt(bs(n.childNodes),e).map(c=>c<o.offset()?yt(n,o.offset()-1):o).getOr(o);return ep(e),r},zv=(e,o)=>Ev(e)&&o.container()===e?Av(e,o):g2(e,o),ST=(e,o)=>o.container()===e.parentNode?Cx(e,o):g2(e,o),p2=(e,o)=>yt.isTextPosition(o)?zv(e,o):ST(e,o),ep=e=>{_T(e)&&ll(e)&&(x_(e)?e.removeAttribute("data-mce-caret"):Tv(e)),Ev(e)&&(rh(e),e.data.length===0&&Tv(e))},h2=Bs,Sb=Hc,Xm=Pg,Eb="*[contentEditable=false],video,audio,embed,object",b2=(e,o,n)=>{const r=Yy(o.getBoundingClientRect(),n);let c,u;if(e.tagName==="BODY"){const b=e.ownerDocument.documentElement;c=e.scrollLeft||b.scrollLeft,u=e.scrollTop||b.scrollTop}else{const b=e.getBoundingClientRect();c=e.scrollLeft-b.left,u=e.scrollTop-b.top}r.left+=c,r.right+=c,r.top+=u,r.bottom+=u,r.width=1;let m=o.offsetWidth-o.clientWidth;return m>0&&(n&&(m*=-1),r.left+=m,r.right+=m),r},y2=e=>{var o,n;const r=Dc(we.fromDom(e),Eb);for(let c=0;c<r.length;c++){const u=r[c].dom;let m=u.previousSibling;if(ks(m)){const b=m.data;b.length===1?(o=m.parentNode)===null||o===void 0||o.removeChild(m):m.deleteData(b.length-1,1)}m=u.nextSibling,Im(m)&&(m.data.length===1?(n=m.parentNode)===null||n===void 0||n.removeChild(m):m.deleteData(0,1))}},bD=(e,o,n,r)=>{const c=Vc();let u,m;const b=Uc(e),v=e.dom,E=(Y,ce)=>{let _e;if(R(),Xm(ce))return null;if(n(ce)){const Ie=Yg(b,ce,Y),Pe=b2(o,ce,Y);v.setStyle(Ie,"top",Pe.top),v.setStyle(Ie,"caret-color","transparent"),m=Ie;const et=v.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});v.setStyles(et,{...Pe}),v.add(o,et),c.set({caret:et,element:ce,before:Y}),Y&&v.addClass(et,"mce-visual-caret-before"),N(),_e=ce.ownerDocument.createRange(),_e.setStart(Ie,0),_e.setEnd(Ie,0)}else return m=gb(ce,Y),_e=ce.ownerDocument.createRange(),ah(m.nextSibling)?(_e.setStart(m,0),_e.setEnd(m,0)):(_e.setStart(m,1),_e.setEnd(m,1)),_e;return _e},R=()=>{y2(o),m&&(ep(m),m=null),c.on(Y=>{v.remove(Y.caret),c.clear()}),u&&(clearInterval(u),u=void 0)},N=()=>{u=setInterval(()=>{c.on(Y=>{r()?v.toggleClass(Y.caret,"mce-visual-caret-hidden"):v.addClass(Y.caret,"mce-visual-caret-hidden")})},500)};return{show:E,hide:R,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(Y=>{const ce=b2(o,Y.element,Y.before);v.setStyles(Y.caret,{...ce})})},destroy:()=>clearInterval(u)}},ET=()=>on.browser.isFirefox(),ah=e=>h2(e)||Sb(e),af=e=>(ah(e)||eu(e)&&ET())&&Af(we.fromDom(e)).exists(Ga),TT=Ot,Sx=Bs,v2=Hc,x2=Mg("display","block table table-cell table-caption list-item"),w2=ll,Ex=$m,k2=Do,Jm=Xt,_2=Tl,tp=e=>e>0,Qm=e=>e<0,Tb=(e,o)=>{let n;for(;n=e(o);)if(!Ex(n))return n;return null},ch=(e,o,n,r,c)=>{const u=new bc(e,r),m=Sx(e)||Ex(e);let b;if(Qm(o)){if(m&&(b=Tb(u.prev.bind(u),!0),n(b)))return b;for(;b=Tb(u.prev.bind(u),c);)if(n(b))return b}if(tp(o)){if(m&&(b=Tb(u.next.bind(u),!0),n(b)))return b;for(;b=Tb(u.next.bind(u),c);)if(n(b))return b}return null},Ov=(e,o)=>{const n=c=>TT(c.dom),r=c=>c.dom===o;return Nr(we.fromDom(e),n,r).map(c=>c.dom).getOr(o)},eg=(e,o)=>{for(;e&&e!==o;){if(x2(e))return e;e=e.parentNode}return null},Dl=(e,o,n)=>eg(e.container(),n)===eg(o.container(),n),Tx=(e,o)=>{if(!o)return P.none();const n=o.container(),r=o.offset();return k2(n)?P.from(n.childNodes[r+e]):P.none()},AT=(e,o)=>{var n;const c=((n=o.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(c.setStartBefore(o),c.setEndBefore(o)):(c.setStartAfter(o),c.setEndAfter(o)),c},ih=(e,o,n)=>eg(o,e)===eg(n,e),C2=(e,o,n)=>{const r=e?"previousSibling":"nextSibling";let c=n;for(;c&&c!==o;){let u=c[r];if(u&&w2(u)&&(u=u[r]),Sx(u)||v2(u)){if(ih(o,u,c))return u;break}if(_2(u))break;c=c.parentNode}return null},lh=ye(AT,!0),uh=ye(AT,!1),Mc=(e,o,n)=>{let r;const c=ye(C2,!0,o),u=ye(C2,!1,o),m=n.startContainer,b=n.startOffset;if($m(m)){const v=Jm(m)?m.parentNode:m,E=v.getAttribute("data-mce-caret");if(E==="before"&&(r=v.nextSibling,af(r)))return lh(r);if(E==="after"&&(r=v.previousSibling,af(r)))return uh(r)}if(!n.collapsed)return n;if(Xt(m)){if(w2(m)){if(e===1){if(r=u(m),r)return lh(r);if(r=c(m),r)return uh(r)}if(e===-1){if(r=c(m),r)return uh(r);if(r=u(m),r)return lh(r)}return n}if(ks(m)&&b>=m.data.length-1)return e===1&&(r=u(m),r)?lh(r):n;if(Im(m)&&b<=1)return e===-1&&(r=c(m),r)?uh(r):n;if(b===m.data.length)return r=u(m),r?lh(r):n;if(b===0)return r=c(m),r?uh(r):n}return n},Dv=(e,o)=>Tx(e?0:-1,o).filter(Sx),Ab=(e,o,n)=>{const r=Mc(e,o,n);return e===-1?yt.fromRangeStart(r):yt.fromRangeEnd(r)},Rv=e=>P.from(e.getNode()).map(we.fromDom),S2=e=>P.from(e.getNode(!0)).map(we.fromDom),Ax=(e,o)=>{let n=o;for(;n=e(n);)if(n.isVisible())return n;return n},Nv=(e,o)=>{const n=Dl(e,o);return!n&&Ms(e.getNode())?!0:n};var Va;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(Va||(Va={}));const Mv=Bs,cf=Xt,E2=Do,zx=Ms,Kf=Tl,zb=WE,dh=Qy,Bv=(e,o)=>{const n=[];let r=e;for(;r&&r!==o;)n.push(r),r=r.parentNode;return n},Pv=(e,o)=>e.hasChildNodes()&&o<e.childNodes.length?e.childNodes[o]:null,tg=(e,o)=>{if(tp(e)){if(Kf(o.previousSibling)&&!cf(o.previousSibling))return yt.before(o);if(cf(o))return yt(o,0)}if(Qm(e)){if(Kf(o.nextSibling)&&!cf(o.nextSibling))return yt.after(o);if(cf(o))return yt(o,o.data.length)}return Qm(e)?zx(o)?yt.before(o):yt.after(o):yt.before(o)},zT=(e,o)=>{const n=o.nextSibling;return n&&Kf(n)?cf(n)?yt(n,0):yt.before(n):fl(Va.Forwards,yt.after(o),e)},fl=(e,o,n)=>{let r,c,u,m;if(!E2(n)||!o)return null;if(o.isEqual(yt.after(n))&&n.lastChild){if(m=yt.after(n.lastChild),Qm(e)&&Kf(n.lastChild)&&E2(n.lastChild))return zx(n.lastChild)?yt.before(n.lastChild):m}else m=o;const b=m.container();let v=m.offset();if(cf(b)){if(Qm(e)&&v>0)return yt(b,--v);if(tp(e)&&v<b.length)return yt(b,++v);r=b}else{if(Qm(e)&&v>0&&(c=Pv(b,v-1),Kf(c)))return!zb(c)&&(u=ch(c,e,dh,c),u)?cf(u)?yt(u,u.data.length):yt.after(u):cf(c)?yt(c,c.data.length):yt.before(c);if(tp(e)&&v<b.childNodes.length&&(c=Pv(b,v),Kf(c)))return zx(c)?zT(n,c):!zb(c)&&(u=ch(c,e,dh,c),u)?cf(u)?yt(u,0):yt.before(u):cf(c)?yt(c,0):yt.after(c);r=c||m.getNode()}if(r&&(tp(e)&&m.isAtEnd()||Qm(e)&&m.isAtStart())&&(r=ch(r,e,Xe,n,!0),dh(r,n)))return tg(e,r);c=r&&ch(r,e,dh,n);const E=tt(be(Bv(b,n),Mv));return E&&(!c||!E.contains(c))?(tp(e)?m=yt.after(E):m=yt.before(E),m):c?tg(e,c):null},_d=e=>({next:o=>fl(Va.Forwards,o,e),prev:o=>fl(Va.Backwards,o,e)}),Ox=(e,o,n)=>{const r=e?yt.before(n):yt.after(n);return qi(e,o,r)},T2=e=>Ms(e)?yt.before(e):yt.after(e),A2=e=>yt.isTextPosition(e)?e.offset()===0:Tl(e.getNode()),Dx=e=>{if(yt.isTextPosition(e)){const o=e.container();return e.offset()===o.data.length}else return Tl(e.getNode(!0))},Rx=(e,o)=>!yt.isTextPosition(e)&&!yt.isTextPosition(o)&&e.getNode()===o.getNode(!0),z2=e=>!yt.isTextPosition(e)&&Ms(e.getNode()),O2=(e,o,n)=>e?!Rx(o,n)&&!z2(o)&&Dx(o)&&A2(n):!Rx(n,o)&&A2(o)&&Dx(n),qi=(e,o,n)=>{const r=_d(o);return P.from(e?r.next(n):r.prev(n))},op=(e,o,n)=>qi(e,o,n).bind(r=>Dl(n,r,o)&&O2(e,n,r)?qi(e,o,r):P.some(r)),Nx=(e,o,n,r)=>op(e,o,n).bind(c=>r(c)?Nx(e,o,c,r):P.some(c)),og=(e,o)=>{const n=e?o.firstChild:o.lastChild;return Xt(n)?P.some(yt(n,e?0:n.data.length)):n?Tl(n)?P.some(e?yt.before(n):T2(n)):Ox(e,o,n):P.none()},Gi=ye(qi,!0),ml=ye(qi,!1),Zc=ye(og,!0),iu=ye(og,!1),$v="_mce_caret",lu=e=>Do(e)&&e.id===$v,np=(e,o)=>{let n=o;for(;n&&n!==e;){if(lu(n))return n;n=n.parentNode}return null},OT=e=>X(e.start),Mx=e=>Qo(e,"rng"),DT=e=>Qo(e,"id"),RT=e=>Qo(e,"name"),D2=e=>Qt.isArray(e.start),Iv=e=>!RT(e)&&zt(e.forward)?e.forward:!0,Fv=(e,o)=>(Do(o)&&e.isBlock(o)&&!o.innerHTML&&(o.innerHTML='<br data-mce-bogus="1" />'),o),ni=(e,o)=>{const n=P.from(sv(e.getRoot(),o.start)),r=P.from(sv(e.getRoot(),o.end));return Zn(n,r,(c,u)=>{const m=e.createRng();return m.setStart(c.container(),c.offset()),m.setEnd(u.container(),u.offset()),{range:m,forward:Iv(o)}})},fh=(e,o)=>{var n;const c=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(lc);e.appendChild(c),o.setStart(c,0),o.setEnd(c,0)},mh=e=>!e.hasChildNodes(),Ob=(e,o)=>iu(e).fold(ke,n=>(o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),!0)),Bx=(e,o,n)=>mh(o)&&np(e,o)?(fh(o,n),!0):!1,Db=(e,o,n,r)=>{const c=n[o?"start":"end"],u=e.getRoot();if(c){let m=u,b=c[0];for(let v=c.length-1;m&&v>=1;v--){const E=m.childNodes;if(Bx(u,m,r))return!0;if(c[v]>E.length-1)return Bx(u,m,r)?!0:Ob(m,r);m=E[c[v]]}Xt(m)&&(b=Math.min(c[0],m.data.length)),Do(m)&&(b=Math.min(c[0],m.childNodes.length)),o?r.setStart(m,b):r.setEnd(m,b)}return!0},Rb=e=>Xt(e)&&e.data.length>0,sp=(e,o,n)=>{const r=e.get(n.id+"_"+o),c=r==null?void 0:r.parentNode,u=n.keep;if(r&&c){let m,b;if(o==="start"?u?r.hasChildNodes()?(m=r.firstChild,b=1):Rb(r.nextSibling)?(m=r.nextSibling,b=0):Rb(r.previousSibling)?(m=r.previousSibling,b=r.previousSibling.data.length):(m=c,b=e.nodeIndex(r)+1):(m=c,b=e.nodeIndex(r)):u?r.hasChildNodes()?(m=r.firstChild,b=1):Rb(r.previousSibling)?(m=r.previousSibling,b=r.previousSibling.data.length):(m=c,b=e.nodeIndex(r)):(m=c,b=e.nodeIndex(r)),!u){const v=r.previousSibling,E=r.nextSibling;Qt.each(Qt.grep(r.childNodes),N=>{Xt(N)&&(N.data=N.data.replace(/\uFEFF/g,""))});let R;for(;R=e.get(n.id+"_"+o);)e.remove(R,!0);if(Xt(E)&&Xt(v)&&!on.browser.isOpera()){const N=v.data.length;v.appendData(E.data),e.remove(E),m=v,b=N}}return P.some(yt(m,b))}else return P.none()},Px=(e,o)=>{const n=e.createRng();return Db(e,!0,o,n)&&Db(e,!1,o,n)?P.some({range:n,forward:Iv(o)}):P.none()},Lv=(e,o)=>{const n=sp(e,"start",o),r=sp(e,"end",o);return Zn(n,r.or(n),(c,u)=>{const m=e.createRng();return m.setStart(Fv(e,c.container()),c.offset()),m.setEnd(Fv(e,u.container()),u.offset()),{range:m,forward:Iv(o)}})},Fu=(e,o)=>P.from(e.select(o.name)[o.index]).map(n=>{const r=e.createRng();return r.selectNode(n),{range:r,forward:!0}}),R2=(e,o)=>{const n=e.dom;if(o){if(D2(o))return Px(n,o);if(OT(o))return ni(n,o);if(DT(o))return Lv(n,o);if(RT(o))return Fu(n,o);if(Mx(o))return P.some({range:o.rng,forward:Iv(o)})}return P.none()},N2=(e,o,n)=>$_(e,o,n),Yf=(e,o)=>{R2(e,o).each(({range:n,forward:r})=>{e.setRng(n,r)})},Rl=e=>Do(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",rp=(e=>o=>e===o)(Ra),ng=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,$x=e=>!ng(e)&&!rp(e)&&!Ny(e),Hv=e=>{const o=[];if(e)for(let n=0;n<e.rangeCount;n++)o.push(e.getRangeAt(n));return o},M2=e=>Je(e,o=>{const n=ul(o);return n?[we.fromDom(n)]:[]}),NT=e=>Hv(e).length>1,MT=e=>be(M2(e),mb),ap=e=>Dc(e,"td[data-mce-selected],th[data-mce-selected]"),Ix=(e,o)=>{const n=ap(o);return n.length>0?n:MT(e)},gh=e=>Ix(Hv(e.selection.getSel()),we.fromDom(e.getBody())),Mb=(e,o)=>Ca(e,"table",o),BT=e=>{const o=e.startContainer,n=e.startOffset;return Xt(o)?n===0?P.some(we.fromDom(o)):P.none():P.from(o.childNodes[n]).map(we.fromDom)},Vv=e=>{const o=e.endContainer,n=e.endOffset;return Xt(o)?n===o.data.length?P.some(we.fromDom(o)):P.none():P.from(o.childNodes[n-1]).map(we.fromDom)},Fx=e=>zc(e).fold(ue([e]),o=>[e].concat(Fx(o))),Lx=e=>rd(e).fold(ue([e]),o=>oe(o)==="br"?Yl(o).map(n=>[e].concat(Lx(n))).getOr([]):[e].concat(Lx(o))),Uv=(e,o)=>Zn(BT(o),Vv(o),(n,r)=>{const c=xt(Fx(e),ye(ts,n)),u=xt(Lx(e),ye(ts,r));return c.isSome()&&u.isSome()}).getOr(!1),Hx=(e,o,n,r)=>{const c=n,u=new bc(n,c),m=ys(e.schema.getMoveCaretBeforeOnEnterElements(),(v,E)=>!K(["td","th","table"],E.toLowerCase()));let b=n;do{if(Xt(b)&&Qt.trim(b.data).length!==0){r?o.setStart(b,0):o.setEnd(b,b.data.length);return}if(m[b.nodeName]){r?o.setStartBefore(b):b.nodeName==="BR"?o.setEndBefore(b):o.setEndAfter(b);return}}while(b=r?u.next():u.prev());c.nodeName==="BODY"&&(r?o.setStart(c,0):o.setEnd(c,c.childNodes.length))},ph=e=>{const o=e.selection.getSel();return We(o)&&o.rangeCount>0},jv=(e,o)=>{const n=gh(e);n.length>0?V(n,r=>{const c=r.dom,u=e.dom.createRng();u.setStartBefore(c),u.setEndAfter(c),o(u,!0)}):o(e.selection.getRng(),!1)},Wv=(e,o,n)=>{const r=rx(e,o);n(r),e.moveToBookmark(r)},Zv=e=>gn(e==null?void 0:e.nodeType),qv=e=>Do(e)&&!Rl(e)&&!lu(e)&&!Mf(e),Ss=(e,o)=>{if(qv(o)&&!/^(TD|TH)$/.test(o.nodeName)){const n=e.getAttrib(o,"data-mce-selected"),r=parseInt(n,10);return!isNaN(r)&&r>0}else return!1},lf=(e,o,n)=>{const{selection:r,dom:c}=e,u=r.getNode(),m=Bs(u);Wv(r,!0,()=>{o()}),m&&Bs(u)&&c.isChildOf(u,e.getBody())?e.selection.select(u):n(r.getStart())&&cp(c,r)},cp=(e,o)=>{var n,r;const c=o.getRng(),{startContainer:u,startOffset:m}=c,b=o.getNode();if(!Ss(e,b)&&Do(u)){const v=u.childNodes,E=e.getRoot();let R;if(m<v.length){const N=v[m];R=new bc(N,(n=e.getParent(N,e.isBlock))!==null&&n!==void 0?n:E)}else{const N=v[v.length-1];R=new bc(N,(r=e.getParent(N,e.isBlock))!==null&&r!==void 0?r:E),R.next(!0)}for(let N=R.current();N;N=R.next()){if(e.getContentEditable(N)==="false")return;if(Xt(N)&&!Yv(N)){c.setStart(N,0),o.setRng(c);return}}}},Gv=(e,o,n)=>{if(e){const r=o?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(Do(e)||!Yv(e))return e}},Kv=(e,o)=>!!e.getTextBlockElements()[o.nodeName.toLowerCase()]||Nu(e,o),sg=(e,o,n)=>e.schema.isValidChild(o,n),Yv=(e,o=!1)=>{if(We(e)&&Xt(e)){const n=o?e.data.replace(/ /g," "):e.data;return Fi(n)}else return!1},Vx=e=>We(e)&&Xt(e)&&e.length===0,Ux=(e,o)=>{const n="[data-mce-cef-wrappable]",r=xb(e),c=ds(r)?n:`${n},${r}`;return _l(we.fromDom(o),c)},jx=(e,o)=>{const n=e.dom;return qv(o)&&n.getContentEditable(o)==="false"&&Ux(e,o)&&n.select('[contenteditable="true"]',o).length===0},Xf=(e,o)=>ie(e)?e(o):(We(o)&&(e=e.replace(/%(\w+)/g,(n,r)=>o[r]||n)),e),ip=(e,o)=>(e=e||"",o=o||"",e=""+(e.nodeName||e),o=""+(o.nodeName||o),e.toLowerCase()===o.toLowerCase()),B2=(e,o)=>{if(co(e))return null;{let n=String(e);return(o==="color"||o==="backgroundColor")&&(n=yd(n)),o==="fontWeight"&&e===700&&(n="bold"),o==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Bb=(e,o,n)=>{const r=e.getStyle(o,n);return B2(r,n)},Wx=(e,o)=>{let n;return e.getParent(o,r=>Do(r)?(n=e.getStyle(r,"text-decoration"),!!n&&n!=="none"):!1),n},Xv=(e,o,n)=>e.getParents(o,n,e.getRoot()),Jv=(e,o,n)=>{const r=e.formatter.get(o);return We(r)&&te(r,n)},Zx=(e,o)=>Jv(e,o,r=>{const c=u=>ie(u)||u.length>1&&u.charAt(0)==="%";return te(["styles","attributes"],u=>vs(r,u).exists(m=>{const b=pt(m)?m:ia(m);return te(b,c)}))}),P2=(e,o,n)=>{const r=["inline","block","selector","attributes","styles","classes"],c=u=>ys(u,(m,b)=>te(r,v=>v===b));return Jv(e,o,u=>{const m=c(u);return Jv(e,n,b=>{const v=c(b);return Le(m,v)})})},Jf=e=>Vs(e,"block"),Qv=e=>Jf(e)&&e.wrapper===!0,$2=e=>Jf(e)&&e.wrapper!==!0,uu=e=>Vs(e,"selector"),wc=e=>Vs(e,"inline"),Qf=e=>uu(e)&&wc(e)&&nr(vs(e,"mixed"),!0),qx=e=>uu(e)&&e.expand!==!1&&!wc(e),PT=e=>{const o=[];let n=e;for(;n;){if(Xt(n)&&n.data!==lc||n.childNodes.length>1)return[];Do(n)&&o.push(n),n=n.firstChild}return o},e1=e=>PT(e).length>0,Gx=e=>lu(e.dom)&&e1(e.dom),hh=Rl,I2=Xv,$T=Yv,yD=Kv,IT=e=>Ms(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,F2=(e,o)=>{let n=o;for(;n;){if(Do(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:o;n=n.parentNode}return o},L2=(e,o,n,r)=>{const c=o.data;if(e){for(let u=n;u>0;u--)if(r(c.charAt(u-1)))return u}else for(let u=n;u<c.length;u++)if(r(c.charAt(u)))return u;return-1},$o=(e,o,n)=>L2(e,o,n,r=>rp(r)||ng(r)),kc=(e,o,n)=>L2(e,o,n,$x),Pb=(e,o,n,r,c,u)=>{let m;const b=e.getParent(n,e.isBlock)||o,v=(R,N,$)=>{const q=qg(e),ne=c?q.backwards:q.forwards;return P.from(ne(R,N,(Y,ce)=>hh(Y.parentNode)?-1:(m=Y,$(c,Y,ce)),b))};return v(n,r,$o).bind(R=>u?v(R.container,R.offset+(c?-1:0),kc):P.some(R)).orThunk(()=>m?P.some({container:m,offset:c?0:m.length}):P.none())},_c=(e,o,n,r,c)=>{const u=r[c];Xt(r)&&ds(r.data)&&u&&(r=u);const m=I2(e,r);for(let b=0;b<m.length;b++)for(let v=0;v<o.length;v++){const E=o[v];if(!(We(E.collapsed)&&E.collapsed!==n.collapsed)&&uu(E)&&e.is(m[b],E.selector))return m[b]}return r},du=(e,o,n,r)=>{var c;let u=n;const m=e.getRoot(),b=o[0];if(Jf(b)&&(u=b.wrapper?null:e.getParent(n,b.block,m)),!u){const v=(c=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&c!==void 0?c:m;u=e.getParent(Xt(n)?n.parentNode:n,E=>E!==m&&yD(e.schema,E),v)}if(u&&Jf(b)&&b.wrapper&&(u=I2(e,u,"ul,ol").reverse()[0]||u),!u)for(u=n;u&&u[r]&&!e.isBlock(u[r])&&(u=u[r],!ip(u,"br")););return u||n},Kx=(e,o,n,r)=>{const c=n.parentNode;return We(n[r])?!1:c===o||co(c)||e.isBlock(c)?!0:Kx(e,o,c,r)},lp=(e,o,n,r,c)=>{let u=n;const m=c?"previousSibling":"nextSibling",b=e.getRoot();if(Xt(n)&&!$T(n)&&(c?r>0:r<n.data.length))return n;for(;u;){if(!o[0].block_expand&&e.isBlock(u))return u;for(let v=u[m];v;v=v[m]){const E=Xt(v)&&!Kx(e,b,v,m);if(!hh(v)&&!IT(v)&&!$T(v,E))return u}if(u===b||u.parentNode===b){n=u;break}u=u.parentNode}return n},$b=e=>hh(e.parentNode)||hh(e),up=(e,o,n,r=!1)=>{let{startContainer:c,startOffset:u,endContainer:m,endOffset:b}=o;const v=n[0];return Do(c)&&c.hasChildNodes()&&(c=Lm(c,u),Xt(c)&&(u=0)),Do(m)&&m.hasChildNodes()&&(m=Lm(m,o.collapsed?b:b-1),Xt(m)&&(b=m.data.length)),c=F2(e,c),m=F2(e,m),$b(c)&&(c=hh(c)?c:c.parentNode,o.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,Xt(c)&&(u=o.collapsed?c.length:0)),$b(m)&&(m=hh(m)?m:m.parentNode,o.collapsed?m=m.nextSibling||m:m=m.previousSibling||m,Xt(m)&&(b=o.collapsed?0:m.length)),o.collapsed&&(Pb(e,e.getRoot(),c,u,!0,r).each(({container:N,offset:$})=>{c=N,u=$}),Pb(e,e.getRoot(),m,b,!1,r).each(({container:N,offset:$})=>{m=N,b=$})),(wc(v)||v.block_expand)&&((!wc(v)||!Xt(c)||u===0)&&(c=lp(e,n,c,u,!0)),(!wc(v)||!Xt(m)||b===m.data.length)&&(m=lp(e,n,m,b,!1))),qx(v)&&(c=_c(e,n,o,c,"previousSibling"),m=_c(e,n,o,m,"nextSibling")),(Jf(v)||uu(v))&&(c=du(e,n,c,"previousSibling"),m=du(e,n,m,"nextSibling"),Jf(v)&&(e.isBlock(c)||(c=lp(e,n,c,u,!0),Xt(c)&&(u=0)),e.isBlock(m)||(m=lp(e,n,m,b,!1),Xt(m)&&(b=m.data.length)))),Do(c)&&c.parentNode&&(u=e.nodeIndex(c),c=c.parentNode),Do(m)&&m.parentNode&&(b=e.nodeIndex(m)+1,m=m.parentNode),{startContainer:c,startOffset:u,endContainer:m,endOffset:b}},Ib=(e,o,n)=>{var r;const c=o.startOffset,u=Lm(o.startContainer,c),m=o.endOffset,b=Lm(o.endContainer,m-1),v=ce=>{const _e=ce[0];Xt(_e)&&_e===u&&c>=_e.data.length&&ce.splice(0,1);const Ie=ce[ce.length-1];return m===0&&ce.length>0&&Ie===b&&Xt(Ie)&&ce.splice(ce.length-1,1),ce},E=(ce,_e,Ie)=>{const Pe=[];for(;ce&&ce!==Ie;ce=ce[_e])Pe.push(ce);return Pe},R=(ce,_e)=>e.getParent(ce,Ie=>Ie.parentNode===_e,_e),N=(ce,_e,Ie)=>{const Pe=Ie?"nextSibling":"previousSibling";for(let et=ce,$t=et.parentNode;et&&et!==_e;et=$t){$t=et.parentNode;const mo=E(et===ce?et:et[Pe],Pe);mo.length&&(Ie||mo.reverse(),n(v(mo)))}};if(u===b)return n(v([u]));const $=(r=e.findCommonAncestor(u,b))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(u,b))return N(u,$,!0);if(e.isChildOf(b,u))return N(b,$);const q=R(u,$)||u,ne=R(b,$)||b;N(u,q,!0);const Y=E(q===u?q:q.nextSibling,"nextSibling",ne===b?ne.nextSibling:ne);Y.length&&n(v(Y)),N(b,ne)},H2=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],FT=e=>qs(e)&&Mm(e)===lc,LT=(e,o,n,r)=>hc(o).fold(()=>"skipping",c=>r==="br"||FT(o)?"valid":PE(o)?"existing":lu(o.dom)?"caret":te(H2,u=>_l(o,u))?"valid-block":!sg(e,n,r)||!sg(e,oe(c),n)?"invalid-child":"valid"),bh=(e,o)=>{const n=up(e.dom,o,[{inline:"span"}]);o.setStart(n.startContainer,n.startOffset),o.setEnd(n.endContainer,n.endOffset),e.selection.setRng(o)},dp=(e,o,n,r,c,u)=>{const{uid:m=o,...b}=n;kl(e,Gp()),Js(e,`${Kp()}`,m),Js(e,`${of()}`,r);const{attributes:v={},classes:E=[]}=c(m,b);if(pc(e,v),mD(e,E),u){E.length>0&&Js(e,`${Rm()}`,E.join(","));const R=vn(v);R.length>0&&Js(e,`${nf()}`,R.join(","))}},Yx=e=>{ku(e,Gp()),dr(e,`${Kp()}`),dr(e,`${of()}`),dr(e,`${jg()}`);const o=Fr(e,`${nf()}`).map(r=>r.split(",")).getOr([]),n=Fr(e,`${Rm()}`).map(r=>r.split(",")).getOr([]);V(o,r=>dr(e,r)),db(e,n),dr(e,`${Rm()}`),dr(e,`${nf()}`)},Xx=(e,o,n,r,c)=>{const u=we.fromTag("span",e);return dp(u,o,n,r,c,!1),u},gl=(e,o,n,r,c,u)=>{const m=[],b=Xx(e.getDoc(),n,u,r,c),v=Vc(),E=()=>{v.clear()},R=()=>v.get().getOrThunk(()=>{const ne=Nm(b);return m.push(ne),v.set(ne),ne}),N=ne=>{V(ne,$)},$=ne=>{switch(LT(e,ne,"span",oe(ne))){case"invalid-child":{E();const ce=Ia(ne);N(ce),E();break}case"valid-block":{E(),dp(ne,n,u,r,c,!0);break}case"valid":{const ce=R();ld(ne,ce);break}}},q=ne=>{const Y=he(ne,we.fromDom);N(Y)};return Ib(e.dom,o,ne=>{E(),q(ne)}),m},uf=(e,o,n,r)=>{e.undoManager.transact(()=>{const c=e.selection,u=c.getRng(),m=gh(e).length>0,b=Wy("mce-annotation");if(u.collapsed&&!m&&bh(e,u),c.getRng().collapsed&&!m){const v=Xx(e.getDoc(),b,r,o,n.decorate);Au(v,Ra),c.getRng().insertNode(v.dom),c.select(v.dom)}else Wv(c,!1,()=>{jv(e,v=>{gl(e,v,b,o,n.decorate,r)})})})},t1=e=>{const o=M0();jy(e,o);const n=N0(e,o),r=Qr("span"),c=u=>{V(u,m=>{r(m)?Ii(m):Yx(m)})};return{register:(u,m)=>{o.register(u,m)},annotate:(u,m)=>{o.lookup(u).each(b=>{uf(e,u,b,m)})},annotationChanged:(u,m)=>{n.addListener(u,m)},remove:u=>{Zg(e,P.some(u)).each(({elements:m})=>{const b=e.selection.getBookmark();c(m),e.selection.moveToBookmark(b)})},removeAll:u=>{const m=e.selection.getBookmark();Kt(g_(e,u),(b,v)=>{c(b)}),e.selection.moveToBookmark(m)},getAll:u=>{const m=g_(e,u);return Gn(m,b=>he(b,v=>v.dom))}}},Lu=e=>({getBookmark:ye(N2,e),moveToBookmark:ye(Yf,e)});Lu.isBookmarkNode=Rl;const o1=(e,o,n)=>n.collapsed?!1:te(n.getClientRects(),r=>w_(r,e,o)),HT=(e,o)=>e.dispatch("PreProcess",o),n1=(e,o)=>e.dispatch("PostProcess",o),s1=e=>{e.dispatch("remove")},VT=e=>{e.dispatch("detach")},UT=(e,o)=>{e.dispatch("SwitchMode",{mode:o})},jT=(e,o,n,r,c)=>{e.dispatch("ObjectResizeStart",{target:o,width:n,height:r,origin:c})},WT=(e,o,n,r,c)=>{e.dispatch("ObjectResized",{target:o,width:n,height:r,origin:c})},r1=e=>{e.dispatch("PreInit")},V2=e=>{e.dispatch("PostRender")},ZT=e=>{e.dispatch("Init")},a1=(e,o)=>{e.dispatch("PlaceholderToggle",{state:o})},qc=(e,o,n)=>{e.dispatch(o,n)},fu=(e,o,n,r)=>{e.dispatch("FormatApply",{format:o,node:n,vars:r})},Nl=(e,o,n,r)=>{e.dispatch("FormatRemove",{format:o,node:n,vars:r})},c1=(e,o)=>e.dispatch("BeforeSetContent",o),Fb=(e,o)=>e.dispatch("SetContent",o),vD=(e,o)=>e.dispatch("BeforeGetContent",o),Lb=(e,o)=>e.dispatch("GetContent",o),qT=(e,o)=>{e.dispatch("AutocompleterStart",o)},U2=(e,o)=>{e.dispatch("AutocompleterUpdate",o)},j2=(e,o)=>{e.dispatch("AutocompleterUpdateActiveRange",o)},W2=e=>{e.dispatch("AutocompleterEnd")},GT=(e,o,n)=>e.dispatch("PastePreProcess",{content:o,internal:n}),Z2=(e,o,n)=>e.dispatch("PastePostProcess",{node:o,internal:n}),i1=(e,o)=>e.dispatch("PastePlainTextToggle",{state:o}),q2=(e,o)=>e.dispatch("EditableRootStateChange",{state:o}),eo={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||eo.metaKeyPressed(e),metaKeyPressed:e=>on.os.isMacOS()||on.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Ml="data-mce-selected",G2="table,img,figure.image,hr,video,span.mce-preview-object,details",Jx=Math.abs,Hb=Math.round,fp={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Qx=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Vb=(e,o)=>{const n=o.dom,r=o.getDoc(),c=document,u=o.getBody();let m,b,v,E,R,N,$,q,ne,Y,ce,_e,Ie,Pe,et,$t,mo;const Po=No=>We(No)&&(Ip(No)||n.is(No,"figure.image")),kt=No=>Hc(No)||n.hasClass(No,"mce-preview-object"),ct=(No,cs)=>{if(Qx(No)){const ps=No.touches[0];return Po(No.target)&&!o1(ps.clientX,ps.clientY,cs)}else return Po(No.target)&&!o1(No.clientX,No.clientY,cs)},Bt=No=>{const cs=No.target;ct(No,o.selection.getRng())&&!No.isDefaultPrevented()&&o.selection.select(cs)},qo=No=>n.hasClass(No,"mce-preview-object")&&We(No.firstElementChild)?[No,No.firstElementChild]:n.is(No,"figure.image")?[No.querySelector("img")]:[No],un=No=>{const cs=zl(o);return!cs||No.getAttribute("data-mce-resize")==="false"||No===o.getBody()?!1:n.hasClass(No,"mce-preview-object")&&We(No.firstElementChild)?_l(we.fromDom(No.firstElementChild),cs):_l(we.fromDom(No),cs)},us=(No,cs)=>{if(kt(cs))return No.create("img",{src:on.transparentSrc});if(eu(cs)){const Tc=_n(E.name,"n")?Bo:Wn,Ks=cs.cloneNode(!0);return Tc(No.select("tr",Ks)).each(dc=>{const Bd=No.select("td,th",dc);No.setStyle(dc,"height",null),V(Bd,dm=>No.setStyle(dm,"height",null))}),Ks}else return cs.cloneNode(!0)},gs=(No,cs,ps)=>{if(We(ps)){const Tc=qo(No);V(Tc,Ks=>{Ks.style[cs]||!o.schema.isValid(Ks.nodeName.toLowerCase(),cs)?n.setStyle(Ks,cs,ps):n.setAttrib(Ks,cs,""+ps)})}},Ws=(No,cs,ps)=>{gs(No,"width",cs),gs(No,"height",ps)},rr=No=>{let cs,ps,Tc,Ks,dc;cs=No.screenX-N,ps=No.screenY-$,Pe=cs*E[2]+Y,et=ps*E[3]+ce,Pe=Pe<5?5:Pe,et=et<5?5:et,(Po(m)||kt(m))&&pv(o)!==!1?Tc=!eo.modifierPressed(No):Tc=eo.modifierPressed(No),Tc&&(Jx(cs)>Jx(ps)?(et=Hb(Pe*_e),Pe=Hb(et/_e)):(Pe=Hb(et/_e),et=Hb(Pe*_e))),Ws(b,Pe,et),Ks=E.startPos.x+cs,dc=E.startPos.y+ps,Ks=Ks>0?Ks:0,dc=dc>0?dc:0,n.setStyles(v,{left:Ks,top:dc,display:"block"}),v.innerHTML=Pe+" &times; "+et,E[2]<0&&b.clientWidth<=Pe&&n.setStyle(b,"left",q+(Y-Pe)),E[3]<0&&b.clientHeight<=et&&n.setStyle(b,"top",ne+(ce-et)),cs=u.scrollWidth-$t,ps=u.scrollHeight-mo,cs+ps!==0&&n.setStyles(v,{left:Ks-cs,top:dc-ps}),Ie||(jT(o,m,Y,ce,"corner-"+E.name),Ie=!0)},xa=()=>{const No=Ie;Ie=!1,No&&(gs(m,"width",Pe),gs(m,"height",et)),n.unbind(r,"mousemove",rr),n.unbind(r,"mouseup",xa),c!==r&&(n.unbind(c,"mousemove",rr),n.unbind(c,"mouseup",xa)),n.remove(b),n.remove(v),n.remove(R),oc(m),No&&(WT(o,m,Pe,et,"corner-"+E.name),n.setAttrib(m,"style",n.getAttrib(m,"style"))),o.nodeChanged()},oc=No=>{zo();const cs=n.getPos(No,u),ps=cs.x,Tc=cs.y,Ks=No.getBoundingClientRect(),dc=Ks.width||Ks.right-Ks.left,Bd=Ks.height||Ks.bottom-Ks.top;m!==No&&(vo(),m=No,Pe=et=0);const dm=o.dispatch("ObjectSelected",{target:No});un(No)&&!dm.isDefaultPrevented()?Kt(fp,(Xi,Hl)=>{const ed=td=>{const dn=qo(m)[0];N=td.screenX,$=td.screenY,Y=dn.clientWidth,ce=dn.clientHeight,_e=ce/Y,E=Xi,E.name=Hl,E.startPos={x:dc*Xi[0]+ps,y:Bd*Xi[1]+Tc},$t=u.scrollWidth,mo=u.scrollHeight,R=n.add(u,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(R,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),b=us(n,m),n.addClass(b,"mce-clonedresizable"),n.setAttrib(b,"data-mce-bogus","all"),b.contentEditable="false",n.setStyles(b,{left:ps,top:Tc,margin:0}),Ws(b,dc,Bd),b.removeAttribute(Ml),u.appendChild(b),n.bind(r,"mousemove",rr),n.bind(r,"mouseup",xa),c!==r&&(n.bind(c,"mousemove",rr),n.bind(c,"mouseup",xa)),v=n.add(u,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Y+" &times; "+ce)};let Vl=n.get("mceResizeHandle"+Hl);Vl&&n.remove(Vl),Vl=n.add(u,"div",{id:"mceResizeHandle"+Hl,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Hl+"-resize; margin:0; padding:0"}),n.bind(Vl,"mousedown",td=>{td.stopImmediatePropagation(),td.preventDefault(),ed(td)}),Xi.elm=Vl,n.setStyles(Vl,{left:dc*Xi[0]+ps-Vl.offsetWidth/2,top:Bd*Xi[1]+Tc-Vl.offsetHeight/2})}):vo(!1)},gr=lb(oc,0),vo=(No=!0)=>{gr.cancel(),zo(),m&&No&&m.removeAttribute(Ml),Kt(fp,(cs,ps)=>{const Tc=n.get("mceResizeHandle"+ps);Tc&&(n.unbind(Tc),n.remove(Tc))})},an=(No,cs)=>n.isChildOf(No,cs),Ps=No=>{if(Ie||o.removed||o.composing)return;const cs=No.type==="mousedown"?No.target:e.getNode(),ps=Xl(we.fromDom(cs),G2).map(Ks=>Ks.dom).filter(Ks=>n.isEditable(Ks.parentElement)||Ks.nodeName==="IMG"&&n.isEditable(Ks)).getOrUndefined(),Tc=We(ps)?n.getAttrib(ps,Ml,"1"):"1";if(V(n.select(`img[${Ml}],hr[${Ml}]`),Ks=>{Ks.removeAttribute(Ml)}),We(ps)&&an(ps,u)&&o.hasFocus()){yn();const Ks=e.getStart(!0);if(an(Ks,ps)&&an(e.getEnd(!0),ps)){n.setAttrib(ps,Ml,Tc),gr.throttle(ps);return}}vo()},zo=()=>{Kt(fp,No=>{No.elm&&(n.unbind(No.elm),delete No.elm)})},yn=()=>{try{o.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return o.on("init",()=>{yn(),o.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Ps),o.on("keyup compositionend",No=>{m&&m.nodeName==="TABLE"&&Ps(No)}),o.on("hide blur",vo),o.on("contextmenu longpress",Bt,!0)}),o.on("remove",zo),{isResizable:un,showResizeRect:oc,hideResizeRect:vo,updateResizeRect:Ps,destroy:()=>{gr.cancel(),m=b=R=null}}},K2=(e,o)=>{o.fold(n=>{e.setStartBefore(n.dom)},(n,r)=>{e.setStart(n.dom,r)},n=>{e.setStartAfter(n.dom)})},KT=(e,o)=>{o.fold(n=>{e.setEndBefore(n.dom)},(n,r)=>{e.setEnd(n.dom,r)},n=>{e.setEndAfter(n.dom)})},ew=(e,o,n)=>{const r=e.document.createRange();return K2(r,o),KT(r,n),r},Ub=(e,o,n,r,c)=>{const u=e.document.createRange();return u.setStart(o.dom,n),u.setEnd(r.dom,c),u},rg=wd.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Y2=(e,o,n)=>o(we.fromDom(n.startContainer),n.startOffset,we.fromDom(n.endContainer),n.endOffset),X2=(e,o)=>o.match({domRange:n=>({ltr:ue(n),rtl:P.none}),relative:(n,r)=>({ltr:mt(()=>ew(e,n,r)),rtl:mt(()=>P.some(ew(e,r,n)))}),exact:(n,r,c,u)=>({ltr:mt(()=>Ub(e,n,r,c,u)),rtl:mt(()=>P.some(Ub(e,c,u,n,r)))})}),YT=(e,o)=>{const n=o.ltr();return n.collapsed?o.rtl().filter(c=>c.collapsed===!1).map(c=>rg.rtl(we.fromDom(c.endContainer),c.endOffset,we.fromDom(c.startContainer),c.startOffset)).getOrThunk(()=>Y2(e,rg.ltr,n)):Y2(e,rg.ltr,n)},tw=(e,o)=>{const n=X2(e,o);return YT(e,n)};rg.ltr,rg.rtl;const pl={create:(e,o,n,r)=>({start:e,soffset:o,finish:n,foffset:r})},mi=(e,o,n)=>{var r;return P.from((r=e.caretPositionFromPoint)===null||r===void 0?void 0:r.call(e,o,n)).bind(c=>{if(c.offsetNode===null)return P.none();const u=e.createRange();return u.setStart(c.offsetNode,c.offset),u.collapse(),P.some(u)})},yh=(e,o,n)=>{var r;return P.from((r=e.caretRangeFromPoint)===null||r===void 0?void 0:r.call(e,o,n))},xD=(e,o,n)=>e.caretPositionFromPoint?mi(e,o,n):e.caretRangeFromPoint?yh(e,o,n):P.none(),JT=(e,o,n)=>{const r=e.document;return xD(r,o,n).map(c=>pl.create(we.fromDom(c.startContainer),c.startOffset,we.fromDom(c.endContainer),c.endOffset))},ow=wd.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Es=(e,o,n,r)=>e.fold(o,n,r),QT=e=>e.fold(bt,bt,bt),eA=ow.before,J2=ow.on,wD=ow.after,df={before:eA,on:J2,after:wD,cata:Es,getStart:QT},l1=wd.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),tA=e=>l1.exact(e.start,e.soffset,e.finish,e.foffset),oA=e=>e.match({domRange:o=>we.fromDom(o.startContainer),relative:(o,n)=>df.getStart(o),exact:(o,n,r,c)=>o}),Q2=l1.domRange,jb=l1.relative,nw=l1.exact,eC=e=>{const o=oA(e);return Ud(o)},kD=pl.create,vh={domRange:Q2,relative:jb,exact:nw,exactFromRange:tA,getWin:eC,range:kD},sw=(e,o)=>{const n=oe(e);return n==="input"?df.after(e):K(["br","img"],n)?o===0?df.before(e):df.after(e):df.on(e,o)},_D=(e,o)=>{const n=e.fold(df.before,sw,df.after),r=o.fold(df.before,sw,df.after);return vh.relative(n,r)},tC=(e,o,n,r)=>{const c=sw(e,o),u=sw(n,r);return vh.relative(c,u)},nA=e=>e.match({domRange:o=>{const n=we.fromDom(o.startContainer),r=we.fromDom(o.endContainer);return tC(n,o.startOffset,r,o.endOffset)},relative:_D,exact:tC}),l=(e,o)=>{const r=document.createDocumentFragment();return V(e,c=>{r.appendChild(c.dom)}),we.fromDom(r)},f=e=>{const o=vh.getWin(e).dom,n=(c,u,m,b)=>Ub(o,c,u,m,b),r=nA(e);return tw(o,r).match({ltr:n,rtl:n})},h=(e,o,n)=>JT(e,o,n),y=(e,o,n)=>{const r=Ud(we.fromDom(n));return h(r.dom,e,o).map(c=>{const u=n.createRange();return u.setStart(c.start.dom,c.soffset),u.setEnd(c.finish.dom,c.foffset),u}).getOrUndefined()},S=(e,o)=>We(e)&&We(o)&&e.startContainer===o.startContainer&&e.startOffset===o.startOffset&&e.endContainer===o.endContainer&&e.endOffset===o.endOffset,O=(e,o,n)=>{let r=e;for(;r&&r!==o;){if(n(r))return r;r=r.parentNode}return null},I=(e,o,n)=>O(e,o,n)!==null,Z=(e,o,n)=>I(e,o,r=>r.nodeName===n),se=(e,o)=>ll(e)&&!I(e,o,lu),Ce=(e,o,n)=>{const r=o.parentNode;if(r){const c=new bc(o,e.getParent(r,e.isBlock)||e.getRoot());let u;for(;u=c[n?"prev":"next"]();)if(Ms(u))return!0}return!1},Ye=(e,o)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===o},no=(e,o)=>{let n=o;for(;n&&n!==e;){if(Bs(n))return!0;n=n.parentNode}return!1},Ao=(e,o,n,r,c)=>{const u=e.getRoot(),m=e.schema.getNonEmptyElements(),b=c.parentNode;let v,E;if(!b)return P.none();const R=e.getParent(b,e.isBlock)||u;if(r&&Ms(c)&&o&&e.isEmpty(R))return P.some(yt(b,e.nodeIndex(c)));const N=new bc(c,R);for(;E=N[r?"prev":"next"]();){if(e.getContentEditableParent(E)==="false"||se(E,u))return P.none();if(Xt(E)&&E.data.length>0)return Z(E,u,"A")?P.none():P.some(yt(E,r?E.data.length:0));if(e.isBlock(E)||m[E.nodeName.toLowerCase()])return P.none();v=E}return Ka(v)?P.none():n&&v?P.some(yt(v,0)):P.none()},_o=(e,o,n,r)=>{const c=e.getRoot();let u,m=!1,b=n?r.startContainer:r.endContainer,v=n?r.startOffset:r.endOffset;const E=Do(b)&&v===b.childNodes.length,R=e.schema.getNonEmptyElements();let N=n;if(ll(b))return P.none();if(Do(b)&&v>b.childNodes.length-1&&(N=!1),wm(b)&&(b=c,v=0),b===c){if(N&&(u=b.childNodes[v>0?v-1:0],u&&(ll(u)||R[u.nodeName]||eu(u))))return P.none();if(b.hasChildNodes()){if(v=Math.min(!N&&v>0?v-1:v,b.childNodes.length-1),b=b.childNodes[v],v=Xt(b)&&E?b.data.length:0,!o&&b===c.lastChild&&eu(b)||no(c,b)||ll(b)||Li(b))return P.none();if(b.hasChildNodes()&&!eu(b)){u=b;const $=new bc(b,c);do{if(Bs(u)||ll(u)){m=!1;break}if(Xt(u)&&u.data.length>0){v=N?0:u.data.length,b=u,m=!0;break}if(R[u.nodeName.toLowerCase()]&&!Na(u)){v=e.nodeIndex(u),b=u.parentNode,N||v++,m=!0;break}}while(u=N?$.next():$.prev())}}}return o&&(Xt(b)&&v===0&&Ao(e,E,o,!0,b).each($=>{b=$.container(),v=$.offset(),m=!0}),Do(b)&&(u=b.childNodes[v],u||(u=b.childNodes[v-1]),u&&Ms(u)&&!Ye(u,"A")&&!Ce(e,u,!1)&&!Ce(e,u,!0)&&Ao(e,E,o,!0,u).each($=>{b=$.container(),v=$.offset(),m=!0}))),N&&!o&&Xt(b)&&v===b.data.length&&Ao(e,E,o,!1,b).each($=>{b=$.container(),v=$.offset(),m=!0}),m&&b?P.some(yt(b,v)):P.none()},go=(e,o)=>{const n=o.collapsed,r=o.cloneRange(),c=yt.fromRangeStart(o);return _o(e,n,!0,r).each(u=>{(!n||!yt.isAbove(c,u))&&r.setStart(u.container(),u.offset())}),n||_o(e,n,!1,r).each(u=>{r.setEnd(u.container(),u.offset())}),n&&r.collapse(!0),S(o,r)?P.none():P.some(r)},Xo=(e,o)=>e.splitText(o),qt=e=>{let o=e.startContainer,n=e.startOffset,r=e.endContainer,c=e.endOffset;if(o===r&&Xt(o)){if(n>0&&n<o.data.length)if(r=Xo(o,n),o=r.previousSibling,c>n){c=c-n;const u=Xo(r,c).previousSibling;o=r=u,c=u.data.length,n=0}else c=0}else if(Xt(o)&&n>0&&n<o.data.length&&(o=Xo(o,n),n=0),Xt(r)&&c>0&&c<r.data.length){const u=Xo(r,c).previousSibling;r=u,c=u.data.length}return{startContainer:o,startOffset:n,endContainer:r,endOffset:c}},uo=e=>({walk:(u,m)=>Ib(e,u,m),split:qt,expand:(u,m={type:"word"})=>{if(m.type==="word"){const b=up(e,u,[{inline:"span"}]),v=e.createRng();return v.setStart(b.startContainer,b.startOffset),v.setEnd(b.endContainer,b.endOffset),v}return u},normalize:u=>go(e,u).fold(ke,m=>(u.setStart(m.startContainer,m.startOffset),u.setEnd(m.endContainer,m.endOffset),!0))});uo.compareRanges=S,uo.getCaretRangeFromPoint=y,uo.getSelectedNode=ul,uo.getNode=Lm;const Mn=((e,o)=>{const n=(b,v)=>{if(!gn(v)&&!v.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+v);const E=b.dom;Eu(E)&&(E.style[e]=v+"px")},r=b=>{const v=o(b);if(v<=0||v===null){const E=Sa(b,e);return parseFloat(E)||0}return v},c=r,u=(b,v)=>Ee(v,(E,R)=>{const N=Sa(b,R),$=N===void 0?0:parseInt(N,10);return isNaN($)?E:E+$},0);return{set:n,get:r,getOuter:c,aggregate:u,max:(b,v,E)=>{const R=u(b,E);return v>R?v-R:0}}})("height",e=>{const o=e.dom;return ad(e)?o.getBoundingClientRect().height:o.offsetHeight}),rn=e=>Mn.get(e),Gr=()=>we.fromDom(document),er=(e,o)=>e.view(o).fold(ue([]),r=>{const c=e.owner(r),u=er(e,c);return[r].concat(u)}),ya=(e,o)=>{const n=o.owner(e);return er(o,n)};var mp=Object.freeze({__proto__:null,view:e=>{var o;return(e.dom===document?P.none():P.from((o=e.dom.defaultView)===null||o===void 0?void 0:o.frameElement)).map(we.fromDom)},owner:e=>Su(e)});const gp=e=>{const o=Gr(),n=Tn(o),r=ya(e,mp),c=Yn(e),u=ut(r,(m,b)=>{const v=Yn(b);return{left:m.left+v.left,top:m.top+v.top}},{left:0,top:0});return me(u.left+c.left+n.left,u.top+c.top+n.top)},Gs=e=>oe(e)==="textarea",Cc=(e,o)=>e.dispatch("ScrollIntoView",o).isDefaultPrevented(),Ai=(e,o)=>{e.dispatch("AfterScrollIntoView",o)},Hu=(e,o)=>{const n=Ia(e);if(n.length===0||Gs(e))return{element:e,offset:o};if(o<n.length&&!Gs(n[o]))return{element:n[o],offset:0};{const r=n[n.length-1];return Gs(r)?{element:e,offset:o}:oe(r)==="img"?{element:r,offset:1}:qs(r)?{element:r,offset:Mm(r).length}:{element:r,offset:Ia(r).length}}},Pl=(e,o)=>{const n=Cn(e),r=rn(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:o}},xh=(e,o)=>{const n=Hu(e,o),r=we.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+lc+"</span>");return Oc(n.element,r),Pl(r,()=>sr(r))},Xn=e=>Pl(we.fromDom(e),Me),$l=(e,o,n,r)=>{Ds(e,(c,u)=>ff(e,o,n,r),n)},Vu=(e,o,n,r,c)=>{const u={elm:r.element.dom,alignToTop:c};if(Cc(e,u))return;const m=Tn(o).top;n(e,o,m,r,c),Ai(e,u)},ff=(e,o,n,r)=>{const c=we.fromDom(e.getBody()),u=we.fromDom(e.getDoc());Fa(c);const m=xh(we.fromDom(n.startContainer),n.startOffset);Vu(e,u,o,m,r),m.cleanup()},ec=(e,o,n,r)=>{const c=we.fromDom(e.getDoc());Vu(e,c,n,Xn(o),r)},Ds=(e,o,n)=>{const r=n.startContainer,c=n.startOffset,u=n.endContainer,m=n.endOffset;o(we.fromDom(r),we.fromDom(u));const b=e.dom.createRng();b.setStart(r,c),b.setEnd(u,m),e.selection.setRng(n)},rw=(e,o,n,r,c)=>{const u=o.pos;if(r)Sn(u.left,u.top,c);else{const m=u.top-n+o.height;Sn(-e.getBody().getBoundingClientRect().left,m,c)}},aw=(e,o,n,r,c,u)=>{const m=r+n,b=c.pos.top,v=c.bottom,E=v-b>=r;b<n?rw(e,c,r,u!==!1,o):b>m?rw(e,c,r,E?u!==!1:u===!0,o):v>m&&!E&&rw(e,c,r,u===!0,o)},u1=(e,o,n,r,c)=>{const u=Ud(o).dom.innerHeight;aw(e,o,n,u,r,c)},oC=(e,o,n,r,c)=>{const u=Ud(o).dom.innerHeight;aw(e,o,n,u,r,c);const m=gp(r.element),b=Ql(window);m.top<b.y?yr(r.element,c!==!1):m.top>b.bottom&&yr(r.element,c===!0)},em=(e,o,n)=>$l(e,u1,o,n),pp=(e,o,n)=>ec(e,o,u1,n),wh=(e,o,n)=>$l(e,oC,o,n),oF=(e,o,n)=>ec(e,o,oC,n),nF=(e,o,n)=>{(e.inline?pp:oF)(e,o,n)},cw=(e,o,n)=>{(e.inline?em:wh)(e,o,n)},d1=(e,o=!1)=>e.dom.focus({preventScroll:o}),Wb=e=>{const o=el(e).dom;return e.dom===o.activeElement},sA=(e=Gr())=>P.from(e.dom.activeElement).map(we.fromDom),CD=e=>sA(el(e)).filter(o=>e.dom.contains(o.dom)),SD=(e,o)=>{const n=qs(o)?Mm(o).length:Ia(o).length+1;return e>n?n:e<0?0:e},sF=e=>vh.range(e.start,SD(e.soffset,e.start),e.finish,SD(e.foffset,e.finish)),ED=(e,o)=>!Yd(o.dom)&&(ga(e,o)||ts(e,o)),rA=e=>o=>ED(e,o.start)&&ED(e,o.finish),DZ=e=>e.inline||on.browser.isFirefox(),rF=e=>vh.range(we.fromDom(e.startContainer),e.startOffset,we.fromDom(e.endContainer),e.endOffset),TD=e=>{const o=e.getSelection();return(!o||o.rangeCount===0?P.none():P.from(o.getRangeAt(0))).map(rF)},aA=e=>{const o=Ud(e);return TD(o.dom).filter(rA(e))},cA=(e,o)=>P.from(o).filter(rA(e)).map(sF),iA=e=>{const o=document.createRange();try{return o.setStart(e.start.dom,e.soffset),o.setEnd(e.finish.dom,e.foffset),P.some(o)}catch{return P.none()}},iw=e=>{const o=DZ(e)?aA(we.fromDom(e.getBody())):P.none();e.bookmark=o.isSome()?o:e.bookmark},nC=e=>(e.bookmark?e.bookmark:P.none()).bind(n=>cA(we.fromDom(e.getBody()),n)).bind(iA),AD=e=>{nC(e).each(o=>e.selection.setRng(o))},zD={isEditorUIElement:e=>{const o=e.className.toString();return o.indexOf("tox-")!==-1||o.indexOf("mce-")!==-1}},OD=(e,o)=>(gn(o)||(o=0),setTimeout(e,o)),aF=(e,o)=>(gn(o)||(o=0),setInterval(e,o)),Uu={setEditorTimeout:(e,o,n)=>OD(()=>{e.removed||o()},n),setEditorInterval:(e,o,n)=>{const r=aF(()=>{e.removed?clearInterval(r):o()},n);return r}},DD=e=>e.type==="nodechange"&&e.selectionChange,RD=(e,o)=>{const n=()=>{o.throttle()};Br.DOM.bind(document,"mouseup",n),e.on("remove",()=>{Br.DOM.unbind(document,"mouseup",n)})},ND=(e,o)=>{e.on("mouseup touchend",n=>{o.throttle()})},MD=(e,o)=>{ND(e,o),e.on("keyup NodeChange AfterSetSelectionRange",n=>{DD(n)||iw(e)})},cF=e=>{const o=lb(()=>{iw(e)},0);e.on("init",()=>{e.inline&&RD(e,o),MD(e,o)}),e.on("remove",()=>{o.cancel()})};let f1;const uA=Br.DOM,iF=e=>Do(e)&&zD.isEditorUIElement(e),dA=e=>{const o=e.classList;return o!==void 0?o.contains("tox-edit-area")||o.contains("tox-edit-area__iframe")||o.contains("mce-content-body"):!1},sC=(e,o)=>{const n=wb(e);return uA.getParent(o,c=>iF(c)||(n?e.dom.is(c,n):!1))!==null},fA=e=>{try{const o=el(we.fromDom(e.getElement()));return sA(o).fold(()=>document.body,n=>n.dom)}catch{return document.body}},lF=(e,o)=>{const n=o.editor;cF(n);const r=(c,u)=>{if(Cv(c)&&c.inline!==!0){const m=we.fromDom(c.getContainer());u(m,"tox-edit-focus")}};n.on("focusin",()=>{const c=e.focusedEditor;dA(fA(n))&&r(n,kl),c!==n&&(c&&c.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:c}),n.focus(!0))}),n.on("focusout",()=>{Uu.setEditorTimeout(n,()=>{const c=e.focusedEditor;(!dA(fA(n))||c!==n)&&r(n,ku),!sC(n,fA(n))&&c===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),f1||(f1=c=>{const u=e.activeEditor;u&&hm(c).each(m=>{const b=m;b.ownerDocument===document&&b!==document.body&&!sC(u,b)&&e.focusedEditor===u&&(u.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},uA.bind(document,"focusin",f1))},rC=(e,o)=>{e.focusedEditor===o.editor&&(e.focusedEditor=null),!e.activeEditor&&f1&&(uA.unbind(document,"focusin",f1),f1=null)},BD=e=>{e.on("AddEditor",ye(lF,e)),e.on("RemoveEditor",ye(rC,e))},uF=(e,o)=>e.dom.getParent(o,n=>e.dom.getContentEditable(n)==="true"),PD=(e,o)=>e.dom.getParent(o,n=>e.dom.getContentEditable(n)==="false")!==null,$D=e=>e.collapsed?P.from(Lm(e.startContainer,e.startOffset)).map(we.fromDom):P.none(),dF=(e,o)=>$D(o).bind(n=>b_(n)?P.some(n):ga(e,n)?P.none():P.some(e)),ID=(e,o)=>{dF(we.fromDom(e.getBody()),o).bind(n=>Zc(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},aC=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},fF=e=>Wb(e)||CD(e).isSome(),mF=e=>We(e.iframeElement)&&Wb(we.fromDom(e.iframeElement)),FD=e=>{const o=e.getBody();return o&&fF(we.fromDom(o))},LD=e=>{const o=el(we.fromDom(e.getElement()));return sA(o).filter(n=>!dA(n.dom)&&sC(e,n.dom)).isSome()},hp=e=>e.inline?FD(e):mF(e),HD=e=>hp(e)||LD(e),gF=e=>{const o=e.selection,n=e.getBody();let r=o.getRng();e.quirks.refreshContentEditable();const c=m=>{nC(m).each(b=>{m.selection.setRng(b),r=b})};!hp(e)&&e.hasEditableRoot()&&c(e);const u=uF(e,o.getNode());if(u&&e.dom.isChildOf(u,n)){PD(e,u)||aC(n),aC(u),e.hasEditableRoot()||c(e),ID(e,r),lw(e);return}e.inline||(on.browser.isOpera()||aC(n),e.getWin().focus()),(on.browser.isFirefox()||e.inline)&&(aC(n),ID(e,r)),lw(e)},lw=e=>e.editorManager.setActive(e),pF=(e,o)=>{e.removed||(o?lw(e):gF(e))},mA=(e,o)=>o.collapsed?e.isEditable(o.startContainer):e.isEditable(o.startContainer)&&e.isEditable(o.endContainer),gA=(e,o,n,r,c)=>{const u=n?o.startContainer:o.endContainer,m=n?o.startOffset:o.endOffset;return P.from(u).map(we.fromDom).map(b=>!r||!o.collapsed?Yc(b,c(b,m)).getOr(b):b).bind(b=>As(b)?P.some(b):hc(b).filter(As)).map(b=>b.dom).getOr(e)},pA=(e,o,n=!1)=>gA(e,o,!0,n,(r,c)=>Math.min(Wd(r),c)),VD=(e,o,n=!1)=>gA(e,o,!1,n,(r,c)=>c>0?c-1:c),UD=(e,o)=>{const n=e;for(;e&&Xt(e)&&e.length===0;)e=o?e.nextSibling:e.previousSibling;return e||n},hF=(e,o)=>{if(!o)return e;let n=o.startContainer,r=o.endContainer;const c=o.startOffset,u=o.endOffset;let m=o.commonAncestorContainer;o.collapsed||(n===r&&u-c<2&&n.hasChildNodes()&&(m=n.childNodes[c]),Xt(n)&&Xt(r)&&(n.length===c?n=UD(n.nextSibling,!0):n=n.parentNode,u===0?r=UD(r.previousSibling,!1):r=r.parentNode,n&&n===r&&(m=n)));const b=Xt(m)?m.parentNode:m;return tl(b)?b:e},bF=(e,o,n,r)=>{const c=[],u=e.getRoot(),m=e.getParent(n||pA(u,o,o.collapsed),e.isBlock),b=e.getParent(r||VD(u,o,o.collapsed),e.isBlock);if(m&&m!==u&&c.push(m),m&&b&&m!==b){let v;const E=new bc(m,u);for(;(v=E.next())&&v!==b;)e.isBlock(v)&&c.push(v)}return b&&m!==b&&b!==u&&c.push(b),c},cC=(e,o,n)=>P.from(o).bind(r=>P.from(r.parentNode).map(c=>{const u=e.nodeIndex(r),m=e.createRng();return m.setStart(c,u),m.setEnd(c,u+1),n&&(Hx(e,m,r,!0),Hx(e,m,r,!1)),m})),iC=(e,o)=>he(o,n=>{const r=e.dispatch("GetSelectionRange",{range:n});return r.range!==n?r.range:n}),jD={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},uw=(e,o,n)=>{const r=n?"lastChild":"firstChild",c=n?"prev":"next";if(e[r])return e[r];if(e!==o){let u=e[c];if(u)return u;for(let m=e.parent;m&&m!==o;m=m.parent)if(u=m[c],u)return u}},WD=e=>{var o;const n=(o=e.value)!==null&&o!==void 0?o:"";if(!Fi(n))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(n))},ZD=e=>{const o=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||o};class hl{static create(o,n){const r=new hl(o,jD[o]||1);return n&&Kt(n,(c,u)=>{r.attr(u,c)}),r}constructor(o,n){this.name=o,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(o){const n=this;return o.parent&&o.remove(),n.insert(o,n),n.remove(),n}attr(o,n){const r=this;if(!X(o))return We(o)&&Kt(o,(u,m)=>{r.attr(m,u)}),r;const c=r.attributes;if(c){if(n!==void 0){if(n===null){if(o in c.map){delete c.map[o];let u=c.length;for(;u--;)if(c[u].name===o)return c.splice(u,1),r}return r}if(o in c.map){let u=c.length;for(;u--;)if(c[u].name===o){c[u].value=n;break}}else c.push({name:o,value:n});return c.map[o]=n,r}return c.map[o]}}clone(){const o=this,n=new hl(o.name,o.type),r=o.attributes;if(r){const c=[];c.map={};for(let u=0,m=r.length;u<m;u++){const b=r[u];b.name!=="id"&&(c[c.length]={name:b.name,value:b.value},c.map[b.name]=b.value)}n.attributes=c}return n.value=o.value,n}wrap(o){const n=this;return n.parent&&(n.parent.insert(o,n),o.append(n)),n}unwrap(){const o=this;for(let n=o.firstChild;n;){const r=n.next;o.insert(n,o,!0),n=r}o.remove()}remove(){const o=this,n=o.parent,r=o.next,c=o.prev;return n&&(n.firstChild===o?(n.firstChild=r,r&&(r.prev=null)):c&&(c.next=r),n.lastChild===o?(n.lastChild=c,c&&(c.next=null)):r&&(r.prev=c),o.parent=o.next=o.prev=null),o}append(o){const n=this;o.parent&&o.remove();const r=n.lastChild;return r?(r.next=o,o.prev=r,n.lastChild=o):n.lastChild=n.firstChild=o,o.parent=n,o}insert(o,n,r){o.parent&&o.remove();const c=n.parent||this;return r?(n===c.firstChild?c.firstChild=o:n.prev&&(n.prev.next=o),o.prev=n.prev,o.next=n,n.prev=o):(n===c.lastChild?c.lastChild=o:n.next&&(n.next.prev=o),o.next=n.next,o.prev=n,n.next=o),o.parent=c,o}getAll(o){const n=this,r=[];for(let c=n.firstChild;c;c=uw(c,n))c.name===o&&r.push(c);return r}children(){const o=this,n=[];for(let r=o.firstChild;r;r=r.next)n.push(r);return n}empty(){const o=this;if(o.firstChild){const n=[];for(let c=o.firstChild;c;c=uw(c,o))n.push(c);let r=n.length;for(;r--;){const c=n[r];c.parent=c.firstChild=c.lastChild=c.next=c.prev=null}}return o.firstChild=o.lastChild=null,o}isEmpty(o,n={},r){var c;const u=this;let m=u.firstChild;if(ZD(u))return!1;if(m)do{if(m.type===1){if(m.attr("data-mce-bogus"))continue;if(o[m.name]||ZD(m))return!1}if(m.type===8||m.type===3&&!WD(m)||m.type===3&&m.parent&&n[m.parent.name]&&Fi((c=m.value)!==null&&c!==void 0?c:"")||r&&r(m))return!1}while(m=uw(m,u));return!0}walk(o){return uw(this,null,o)}}const yF=Qt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),qD=e=>X(e.nodeValue)&&e.nodeValue.includes(lc),GD=e=>`${e.length===0?"":`${he(e,o=>`[${o}]`).join(",")},`}[data-mce-bogus="all"]`,vF=(e,o)=>o.querySelectorAll(GD(e)),KD=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,o=>qD(o)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),YD=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,o=>{if(qD(o)){const n=o.parentNode;return n&&Qo(yF,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),xF=e=>KD(e).nextNode()!==null,wF=e=>YD(e).nextNode()!==null,kF=(e,o)=>o.querySelector(GD(e))!==null,_F=(e,o)=>{V(vF(e,o),n=>{const r=we.fromDom(n);qa(r,"data-mce-bogus")==="all"?sr(r):V(e,c=>{Sr(r,c)&&dr(r,c)})})},dw=e=>{let o=e.nextNode();for(;o!==null;)o.nodeValue=null,o=e.nextNode()},XD=_(dw,KD),JD=_(dw,YD),QD=(e,o)=>{const n=[{condition:ye(kF,o),action:ye(_F,o)},{condition:xF,action:XD},{condition:wF,action:JD}];let r=e,c=!1;return V(n,({condition:u,action:m})=>{u(r)&&(c||(r=e.cloneNode(!0),c=!0),m(r))}),r},eR=e=>{const o=Dc(e,"[data-mce-bogus]");V(o,n=>{qa(n,"data-mce-bogus")==="all"?sr(n):il(n)?(Oc(n,we.fromText(Bp)),sr(n)):Ii(n)})},tR=e=>{const o=Dc(e,"input");V(o,n=>{dr(n,"name")})},CF=(e,o)=>{const n=Uc(e),r=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return o.replace(r,"")},SF=(e,o)=>{const n=e.getDoc(),r=el(we.fromDom(e.getBody())),c=we.fromTag("div",n);Js(c,"data-mce-bogus","all"),Kn(c,{position:"fixed",left:"-9999999px",top:"0"}),Au(c,o.innerHTML),eR(c),tR(c);const u=Dp(r);Zr(u,c);const m=ki(c.dom.innerText);return sr(c),m},EF=(e,o,n)=>{let r;return o.format==="raw"?r=Qt.trim(ki(QD(n,e.serializer.getTempAttrs()).innerHTML)):o.format==="text"?r=SF(e,n):o.format==="tree"?r=e.serializer.serialize(n,o):r=CF(e,e.serializer.serialize(n,o)),o.format!=="text"&&!qy(we.fromDom(n))&&X(r)?Qt.trim(r):r},oR=(e,o)=>P.from(e.getBody()).fold(ue(o.format==="tree"?new hl("body",11):""),n=>EF(e,o,n)),nR=Qt.makeMap,hA=e=>{const o=[];e=e||{};const n=e.indent,r=nR(e.indent_before||""),c=nR(e.indent_after||""),u=hd.getEncodeFunc(e.entity_encoding||"raw",e.entities),m=e.element_format!=="xhtml";return{start:(b,v,E)=>{if(n&&r[b]&&o.length>0){const R=o[o.length-1];R.length>0&&R!==`
`&&o.push(`
`)}if(o.push("<",b),v)for(let R=0,N=v.length;R<N;R++){const $=v[R];o.push(" ",$.name,'="',u($.value,!0),'"')}if(!E||m?o[o.length]=">":o[o.length]=" />",E&&n&&c[b]&&o.length>0){const R=o[o.length-1];R.length>0&&R!==`
`&&o.push(`
`)}},end:b=>{let v;o.push("</",b,">"),n&&c[b]&&o.length>0&&(v=o[o.length-1],v.length>0&&v!==`
`&&o.push(`
`))},text:(b,v)=>{b.length>0&&(o[o.length]=v?b:u(b))},cdata:b=>{o.push("<![CDATA[",b,"]]>")},comment:b=>{o.push("<!--",b,"-->")},pi:(b,v)=>{v?o.push("<?",b," ",u(v),"?>"):o.push("<?",b,"?>"),n&&o.push(`
`)},doctype:b=>{o.push("<!DOCTYPE",b,">",n?`
`:"")},reset:()=>{o.length=0},getContent:()=>o.join("").replace(/\n$/,"")}},bp=(e={},o=ef())=>{const n=hA(e);return e.validate="validate"in e?e.validate:!0,{serialize:c=>{const u=e.validate,m={3:v=>{var E;n.text((E=v.value)!==null&&E!==void 0?E:"",v.raw)},8:v=>{var E;n.comment((E=v.value)!==null&&E!==void 0?E:"")},7:v=>{n.pi(v.name,v.value)},10:v=>{var E;n.doctype((E=v.value)!==null&&E!==void 0?E:"")},4:v=>{var E;n.cdata((E=v.value)!==null&&E!==void 0?E:"")},11:v=>{let E=v;if(E=E.firstChild)do b(E);while(E=E.next)}};n.reset();const b=v=>{var E;const R=m[v.type];if(R)R(v);else{const N=v.name,$=N in o.getVoidElements();let q=v.attributes;if(u&&q&&q.length>1){const ne=[];ne.map={};const Y=o.getElementRule(v.name);if(Y){for(let ce=0,_e=Y.attributesOrder.length;ce<_e;ce++){const Ie=Y.attributesOrder[ce];if(Ie in q.map){const Pe=q.map[Ie];ne.map[Ie]=Pe,ne.push({name:Ie,value:Pe})}}for(let ce=0,_e=q.length;ce<_e;ce++){const Ie=q[ce].name;if(!(Ie in ne.map)){const Pe=q.map[Ie];ne.map[Ie]=Pe,ne.push({name:Ie,value:Pe})}}q=ne}}if(n.start(N,q,$),pa(N))X(v.value)&&n.text(v.value,!0),n.end(N);else if(!$){let ne=v.firstChild;if(ne){(N==="pre"||N==="textarea")&&ne.type===3&&((E=ne.value)===null||E===void 0?void 0:E[0])===`
`&&n.text(`
`,!0);do b(ne);while(ne=ne.next)}n.end(N)}}};return c.type===1&&!e.inner?b(c):c.type===3?m[3](c):m[11](c),n.getContent()}}},sR=new Set;V(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],o=>{sR.add(o)});const rR=new Set;V(["background-color"],o=>{rR.add(o)});const aR=["font","text-decoration","text-emphasis"],TF=(e,o)=>e.parseStyle(e.getAttrib(o,"style")),m1=(e,o)=>vn(TF(e,o)),AF=e=>sR.has(e),zF=e=>rR.has(e),cR=(e,o)=>te(m1(e,o),n=>AF(n)),OF=(e,o)=>cR(e,o)&&te(m1(e,o),n=>zF(n)),DF=e=>be(e,o=>te(aR,n=>_n(o,n))),RF=(e,o,n)=>{const r=m1(e,o),c=m1(e,n),u=m=>{var b,v;const E=(b=e.getStyle(o,m))!==null&&b!==void 0?b:"",R=(v=e.getStyle(n,m))!==null&&v!==void 0?v:"";return xn(E)&&xn(R)&&E!==R};return te(r,m=>{const b=v=>te(v,E=>E===m);if(!b(c)&&b(aR)){const v=DF(c);return te(v,u)}else return u(m)})},iR=(e,o,n)=>P.from(n.container()).filter(Xt).exists(r=>{const c=e?0:-1;return o(r.data.charAt(n.offset()+c))}),bA=ye(iR,!0,ng),yA=ye(iR,!1,ng),NF=e=>{const o=e.container();return Xt(o)&&(o.data.length===0||j0(o.data)&&Lu.isBookmarkNode(o.parentNode))},kh=(e,o)=>n=>Tx(e?0:-1,n).filter(o).isSome(),lR=e=>Ip(e)&&Sa(we.fromDom(e),"display")==="block",uR=e=>Bs(e)&&!Bg(e),MF=kh(!0,lR),pn=kh(!1,lR),g1=kh(!0,Hc),p1=kh(!1,Hc),dR=kh(!0,eu),fw=kh(!1,eu),_h=kh(!0,uR),Ch=kh(!1,uR),BF=e=>e.slice(0,-1),PF=(e,o,n)=>ga(o,e)?BF(Kl(e,r=>n(r)||ts(r,o))):[],fR=(e,o)=>PF(e,o,ke),mf=(e,o)=>[e].concat(fR(e,o)),lC=(e,o,n)=>Nx(e,o,n,NF),RZ=e=>o=>e.isBlock(oe(o)),mR=(e,o,n)=>xt(mf(we.fromDom(o.container()),e),RZ(n)),Fn=(e,o,n,r)=>lC(e,o.dom,n).forall(c=>mR(o,n,r).fold(()=>!Dl(c,n,o.dom),u=>!Dl(c,n,o.dom)&&ga(u,we.fromDom(c.container())))),gR=(e,o,n,r)=>mR(o,n,r).fold(()=>lC(e,o.dom,n).forall(c=>!Dl(c,n,o.dom)),c=>lC(e,c.dom,n).isNone()),Jn=ye(gR,!1),vA=ye(gR,!0),NZ=ye(Fn,!1),MZ=ye(Fn,!0),$F=e=>Rv(e).exists(il),xA=(e,o,n,r)=>{const c=be(mf(we.fromDom(n.container()),o),m=>r.isBlock(oe(m))),u=Bo(c).getOr(o);return qi(e,u.dom,n).filter($F)},pR=(e,o,n)=>Rv(o).exists(il)||xA(!0,e,o,n).isSome(),uC=(e,o,n)=>S2(o).exists(il)||xA(!1,e,o,n).isSome(),hR=ye(xA,!1),Bn=ye(xA,!0),bR=e=>yt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),yR=(e,o,n)=>{const r=be(mf(we.fromDom(o.container()),e),c=>n.isBlock(oe(c)));return Bo(r).getOr(e)},vR=(e,o,n)=>bR(o)?yA(o):yA(o)||ml(yR(e,o,n).dom,o).exists(yA),h1=(e,o,n)=>bR(o)?bA(o):bA(o)||Gi(yR(e,o,n).dom,o).exists(bA),xR=e=>K(["pre","pre-wrap"],e),wA=e=>Rv(e).bind(o=>Lr(o,As)).exists(o=>xR(Sa(o,"white-space"))),IF=(e,o)=>ml(e.dom,o).isNone(),FF=(e,o)=>Gi(e.dom,o).isNone(),wR=(e,o,n)=>IF(e,o)||FF(e,o)||Jn(e,o,n)||vA(e,o,n)||uC(e,o,n)||pR(e,o,n),LF=e=>We(e)&&Bs(e)&&x2(e),HF=(e,o)=>n=>LF(new bc(n,e)[o]()),BZ=(e,o)=>{const n=Gi(e.dom,o).getOr(o),r=HF(e.dom,"next");return o.isAtEnd()&&(r(o.container())||r(n.container()))},VF=(e,o)=>{const n=ml(e.dom,o).getOr(o),r=HF(e.dom,"prev");return o.isAtStart()&&(r(o.container())||r(n.container()))},kR=(e,o,n)=>wA(o)?!1:wR(e,o,n)||vR(e,o,n)||h1(e,o,n),mw=(e,o,n)=>wA(o)?!1:Jn(e,o,n)||NZ(e,o,n)||uC(e,o,n)||vR(e,o,n)||VF(e,o),UF=e=>{const o=e.container(),n=e.offset();return Xt(o)&&n<o.data.length?yt(o,n+1):e},b1=(e,o,n)=>wA(o)?!1:vA(e,o,n)||MZ(e,o,n)||pR(e,o,n)||h1(e,o,n)||BZ(e,o),kA=(e,o,n)=>mw(e,o,n)||b1(e,UF(o),n),rs=(e,o)=>rp(e.charAt(o)),_A=(e,o)=>ng(e.charAt(o)),dC=e=>{const o=e.container();return Xt(o)&&ln(o.data,Ra)},_R=e=>{const o=e.split("");return he(o,(n,r)=>rp(n)&&r>0&&r<o.length-1&&$x(o[r-1])&&$x(o[r+1])?" ":n).join("")},CA=(e,o,n,r)=>{const c=o.data,u=yt(o,0);return!n&&rs(c,0)&&!kA(e,u,r)?(o.data=" "+c.slice(1),!0):n&&_A(c,0)&&mw(e,u,r)?(o.data=Ra+c.slice(1),!0):!1},CR=e=>{const o=e.data,n=_R(o);return n!==o?(e.data=n,!0):!1},SA=(e,o,n,r)=>{const c=o.data,u=yt(o,c.length-1);return!n&&rs(c,c.length-1)&&!kA(e,u,r)?(o.data=c.slice(0,-1)+" ",!0):n&&_A(c,c.length-1)&&b1(e,u,r)?(o.data=c.slice(0,-1)+Ra,!0):!1},SR=(e,o,n)=>{const r=o.container();if(!Xt(r))return P.none();if(dC(o)){const c=CA(e,r,!1,n)||CR(r)||SA(e,r,!1,n);return Ir(c,o)}else if(kA(e,o,n)){const c=CA(e,r,!0,n)||SA(e,r,!0,n);return Ir(c,o)}else return P.none()},jF=e=>{const o=we.fromDom(e.getBody());e.selection.isCollapsed()&&SR(o,yt.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},EA=(e,o,n,r)=>{if(n===0)return;const c=we.fromDom(e),u=Nr(c,E=>r.isBlock(oe(E))).getOr(c),m=e.data.slice(o,o+n),b=o+n>=e.data.length&&b1(u,yt(e,e.data.length),r),v=o===0&&mw(u,yt(e,0),r);e.replaceData(o,n,Cl(m,4,v,b))},fC=(e,o,n)=>{const r=e.data.slice(o),c=r.length-Pa(r).length;EA(e,o,c,n)},TA=(e,o,n)=>{const r=e.data.slice(0,o),c=r.length-Za(r).length;EA(e,o-c,c,n)},AA=(e,o,n,r,c=!0)=>{const u=Za(e.data).length,m=c?e:o,b=c?o:e;return c?m.appendData(b.data):m.insertData(0,b.data),sr(we.fromDom(b)),r&&fC(m,u,n),m},WF=(e,o)=>{const n=e.container(),r=e.offset();return!yt.isTextPosition(e)&&n===o.parentNode&&r>yt.before(o).offset()},ZF=(e,o)=>WF(o,e)?yt(o.container(),o.offset()-1):o,qF=e=>Xt(e)?yt(e,0):yt.before(e),GF=e=>Xt(e)?yt(e,e.data.length):yt.after(e),ER=e=>Tl(e.previousSibling)?P.some(GF(e.previousSibling)):e.previousSibling?iu(e.previousSibling):P.none(),mC=e=>Tl(e.nextSibling)?P.some(qF(e.nextSibling)):e.nextSibling?Zc(e.nextSibling):P.none(),zA=(e,o)=>P.from(o.previousSibling?o.previousSibling:o.parentNode).bind(n=>ml(e,yt.before(n))).orThunk(()=>Gi(e,yt.after(o))),KF=(e,o)=>Gi(e,yt.after(o)).orThunk(()=>ml(e,yt.before(o))),YF=(e,o)=>ER(o).orThunk(()=>mC(o)).orThunk(()=>zA(e,o)),XF=(e,o)=>mC(o).orThunk(()=>ER(o)).orThunk(()=>KF(e,o)),JF=(e,o,n)=>e?XF(o,n):YF(o,n),QF=(e,o,n)=>JF(e,o,n).map(ye(ZF,n)),TR=(e,o,n)=>{n.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),o)})},e6=e=>o=>o.dom===e,t6=(e,o)=>o&&Qo(e.schema.getBlockElements(),oe(o)),AR=(e,o,n)=>{if(kr(e,o)){const r=we.fromHtml('<br data-mce-bogus="1">');return n?V(Ia(o),c=>{Gx(c)||sr(c)}):ud(o),Zr(o,r),P.some(yt.before(r.dom))}else return P.none()},o6=(e,o,n,r)=>{const c=Yl(e).filter(qs),u=Ic(e).filter(qs);return sr(e),rc(c,u,o,(m,b,v)=>{const E=m.dom,R=b.dom,N=E.data.length;return AA(E,R,n,r),v.container()===R?yt(E,N):v}).orThunk(()=>(r&&(c.each(m=>TA(m.dom,m.dom.length,n)),u.each(m=>fC(m.dom,0,n))),o))},n6=(e,o)=>Qo(e.schema.getTextInlineElements(),oe(o)),Cd=(e,o,n,r=!0,c=!1)=>{const u=QF(o,e.getBody(),n.dom),m=Nr(n,ye(t6,e),e6(e.getBody())),b=o6(n,u,e.schema,n6(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):m.bind(v=>AR(e.schema,v,c)).fold(()=>{r&&TR(e,o,b)},v=>{r&&TR(e,o,P.some(v))})},s6=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,zR=e=>s6.test(e),Zb=(e,o)=>_l(we.fromDom(o),q_(e))&&!Nu(e.schema,o)&&e.dom.isEditable(o),OR=e=>{var o;return Br.DOM.getStyle(e,"direction",!0)==="rtl"||zR((o=e.textContent)!==null&&o!==void 0?o:"")},DR=(e,o,n)=>be(Br.DOM.getParents(n.container(),"*",o),e),yp=(e,o,n)=>{const r=DR(e,o,n);return P.from(r[r.length-1])},RR=(e,o,n)=>{const r=eg(o,e),c=eg(n,e);return We(r)&&r===c},NR=e=>W0(e)||Jp(e),Ea=(e,o)=>{const n=o.container(),r=o.offset();return e?Uf(n)?Xt(n.nextSibling)?yt(n.nextSibling,0):yt.after(n):W0(o)?yt(n,r+1):o:Uf(n)?Xt(n.previousSibling)?yt(n.previousSibling,n.previousSibling.data.length):yt.before(n):Jp(o)?yt(n,r-1):o},MR=ye(Ea,!0),BR=ye(Ea,!1),PR=(e,o)=>{const n=r=>r.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(o),e.off("beforeinput input",n)},r6=e=>{e.execCommand("delete")},gC=e=>PR(e,"Delete"),Sh=e=>PR(e,"ForwardDelete"),a6=e=>o=>nr(hc(o),e,ts),c6=e=>Pu(e)||Gg(e),Ur=(e,o)=>ga(e,o)?Lr(o,c6,a6(e)):P.none(),y1=(e,o=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!o})},qb=(e,o,n)=>Zn(Zc(n),iu(n),(r,c)=>{const u=Ea(!0,r),m=Ea(!1,c),b=Ea(!1,o);return e?Gi(n,b).exists(v=>v.isEqual(m)&&o.isEqual(u)):ml(n,b).exists(v=>v.isEqual(u)&&o.isEqual(m))}).getOr(!0),$R=e=>(fn(e)?Yl(e):rd(e)).bind($R).orThunk(()=>P.some(e)),Gb=(e,o,n,r=!0)=>{var c;o.deleteContents();const u=$R(n).getOr(n),m=we.fromDom((c=e.dom.getParent(u.dom,e.dom.isBlock))!==null&&c!==void 0?c:n.dom);if(m.dom===e.getBody()?y1(e,r):kr(e.schema,m,{checkRootAsContent:!1})&&(cu(m),r&&e.selection.setCursorLocation(m.dom,0)),!ts(n,m)){const b=nr(hc(m),n)?[]:zf(m);V(b.concat(Ia(n)),v=>{!ts(v,m)&&!ga(v,m)&&kr(e.schema,v)&&sr(v)})}},Sd=e=>o=>ts(e,o),Kb=e=>Dc(e,"td,th"),xr=(e,o)=>Mb(we.fromDom(e),o),gw=e=>Zn(e.startTable,e.endTable,(o,n)=>{const r=Mp(o,u=>ts(u,n)),c=Mp(n,u=>ts(u,o));return!r&&!c?e:{...e,startTable:r?P.none():e.startTable,endTable:c?P.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),IR=e=>gw(e),FR=(e,o)=>{const n=xr(e.startContainer,o),r=xr(e.endContainer,o),c=n.isSome(),u=r.isSome(),m=Zn(n,r,ts).getOr(!1);return IR({startTable:n,endTable:r,isStartInTable:c,isEndInTable:u,isSameTable:m,isMultiTable:!m&&c&&u})},pw=(e,o)=>({start:e,end:o}),OA=(e,o,n)=>({rng:e,table:o,cells:n}),Yb=wd.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),v1=(e,o)=>Xl(we.fromDom(e),"td,th",o),hw=e=>!ts(e.start,e.end),pC=(e,o)=>Mb(e.start,o).bind(n=>Mb(e.end,o).bind(r=>Ir(ts(n,r),n))),LR=(e,o)=>!hw(e)&&pC(e,o).exists(n=>{const r=n.dom.rows;return r.length===1&&r[0].cells.length===1}),HR=(e,o)=>{const n=v1(e.startContainer,o),r=v1(e.endContainer,o);return Zn(n,r,pw)},VR=e=>o=>Mb(o,e).bind(n=>Wn(Kb(n)).map(r=>pw(o,r))),UR=e=>o=>Mb(o,e).bind(n=>Bo(Kb(n)).map(r=>pw(r,o))),hC=e=>o=>pC(o,e).map(n=>OA(o,n,Kb(n))),Xb=(e,o,n,r)=>{if(n.collapsed||!e.forall(hw))return P.none();if(o.isSameTable){const c=e.bind(hC(r));return P.some({start:c,end:c})}else{const c=v1(n.startContainer,r),u=v1(n.endContainer,r),m=c.bind(VR(r)).bind(hC(r)),b=u.bind(UR(r)).bind(hC(r));return P.some({start:m,end:b})}},DA=(e,o)=>ho(e,n=>ts(n,o)),bw=e=>Zn(DA(e.cells,e.rng.start),DA(e.cells,e.rng.end),(o,n)=>e.cells.slice(o,n+1)),i6=(e,o,n)=>e.exists(r=>LR(r,n)&&Uv(r.start,o)),jR=(e,o)=>{const{startTable:n,endTable:r}=o,c=e.cloneRange();return n.each(u=>c.setStartAfter(u.dom)),r.each(u=>c.setEndBefore(u.dom)),c},WR=(e,o,n,r)=>Xb(e,o,n,r).bind(({start:c,end:u})=>c.or(u)).bind(c=>{const{isSameTable:u}=o,m=bw(c).getOr([]);if(u&&c.cells.length===m.length)return P.some(Yb.fullTable(c.table));if(m.length>0){if(u)return P.some(Yb.partialTable(m,P.none()));{const b=jR(n,o);return P.some(Yb.partialTable(m,P.some({...o,rng:b})))}}else return P.none()}),ZR=(e,o,n,r)=>Xb(e,o,n,r).bind(({start:c,end:u})=>{const m=c.bind(bw).getOr([]),b=u.bind(bw).getOr([]);if(m.length>0&&b.length>0){const v=jR(n,o);return P.some(Yb.multiTable(m,b,v))}else return P.none()}),qR=(e,o)=>{const n=Sd(e),r=HR(o,n),c=FR(o,n);return i6(r,o,n)?r.map(u=>Yb.singleCellTable(o,u.start)):c.isMultiTable?ZR(r,c,o,n):WR(r,c,o,n)},yw=e=>V(e,o=>{dr(o,"contenteditable"),cu(o)}),GR=(e,o)=>P.from(e.dom.getParent(o,e.dom.isBlock)).map(we.fromDom),KR=(e,o,n)=>{n.each(r=>{o?sr(r):(cu(r),e.selection.setCursorLocation(r.dom,0))})},bC=(e,o,n,r)=>{const c=n.cloneRange();r?(c.setStart(n.startContainer,n.startOffset),c.setEndAfter(o.dom.lastChild)):(c.setStartBefore(o.dom.firstChild),c.setEnd(n.endContainer,n.endOffset)),yC(e,c,o,!1).each(u=>u())},RA=e=>{const o=gh(e),n=we.fromDom(e.selection.getNode());Pg(n.dom)&&kr(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),o.length>1&&te(o,r=>ts(r,n))&&Js(n,"data-mce-selected","1")},NA=(e,o,n)=>P.some(()=>{const r=e.selection.getRng(),c=n.bind(({rng:u,isStartInTable:m})=>{const b=GR(e,m?u.endContainer:u.startContainer);u.deleteContents(),KR(e,m,b.filter(ye(kr,e.schema)));const v=m?o[0]:o[o.length-1];return bC(e,v,r,m),kr(e.schema,v)?P.none():P.some(m?o.slice(1):o.slice(0,-1))}).getOr(o);yw(c),RA(e)}),YR=(e,o,n,r)=>P.some(()=>{const c=e.selection.getRng(),u=o[0],m=n[n.length-1];bC(e,u,c,!0),bC(e,m,c,!1);const b=kr(e.schema,u)?o:o.slice(1),v=kr(e.schema,m)?n:n.slice(0,-1);yw(b.concat(v)),r.deleteContents(),RA(e)}),yC=(e,o,n,r=!0)=>P.some(()=>{Gb(e,o,n,r)}),XR=(e,o)=>P.some(()=>Cd(e,!1,o)),JR=(e,o,n)=>qR(o,n).bind(r=>r.fold(ye(yC,e),ye(XR,e),ye(NA,e),ye(YR,e))),QR=(e,o)=>vw(e,o),MA=(e,o,n,r)=>vC(o,r).fold(()=>JR(e,o,n),c=>QR(e,c)),eN=(e,o,n)=>{const r=we.fromDom(e.getBody()),c=e.selection.getRng();return n.length!==0?NA(e,n,P.none()):MA(e,r,c,o)},BA=(e,o)=>xt(mf(o,e),mb),vC=(e,o)=>xt(mf(o,e),Qr("caption")),tN=(e,o,n,r,c)=>op(n,e.getBody(),c).bind(u=>BA(o,we.fromDom(u.getNode())).bind(m=>ts(m,r)?P.none():P.some(Me))),vw=(e,o)=>P.some(()=>{cu(o),e.selection.setCursorLocation(o.dom,0)}),oN=(e,o,n,r)=>Zc(e.dom).bind(c=>iu(e.dom).map(u=>o?n.isEqual(c)&&r.isEqual(u):n.isEqual(u)&&r.isEqual(c))).getOr(!0),PA=(e,o)=>vw(e,o),xC=(e,o,n)=>vC(e,we.fromDom(n.getNode())).fold(()=>P.some(Me),r=>Ir(!ts(r,o),Me)),$A=(e,o,n,r,c)=>op(n,e.getBody(),c).fold(()=>P.some(Me),u=>oN(r,n,c,u)?PA(e,r):xC(o,r,u)),wC=(e,o,n,r)=>{const c=yt.fromRangeStart(e.selection.getRng());return BA(n,r).bind(u=>kr(e.schema,u,{checkRootAsContent:!1})?vw(e,u):tN(e,n,o,u,c))},nN=(e,o,n,r)=>{const c=yt.fromRangeStart(e.selection.getRng());return kr(e.schema,r)?vw(e,r):$A(e,n,o,r,c)},xw=(e,o)=>e?dR(o):fw(o),IA=(e,o)=>{const n=yt.fromRangeStart(e.selection.getRng());return xw(o,n)||qi(o,e.getBody(),n).exists(r=>xw(o,r))},ww=(e,o,n)=>{const r=we.fromDom(e.getBody());return vC(r,n).fold(()=>wC(e,o,r,n).orThunk(()=>Ir(IA(e,o),Me)),c=>nN(e,o,r,c))},kw=(e,o)=>{const n=we.fromDom(e.selection.getStart(!0)),r=gh(e);return e.selection.isCollapsed()&&r.length===0?ww(e,o,n):eN(e,n,r)},Eh=(e,o)=>{let n=o;for(;n&&n!==e;){if(Ot(n)||Bs(n))return n;n=n.parentNode}return null},x1=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],FA=Qt.each,_w=e=>{const o=e.dom,n=new Set(e.serializer.getTempAttrs()),r=(u,m)=>{if(u.nodeName!==m.nodeName||u.nodeType!==m.nodeType)return!1;const b=E=>{const R={};return FA(o.getAttribs(E),N=>{const $=N.nodeName.toLowerCase();$!=="style"&&!c($)&&(R[$]=o.getAttrib(E,$))}),R},v=(E,R)=>{for(const N in E)if(Qo(E,N)){const $=R[N];if(ko($)||E[N]!==$)return!1;delete R[N]}for(const N in R)if(Qo(R,N))return!1;return!0};return Do(u)&&Do(m)&&(!v(b(u),b(m))||!v(o.parseStyle(o.getAttrib(u,"style")),o.parseStyle(o.getAttrib(m,"style"))))?!1:!Rl(u)&&!Rl(m)},c=u=>te(x1,m=>_n(u,m))||n.has(u);return{compare:r,isAttributeInternal:c}},Jb=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),Th=e=>e.name==="summary",sN=(e,o)=>{let n=e;for(;n=n.walk();)o(n)},rN=(e,o,n,r)=>{const c=n.name;for(let u=0,m=e.length;u<m;u++){const b=e[u];if(b.name===c){const v=r.nodes[c];v?v.nodes.push(n):r.nodes[c]={filter:b,nodes:[n]}}}if(n.attributes)for(let u=0,m=o.length;u<m;u++){const b=o[u],v=b.name;if(v in n.attributes.map){const E=r.attributes[v];E?E.nodes.push(n):r.attributes[v]={filter:b,nodes:[n]}}}},l6=(e,o,n)=>{const r={nodes:{},attributes:{}};return n.firstChild&&sN(n,c=>{rN(e,o,c,r)}),r},LA=(e,o)=>{const n=(r,c)=>{Kt(r,u=>{const m=bs(u.nodes);V(u.filter.callbacks,b=>{for(let v=m.length-1;v>=0;v--){const E=m[v];(!(c?E.attr(u.filter.name)!==void 0:E.name===u.filter.name)||co(E.parent))&&m.splice(v,1)}m.length>0&&b(m,u.filter.name,o)})})};n(e.nodes,!1),n(e.attributes,!0)},HA=(e,o,n,r={})=>{const c=l6(e,o,n);LA(c,r)},VA=(e,o,n,r)=>{if((e.pad_empty_with_br||o.insert)&&n(r)){const u=new hl("br",1);o.insert&&u.attr("data-mce-bogus","1"),r.empty().append(u)}else r.empty().append(new hl("#text",3)).value=Ra},u6=e=>{var o;return vp(e,"#text")&&((o=e==null?void 0:e.firstChild)===null||o===void 0?void 0:o.value)===Ra},vp=(e,o)=>{const n=e==null?void 0:e.firstChild;return We(n)&&n===e.lastChild&&n.name===o},Qb=(e,o)=>{const n=e.getElementRule(o.name);return(n==null?void 0:n.paddEmpty)===!0},kC=(e,o,n,r)=>r.isEmpty(o,n,c=>Qb(e,c)),si=(e,o)=>We(e)&&(o(e)||e.name==="br"),d6=e=>{let o;for(let n=e;n;n=n.parent){const r=n.attr("contenteditable");if(r==="false")break;r==="true"&&(o=n)}return P.from(o)},UA=(e,o,n=e.parent)=>{if(o.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const c of r)n&&!o.isValidChild(n.name,c.name)&&UA(c,o,n);e.unwrap()}},tm=(e,o,n,r=Me)=>{const c=o.getTextBlockElements(),u=o.getNonEmptyElements(),m=o.getWhitespaceElements(),b=Qt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),v=new Set,E=R=>R!==n&&!b[R.name];for(let R=0;R<e.length;R++){const N=e[R];let $,q,ne;if(!N.parent||v.has(N))continue;if(c[N.name]&&N.parent.name==="li"){let ce=N.next;for(;ce&&c[ce.name];){ce.name="li",v.add(ce),N.parent.insert(ce,N.parent);ce=ce.next}N.unwrap();continue}const Y=[N];for($=N.parent;$&&!o.isValidChild($.name,N.name)&&E($);$=$.parent)Y.push($);if($&&Y.length>1)if(aN(o,N,$))UA(N,o);else{Y.reverse(),q=Y[0].clone(),r(q);let ce=q;for(let _e=0;_e<Y.length-1;_e++){o.isValidChild(ce.name,Y[_e].name)&&_e>0?(ne=Y[_e].clone(),r(ne),ce.append(ne)):ne=ce;for(let Ie=Y[_e].firstChild;Ie&&Ie!==Y[_e+1];){const Pe=Ie.next;ne.append(Ie),Ie=Pe}ce=ne}kC(o,u,m,q)?$.insert(N,Y[0],!0):($.insert(q,Y[0],!0),$.insert(N,q)),$=Y[0],(kC(o,u,m,$)||vp($,"br"))&&$.empty().remove()}else if(N.parent){if(N.name==="li"){let ce=N.prev;if(ce&&(ce.name==="ul"||ce.name==="ol")){ce.append(N);continue}if(ce=N.next,ce&&(ce.name==="ul"||ce.name==="ol")&&ce.firstChild){ce.insert(N,ce.firstChild,!0);continue}const _e=new hl("ul",1);r(_e),N.wrap(_e);continue}if(o.isValidChild(N.parent.name,"div")&&o.isValidChild("div",N.name)){const ce=new hl("div",1);r(ce),N.wrap(ce)}else UA(N,o)}}},Ls=(e,o)=>{let n=e;for(;n;){if(n.name===o)return!0;n=n.parent}return!1},aN=(e,o,n=o.parent)=>n?e.children[o.name]&&!e.isValidChild(n.name,o.name)||o.name==="a"&&Ls(n,"a")?!0:Th(n)&&Jb(o)?!((n==null?void 0:n.firstChild)===o&&(n==null?void 0:n.lastChild)===o):!1:!1,f6=(e,o,n,r)=>{const c=document.createRange();return c.setStart(e,o),c.setEnd(n,r),c},m6=e=>{const o=yt.fromRangeStart(e),n=yt.fromRangeEnd(e),r=e.commonAncestorContainer;return qi(!1,r,n).map(c=>!Dl(o,n,r)&&Dl(o,c,r)?f6(o.container(),o.offset(),c.container(),c.offset()):e).getOr(e)},zr=e=>e.collapsed?e:m6(e),cN=e=>We(e.firstChild)&&e.firstChild===e.lastChild,Cw=e=>e.name==="br"||e.value===Ra,Sw=(e,o)=>e.getBlockElements()[o.name]&&cN(o)&&Cw(o.firstChild),Ew=(e,o)=>{const n=e.getNonEmptyElements();return We(o)&&(o.isEmpty(n)||Sw(e,o))},Tw=(e,o)=>{let n=o.firstChild,r=o.lastChild;return n&&n.name==="meta"&&(n=n.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),Ew(e,r)&&(r=r==null?void 0:r.prev),!n||n!==r?!1:n.name==="ul"||n.name==="ol"},iN=e=>{var o,n;const r=e.firstChild,c=e.lastChild;return r&&r.nodeName==="META"&&((o=r.parentNode)===null||o===void 0||o.removeChild(r)),c&&c.id==="mce_marker"&&((n=c.parentNode)===null||n===void 0||n.removeChild(c)),e},PZ=(e,o,n)=>{const r=o.serialize(n),c=e.createFragment(r);return iN(c)},$Z=e=>{var o;return be((o=e==null?void 0:e.childNodes)!==null&&o!==void 0?o:[],n=>n.nodeName==="LI")},IZ=e=>e.data===Ra||Ms(e),FZ=e=>We(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&IZ(e.firstChild),g6=e=>!e.firstChild||FZ(e),LZ=e=>e.length>0&&g6(e[e.length-1])?e.slice(0,-1):e,jA=(e,o)=>{const n=e.getParent(o,e.isBlock);return n&&n.nodeName==="LI"?n:null},p6=(e,o)=>!!jA(e,o),HZ=(e,o)=>{const n=o.cloneRange(),r=o.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},h6=(e,o)=>{const n=yt.before(e),c=_d(o).next(n);return c?c.toRange():null},va=(e,o)=>{const n=yt.after(e),c=_d(o).prev(n);return c?c.toRange():null},lN=(e,o,n,r)=>{const c=HZ(e,r),u=e.parentNode;return u&&(u.insertBefore(c[0],e),Qt.each(o,m=>{u.insertBefore(m,e)}),u.insertBefore(c[1],e),u.removeChild(e)),va(o[o.length-1],n)},uN=(e,o,n)=>{const r=e.parentNode;return r&&Qt.each(o,c=>{r.insertBefore(c,e)}),h6(e,n)},b6=(e,o,n,r)=>(r.insertAfter(o.reverse(),e),va(o[0],n)),y6=(e,o,n,r)=>{const c=PZ(o,e,r),u=jA(o,n.startContainer),m=LZ($Z(c.firstChild)),b=1,v=2,E=o.getRoot(),R=N=>{const $=yt.fromRangeStart(n),q=_d(o.getRoot()),ne=N===b?q.prev($):q.next($),Y=ne==null?void 0:ne.getNode();return Y?jA(o,Y)!==u:!0};return u?R(b)?uN(u,m,E):R(v)?b6(u,m,E,o):lN(u,m,E,n):null},v6=["pre"],mu=(e,o,n,r)=>{var c;const u=o.firstChild,m=o.lastChild,b=m.attr("data-mce-type")==="bookmark"?m.prev:m,v=u===b,E=K(v6,u.name);if(v&&E){const R=u.attr("contenteditable")!=="false",N=((c=e.getParent(n,e.isBlock))===null||c===void 0?void 0:c.nodeName.toLowerCase())===u.name,$=P.from(Eh(r,n)).forall(Ot);return R&&N&&$}else return!1},Ed=Pg,x6=(e,o,n)=>{if(We(n)){const r=e.getParent(o.endContainer,Ed);return n===r&&Uv(we.fromDom(n),o)}else return!1},WA=(e,o,n)=>{var r;if(n.getAttribute("data-mce-bogus")==="all")(r=n.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(o),n);else{const c=n.firstChild,u=n.lastChild;!c||c===u&&c.nodeName==="BR"?e.dom.setHTML(n,o):e.selection.setContent(o,{no_events:!0})}},ZA=(e,o,n)=>{P.from(e.getParent(o,"td,th")).map(we.fromDom).each(r=>Gy(r,n))},w6=(e,o)=>{const n=e.schema.getTextInlineElements(),r=e.dom;if(o){const c=e.getBody(),u=_w(e),m="*[data-mce-fragment]",b=r.select(m);Qt.each(b,v=>{const E=$=>We(n[$.nodeName.toLowerCase()]),R=$=>$.childNodes.length===1;if(($=>!(cR(r,$)||OF(r,$)))(v)&&E(v)&&R(v)){const $=m1(r,v),q=(_e,Ie)=>Ut(_e,Pe=>K(Ie,Pe)),ne=_e=>R(v)&&r.is(_e,m)&&E(_e)&&(_e.nodeName===v.nodeName&&q($,m1(r,_e))||ne(_e.children[0])),Y=_e=>We(_e)&&_e!==c&&(u.compare(v,_e)||Y(_e.parentElement)),ce=_e=>We(_e)&&_e!==c&&r.is(_e,m)&&(RF(r,v,_e)||ce(_e.parentElement));(ne(v.children[0])||Y(v.parentElement)&&!ce(v.parentElement))&&r.remove(v,!0)}})}},k6=e=>{let o=e;for(;o=o.walk();)o.type===1&&o.attr("data-mce-fragment","1")},Aw=e=>{Qt.each(e.getElementsByTagName("*"),o=>{o.removeAttribute("data-mce-fragment")})},_C=e=>!!e.getAttribute("data-mce-fragment"),qA=(e,o)=>We(o)&&!e.schema.getVoidElements()[o.nodeName],_6=(e,o)=>{var n,r,c;let u;const m=e.dom,b=e.selection;if(!o)return;b.scrollIntoView(o);const v=Eh(e.getBody(),o);if(v&&m.getContentEditable(v)==="false"){m.remove(o),b.select(v);return}let E=m.createRng();const R=o.previousSibling;if(Xt(R)){E.setStart(R,(r=(n=R.nodeValue)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);const q=o.nextSibling;Xt(q)&&(R.appendData(q.data),(c=q.parentNode)===null||c===void 0||c.removeChild(q))}else E.setStartBefore(o),E.setEndBefore(o);const N=q=>{let ne=yt.fromRangeStart(q);return ne=_d(e.getBody()).next(ne),ne==null?void 0:ne.toRange()},$=m.getParent(o,m.isBlock);if(m.remove(o),$&&m.isEmpty($)){const q=Ed($);ud(we.fromDom($)),E.setStart($,0),E.setEnd($,0),!q&&!_C($)&&(u=N(E))?(E=u,m.remove($)):m.add($,m.create("br",q?{}:{"data-mce-bogus":"1"}))}b.setRng(E)},om=e=>{const o=e.dom,n=zr(e.selection.getRng());e.selection.setRng(n);const r=o.getParent(n.startContainer,Ed);x6(o,n,r)?yC(e,n,we.fromDom(r)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&Xt(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},C6=e=>{for(let o=e;o;o=o.walk())if(o.attr("id")==="mce_marker")return P.some(o);return P.none()},S6=(e,o,n)=>{var r;return te(n.children(),Jb)&&((r=e.getParent(o,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},Td=(e,o,n)=>{var r,c;const u=e.selection,m=e.dom,b=e.parser,v=n.merge,E=bp({validate:!0},e.schema),R='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(o=ki(o)),o.indexOf("{$caret}")===-1&&(o+="{$caret}"),o=o.replace(/\{\$caret\}/,R);let N=u.getRng();const $=N.startContainer,q=e.getBody();$===q&&u.isCollapsed()&&m.isBlock(q.firstChild)&&qA(e,q.firstChild)&&m.isEmpty(q.firstChild)&&(N=m.createRng(),N.setStart(q.firstChild,0),N.setEnd(q.firstChild,0),u.setRng(N)),u.isCollapsed()||om(e);const ne=u.getNode(),Y={context:ne.nodeName.toLowerCase(),data:n.data,insert:!0},ce=b.parse(o,Y);if(n.paste===!0&&Tw(e.schema,ce)&&p6(m,ne))return N=y6(E,m,u.getRng(),ce),N&&u.setRng(N),o;n.paste===!0&&mu(m,ce,ne,e.getBody())&&((r=ce.firstChild)===null||r===void 0||r.unwrap()),k6(ce);let _e=ce.lastChild;if(_e&&_e.attr("id")==="mce_marker"){const Ie=_e;for(_e=_e.prev;_e;_e=_e.walk(!0))if(_e.type===3||!m.isBlock(_e.name)){_e.parent&&e.schema.isValidChild(_e.parent.name,"span")&&_e.parent.insert(Ie,_e,_e.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(ne),!Y.invalid&&!S6(m,ne,ce))o=E.serialize(ce),WA(e,o,ne);else{e.selection.setContent(R);let Ie=u.getNode(),Pe;const et=e.getBody();for(wm(Ie)?Ie=Pe=et:Pe=Ie;Pe&&Pe!==et;)Ie=Pe,Pe=Pe.parentNode;o=Ie===et?et.innerHTML:m.getOuterHTML(Ie);const $t=b.parse(o),mo=C6($t),Po=mo.bind(d6).getOr($t);mo.each(qo=>qo.replace(ce));const kt=ce.children(),ct=(c=ce.parent)!==null&&c!==void 0?c:$t;ce.unwrap();const Bt=be(kt,qo=>aN(e.schema,qo,ct));tm(Bt,e.schema,Po),HA(b.getNodeFilters(),b.getAttributeFilters(),$t),o=E.serialize($t),Ie===et?m.setHTML(et,o):m.setOuterHTML(Ie,o)}return w6(e,v),_6(e,m.get("mce_marker")),Aw(e.getBody()),ZA(m,u.getStart(),e.schema),ji(e.schema,e.getBody(),u.getStart()),o},Ah=e=>e instanceof hl,gf=e=>{hp(e)&&Zc(e.getBody()).each(o=>{const n=o.getNode(),r=eu(n)?Zc(n).getOr(o):o;e.selection.setRng(r.toRange())})},GA=(e,o,n)=>{e.dom.setHTML(e.getBody(),o),n!==!0&&gf(e)},fr=(e,o,n,r)=>{if(n=ki(n),n.length===0||/^\s+$/.test(n)){const c='<br data-mce-bogus="1">';o.nodeName==="TABLE"?n="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(n="<li>"+c+"</li>");const u=Uc(e);return e.schema.isValidChild(o.nodeName.toLowerCase(),u.toLowerCase())?(n=c,n=e.dom.createHTML(u,qm(e),n)):n||(n=c),GA(e,n,r.no_selection),{content:n,html:n}}else{r.format!=="raw"&&(n=bp({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const c=qy(we.fromDom(o))?n:Qt.trim(n);return GA(e,c,r.no_selection),{content:c,html:c}}},w1=(e,o,n,r)=>{HA(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const c=bp({validate:!1},e.schema).serialize(n),u=ki(qy(we.fromDom(o))?c:Qt.trim(c));return GA(e,u,r.no_selection),{content:n,html:u}},CC=(e,o,n)=>P.from(e.getBody()).map(r=>Ah(o)?w1(e,r,o,n):fr(e,r,o,n)).getOr({content:o,html:Ah(n.content)?"":n.content}),KA=e=>ie(e)?e:ke,YA=(e,o,n)=>{let r=e.dom;const c=KA(n);for(;r.parentNode;){r=r.parentNode;const u=we.fromDom(r),m=o(u);if(m.isSome())return m;if(c(u))break}return P.none()},zw=(e,o,n)=>{const r=o(e),c=KA(n);return r.orThunk(()=>c(e)?P.none():YA(e,o,c))},XA=ip,SC=(e,o,n)=>{const r=e.formatter.get(n);if(r)for(let c=0;c<r.length;c++){const u=r[c];if(uu(u)&&u.inherit===!1&&e.dom.is(o,u.selector))return!0}return!1},JA=(e,o,n,r,c)=>{const u=e.dom.getRoot();if(o===u)return!1;const m=e.dom.getParent(o,b=>SC(e,b,n)?!0:b.parentNode===u||!!pf(e,b,n,r,!0));return!!pf(e,m,n,r,c)},Ow=(e,o,n)=>wc(n)&&XA(o,n.inline)||Jf(n)&&XA(o,n.block)?!0:uu(n)?Do(o)&&e.is(o,n.selector):!1,QA=(e,o,n,r,c,u)=>{const m=n[r],b=r==="attributes";if(ie(n.onmatch))return n.onmatch(o,n,r);if(m){if(xo(m)){for(let v=0;v<m.length;v++)if(b?e.getAttrib(o,m[v]):Bb(e,o,m[v]))return!0}else for(const v in m)if(Qo(m,v)){const E=b?e.getAttrib(o,v):Bb(e,o,v),R=Xf(m[v],u),N=co(E)||ds(E);if(N&&co(R))continue;if(c&&N&&!n.exact||(!c||n.exact)&&!XA(E,B2(R,v)))return!1}}return!0},pf=(e,o,n,r,c)=>{const u=e.formatter.get(n),m=e.dom;if(u&&Do(o))for(let b=0;b<u.length;b++){const v=u[b];if(Ow(e.dom,o,v)&&QA(m,o,v,"attributes",c,r)&&QA(m,o,v,"styles",c,r)){const E=v.classes;if(E){for(let R=0;R<E.length;R++)if(!e.dom.hasClass(o,Xf(E[R],r)))return}return v}}},EC=(e,o,n,r,c)=>{if(r)return JA(e,r,o,n,c);if(r=e.selection.getNode(),JA(e,r,o,n,c))return!0;const u=e.selection.getStart();return!!(u!==r&&JA(e,u,o,n,c))},TC=(e,o,n)=>{const r=[],c={},u=e.selection.getStart();return e.dom.getParent(u,m=>{for(let b=0;b<o.length;b++){const v=o[b];!c[v]&&pf(e,m,v,n)&&(c[v]=!0,r.push(v))}},e.dom.getRoot()),r},E6=(e,o)=>{const n=c=>ts(c,we.fromDom(e.getBody())),r=(c,u)=>pf(e,c.dom,u)?P.some(u):P.none();return P.from(e.selection.getStart(!0)).bind(c=>zw(we.fromDom(c),u=>os(o,m=>r(u,m)),n)).getOrNull()},T6=(e,o)=>{const n=e.formatter.get(o),r=e.dom;if(n&&e.selection.isEditable()){const c=e.selection.getStart(),u=Xv(r,c);for(let m=n.length-1;m>=0;m--){const b=n[m];if(!uu(b))return!0;for(let v=u.length-1;v>=0;v--)if(r.is(u[v],b.selector))return!0}}return!1},A6=(e,o,n)=>Ee(n,(r,c)=>{const u=Zx(e,c);return e.formatter.matchNode(o,c,{},u)?r.concat([c]):r},[]),Dw=lc,z6=(e,o)=>e.importNode(o,!0),e4=e=>{if(e){const o=new bc(e,e);for(let n=o.current();n;n=o.next())if(Xt(n))return n}return null},t4=e=>{const o=we.fromTag("span");return pc(o,{id:$v,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Zr(o,we.fromText(Dw)),o},O6=e=>{const o=e4(e);return o&&o.data.charAt(0)===Dw&&o.deleteData(0,1),o},AC=(e,o,n)=>{const r=e.dom,c=e.selection;if(e1(o))Cd(e,!1,we.fromDom(o),n,!0);else{const u=c.getRng(),m=r.getParent(o,r.isBlock),b=u.startContainer,v=u.startOffset,E=u.endContainer,R=u.endOffset,N=O6(o);r.remove(o,!0),b===N&&v>0&&u.setStart(N,v-1),E===N&&R>0&&u.setEnd(N,R-1),m&&r.isEmpty(m)&&cu(we.fromDom(m)),c.setRng(u)}},zC=(e,o,n)=>{const r=e.dom,c=e.selection;if(o)AC(e,o,n);else if(o=np(e.getBody(),c.getStart()),!o)for(;o=r.get($v);)AC(e,o,n)},D6=(e,o,n)=>{var r,c;const u=e.dom,m=u.getParent(n,ye(Kv,e.schema));m&&u.isEmpty(m)?(r=n.parentNode)===null||r===void 0||r.replaceChild(o,n):(Pm(we.fromDom(n)),u.isEmpty(n)?(c=n.parentNode)===null||c===void 0||c.replaceChild(o,n):u.insertAfter(o,n))},dN=(e,o)=>(e.appendChild(o),o),o4=(e,o)=>{var n;const r=ut(e,(u,m)=>dN(u,m.cloneNode(!1)),o),c=(n=r.ownerDocument)!==null&&n!==void 0?n:document;return dN(r,c.createTextNode(Dw))},R6=(e,o,n,r,c,u)=>{const m=e.formatter,b=e.dom,v=be(vn(m.get()),N=>N!==r&&!ln(N,"removeformat")),E=A6(e,n,v);if(be(E,N=>!P2(e,N,r)).length>0){const N=n.cloneNode(!1);return b.add(o,N),m.remove(r,c,N,u),b.remove(N),P.some(N)}else return P.none()},n4=e=>H0(e,Mm(e).replace(new RegExp(`${Ra}$`)," ")),ju=(e,o)=>{const n=()=>{o!==null&&!e.dom.isEmpty(o)&&Yl(we.fromDom(o)).each(r=>{qs(r)?n4(r):zg(r,c=>qs(c)).each(c=>{qs(c)&&n4(c)})})};e.once("input",r=>{r.data&&!ng(r.data)&&(r.isComposing?e.once("compositionend",()=>{n()}):n())})},N6=(e,o,n)=>{let r;const c=e.selection,u=e.formatter.get(o);if(!u)return;const m=c.getRng();let b=m.startOffset;const E=m.startContainer.nodeValue;r=np(e.getBody(),c.getStart());const R=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(E&&b>0&&b<E.length&&R.test(E.charAt(b))&&R.test(E.charAt(b-1))){const N=c.getBookmark();m.collapse(!0);let $=up(e.dom,m,u);$=qt($),e.formatter.apply(o,n,$),c.moveToBookmark(N)}else{let N=r?e4(r):null;(!r||(N==null?void 0:N.data)!==Dw)&&(r=z6(e.getDoc(),t4(!0).dom),N=r.firstChild,m.insertNode(r),b=1,ju(e,r)),e.formatter.apply(o,n,r),c.setCursorLocation(N,b)}},fN=(e,o,n,r)=>{const c=e.dom,u=e.selection;let m=!1;const b=e.formatter.get(o);if(!b)return;const v=u.getRng(),E=v.startContainer,R=v.startOffset;let N=E;Xt(E)&&(R!==E.data.length&&(m=!0),N=N.parentNode);const $=[];let q;for(;N;){if(pf(e,N,o,n,r)){q=N;break}N.nextSibling&&(m=!0),$.push(N),N=N.parentNode}if(q)if(m){const ne=u.getBookmark();v.collapse(!0);let Y=up(c,v,b,!0);Y=qt(Y),e.formatter.remove(o,n,Y,r),u.moveToBookmark(ne)}else{const ne=np(e.getBody(),q),Y=We(ne)?c.getParents(q.parentNode,Xe,ne):[],ce=t4(!1).dom;D6(e,ce,ne??q);const _e=R6(e,ce,q,o,n,r),Ie=o4([...$,..._e.toArray(),...Y],ce);ne&&AC(e,ne,We(ne)),u.setCursorLocation(Ie,1),ju(e,ce),c.isEmpty(q)&&c.remove(q)}},s4=(e,o,n)=>{const r=e.selection,c=e.getBody();zC(e,null,n),(o===8||o===46)&&r.isCollapsed()&&r.getStart().innerHTML===Dw&&zC(e,np(c,r.getStart()),!0),(o===37||o===39)&&zC(e,np(c,r.getStart()),!0)},r4=e=>Xt(e)&&xs(e.data,Ra),mN=e=>{e.on("mouseup keydown",o=>{s4(e,o.keyCode,r4(e.selection.getRng().endContainer))})},a4=e=>{const o=t4(!1),n=o4(e,o.dom);return{caretContainer:o,caretPosition:yt(n,0)}},gN=(e,o)=>{const{caretContainer:n,caretPosition:r}=a4(o);return Oc(we.fromDom(e),n),sr(we.fromDom(e)),r},M6=(e,o)=>{const{caretContainer:n,caretPosition:r}=a4(o);return e.insertNode(n.dom),r},OC=(e,o)=>{if(lu(o.dom))return!1;const n=e.schema.getTextInlineElements();return Qo(n,oe(o))&&!lu(o.dom)&&!Mf(o.dom)},k1={},Wu=Sl(["pre"]),B6=(e,o)=>{k1[e]||(k1[e]=[]),k1[e].push(o)},P6=(e,o)=>{Qo(k1,e)&&V(k1[e],n=>{n(o)})};B6("pre",e=>{const o=e.selection.getRng(),n=c=>u=>{const m=u.previousSibling;return Wu(m)&&K(c,m)},r=(c,u)=>{const m=we.fromDom(u),b=Su(m).dom;sr(m),Tu(we.fromDom(c),[we.fromTag("br",b),we.fromTag("br",b),...Ia(m)])};if(!o.collapsed){const c=e.selection.getSelectedBlocks(),u=be(be(c,Wu),n(c));V(u,m=>{r(m.previousSibling,m)})}});const $6=["fontWeight","fontStyle","color","fontSize","fontFamily"],c4=e=>lt(e.styles)&&te(vn(e.styles),o=>K($6,o)),I6=e=>xt(e,o=>wc(o)&&o.inline==="span"&&c4(o)),F6=(e,o)=>{const n=e.get(o);return pt(n)?I6(n):P.none()},pN=(e,o)=>ml(o,yt.fromRangeStart(e)).isNone(),DC=(e,o)=>Gi(o,yt.fromRangeEnd(e)).exists(n=>!Ms(n.getNode())||Gi(o,n).isSome())===!1,hf=e=>o=>By(o)&&e.isEditable(o),i4=e=>{const o=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(o.length===1)return pN(n,o[0])&&DC(n,o[0])?o:[];{const r=Bo(o).filter(m=>pN(n,m)).toArray(),c=Wn(o).filter(m=>DC(n,m)).toArray(),u=o.slice(1,-1);return r.concat(u).concat(c)}},RC=e=>be(i4(e),hf(e.dom)),NC=e=>be(e.getSelectedBlocks(),hf(e.dom)),l4=Qt.each,MC=e=>Do(e)&&!Rl(e)&&!lu(e)&&!Mf(e),hN=(e,o)=>{for(let n=e;n;n=n[o]){if(Xt(n)&&xn(n.data))return e;if(Do(n)&&!Rl(n))return n}return e},u4=(e,o,n)=>{const r=_w(e),c=tl(o)&&e.dom.isEditable(o),u=tl(n)&&e.dom.isEditable(n);if(c&&u){const m=hN(o,"previousSibling"),b=hN(n,"nextSibling");if(r.compare(m,b)){for(let v=m.nextSibling;v&&v!==b;){const E=v;v=v.nextSibling,m.appendChild(E)}return e.dom.remove(b),Qt.each(Qt.grep(b.childNodes),v=>{m.appendChild(v)}),m}}return n},BC=(e,o,n,r)=>{var c;if(r&&o.merge_siblings!==!1){const u=(c=u4(e,Gv(r),r))!==null&&c!==void 0?c:r;u4(e,u,Gv(u,!0))}},L6=(e,o,n)=>{if(o.clear_child_styles){const r=o.links?"*:not(a)":"*";l4(e.select(r,n),c=>{MC(c)&&e.isEditable(c)&&l4(o.styles,(u,m)=>{e.setStyle(c,m,"")})})}},PC=(e,o,n)=>{l4(e.childNodes,r=>{MC(r)&&(o(r)&&n(r),r.hasChildNodes()&&PC(r,o,n))})},H6=(e,o)=>{o.nodeName==="SPAN"&&e.getAttribs(o).length===0&&e.remove(o,!0)},zh=(e,o)=>n=>!!(n&&Bb(e,n,o)),d4=(e,o,n)=>r=>{e.setStyle(r,o,n),r.getAttribute("style")===""&&r.removeAttribute("style"),H6(e,r)},ey=wd.generate([{keep:[]},{rename:["name"]},{removed:[]}]),bN=/^(src|href|style)$/,f4=Qt.each,$C=ip,V6=e=>/^(TR|TH|TD)$/.test(e.nodeName),yN=(e,o,n)=>e.isChildOf(o,n)&&o!==n&&!e.isBlock(n),vN=(e,o,n)=>{let r=o[n?"startContainer":"endContainer"],c=o[n?"startOffset":"endOffset"];if(Do(r)){const u=r.childNodes.length-1;!n&&c&&c--,r=r.childNodes[c>u?u:c]}return Xt(r)&&n&&c>=r.data.length&&(r=new bc(r,e.getBody()).next()||r),Xt(r)&&!n&&c===0&&(r=new bc(r,e.getBody()).prev()||r),r},m4=(e,o)=>{const n=o?"firstChild":"lastChild",r=e[n];return V6(e)&&r?e.nodeName==="TR"&&r[n]||r:e},g4=(e,o,n,r)=>{var c;const u=e.create(n,r);return(c=o.parentNode)===null||c===void 0||c.insertBefore(u,o),u.appendChild(o),u},IC=(e,o,n,r,c)=>{const u=we.fromDom(o),m=we.fromDom(e.create(r,c)),b=n?jd(u):Eg(u);return Tu(m,b),n?(Oc(u,m),ym(m,u)):(di(u,m),Zr(m,u)),m.dom},ty=(e,o)=>o.links&&e.nodeName==="A",xN=(e,o,n)=>{const r=o.parentNode;let c;const u=e.dom,m=Uc(e);Jf(n)&&r===u.getRoot()&&(!n.list_block||!$C(o,n.list_block))&&V(bs(o.childNodes),b=>{sg(e,m,b.nodeName.toLowerCase())?c?c.appendChild(b):(c=g4(u,b,m),u.setAttribs(c,qm(e))):c=null}),!(Qf(n)&&!$C(n.inline,o))&&u.remove(o,!0)},wN=(e,o,n)=>gn(e)?{name:o,value:null}:{name:e,value:Xf(o,n)},Rw=(e,o)=>{e.getAttrib(o,"style")===""&&(o.removeAttribute("style"),o.removeAttribute("data-mce-style"))},p4=(e,o,n,r,c)=>{let u=!1;f4(n.styles,(m,b)=>{const{name:v,value:E}=wN(b,m,r),R=B2(E,v);(n.remove_similar||U(E)||!Do(c)||$C(Bb(e,c,v),R))&&e.setStyle(o,v,""),u=!0}),u&&Rw(e,o)},kN=(e,o,n)=>{o==="removeformat"?V(NC(e.selection),r=>{V($6,c=>e.dom.setStyle(r,c,"")),Rw(e.dom,r)}):F6(e.formatter,o).each(r=>{V(NC(e.selection),c=>p4(e.dom,c,r,n,null))})},_N=(e,o,n,r,c)=>{const u=e.dom,m=_w(e),b=e.schema;if(wc(o)&&ou(b,o.inline)&&Nu(b,r)&&r.parentElement===e.getBody())return xN(e,r,o),ey.removed();if(!o.ceFalseOverride&&r&&u.getContentEditableParent(r)==="false"||r&&!Ow(u,r,o)&&!ty(r,o))return ey.keep();const v=r,E=o.preserve_attributes;if(wc(o)&&o.remove==="all"&&pt(E)){const R=be(u.getAttribs(v),N=>K(E,N.name.toLowerCase()));if(u.removeAllAttribs(v),V(R,N=>u.setAttrib(v,N.name,N.value)),R.length>0)return ey.rename("span")}if(o.remove!=="all"){p4(u,v,o,n,c),f4(o.attributes,(N,$)=>{const{name:q,value:ne}=wN($,N,n);if(o.remove_similar||U(ne)||!Do(c)||$C(u.getAttrib(c,q),ne)){if(q==="class"){const Y=u.getAttrib(v,q);if(Y){let ce="";if(V(Y.split(/\s+/),_e=>{/mce\-\w+/.test(_e)&&(ce+=(ce?" ":"")+_e)}),ce){u.setAttrib(v,q,ce);return}}}if(bN.test(q)&&v.removeAttribute("data-mce-"+q),q==="style"&&Sl(["li"])(v)&&u.getStyle(v,"list-style-type")==="none"){v.removeAttribute(q),u.setStyle(v,"list-style-type","none");return}q==="class"&&v.removeAttribute("className"),v.removeAttribute(q)}}),f4(o.classes,N=>{N=Xf(N,n),(!Do(c)||u.hasClass(c,N))&&u.removeClass(v,N)});const R=u.getAttribs(v);for(let N=0;N<R.length;N++){const $=R[N].nodeName;if(!m.isAttributeInternal($))return ey.keep()}}return o.remove!=="none"?(xN(e,v,o),ey.removed()):ey.keep()},CN=(e,o,n,r,c)=>{let u;return o.parentNode&&V(Xv(e.dom,o.parentNode).reverse(),m=>{if(!u&&Do(m)&&m.id!=="_start"&&m.id!=="_end"){const b=pf(e,m,n,r,c);b&&b.split!==!1&&(u=m)}}),u},U6=(e,o,n,r)=>_N(e,o,n,r,r).fold(ue(r),c=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,c)),ue(null)),oy=(e,o,n,r,c,u,m,b)=>{var v,E;let R,N;const $=e.dom;if(n){const q=n.parentNode;for(let ne=r.parentNode;ne&&ne!==q;ne=ne.parentNode){let Y=$.clone(ne,!1);for(let ce=0;ce<o.length&&(Y=U6(e,o[ce],b,Y),Y!==null);ce++);Y&&(R&&Y.appendChild(R),N||(N=Y),R=Y)}(!m.mixed||!$.isBlock(n))&&(r=(v=$.split(n,r))!==null&&v!==void 0?v:r),R&&N&&((E=c.parentNode)===null||E===void 0||E.insertBefore(R,c),N.appendChild(c),wc(m)&&BC(e,m,b,R))}return r},SN=(e,o,n,r,c)=>{const u=e.formatter.get(o),m=u[0],b=e.dom,v=e.selection,E=Y=>{const ce=CN(e,Y,o,n,c);return oy(e,u,ce,Y,Y,!0,m,n)},R=Y=>Rl(Y)&&Do(Y)&&(Y.id==="_start"||Y.id==="_end"),N=Y=>te(u,ce=>_1(e,ce,n,Y,Y)),$=Y=>{const ce=bs(Y.childNodes),Ie=N(Y)||te(u,$t=>Ow(b,Y,$t)),Pe=Y.parentNode;if(!Ie&&We(Pe)&&qx(m)&&N(Pe),m.deep&&ce.length)for(let $t=0;$t<ce.length;$t++)$(ce[$t]);V(["underline","line-through","overline"],$t=>{Do(Y)&&e.dom.getStyle(Y,"text-decoration")===$t&&Y.parentNode&&Wx(b,Y.parentNode)===$t&&_1(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:$t}},void 0,Y)})},q=Y=>{const ce=b.get(Y?"_start":"_end");if(ce){let _e=ce[Y?"firstChild":"lastChild"];return R(_e)&&(_e=_e[Y?"firstChild":"lastChild"]),Xt(_e)&&_e.data.length===0&&(_e=Y?ce.previousSibling||ce.nextSibling:ce.nextSibling||ce.previousSibling),b.remove(ce,!0),_e}else return null},ne=Y=>{let ce,_e,Ie=up(b,Y,u,Y.collapsed);if(m.split){if(Ie=qt(Ie),ce=vN(e,Ie,!0),_e=vN(e,Ie),ce!==_e){if(ce=m4(ce,!0),_e=m4(_e,!1),yN(b,ce,_e)){const et=P.from(ce.firstChild).getOr(ce);E(IC(b,et,!0,"span",{id:"_start","data-mce-type":"bookmark"})),q(!0);return}if(yN(b,_e,ce)){const et=P.from(_e.lastChild).getOr(_e);E(IC(b,et,!1,"span",{id:"_end","data-mce-type":"bookmark"})),q(!1);return}ce=g4(b,ce,"span",{id:"_start","data-mce-type":"bookmark"}),_e=g4(b,_e,"span",{id:"_end","data-mce-type":"bookmark"});const Pe=b.createRng();Pe.setStartAfter(ce),Pe.setEndBefore(_e),Ib(b,Pe,et=>{V(et,$t=>{!Rl($t)&&!Rl($t.parentNode)&&E($t)})}),E(ce),E(_e),ce=q(!0),_e=q()}else ce=_e=E(ce);Ie.startContainer=ce.parentNode?ce.parentNode:ce,Ie.startOffset=b.nodeIndex(ce),Ie.endContainer=_e.parentNode?_e.parentNode:_e,Ie.endOffset=b.nodeIndex(_e)+1}Ib(b,Ie,Pe=>{V(Pe,$)})};if(r){if(Zv(r)){const Y=b.createRng();Y.setStartBefore(r),Y.setEndAfter(r),ne(Y)}else ne(r);Nl(e,o,r,n);return}!v.isCollapsed()||!wc(m)||gh(e).length?(lf(e,()=>jv(e,ne),Y=>wc(m)&&EC(e,o,n,Y)),e.nodeChanged()):fN(e,o,n,c),kN(e,o,n),Nl(e,o,r,n)},h4=(e,o,n,r,c)=>{(r||e.selection.isEditable())&&SN(e,o,n,r,c)},_1=(e,o,n,r,c)=>_N(e,o,n,r,c).fold(ke,u=>(e.dom.rename(r,u),!0),Xe),Nw=Qt.each,EN=(e,o,n,r)=>{const c=u=>{if(tl(u)&&Do(u.parentNode)&&e.isEditable(u)){const m=Wx(e,u.parentNode);e.getStyle(u,"color")&&m?e.setStyle(u,"text-decoration",m):e.getStyle(u,"text-decoration")===m&&e.setStyle(u,"text-decoration",null)}};o.styles&&(o.styles.color||o.styles.textDecoration)&&(Qt.walk(r,c,"childNodes"),c(r))},j6=(e,o,n,r)=>{if(o.styles&&o.styles.backgroundColor){const c=zh(e,"fontSize");PC(r,u=>c(u)&&e.isEditable(u),d4(e,"backgroundColor",Xf(o.styles.backgroundColor,n)))}},TN=(e,o,n,r)=>{if(wc(o)&&(o.inline==="sub"||o.inline==="sup")){const c=zh(e,"fontSize");PC(r,m=>c(m)&&e.isEditable(m),d4(e,"fontSize",""));const u=be(e.select(o.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(u,!0)}},W6=(e,o,n,r)=>{Nw(o,c=>{wc(c)&&Nw(e.dom.select(c.inline,r),u=>{MC(u)&&_1(e,c,n,u,c.exact?u:null)}),L6(e.dom,c,r)})},Z6=(e,o,n,r,c)=>{const u=c.parentNode;pf(e,u,n,r)&&_1(e,o,r,c)||o.merge_with_parents&&u&&e.dom.getParent(u,m=>pf(e,m,n,r)?(_1(e,o,r,c),!0):!1)},ny=Qt.each,AN=(e,o,n,r)=>{if(Y_(e)&&wc(o)&&n.parentNode){const c=Iy(e.schema),u=Ry(we.fromDom(n),m=>lu(m.dom));return Vs(c,r)&&Ru(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!u}else return!1},FC=(e,o,n,r)=>{if(ny(n.styles,(c,u)=>{e.setStyle(o,u,Xf(c,r))}),n.styles){const c=e.getAttrib(o,"style");c&&e.setAttrib(o,"data-mce-style",c)}},q6=(e,o,n,r)=>{const c=e.formatter.get(o),u=c[0],m=!r&&e.selection.isCollapsed(),b=e.dom,v=e.selection,E=(ne,Y=u)=>{ie(Y.onformat)&&Y.onformat(ne,Y,n,r),FC(b,ne,Y,n),ny(Y.attributes,(ce,_e)=>{b.setAttrib(ne,_e,Xf(ce,n))}),ny(Y.classes,ce=>{const _e=Xf(ce,n);b.hasClass(ne,_e)||b.addClass(ne,_e)})},R=(ne,Y)=>{let ce=!1;return ny(ne,_e=>uu(_e)?b.getContentEditable(Y)==="false"&&!_e.ceFalseOverride||We(_e.collapsed)&&_e.collapsed!==m?!0:b.is(Y,_e.selector)&&!lu(Y)?(E(Y,_e),ce=!0,!1):!0:!1),ce},N=ne=>{if(X(ne)){const Y=b.create(ne);return E(Y),Y}else return null},$=(ne,Y,ce)=>{const _e=[];let Ie=!0;const Pe=u.inline||u.block,et=N(Pe),$t=kt=>Qv(u)&&pf(e,kt,o,n),mo=(kt,ct,Bt)=>{const qo=$2(u)&&Kv(e.schema,kt)&&sg(e,ct,Pe);return Bt&&qo},Po=(kt,ct,Bt,qo)=>{const un=kt.nodeName.toLowerCase(),us=sg(e,Pe,un)&&sg(e,ct,Pe),gs=!ce&&Xt(kt)&&j0(kt.data),Ws=lu(kt),rr=!wc(u)||!ne.isBlock(kt);return(Bt||qo)&&us&&!gs&&!Ws&&rr};Ib(ne,Y,kt=>{let ct;const Bt=qo=>{let un=!1,us=Ie,gs=!1;const Ws=qo.parentNode,rr=Ws.nodeName.toLowerCase(),xa=ne.getContentEditable(qo);We(xa)&&(us=Ie,Ie=xa==="true",un=!0,gs=jx(e,qo));const oc=Ie&&!un;if(Ms(qo)&&!AN(e,u,qo,rr)){ct=null,Jf(u)&&ne.remove(qo);return}if($t(qo)){ct=null;return}if(mo(qo,rr,oc)){const gr=ne.rename(qo,Pe);E(gr),_e.push(gr),ct=null;return}if(uu(u)){let gr=R(c,qo);if(!gr&&We(Ws)&&qx(u)&&(gr=R(c,Ws)),!wc(u)||gr){ct=null;return}}We(et)&&Po(qo,rr,oc,gs)?(ct||(ct=ne.clone(et,!1),Ws.insertBefore(ct,qo),_e.push(ct)),gs&&un&&(Ie=us),ct.appendChild(qo)):(ct=null,V(bs(qo.childNodes),Bt),un&&(Ie=us),ct=null)};V(kt,Bt)}),u.links===!0&&V(_e,kt=>{const ct=Bt=>{Bt.nodeName==="A"&&E(Bt,u),V(bs(Bt.childNodes),ct)};ct(kt)}),V(_e,kt=>{const ct=un=>{let us=0;return V(un.childNodes,gs=>{!Vx(gs)&&!Rl(gs)&&us++}),us},Bt=un=>xt(un.childNodes,qv).filter(gs=>ne.getContentEditable(gs)!=="false"&&Ow(ne,gs,u)).map(gs=>{const Ws=ne.clone(gs,!1);return E(Ws),ne.replace(Ws,un,!0),ne.remove(gs,!0),Ws}).getOr(un),qo=ct(kt);if((_e.length>1||!ne.isBlock(kt))&&qo===0){ne.remove(kt,!0);return}(wc(u)||Jf(u)&&u.wrapper)&&(!u.exact&&qo===1&&(kt=Bt(kt)),W6(e,c,n,kt),Z6(e,u,o,n,kt),j6(ne,u,n,kt),EN(ne,u,n,kt),TN(ne,u,n,kt),BC(e,u,n,kt))})},q=Zv(r)?r:v.getNode();if(b.getContentEditable(q)==="false"&&!jx(e,q)){r=q,R(c,r),fu(e,o,r,n);return}if(u){if(r)if(Zv(r)){if(!R(c,r)){const ne=b.createRng();ne.setStartBefore(r),ne.setEndAfter(r),$(b,up(b,ne,c),!0)}}else $(b,r,!0);else!m||!wc(u)||gh(e).length?(v.setRng(zr(v.getRng())),lf(e,()=>{jv(e,(ne,Y)=>{const ce=Y?ne:up(b,ne,c);$(b,ce,!1)})},Xe),e.nodeChanged()):N6(e,o,n),F6(e.formatter,o).each(ne=>{V(RC(e.selection),Y=>FC(b,Y,ne,n))});P6(o,e)}fu(e,o,r,n)},zN=(e,o,n,r)=>{(r||e.selection.isEditable())&&q6(e,o,n,r)},b4=e=>Qo(e,"vars"),y4=(e,o)=>{e.set({}),o.on("NodeChange",n=>{RN(o,n.element,e.get())}),o.on("FormatApply FormatRemove",n=>{const r=P.from(n.node).map(c=>Zv(c)?c:c.startContainer).bind(c=>Do(c)?P.some(c):P.from(c.parentElement)).getOrThunk(()=>v4(o));RN(o,r,e.get())})},v4=e=>e.selection.getStart(),ON=(e,o,n,r,c)=>Ke(o,b=>{const v=e.formatter.matchNode(b,n,c??{},r);return!ko(v)},b=>SC(e,b,n)?!0:r?!1:We(e.formatter.matchNode(b,n,c,!0))),DN=(e,o)=>{const n=o??v4(e);return be(Xv(e.dom,n),r=>Do(r)&&!Mf(r))},RN=(e,o,n)=>{const r=DN(e,o);Kt(n,(c,u)=>{const m=b=>{const v=ON(e,r,u,b.similar,b4(b)?b.vars:void 0),E=v.isSome();if(b.state.get()!==E){b.state.set(E);const R=v.getOr(o);b4(b)?b.callback(E,{node:R,format:u,parents:r}):V(b.callbacks,N=>N(E,{node:R,format:u,parents:r}))}};V([c.withSimilar,c.withoutSimilar],m),V(c.withVars,m)})},LC=(e,o,n,r,c,u)=>{const m=o.get();V(n.split(","),b=>{const v=vs(m,b).getOrThunk(()=>{const R={withSimilar:{state:Ve(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ve(!1),similar:!1,callbacks:[]},withVars:[]};return m[b]=R,R}),E=()=>{const R=DN(e);return ON(e,R,b,c,u).isSome()};if(ko(u)){const R=c?v.withSimilar:v.withoutSimilar;R.callbacks.push(r),R.callbacks.length===1&&R.state.set(E())}else v.withVars.push({state:Ve(E()),similar:c,vars:u,callback:r})}),o.set(m)},xp=(e,o,n)=>{const r=e.get();V(o.split(","),c=>vs(r,c).each(u=>{r[c]={withSimilar:{...u.withSimilar,callbacks:be(u.withSimilar.callbacks,m=>m!==n)},withoutSimilar:{...u.withoutSimilar,callbacks:be(u.withoutSimilar.callbacks,m=>m!==n)},withVars:be(u.withVars,m=>m.callback!==n)}})),e.set(r)},G6=(e,o,n,r,c,u)=>(LC(e,o,n,r,c,u),{unbind:()=>xp(o,n,r)}),x4=(e,o,n,r)=>{const c=e.formatter.get(o);c&&(EC(e,o,n,r)&&(!("toggle"in c[0])||c[0].toggle)?h4(e,o,n,r):zN(e,o,n,r))},Ma=Qt.explode,HC=()=>{const e={};return{addFilter:(c,u)=>{V(Ma(c),m=>{Qo(e,m)||(e[m]={name:m,callbacks:[]}),e[m].callbacks.push(u)})},getFilters:()=>ia(e),removeFilter:(c,u)=>{V(Ma(c),m=>{if(Qo(e,m))if(We(u)){const b=e[m],v=be(b.callbacks,E=>E!==u);v.length>0?b.callbacks=v:delete e[m]}else delete e[m]})}}},w4=(e,o)=>{V(o,n=>{e.attr(n,null)})},wp=(e,o,n)=>{e.addNodeFilter("font",r=>{V(r,c=>{const u=o.parse(c.attr("style")),m=c.attr("color"),b=c.attr("face"),v=c.attr("size");m&&(u.color=m),b&&(u["font-family"]=b),v&&la(v).each(E=>{u["font-size"]=n[E-1]}),c.name="span",c.attr("style",o.serialize(u)),w4(c,["color","face","size"])})})},NN=(e,o,n)=>{e.addNodeFilter("strike",r=>{const c=o.type!=="html4";V(r,u=>{if(c)u.name="s";else{const m=n.parse(u.attr("style"));m["text-decoration"]="line-through",u.name="span",u.attr("style",n.serialize(m))}})})},MN=(e,o,n)=>{var r;const c=C0();o.convert_fonts_to_spans&&wp(e,c,Qt.explode((r=o.font_size_legacy_values)!==null&&r!==void 0?r:"")),NN(e,n,c)},Mw=(e,o,n)=>{o.inline_styles&&MN(e,o,n)},K6=e=>fetch(e).then(o=>o.ok?o.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),Y6=e=>{const o=/([a-z0-9+\/=\s]+)/i.exec(e);return o?o[1]:""},Oh=e=>{const[o,...n]=e.split(","),r=n.join(","),c=/data:([^/]+\/[^;]+)(;.+)?/.exec(o);if(c){const u=c[2]===";base64",m=u?Y6(r):decodeURIComponent(r);return P.some({type:c[1],data:m,base64Encoded:u})}else return P.none()},BN=(e,o,n=!0)=>{let r=o;if(n)try{r=atob(o)}catch{return P.none()}const c=new Uint8Array(r.length);for(let u=0;u<c.length;u++)c[u]=r.charCodeAt(u);return P.some(new Blob([c],{type:e}))},sy=e=>new Promise((o,n)=>{Oh(e).bind(({type:r,data:c,base64Encoded:u})=>BN(r,c,u)).fold(()=>n("Invalid data URI"),o)}),X6=e=>_n(e,"blob:")?K6(e):_n(e,"data:")?sy(e):Promise.reject("Unknown URI format"),kp=e=>new Promise((o,n)=>{const r=new FileReader;r.onloadend=()=>{o(r.result)},r.onerror=()=>{var c;n((c=r.error)===null||c===void 0?void 0:c.message)},r.readAsDataURL(e)});let J6=0;const Ad=e=>"blobid"+J6++,C1=(e,o,n)=>Oh(e).bind(({data:r,type:c,base64Encoded:u})=>{if(o&&!u)return P.none();{const m=u?r:btoa(r);return n(m,c)}}),VC=(e,o,n)=>{const r=e.create(Ad(),o,n);return e.add(r),r},UC=(e,o,n=!1)=>C1(o,n,(r,c)=>P.from(e.getByData(r,c)).orThunk(()=>BN(c,r).map(u=>VC(e,u,r)))),Q6=(e,o)=>{const n=()=>Promise.reject("Invalid data URI");if(_n(o,"blob:")){const r=e.getByUri(o);return We(r)?Promise.resolve(r):X6(o).then(c=>kp(c).then(u=>C1(u,!1,m=>P.some(VC(e,c,m))).getOrThunk(n)))}else return _n(o,"data:")?UC(e,o).fold(n,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},jC=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,eL=e=>P.from(e.match(jC)).bind(o=>Hn(o,1)).map(o=>_n(o,"www.")?o.substring(4):o),zd=(e,o)=>{P.from(e.attr("src")).bind(eL).forall(n=>!K(o,n))&&e.attr("sandbox","")},S1=(e,o)=>_n(e,`${o}/`),PN=e=>ko(e)?"iframe":S1(e,"image")?"img":S1(e,"video")?"video":S1(e,"audio")?"audio":"iframe",k4=({type:e,src:o,width:n,height:r}={},c,u)=>{const m=PN(e),b=new hl(m,1);return b.attr(m==="audio"?{src:o}:{src:o,width:n,height:r}),(m==="audio"||m==="video")&&b.attr("controls",""),m==="iframe"&&c&&zd(b,u),b},_4=e=>We(e.attr("data-mce-bogus")),ry=e=>e.attr("src")===on.transparentSrc||We(e.attr("data-mce-placeholder")),C4=(e,o)=>{const{blob_cache:n}=o;if(n){const r=c=>{const u=c.attr("src");ry(c)||_4(c)||co(u)||UC(n,u,!0).each(m=>{c.attr("src",m.blobUri())})};e.addAttributeFilter("src",c=>V(c,r))}},tL=(e,o)=>{var n,r;const c=e.schema;e.addAttributeFilter("href",v=>{let E=v.length;const R=$=>$.split(" ").filter(ne=>ne.length>0).concat(["noopener"]).sort().join(" "),N=$=>{const q=$?Qt.trim($):"";return/\b(noopener)\b/g.test(q)?q:R(q)};if(!o.allow_unsafe_link_target)for(;E--;){const $=v[E];$.name==="a"&&$.attr("target")==="_blank"&&$.attr("rel",N($.attr("rel")))}}),o.allow_html_in_named_anchor||e.addAttributeFilter("id,name",v=>{let E=v.length,R,N,$,q;for(;E--;)if(q=v[E],q.name==="a"&&q.firstChild&&!q.attr("href"))for($=q.parent,R=q.lastChild;R&&$;)N=R.prev,$.insert(R,q),R=N}),o.fix_list_elements&&e.addNodeFilter("ul,ol",v=>{let E=v.length,R,N;for(;E--;)if(R=v[E],N=R.parent,N&&(N.name==="ul"||N.name==="ol"))if(R.prev&&R.prev.name==="li")R.prev.append(R);else{const $=new hl("li",1);$.attr("style","list-style-type: none"),R.wrap($)}});const u=c.getValidClasses();o.validate&&u&&e.addAttributeFilter("class",v=>{var E;let R=v.length;for(;R--;){const N=v[R],$=(E=N.attr("class"))!==null&&E!==void 0?E:"",q=Qt.explode($," ");let ne="";for(let Y=0;Y<q.length;Y++){const ce=q[Y];let _e=!1,Ie=u["*"];Ie&&Ie[ce]&&(_e=!0),Ie=u[N.name],!_e&&Ie&&Ie[ce]&&(_e=!0),_e&&(ne&&(ne+=" "),ne+=ce)}ne.length||(ne=null),N.attr("class",ne)}}),C4(e,o);const m=(n=o.sandbox_iframes)!==null&&n!==void 0?n:!1,b=Ys((r=o.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);o.convert_unsafe_embeds&&e.addNodeFilter("object,embed",v=>V(v,E=>{E.replace(k4({type:E.attr("type"),src:E.name==="object"?E.attr("data"):E.attr("src"),width:E.attr("width"),height:E.attr("height")},m,b))})),m&&e.addNodeFilter("iframe",v=>V(v,E=>zd(E,b)))},{entries:S4,setPrototypeOf:$N,isFrozen:oL,getPrototypeOf:nL,getOwnPropertyDescriptor:sL}=Object;let{freeze:zi,seal:nm,create:IN}=Object,{apply:Bw,construct:E4}=typeof Reflect<"u"&&Reflect;Bw||(Bw=function(o,n,r){return o.apply(n,r)}),zi||(zi=function(o){return o}),nm||(nm=function(o){return o}),E4||(E4=function(o,n){return new o(...n)});const FN=bf(Array.prototype.forEach),LN=bf(Array.prototype.pop),Pw=bf(Array.prototype.push),WC=bf(String.prototype.toLowerCase),T4=bf(String.prototype.toString),rL=bf(String.prototype.match),sm=bf(String.prototype.replace),aL=bf(String.prototype.indexOf),cL=bf(String.prototype.trim),Od=bf(RegExp.prototype.test),$w=iL(TypeError);function bf(e){return function(o){for(var n=arguments.length,r=new Array(n>1?n-1:0),c=1;c<n;c++)r[c-1]=arguments[c];return Bw(e,o,r)}}function iL(e){return function(){for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return E4(e,n)}}function mr(e,o,n){var r;n=(r=n)!==null&&r!==void 0?r:WC,$N&&$N(e,null);let c=o.length;for(;c--;){let u=o[c];if(typeof u=="string"){const m=n(u);m!==u&&(oL(o)||(o[c]=m),u=m)}e[u]=!0}return e}function E1(e){const o=IN(null);for(const[n,r]of S4(e))o[n]=r;return o}function Iw(e,o){for(;e!==null;){const r=sL(e,o);if(r){if(r.get)return bf(r.get);if(typeof r.value=="function")return bf(r.value)}e=nL(e)}function n(r){return console.warn("fallback value for",r),null}return n}const HN=zi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Dh=zi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),A4=zi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),lL=zi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),z4=zi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),uL=zi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),O4=zi(["#text"]),VN=zi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),D4=zi(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),UN=zi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ZC=zi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),dL=nm(/\{\{[\w\W]*|[\w\W]*\}\}/gm),fL=nm(/<%[\w\W]*|[\w\W]*%>/gm),mL=nm(/\${[\w\W]*}/gm),gL=nm(/^data-[\-\w.\u00B7-\uFFFF]/),pL=nm(/^aria-[\-\w]+$/),jN=nm(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),R4=nm(/^(?:\w+script|data):/i),WN=nm(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),hL=nm(/^html$/i);var T1=Object.freeze({__proto__:null,MUSTACHE_EXPR:dL,ERB_EXPR:fL,TMPLIT_EXPR:mL,DATA_ATTR:gL,ARIA_ATTR:pL,IS_ALLOWED_URI:jN,IS_SCRIPT_OR_DATA:R4,ATTR_WHITESPACE:WN,DOCTYPE_NAME:hL});const bL=()=>typeof window>"u"?null:window,ZN=function(o,n){if(typeof o!="object"||typeof o.createPolicy!="function")return null;let r=null;const c="data-tt-policy-suffix";n&&n.hasAttribute(c)&&(r=n.getAttribute(c));const u="dompurify"+(r?"#"+r:"");try{return o.createPolicy(u,{createHTML(m){return m},createScriptURL(m){return m}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}};function qN(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bL();const o=hs=>qN(hs);if(o.version="3.0.5",o.removed=[],!e||!e.document||e.document.nodeType!==9)return o.isSupported=!1,o;const n=e.document,r=n.currentScript;let{document:c}=e;const{DocumentFragment:u,HTMLTemplateElement:m,Node:b,Element:v,NodeFilter:E,NamedNodeMap:R=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:N,DOMParser:$,trustedTypes:q}=e,ne=v.prototype,Y=Iw(ne,"cloneNode"),ce=Iw(ne,"nextSibling"),_e=Iw(ne,"childNodes"),Ie=Iw(ne,"parentNode");if(typeof m=="function"){const hs=c.createElement("template");hs.content&&hs.content.ownerDocument&&(c=hs.content.ownerDocument)}let Pe,et="";const{implementation:$t,createNodeIterator:mo,createDocumentFragment:Po,getElementsByTagName:kt}=c,{importNode:ct}=n;let Bt={};o.isSupported=typeof S4=="function"&&typeof Ie=="function"&&$t&&$t.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:qo,ERB_EXPR:un,TMPLIT_EXPR:us,DATA_ATTR:gs,ARIA_ATTR:Ws,IS_SCRIPT_OR_DATA:rr,ATTR_WHITESPACE:xa}=T1;let{IS_ALLOWED_URI:oc}=T1,gr=null;const vo=mr({},[...HN,...Dh,...A4,...z4,...O4]);let an=null;const Ps=mr({},[...VN,...D4,...UN,...ZC]);let zo=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),yn=null,as=null,No=!0,cs=!0,ps=!1,Tc=!0,Ks=!1,dc=!1,Bd=!1,dm=!1,Xi=!1,Hl=!1,ed=!1,Vl=!0,td=!1;const dn="user-content-";let Cs=!0,Kr=!1,wa={},Ua=null;const Pc=mr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ja=null;const Wa=mr({},["audio","video","img","source","image","track"]);let Ri=null;const Pd=mr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$d="http://www.w3.org/1998/Math/MathML",Id="http://www.w3.org/2000/svg",hu="http://www.w3.org/1999/xhtml";let gg=hu,Op=!1,Ey=null;const vE=mr({},[$d,Id,hu],T4);let pg;const u0=["application/xhtml+xml","text/html"],cD="text/html";let gi,Ty=null;const iD=c.createElement("form"),lD=function(ft){return ft instanceof RegExp||ft instanceof Function},hg=function(ft){if(!(Ty&&Ty===ft)){if((!ft||typeof ft!="object")&&(ft={}),ft=E1(ft),pg=u0.indexOf(ft.PARSER_MEDIA_TYPE)===-1?pg=cD:pg=ft.PARSER_MEDIA_TYPE,gi=pg==="application/xhtml+xml"?T4:WC,gr="ALLOWED_TAGS"in ft?mr({},ft.ALLOWED_TAGS,gi):vo,an="ALLOWED_ATTR"in ft?mr({},ft.ALLOWED_ATTR,gi):Ps,Ey="ALLOWED_NAMESPACES"in ft?mr({},ft.ALLOWED_NAMESPACES,T4):vE,Ri="ADD_URI_SAFE_ATTR"in ft?mr(E1(Pd),ft.ADD_URI_SAFE_ATTR,gi):Pd,ja="ADD_DATA_URI_TAGS"in ft?mr(E1(Wa),ft.ADD_DATA_URI_TAGS,gi):Wa,Ua="FORBID_CONTENTS"in ft?mr({},ft.FORBID_CONTENTS,gi):Pc,yn="FORBID_TAGS"in ft?mr({},ft.FORBID_TAGS,gi):{},as="FORBID_ATTR"in ft?mr({},ft.FORBID_ATTR,gi):{},wa="USE_PROFILES"in ft?ft.USE_PROFILES:!1,No=ft.ALLOW_ARIA_ATTR!==!1,cs=ft.ALLOW_DATA_ATTR!==!1,ps=ft.ALLOW_UNKNOWN_PROTOCOLS||!1,Tc=ft.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ks=ft.SAFE_FOR_TEMPLATES||!1,dc=ft.WHOLE_DOCUMENT||!1,Xi=ft.RETURN_DOM||!1,Hl=ft.RETURN_DOM_FRAGMENT||!1,ed=ft.RETURN_TRUSTED_TYPE||!1,dm=ft.FORCE_BODY||!1,Vl=ft.SANITIZE_DOM!==!1,td=ft.SANITIZE_NAMED_PROPS||!1,Cs=ft.KEEP_CONTENT!==!1,Kr=ft.IN_PLACE||!1,oc=ft.ALLOWED_URI_REGEXP||jN,gg=ft.NAMESPACE||hu,zo=ft.CUSTOM_ELEMENT_HANDLING||{},ft.CUSTOM_ELEMENT_HANDLING&&lD(ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(zo.tagNameCheck=ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&lD(ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(zo.attributeNameCheck=ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&typeof ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(zo.allowCustomizedBuiltInElements=ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ks&&(cs=!1),Hl&&(Xi=!0),wa&&(gr=mr({},[...O4]),an=[],wa.html===!0&&(mr(gr,HN),mr(an,VN)),wa.svg===!0&&(mr(gr,Dh),mr(an,D4),mr(an,ZC)),wa.svgFilters===!0&&(mr(gr,A4),mr(an,D4),mr(an,ZC)),wa.mathMl===!0&&(mr(gr,z4),mr(an,UN),mr(an,ZC))),ft.ADD_TAGS&&(gr===vo&&(gr=E1(gr)),mr(gr,ft.ADD_TAGS,gi)),ft.ADD_ATTR&&(an===Ps&&(an=E1(an)),mr(an,ft.ADD_ATTR,gi)),ft.ADD_URI_SAFE_ATTR&&mr(Ri,ft.ADD_URI_SAFE_ATTR,gi),ft.FORBID_CONTENTS&&(Ua===Pc&&(Ua=E1(Ua)),mr(Ua,ft.FORBID_CONTENTS,gi)),Cs&&(gr["#text"]=!0),dc&&mr(gr,["html","head","body"]),gr.table&&(mr(gr,["tbody"]),delete yn.tbody),ft.TRUSTED_TYPES_POLICY){if(typeof ft.TRUSTED_TYPES_POLICY.createHTML!="function")throw $w('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ft.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $w('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Pe=ft.TRUSTED_TYPES_POLICY,et=Pe.createHTML("")}else Pe===void 0&&(Pe=ZN(q,r)),Pe!==null&&typeof et=="string"&&(et=Pe.createHTML(""));zi&&zi(ft),Ty=ft}},Qk=mr({},["mi","mo","mn","ms","mtext"]),rt=mr({},["foreignobject","desc","title","annotation-xml"]),it=mr({},["title","style","font","a","script"]),bo=mr({},Dh);mr(bo,A4),mr(bo,lL);const lo=mr({},z4);mr(lo,uL);const On=function(ft){let sn=Ie(ft);(!sn||!sn.tagName)&&(sn={namespaceURI:gg,tagName:"template"});const $n=WC(ft.tagName),Ba=WC(sn.tagName);return Ey[ft.namespaceURI]?ft.namespaceURI===Id?sn.namespaceURI===hu?$n==="svg":sn.namespaceURI===$d?$n==="svg"&&(Ba==="annotation-xml"||Qk[Ba]):!!bo[$n]:ft.namespaceURI===$d?sn.namespaceURI===hu?$n==="math":sn.namespaceURI===Id?$n==="math"&&rt[Ba]:!!lo[$n]:ft.namespaceURI===hu?sn.namespaceURI===Id&&!rt[Ba]||sn.namespaceURI===$d&&!Qk[Ba]?!1:!lo[$n]&&(it[$n]||!bo[$n]):!!(pg==="application/xhtml+xml"&&Ey[ft.namespaceURI]):!1},ws=function(ft){Pw(o.removed,{element:ft});try{ft.parentNode.removeChild(ft)}catch{ft.remove()}},ca=function(ft,sn){try{Pw(o.removed,{attribute:sn.getAttributeNode(ft),from:sn})}catch{Pw(o.removed,{attribute:null,from:sn})}if(sn.removeAttribute(ft),ft==="is"&&!an[ft])if(Xi||Hl)try{ws(sn)}catch{}else try{sn.setAttribute(ft,"")}catch{}},Fd=function(ft){let sn,$n;if(dm)ft="<remove></remove>"+ft;else{const t=rL(ft,/^[\r\n\t ]+/);$n=t&&t[0]}pg==="application/xhtml+xml"&&gg===hu&&(ft='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ft+"</body></html>");const Ba=Pe?Pe.createHTML(ft):ft;if(gg===hu)try{sn=new $().parseFromString(Ba,pg)}catch{}if(!sn||!sn.documentElement){sn=$t.createDocument(gg,"template",null);try{sn.documentElement.innerHTML=Op?et:Ba}catch{}}const Ji=sn.body||sn.documentElement;return ft&&$n&&Ji.insertBefore(c.createTextNode($n),Ji.childNodes[0]||null),gg===hu?kt.call(sn,dc?"html":"body")[0]:dc?sn.documentElement:Ji},d0=function(ft){return mo.call(ft.ownerDocument||ft,ft,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT,null,!1)},yZ=function(ft){return ft instanceof N&&(typeof ft.nodeName!="string"||typeof ft.textContent!="string"||typeof ft.removeChild!="function"||!(ft.attributes instanceof R)||typeof ft.removeAttribute!="function"||typeof ft.setAttribute!="function"||typeof ft.namespaceURI!="string"||typeof ft.insertBefore!="function"||typeof ft.hasChildNodes!="function")},xE=function(ft){return typeof b=="object"?ft instanceof b:ft&&typeof ft=="object"&&typeof ft.nodeType=="number"&&typeof ft.nodeName=="string"},bg=function(ft,sn,$n){Bt[ft]&&FN(Bt[ft],Ba=>{Ba.call(o,sn,$n,Ty)})},qI=function(ft){let sn;if(bg("beforeSanitizeElements",ft,null),yZ(ft))return ws(ft),!0;const $n=gi(ft.nodeName);if(bg("uponSanitizeElement",ft,{tagName:$n,allowedTags:gr}),ft.hasChildNodes()&&!xE(ft.firstElementChild)&&(!xE(ft.content)||!xE(ft.content.firstElementChild))&&Od(/<[/\w]/g,ft.innerHTML)&&Od(/<[/\w]/g,ft.textContent))return ws(ft),!0;if(!gr[$n]||yn[$n]){if(!yn[$n]&&KI($n)&&(zo.tagNameCheck instanceof RegExp&&Od(zo.tagNameCheck,$n)||zo.tagNameCheck instanceof Function&&zo.tagNameCheck($n)))return!1;if(Cs&&!Ua[$n]){const Ba=Ie(ft)||ft.parentNode,Ji=_e(ft)||ft.childNodes;if(Ji&&Ba){const t=Ji.length;for(let s=t-1;s>=0;--s)Ba.insertBefore(Y(Ji[s],!0),ce(ft))}}return ws(ft),!0}return ft instanceof v&&!On(ft)||($n==="noscript"||$n==="noembed"||$n==="noframes")&&Od(/<\/no(script|embed|frames)/i,ft.innerHTML)?(ws(ft),!0):(Ks&&ft.nodeType===3&&(sn=ft.textContent,sn=sm(sn,qo," "),sn=sm(sn,un," "),sn=sm(sn,us," "),ft.textContent!==sn&&(Pw(o.removed,{element:ft.cloneNode()}),ft.textContent=sn)),bg("afterSanitizeElements",ft,null),!1)},GI=function(ft,sn,$n){if(Vl&&(sn==="id"||sn==="name")&&($n in c||$n in iD))return!1;if(!(cs&&!as[sn]&&Od(gs,sn))){if(!(No&&Od(Ws,sn))){if(!an[sn]||as[sn]){if(!(KI(ft)&&(zo.tagNameCheck instanceof RegExp&&Od(zo.tagNameCheck,ft)||zo.tagNameCheck instanceof Function&&zo.tagNameCheck(ft))&&(zo.attributeNameCheck instanceof RegExp&&Od(zo.attributeNameCheck,sn)||zo.attributeNameCheck instanceof Function&&zo.attributeNameCheck(sn))||sn==="is"&&zo.allowCustomizedBuiltInElements&&(zo.tagNameCheck instanceof RegExp&&Od(zo.tagNameCheck,$n)||zo.tagNameCheck instanceof Function&&zo.tagNameCheck($n))))return!1}else if(!Ri[sn]){if(!Od(oc,sm($n,xa,""))){if(!((sn==="src"||sn==="xlink:href"||sn==="href")&&ft!=="script"&&aL($n,"data:")===0&&ja[ft])){if(!(ps&&!Od(rr,sm($n,xa,"")))){if($n)return!1}}}}}}return!0},KI=function(ft){return ft.indexOf("-")>0},YI=function(ft){let sn,$n,Ba,Ji;bg("beforeSanitizeAttributes",ft,null);const{attributes:t}=ft;if(!t)return;const s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:an};for(Ji=t.length;Ji--;){sn=t[Ji];const{name:a,namespaceURI:i}=sn;$n=a==="value"?sn.value:cL(sn.value);const d=$n;if(Ba=gi(a),s.attrName=Ba,s.attrValue=$n,s.keepAttr=!0,s.forceKeepAttr=void 0,bg("uponSanitizeAttribute",ft,s),$n=s.attrValue,s.forceKeepAttr)continue;if(!s.keepAttr){ca(a,ft);continue}if(!Tc&&Od(/\/>/i,$n)){ca(a,ft);continue}Ks&&($n=sm($n,qo," "),$n=sm($n,un," "),$n=sm($n,us," "));const g=gi(ft.nodeName);if(!GI(g,Ba,$n)){ca(a,ft);continue}if(td&&(Ba==="id"||Ba==="name")&&(ca(a,ft),$n=dn+$n),Pe&&typeof q=="object"&&typeof q.getAttributeType=="function"&&!i)switch(q.getAttributeType(g,Ba)){case"TrustedHTML":{$n=Pe.createHTML($n);break}case"TrustedScriptURL":{$n=Pe.createScriptURL($n);break}}if($n!==d)try{i?ft.setAttributeNS(i,a,$n):ft.setAttribute(a,$n)}catch{ca(a,ft)}}bg("afterSanitizeAttributes",ft,null)},vZ=function hs(ft){let sn;const $n=d0(ft);for(bg("beforeSanitizeShadowDOM",ft,null);sn=$n.nextNode();)bg("uponSanitizeShadowNode",sn,null),!qI(sn)&&(sn.content instanceof u&&hs(sn.content),YI(sn));bg("afterSanitizeShadowDOM",ft,null)};return o.sanitize=function(hs){let ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},sn,$n,Ba,Ji;if(Op=!hs,Op&&(hs="<!-->"),typeof hs!="string"&&!xE(hs))if(typeof hs.toString=="function"){if(hs=hs.toString(),typeof hs!="string")throw $w("dirty is not a string, aborting")}else throw $w("toString is not a function");if(!o.isSupported)return hs;if(Bd||hg(ft),o.removed=[],typeof hs=="string"&&(Kr=!1),Kr){if(hs.nodeName){const a=gi(hs.nodeName);if(!gr[a]||yn[a])throw $w("root node is forbidden and cannot be sanitized in-place")}}else if(hs instanceof b)sn=Fd("<!---->"),$n=sn.ownerDocument.importNode(hs,!0),$n.nodeType===1&&$n.nodeName==="BODY"||$n.nodeName==="HTML"?sn=$n:sn.appendChild($n);else{if(!Xi&&!Ks&&!dc&&hs.indexOf("<")===-1)return Pe&&ed?Pe.createHTML(hs):hs;if(sn=Fd(hs),!sn)return Xi?null:ed?et:""}sn&&dm&&ws(sn.firstChild);const t=d0(Kr?hs:sn);for(;Ba=t.nextNode();)qI(Ba)||(Ba.content instanceof u&&vZ(Ba.content),YI(Ba));if(Kr)return hs;if(Xi){if(Hl)for(Ji=Po.call(sn.ownerDocument);sn.firstChild;)Ji.appendChild(sn.firstChild);else Ji=sn;return(an.shadowroot||an.shadowrootmode)&&(Ji=ct.call(n,Ji,!0)),Ji}let s=dc?sn.outerHTML:sn.innerHTML;return dc&&gr["!doctype"]&&sn.ownerDocument&&sn.ownerDocument.doctype&&sn.ownerDocument.doctype.name&&Od(hL,sn.ownerDocument.doctype.name)&&(s="<!DOCTYPE "+sn.ownerDocument.doctype.name+`>
`+s),Ks&&(s=sm(s,qo," "),s=sm(s,un," "),s=sm(s,us," ")),Pe&&ed?Pe.createHTML(s):s},o.setConfig=function(hs){hg(hs),Bd=!0},o.clearConfig=function(){Ty=null,Bd=!1},o.isValidAttribute=function(hs,ft,sn){Ty||hg({});const $n=gi(hs),Ba=gi(ft);return GI($n,Ba,sn)},o.addHook=function(hs,ft){typeof ft=="function"&&(Bt[hs]=Bt[hs]||[],Pw(Bt[hs],ft))},o.removeHook=function(hs){if(Bt[hs])return LN(Bt[hs])},o.removeHooks=function(hs){Bt[hs]&&(Bt[hs]=[])},o.removeAllHooks=function(){Bt={}},o}var A1=qN();const N4=Qt.each,Sc=Qt.trim,VZ=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],UZ={ftp:21,http:80,https:443,mailto:25},jZ=["img","video"],WZ=(e,o)=>We(e)?!e:We(o)?!K(jZ,o):!0,yf=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},Fw=(e,o,n)=>{const r=yf(o).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?WZ(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Oi{static parseDataUri(o){let n;const r=decodeURIComponent(o).split(","),c=/data:([^;]+)/.exec(r[0]);return c&&(n=c[1]),{type:n,data:r[1]}}static isDomSafe(o,n,r={}){if(r.allow_script_urls)return!0;{const c=hd.decode(o).replace(/[\s\u0000-\u001F]+/g,"");return!Fw(r,c,n)}}static getDocumentBaseUrl(o){var n;let r;return o.protocol.indexOf("http")!==0&&o.protocol!=="file:"?r=(n=o.href)!==null&&n!==void 0?n:"":r=o.protocol+"//"+o.host+o.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(o,n={}){this.path="",this.directory="",o=Sc(o),this.settings=n;const r=n.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(o)||/^\s*#/.test(o)){c.source=o;return}const u=o.indexOf("//")===0;if(o.indexOf("/")===0&&!u&&(o=(r&&r.protocol||"http")+"://mce_host"+o),!/^[\w\-]*:?\/\//.test(o)){const b=r?r.path:new Oi(document.location.href).directory;if((r==null?void 0:r.protocol)==="")o="//mce_host"+c.toAbsPath(b,o);else{const v=/([^#?]*)([#?]?.*)/.exec(o);v&&(o=(r&&r.protocol||"http")+"://mce_host"+c.toAbsPath(b,v[1])+v[2])}}o=o.replace(/@@/g,"(mce_at)");const m=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(o);m&&N4(VZ,(b,v)=>{let E=m[v];E&&(E=E.replace(/\(mce_at\)/g,"@@")),c[b]=E}),r&&(c.protocol||(c.protocol=r.protocol),c.userInfo||(c.userInfo=r.userInfo),!c.port&&c.host==="mce_host"&&(c.port=r.port),(!c.host||c.host==="mce_host")&&(c.host=r.host),c.source=""),u&&(c.protocol="")}setPath(o){const n=/^(.*?)\/?(\w+)?$/.exec(o);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(o){if(o==="./")return o;const n=new Oi(o,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const r=this.getURI(),c=n.getURI();if(r===c||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===c)return r;let u=this.toRelPath(this.path,n.path);return n.query&&(u+="?"+n.query),n.anchor&&(u+="#"+n.anchor),u}toAbsolute(o,n){const r=new Oi(o,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))}isSameOrigin(o){if(this.host==o.host&&this.protocol==o.protocol){if(this.port==o.port)return!0;const n=this.protocol?UZ[this.protocol]:null;if(n&&(this.port||n)==(o.port||n))return!0}return!1}toRelPath(o,n){let r=0,c="",u,m;const b=o.substring(0,o.lastIndexOf("/")).split("/"),v=n.split("/");if(b.length>=v.length){for(u=0,m=b.length;u<m;u++)if(u>=v.length||b[u]!==v[u]){r=u+1;break}}if(b.length<v.length){for(u=0,m=v.length;u<m;u++)if(u>=b.length||b[u]!==v[u]){r=u+1;break}}if(r===1)return n;for(u=0,m=b.length-(r-1);u<m;u++)c+="../";for(u=r-1,m=v.length;u<m;u++)u!==r-1?c+="/"+v[u]:c+=v[u];return c}toAbsPath(o,n){let r=0;const c=/\/$/.test(n)?"/":"",u=o.split("/"),m=n.split("/"),b=[];N4(u,N=>{N&&b.push(N)});const v=[];for(let N=m.length-1;N>=0;N--)if(!(m[N].length===0||m[N]===".")){if(m[N]===".."){r++;continue}if(r>0){r--;continue}v.push(m[N])}const E=b.length-r;let R;return E<=0?R=io(v).join("/"):R=b.slice(0,E).join("/")+"/"+io(v).join("/"),R.indexOf("/")!==0&&(R="/"+R),c&&R.lastIndexOf("/")!==R.length-1&&(R+=c),R}getURI(o=!1){let n;return(!this.source||o)&&(n="",o||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const Rh=Qt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),M4="data-mce-type";let GN=0;const ay=(e,o,n,r,c)=>{var u,m,b,v;const E=o.validate,R=n.getSpecialElements();e.nodeType===Oa&&!o.allow_conditional_comments&&/^\[if/i.test((u=e.nodeValue)!==null&&u!==void 0?u:"")&&(e.nodeValue=" "+e.nodeValue);const N=(m=c==null?void 0:c.tagName)!==null&&m!==void 0?m:e.nodeName.toLowerCase();if(r!=="html"&&n.isValid(r)){We(c)&&(c.allowedTags[N]=!0);return}if(e.nodeType!==bu||N==="body")return;const $=we.fromDom(e),q=Sr($,M4),ne=qa($,"data-mce-bogus");if(!q&&X(ne)){ne==="all"?sr($):Ii($);return}const Y=n.getElementRule(N);if(E&&!Y){Qo(R,N)?sr($):Ii($);return}else We(c)&&(c.allowedTags[N]=!0);if(E&&Y&&!q){if(V((b=Y.attributesForced)!==null&&b!==void 0?b:[],ce=>{Js($,ce.name,ce.value==="{$uid}"?`mce_${GN++}`:ce.value)}),V((v=Y.attributesDefault)!==null&&v!==void 0?v:[],ce=>{Sr($,ce.name)||Js($,ce.name,ce.value==="{$uid}"?`mce_${GN++}`:ce.value)}),Y.attributesRequired&&!te(Y.attributesRequired,ce=>Sr($,ce))){Ii($);return}if(Y.removeEmptyAttrs&&yu($)){Ii($);return}Y.outputName&&Y.outputName!==N&&p_($,Y.outputName)}},z1=(e,o,n,r,c)=>{const u=e.tagName.toLowerCase(),{attrName:m,attrValue:b}=c;c.keepAttr=cy(o,n,r,u,m,b),c.keepAttr?(c.allowedAttributes[m]=!0,GC(m,n)&&(c.attrValue=m),o.allow_svg_data_urls&&_n(b,"data:image/svg+xml")&&(c.forceKeepAttr=!0)):qC(e,m)&&(c.forceKeepAttr=!0)},cy=(e,o,n,r,c,u)=>n!=="html"&&!pa(r)?!0:!(c in Rh&&Fw(e,u,r))&&(!e.validate||o.isValid(r,c)||_n(c,"data-")||_n(c,"aria-")),qC=(e,o)=>e.hasAttribute(M4)&&(o==="id"||o==="class"||o==="style"),GC=(e,o)=>e in o.getBoolAttrs(),KN=(e,o,n,r)=>{const{attributes:c}=e;for(let u=c.length-1;u>=0;u--){const m=c[u],b=m.name,v=m.value;!cy(o,n,r,e.tagName.toLowerCase(),b,v)&&!qC(e,b)?e.removeAttribute(b):GC(b,n)&&e.setAttribute(b,b)}},YN=(e,o,n)=>{const r=A1();return r.addHook("uponSanitizeElement",(c,u)=>{ay(c,e,o,n.track(c),u)}),r.addHook("uponSanitizeAttribute",(c,u)=>{z1(c,e,o,n.current(),u)}),r},yL=(e,o)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}};return r.PARSER_MEDIA_TYPE=o,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},vL=e=>{const o=g0(e);if(o==="svg"){const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(c=>`xlink:${c}`),r={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};A1().sanitize(e,r)}else if(o==="math"){const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};A1().sanitize(e,n)}else throw new Error("Not a namespace element")},XN=(e,o)=>{const n=A();if(e.sanitize){const r=YN(e,o,n);return{sanitizeHtmlElement:(u,m)=>{r.sanitize(u,yL(e,m)),r.removed=[],n.reset()},sanitizeNamespaceElement:vL}}else return{sanitizeHtmlElement:(u,m)=>{const b=document.createNodeIterator(u,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let v;for(;v=b.nextNode();){const E=n.track(v);ay(v,e,o,E),Do(v)&&KN(v,e,o,E)}n.reset()},sanitizeNamespaceElement:Me}},JN=Qt.makeMap,QN=Qt.extend,eM=(e,o,n,r)=>{const c=e.name,u=c in n&&c!=="title"&&c!=="textarea"&&c!=="noscript",m=o.childNodes;for(let b=0,v=m.length;b<v;b++){const E=m[b],R=new hl(E.nodeName.toLowerCase(),E.nodeType);if(Do(E)){const N=E.attributes;for(let $=0,q=N.length;$<q;$++){const ne=N[$];R.attr(ne.name,ne.value)}pa(R.name)&&(r(E),R.value=E.innerHTML)}else Xt(E)?(R.value=E.data,u&&(R.raw=!0)):(Ka(E)||Lc(E)||tu(E))&&(R.value=E.data);pa(R.name)||eM(R,E,n,r),e.append(R)}},xL=(e,o,n)=>{const r=[];for(let c=e,u=c;c;u=c,c=c.walk()){const m=c;V(o,b=>b(m)),co(m.parent)&&m!==e?c=u:r.push(m)}for(let c=r.length-1;c>=0;c--){const u=r[c];V(n,m=>m(u))}},wL=(e,o,n,r)=>{const c=n.validate,u=o.getNonEmptyElements(),m=o.getWhitespaceElements(),b=QN(JN("script,style,head,html,body,title,meta,param"),o.getBlockElements()),v=Iy(o),E=/[ \t\r\n]+/g,R=/^[ \t\r\n]+/,N=/[ \t\r\n]+$/,$=Ie=>{let Pe=Ie.parent;for(;We(Pe);){if(Pe.name in m)return!0;Pe=Pe.parent}return!1},q=Ie=>{let Pe=Ie;for(;We(Pe);){if(Pe.name in v)return kC(o,u,m,Pe);Pe=Pe.parent}return!1},ne=Ie=>Ie.name in b||ol(o,Ie)||pa(Ie.name)&&Ie.parent===e,Y=(Ie,Pe)=>{const et=Pe?Ie.prev:Ie.next;return We(et)||co(Ie.parent)?!1:ne(Ie.parent)&&(Ie.parent!==e||r.isRootContent===!0)};return[Ie=>{var Pe;if(Ie.type===3&&!$(Ie)){let et=(Pe=Ie.value)!==null&&Pe!==void 0?Pe:"";et=et.replace(E," "),(si(Ie.prev,ne)||Y(Ie,!0))&&(et=et.replace(R,"")),et.length===0||et===" "&&Ie.prev&&Ie.prev.type===Oa&&Ie.next&&Ie.next.type===Oa?Ie.remove():Ie.value=et}},Ie=>{var Pe;if(Ie.type===1){const et=o.getElementRule(Ie.name);if(c&&et){const $t=kC(o,u,m,Ie);et.paddInEmptyBlock&&$t&&q(Ie)?VA(n,r,ne,Ie):et.removeEmpty&&$t?ne(Ie)?Ie.remove():Ie.unwrap():et.paddEmpty&&($t||u6(Ie))&&VA(n,r,ne,Ie)}}else if(Ie.type===3&&!$(Ie)){let et=(Pe=Ie.value)!==null&&Pe!==void 0?Pe:"";(Ie.next&&ne(Ie.next)||Y(Ie,!1))&&(et=et.replace(N,"")),et.length===0?Ie.remove():Ie.value=et}}]},tM=(e,o)=>{var n;const r=(n=o.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return r===!1?"":r===!0?"p":r},O1=(e={},o=ef())=>{const n=HC(),r=HC(),c={validate:!0,root_name:"body",sanitize:!0,...e},u=new DOMParser,m=XN(c,o),b=(Pe,et,$t="html")=>{const mo=$t==="xhtml"?"application/xhtml+xml":"text/html",Po=Qo(o.getSpecialElements(),et.toLowerCase()),kt=Po?`<${et}>${Pe}</${et}>`:Pe,ct=()=>$t==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${kt}</body></html>`:/^[\s]*<head/i.test(Pe)||/^[\s]*<html/i.test(Pe)||/^[\s]*<!DOCTYPE/i.test(Pe)?`<html>${kt}</html>`:`<body>${kt}</body>`,Bt=u.parseFromString(ct(),mo).body;return m.sanitizeHtmlElement(Bt,mo),Po?Bt.firstChild:Bt},v=n.addFilter,E=n.getFilters,R=n.removeFilter,N=r.addFilter,$=r.getFilters,q=r.removeFilter,ne=(Pe,et)=>{aN(o,Pe)&&et.push(Pe)},Y=(Pe,et)=>{const $t=X(et.attr(M4)),mo=et.type===1&&!Qo(Pe,et.name)&&!ol(o,et)&&!pa(et.name);return et.type===3||mo&&!$t},ce=(Pe,et)=>{const $t=QN(JN("script,style,head,html,body,title,meta,param"),o.getBlockElements()),mo=/^[ \t\r\n]+/,Po=/[ \t\r\n]+$/;let kt=Pe.firstChild,ct=null;const Bt=qo=>{var un,us;qo&&(kt=qo.firstChild,kt&&kt.type===3&&(kt.value=(un=kt.value)===null||un===void 0?void 0:un.replace(mo,"")),kt=qo.lastChild,kt&&kt.type===3&&(kt.value=(us=kt.value)===null||us===void 0?void 0:us.replace(Po,"")))};if(o.isValidChild(Pe.name,et.toLowerCase())){for(;kt;){const qo=kt.next;Y($t,kt)?(ct||(ct=new hl(et,1),ct.attr(c.forced_root_block_attrs),Pe.insert(ct,kt)),ct.append(kt)):(Bt(ct),ct=null),kt=qo}Bt(ct)}},Ie={schema:o,addAttributeFilter:N,getAttributeFilters:$,removeAttributeFilter:q,addNodeFilter:v,getNodeFilters:E,removeNodeFilter:R,parse:(Pe,et={})=>{var $t;const mo=c.validate,Po=($t=et.context)!==null&&$t!==void 0?$t:c.root_name,kt=b(Pe,Po,et.format);Fs(o,kt);const ct=new hl(Po,11);eM(ct,kt,o.getSpecialElements(),m.sanitizeNamespaceElement),kt.innerHTML="";const[Bt,qo]=wL(ct,o,c,et),un=[],us=mo?xa=>ne(xa,un):Me,gs={nodes:{},attributes:{}},Ws=xa=>rN(E(),$(),xa,gs);if(xL(ct,[Bt,Ws],[qo,us]),un.reverse(),mo&&un.length>0)if(et.context){const{pass:xa,fail:oc}=de(un,gr=>gr.parent===ct);tm(oc,o,ct,Ws),et.invalid=xa.length>0}else tm(un,o,ct,Ws);const rr=tM(c,et);return rr&&(ct.name==="body"||et.isRootContent)&&ce(ct,rr),et.invalid||LA(gs,et),ct}};return tL(Ie,c),Mw(Ie,c,o),Ie},Lw=e=>Ah(e)?bp({validate:!1}).serialize(e):e,B4=(e,o,n)=>{const r=Lw(e),c=o(r);if(c.isDefaultPrevented())return c;if(Ah(e))if(c.content!==r){const u=O1({validate:!1,forced_root_block:!1,...n}).parse(c.content,{context:e.name});return{...c,content:u}}else return{...c,content:e};else return c},oM=e=>({sanitize:Wc(e),sandbox_iframes:d2(e),sandbox_iframes_exclusions:Sv(e)}),P4=(e,o)=>{if(o.no_events)return Si.value(o);{const n=vD(e,o);return n.isDefaultPrevented()?Si.error(Lb(e,{content:"",...n}).content):Si.value(n)}},nM=(e,o,n)=>n.no_events?o:B4(o,c=>Lb(e,{...n,content:c}),oM(e)).content,KC=(e,o)=>{if(o.no_events)return Si.value(o);{const n=B4(o.content,r=>c1(e,{...o,content:r}),oM(e));return n.isDefaultPrevented()?(Fb(e,n),Si.error(void 0)):Si.value(n)}},$4=(e,o,n)=>{n.no_events||Fb(e,{...n,content:o})},I4=(e,o,n)=>({element:e,width:o,rows:n}),F4=(e,o)=>({element:e,cells:o}),sM=(e,o)=>({x:e,y:o}),L4=(e,o)=>Fr(e,o).bind(la).getOr(1),rM=(e,o,n,r,c)=>{const u=L4(c,"rowspan"),m=L4(c,"colspan"),b=e.rows;for(let v=n;v<n+u;v++){b[v]||(b[v]=F4($0(r),[]));for(let E=o;E<o+m;E++){const R=b[v].cells;R[E]=v===n&&E===o?c:Nm(c)}}},aM=(e,o,n)=>{const r=e.rows;return!!(r[n]?r[n].cells:[])[o]},cM=(e,o,n)=>{for(;aM(e,o,n);)o++;return o},iM=e=>Ee(e,(o,n)=>n.cells.length>o?n.cells.length:o,0),lM=(e,o)=>{const n=e.rows;for(let r=0;r<n.length;r++){const c=n[r].cells;for(let u=0;u<c.length;u++)if(ts(c[u],o))return P.some(sM(u,r))}return P.none()},uM=(e,o,n,r,c)=>{const u=[],m=e.rows;for(let b=n;b<=c;b++){const v=m[b].cells,E=o<r?v.slice(o,r+1):v.slice(r,o+1);u.push(F4(m[b].element,E))}return u},H4=(e,o,n)=>{const r=o.x,c=o.y,u=n.x,m=n.y,b=c<m?uM(e,r,c,u,m):uM(e,r,m,u,c);return I4(e.element,iM(b),b)},Hw=(e,o)=>{const n=Nm(e.element),r=we.fromTag("tbody");return Tu(r,o),Zr(n,r),n},dM=e=>he(e.rows,o=>{const n=he(o.cells,c=>{const u=$0(c);return dr(u,"colspan"),dr(u,"rowspan"),u}),r=Nm(o.element);return Tu(r,n),r}),fM=e=>{const o=I4(Nm(e),0,[]);return V(Dc(e,"tr"),(n,r)=>{V(Dc(n,"td,th"),(c,u)=>{rM(o,cM(o,u,r),r,n,c)})}),I4(o.element,iM(o.rows),o.rows)},YC=e=>Hw(e,dM(e)),kL=(e,o,n)=>lM(e,o).bind(r=>lM(e,n).map(c=>H4(e,r,c))),_L=e=>xt(e,o=>oe(o)==="ul"||oe(o)==="ol"),iy=(e,o)=>xt(e,n=>oe(n)==="li"&&Uv(n,o)).fold(ue([]),n=>_L(e).map(r=>{const c=we.fromTag(oe(r)),u=ys(Fc(r),(m,b)=>_n(b,"list-style"));return Kn(c,u),[we.fromTag("li"),c]}).getOr([])),V4=(e,o)=>{const n=Ee(o,(r,c)=>(Zr(c,r),c),e);return o.length>0?l([n]):n},mM=e=>Gg(e)?hc(e).filter(Bm).fold(ue([]),o=>[e,o]):Bm(e)?[e]:[],Vw=(e,o,n)=>{const r=we.fromDom(o.commonAncestorContainer),c=mf(r,e),u=be(c,v=>n.isWrapper(oe(v))),m=iy(c,o),b=u.concat(m.length?m:mM(r));return he(b,Nm)},U4=()=>l([]),j4=(e,o,n)=>V4(we.fromDom(o.cloneContents()),Vw(e,o,n)),gM=(e,o)=>Ca(o,"table",ye(ts,e)),pM=(e,o)=>gM(e,o[0]).bind(n=>{const r=o[0],c=o[o.length-1],u=fM(n);return kL(u,r,c).map(m=>l([YC(m)]))}).getOrThunk(U4),CL=(e,o,n)=>o.length>0&&o[0].collapsed?U4():j4(e,o[0],n),SL=(e,o,n)=>{const r=Ix(o,e);return r.length>0?pM(e,r):CL(e,o,n)},XC=(e,o)=>o>=0&&o<e.length&&ng(e.charAt(o)),JC=e=>ki(e.innerText),EL=e=>e.map(o=>o.nodeName).getOr("div").toLowerCase(),hM=e=>P.from(e.selection.getRng()).map(o=>{var n;const r=P.from(e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock)),c=e.getBody(),u=EL(r),m=we.fromDom(o.cloneContents());eR(m),tR(m);const b=e.dom.add(c,u,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},m.dom),v=JC(b),E=ki((n=b.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(b),XC(E,0)||XC(E,E.length-1)){const R=r.getOr(c),N=JC(R),$=N.indexOf(v);if($===-1)return v;{const q=XC(N,$-1),ne=XC(N,$+v.length);return(q?" ":"")+v+(ne?" ":"")}}else return v}).getOr(""),TL=(e,o)=>{const n=e.selection.getRng(),r=e.dom.create("body"),c=e.selection.getSel(),u=iC(e,Hv(c)),m=o.contextual?SL(we.fromDom(e.getBody()),u,e.schema).dom:n.cloneContents();return m&&r.appendChild(m),e.selection.serializer.serialize(r,o)},AL=(e,o)=>{if(o.format==="text")return hM(e);{const n=TL(e,o);return o.format==="tree"?n:e.selection.isCollapsed()?"":n}},zL=(e,o)=>({...e,format:o,get:!0,selection:!0,getInner:!0}),OL=(e,o,n={})=>{const r=zL(n,o);return P4(e,r).fold(bt,c=>{const u=AL(e,c);return nM(e,u,c)})},W4=0,bM=1,yM=2,DL=(e,o)=>{const n=e.length+o.length+2,r=new Array(n),c=new Array(n),u=(R,N,$)=>({start:R,end:N,diag:$}),m=(R,N,$,q,ne)=>{const Y=v(R,N,$,q);if(Y===null||Y.start===N&&Y.diag===N-q||Y.end===R&&Y.diag===R-$){let ce=R,_e=$;for(;ce<N||_e<q;)ce<N&&_e<q&&e[ce]===o[_e]?(ne.push([W4,e[ce]]),++ce,++_e):N-R>q-$?(ne.push([yM,e[ce]]),++ce):(ne.push([bM,o[_e]]),++_e)}else{m(R,Y.start,$,Y.start-Y.diag,ne);for(let ce=Y.start;ce<Y.end;++ce)ne.push([W4,e[ce]]);m(Y.end,N,Y.end-Y.diag,q,ne)}},b=(R,N,$,q)=>{let ne=R;for(;ne-N<q&&ne<$&&e[ne]===o[ne-N];)++ne;return u(R,ne,N)},v=(R,N,$,q)=>{const ne=N-R,Y=q-$;if(ne===0||Y===0)return null;const ce=ne-Y,_e=Y+ne,Ie=(_e%2===0?_e:_e+1)/2;r[1+Ie]=R,c[1+Ie]=N+1;let Pe,et,$t,mo,Po;for(Pe=0;Pe<=Ie;++Pe){for(et=-Pe;et<=Pe;et+=2){for($t=et+Ie,et===-Pe||et!==Pe&&r[$t-1]<r[$t+1]?r[$t]=r[$t+1]:r[$t]=r[$t-1]+1,mo=r[$t],Po=mo-R+$-et;mo<N&&Po<q&&e[mo]===o[Po];)r[$t]=++mo,++Po;if(ce%2!==0&&ce-Pe<=et&&et<=ce+Pe&&c[$t-ce]<=r[$t])return b(c[$t-ce],et+R-$,N,q)}for(et=ce-Pe;et<=ce+Pe;et+=2){for($t=et+Ie-ce,et===ce-Pe||et!==ce+Pe&&c[$t+1]<=c[$t-1]?c[$t]=c[$t+1]-1:c[$t]=c[$t-1],mo=c[$t]-1,Po=mo-R+$-et;mo>=R&&Po>=$&&e[mo]===o[Po];)c[$t]=mo--,Po--;if(ce%2===0&&-Pe<=et&&et<=Pe&&c[$t]<=r[$t+ce])return b(c[$t],et+R-$,N,q)}}return null},E=[];return m(0,e.length,0,o.length,E),E},vM=e=>Do(e)?e.outerHTML:Xt(e)?hd.encodeRaw(e.data,!1):Ka(e)?"<!--"+e.data+"-->":"",RL=e=>{let o;const n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);o=n.firstChild;)r.appendChild(o);return r},NL=(e,o,n)=>{const r=RL(o);if(e.hasChildNodes()&&n<e.childNodes.length){const c=e.childNodes[n];e.insertBefore(r,c)}else e.appendChild(r)},QC=(e,o)=>{if(e.hasChildNodes()&&o<e.childNodes.length){const n=e.childNodes[o];e.removeChild(n)}},Ki=(e,o)=>{let n=0;V(e,r=>{r[0]===W4?n++:r[0]===bM?(NL(o,r[1],n),n++):r[0]===yM&&QC(o,n)})},ML=(e,o)=>be(he(bs(e.childNodes),_(ki,vM)),n=>n.length>0),eS=(e,o)=>{const n=he(bs(o.childNodes),vM);return Ki(DL(n,e),o),o},ly=mt(()=>document.implementation.createHTMLDocument("undo")),xM=e=>e.querySelector("iframe")!==null,gu=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),uy=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Uw=e=>{const o=e.serializer.getTempAttrs(),n=QD(e.getBody(),o);return xM(n)?gu(ML(n)):uy(ki(n.innerHTML))},Z4=(e,o,n)=>{const r=n?o.beforeBookmark:o.bookmark;o.type==="fragmented"?eS(o.fragments,e.getBody()):e.setContent(o.content,{format:"raw",no_selection:We(r)&&D2(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},tS=e=>e.type==="fragmented"?e.fragments.join(""):e.content,wM=e=>{const o=we.fromTag("body",ly());return Au(o,tS(e)),V(Dc(o,"*[data-mce-bogus]"),Ii),br(o)},kM=(e,o)=>tS(e)===tS(o),jw=(e,o)=>wM(e)===wM(o),Ww=(e,o)=>!e||!o?!1:kM(e,o)?!0:jw(e,o),q4=e=>e.get()===0,Zw=(e,o,n)=>{q4(n)&&(e.typing=o)},_M=(e,o)=>{e.typing&&(Zw(e,!1,o),e.add())},G4=e=>{e.typing&&(e.typing=!1,e.add())},K4=(e,o,n)=>{q4(o)&&n.set(ax(e.selection))},BL=(e,o,n,r,c,u,m)=>{const b=Uw(e),v=Qt.extend(u||{},b);if(!q4(r)||e.removed)return null;const E=o.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:v,lastLevel:E,originalEvent:m}).isDefaultPrevented()||E&&Ww(E,v))return null;o.data[n.get()]&&c.get().each($=>{o.data[n.get()].beforeBookmark=$});const R=gT(e);if(R&&o.data.length>R){for(let $=0;$<o.data.length-1;$++)o.data[$]=o.data[$+1];o.data.length--,n.set(o.data.length)}v.bookmark=ax(e.selection),n.get()<o.data.length-1&&(o.data.length=n.get()+1),o.data.push(v),n.set(o.data.length-1);const N={level:v,lastLevel:E,originalEvent:m};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",N),e.dispatch("change",N)):e.dispatch("AddUndo",N),v},PL=(e,o,n)=>{o.data=[],n.set(0),o.typing=!1,e.dispatch("ClearUndos")},ag=(e,o,n,r,c)=>{if(o.transact(r)){const u=o.data[n.get()].bookmark,m=o.data[n.get()-1];Z4(e,m,!0),o.transact(c)&&(o.data[n.get()-1].beforeBookmark=u)}},Y4=(e,o,n)=>{let r;return o.get()<n.length-1&&(o.set(o.get()+1),r=n[o.get()],Z4(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},$L=(e,o,n,r)=>{let c;return o.typing&&(o.add(),o.typing=!1,Zw(o,!1,n)),r.get()>0&&(r.set(r.get()-1),c=o.data[r.get()],Z4(e,c,!0),e.setDirty(!0),e.dispatch("Undo",{level:c})),c},oS=e=>{e.clear(),e.add()},X4=(e,o,n)=>n.get()>0||o.typing&&o.data[0]&&!Ww(Uw(e),o.data[0]),CM=(e,o)=>o.get()<e.data.length-1&&!e.typing,SM=(e,o,n)=>(_M(e,o),e.beforeChange(),e.ignore(n),e.add()),EM=(e,o)=>{try{e.set(e.get()+1),o()}finally{e.set(e.get()-1)}},IL=(e,o)=>{const n=e.dom,r=We(o)?o:e.getBody();V(n.select("table,a",r),c=>{switch(c.nodeName){case"TABLE":const u=hx(e),m=n.getAttrib(c,"border");(!m||m==="0")&&e.hasVisual?n.addClass(c,u):n.removeClass(c,u);break;case"A":if(!n.getAttrib(c,"href")){const b=n.getAttrib(c,"name")||c.id,v=bx(e);b&&e.hasVisual?n.addClass(c,v):n.removeClass(c,v)}break}}),e.dispatch("VisualAid",{element:o,hasVisual:e.hasVisual})},TM=e=>({init:{bindEvents:Me},undoManager:{beforeChange:(o,n)=>K4(e,o,n),add:(o,n,r,c,u,m)=>BL(e,o,n,r,c,u,m),undo:(o,n,r)=>$L(e,o,n,r),redo:(o,n)=>Y4(e,o,n),clear:(o,n)=>PL(e,o,n),reset:o=>oS(o),hasUndo:(o,n)=>X4(e,o,n),hasRedo:(o,n)=>CM(o,n),transact:(o,n,r)=>SM(o,n,r),ignore:(o,n)=>EM(o,n),extra:(o,n,r,c)=>ag(e,o,n,r,c)},formatter:{match:(o,n,r,c)=>EC(e,o,n,r,c),matchAll:(o,n)=>TC(e,o,n),matchNode:(o,n,r,c)=>pf(e,o,n,r,c),canApply:o=>T6(e,o),closest:o=>E6(e,o),apply:(o,n,r)=>zN(e,o,n,r),remove:(o,n,r,c)=>h4(e,o,n,r,c),toggle:(o,n,r)=>x4(e,o,n,r),formatChanged:(o,n,r,c,u)=>G6(e,o,n,r,c,u)},editor:{getContent:o=>oR(e,o),setContent:(o,n)=>CC(e,o,n),insertContent:(o,n)=>Td(e,o,n),addVisual:o=>IL(e,o)},selection:{getContent:(o,n)=>OL(e,o,n)},autocompleter:{addDecoration:Me,removeDecoration:Me},raw:{getModel:()=>P.none()}}),FL=e=>{const o=E=>lt(E)?E:{},{init:n,undoManager:r,formatter:c,editor:u,selection:m,autocompleter:b,raw:v}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(E,R,N)=>r.transact(N),ignore:(E,R)=>r.ignore(R),extra:(E,R,N,$)=>r.extra(N,$)},formatter:{match:(E,R,N,$)=>c.match(E,o(R),$),matchAll:c.matchAll,matchNode:c.matchNode,canApply:E=>c.canApply(E),closest:E=>c.closest(E),apply:(E,R,N)=>c.apply(E,o(R)),remove:(E,R,N,$)=>c.remove(E,o(R)),toggle:(E,R,N)=>c.toggle(E,o(R)),formatChanged:(E,R,N,$,q)=>c.formatChanged(R,N,$,q)},editor:{getContent:E=>u.getContent(E),setContent:(E,R)=>({content:u.setContent(E,R),html:""}),insertContent:(E,R)=>(u.insertContent(E),""),addVisual:u.addVisual},selection:{getContent:(E,R)=>m.getContent(R)},autocompleter:{addDecoration:b.addDecoration,removeDecoration:b.removeDecoration},raw:{getModel:()=>P.some(v.getRawModel())}}},LL=()=>{const e=ue(null),o=ue("");return{init:{bindEvents:Me},undoManager:{beforeChange:Me,add:e,undo:e,redo:e,clear:Me,reset:Me,hasUndo:ke,hasRedo:ke,transact:e,ignore:Me,extra:Me},formatter:{match:ke,matchAll:ue([]),matchNode:ue(void 0),canApply:ke,closest:o,apply:Me,remove:Me,toggle:Me,formatChanged:ue({unbind:Me})},editor:{getContent:o,setContent:ue({content:"",html:""}),insertContent:ue(""),addVisual:Me},selection:{getContent:o},autocompleter:{addDecoration:Me,removeDecoration:Me},raw:{getModel:ue(P.none())}}},cg=e=>Qo(e.plugins,"rtc"),AM=e=>vs(e.plugins,"rtc").bind(o=>P.from(o.setup)),HL=e=>{const o=e;return AM(e).fold(()=>(o.rtcInstance=TM(e),P.none()),n=>(o.rtcInstance=LL(),P.some(()=>n().then(r=>(o.rtcInstance=FL(r),r.rtc.isRemote)))))},J4=e=>e.rtcInstance?e.rtcInstance:TM(e),Bc=e=>{const o=e.rtcInstance;if(o)return o;throw new Error("Failed to get RTC instance not yet initialized.")},zM=(e,o,n)=>{Bc(e).undoManager.beforeChange(o,n)},Q4=(e,o,n,r,c,u,m)=>Bc(e).undoManager.add(o,n,r,c,u,m),e3=(e,o,n,r)=>Bc(e).undoManager.undo(o,n,r),OM=(e,o,n)=>Bc(e).undoManager.redo(o,n),t3=(e,o,n)=>{Bc(e).undoManager.clear(o,n)},DM=(e,o)=>{Bc(e).undoManager.reset(o)},RM=(e,o,n)=>Bc(e).undoManager.hasUndo(o,n),o3=(e,o,n)=>Bc(e).undoManager.hasRedo(o,n),NM=(e,o,n,r)=>Bc(e).undoManager.transact(o,n,r),MM=(e,o,n)=>{Bc(e).undoManager.ignore(o,n)},BM=(e,o,n,r,c)=>{Bc(e).undoManager.extra(o,n,r,c)},VL=(e,o,n,r,c)=>Bc(e).formatter.match(o,n,r,c),n3=(e,o,n)=>Bc(e).formatter.matchAll(o,n),UL=(e,o,n,r,c)=>Bc(e).formatter.matchNode(o,n,r,c),nS=(e,o)=>Bc(e).formatter.canApply(o),jL=(e,o)=>Bc(e).formatter.closest(o),WL=(e,o,n,r)=>{Bc(e).formatter.apply(o,n,r)},ZL=(e,o,n,r,c)=>{Bc(e).formatter.remove(o,n,r,c)},PM=(e,o,n,r)=>{Bc(e).formatter.toggle(o,n,r)},$M=(e,o,n,r,c,u)=>Bc(e).formatter.formatChanged(o,n,r,c,u),qL=(e,o)=>J4(e).editor.getContent(o),GL=(e,o,n)=>J4(e).editor.setContent(o,n),KL=(e,o,n)=>J4(e).editor.insertContent(o,n),YL=(e,o,n)=>Bc(e).selection.getContent(o,n),XL=(e,o)=>Bc(e).editor.addVisual(o),s3=e=>Bc(e).init.bindEvents(),ZZ=(e,o={})=>{const n=o.format?o.format:"html";return YL(e,n,o)},IM=e=>e.dom.length===0?(sr(e),P.none()):P.some(e),JL=(e,o)=>e.filter(n=>Lu.isBookmarkNode(n.dom)).bind(o?Ic:Yl),QL=(e,o,n,r,c)=>{const u=e.dom,m=o.dom,b=r?u.length:m.length;r?(AA(u,m,c,!1,!r),n.setStart(m,b)):(AA(m,u,c,!1,!r),n.setEnd(m,b))},e8=(e,o,n)=>{hc(e).each(r=>{const c=e.dom;o&&mw(r,yt(c,0),n)?fC(c,0,n):!o&&b1(r,yt(c,c.length),n)&&TA(c,c.length,n)})},FM=(e,o,n,r,c)=>{e.bind(u=>((r?TA:fC)(u.dom,r?u.dom.length:0,c),o.filter(qs).map(b=>QL(u,b,n,r,c)))).orThunk(()=>JL(o,r).or(o).filter(qs).map(m=>e8(m,r,c)))},t8=(e,o,n)=>{const r=P.from(o.firstChild).map(we.fromDom),c=P.from(o.lastChild).map(we.fromDom);e.deleteContents(),e.insertNode(o);const u=r.bind(Yl).filter(qs).bind(IM),m=c.bind(Ic).filter(qs).bind(IM);FM(u,r,e,!0,n),FM(m,c,e,!1,n),e.collapse(!1)},o8=(e,o)=>({format:"html",...e,set:!0,selection:!0,content:o}),LM=(e,o)=>{if(o.format!=="raw"){const n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),c=r?{context:r.nodeName.toLowerCase()}:{},u=e.parser.parse(o.content,{forced_root_block:!1,...c,...o});return bp({validate:!1},e.schema).serialize(u)}else return o.content},n8=(e,o,n={})=>{const r=o8(n,o);KC(e,r).each(c=>{const u=LM(e,c),m=e.selection.getRng();t8(m,m.createContextualFragment(u),e.schema),e.selection.setRng(m),cw(e,m),$4(e,u,c)})},HM=(e,o,n)=>{if(Qo(e,o)){const r=be(e[o],c=>c!==n);r.length===0?delete e[o]:e[o]=r}};var s8=(e,o)=>{let n,r;const c=(b,v)=>xt(v,E=>e.is(E,b)),u=b=>e.getParents(b,void 0,e.getRoot()),m=()=>{n={},r={},o.on("NodeChange",b=>{const v=b.element,E=u(v),R={};Kt(n,(N,$)=>{c($,E).each(q=>{r[$]||(V(N,ne=>{ne(!0,{node:q,selector:$,parents:E})}),r[$]=N),R[$]=N})}),Kt(r,(N,$)=>{R[$]||(delete r[$],V(N,q=>{q(!1,{node:v,selector:$,parents:E})}))})})};return{selectorChangedWithUnbind:(b,v)=>(n||m(),n[b]||(n[b]=[]),n[b].push(v),c(b,u(o.selection.getStart())).each(()=>{r[b]=n[b]}),{unbind:()=>{HM(n,b,v),HM(r,b,v)}})}};const VM=e=>!!(e&&e.ownerDocument)&&ga(we.fromDom(e.ownerDocument),we.fromDom(e)),r8=e=>e?VM(e.startContainer)&&VM(e.endContainer):!1,a8=(e,o,n,r)=>{let c,u;const{selectorChangedWithUnbind:m}=s8(e,r),b=(vo,an)=>{const Ps=e.createRng();We(vo)&&We(an)?(Ps.setStart(vo,an),Ps.setEnd(vo,an),et(Ps),_e(!1)):(Hx(e,Ps,r.getBody(),!0),et(Ps))},v=vo=>ZZ(r,vo),E=(vo,an)=>n8(r,vo,an),R=vo=>pA(r.getBody(),Pe(),vo),N=vo=>VD(r.getBody(),Pe(),vo),$=(vo,an)=>oc.getBookmark(vo,an),q=vo=>oc.moveToBookmark(vo),ne=(vo,an)=>(cC(e,vo,an).each(et),vo),Y=()=>{const vo=Pe(),an=Ie();return!vo||vo.item?!1:vo.compareEndPoints?vo.compareEndPoints("StartToEnd",vo)===0:!an||vo.collapsed},ce=()=>{const vo=Pe(),an=r.getBody().querySelectorAll('[data-mce-selected="1"]');return an.length>0?Ut(an,Ps=>e.isEditable(Ps.parentElement)):mA(e,vo)},_e=vo=>{const an=Pe();an.collapse(!!vo),et(an)},Ie=()=>o.getSelection?o.getSelection():o.document.selection,Pe=()=>{let vo;const an=(zo,yn,as)=>{try{return yn.compareBoundaryPoints(zo,as)}catch{return-1}},Ps=o.document;if(We(r.bookmark)&&!hp(r)){const zo=nC(r);if(zo.isSome())return zo.map(yn=>iC(r,[yn])[0]).getOr(Ps.createRange())}try{const zo=Ie();zo&&!Yd(zo.anchorNode)&&(zo.rangeCount>0?vo=zo.getRangeAt(0):vo=Ps.createRange(),vo=iC(r,[vo])[0])}catch{}if(vo||(vo=Ps.createRange()),wm(vo.startContainer)&&vo.collapsed){const zo=e.getRoot();vo.setStart(zo,0),vo.setEnd(zo,0)}return c&&u&&(an(vo.START_TO_START,vo,c)===0&&an(vo.END_TO_END,vo,c)===0?vo=u:(c=null,u=null)),vo},et=(vo,an)=>{if(!r8(vo))return;const Ps=Ie();if(vo=r.dispatch("SetSelectionRange",{range:vo,forward:an}).range,Ps){u=vo;try{Ps.removeAllRanges(),Ps.addRange(vo)}catch{}an===!1&&Ps.extend&&(Ps.collapse(vo.endContainer,vo.endOffset),Ps.extend(vo.startContainer,vo.startOffset)),c=Ps.rangeCount>0?Ps.getRangeAt(0):null}if(!vo.collapsed&&vo.startContainer===vo.endContainer&&(Ps!=null&&Ps.setBaseAndExtent)&&vo.endOffset-vo.startOffset<2&&vo.startContainer.hasChildNodes()){const yn=vo.startContainer.childNodes[vo.startOffset];yn&&yn.nodeName==="IMG"&&(Ps.setBaseAndExtent(vo.startContainer,vo.startOffset,vo.endContainer,vo.endOffset),(Ps.anchorNode!==vo.startContainer||Ps.focusNode!==vo.endContainer)&&Ps.setBaseAndExtent(yn,0,yn,1))}r.dispatch("AfterSetSelectionRange",{range:vo,forward:an})},$t=vo=>(E(e.getOuterHTML(vo)),vo),mo=()=>hF(r.getBody(),Pe()),Po=(vo,an)=>bF(e,Pe(),vo,an),kt=()=>{const vo=Ie(),an=vo==null?void 0:vo.anchorNode,Ps=vo==null?void 0:vo.focusNode;if(!vo||!an||!Ps||Yd(an)||Yd(Ps))return!0;const zo=e.createRng(),yn=e.createRng();try{zo.setStart(an,vo.anchorOffset),zo.collapse(!0),yn.setStart(Ps,vo.focusOffset),yn.collapse(!0)}catch{return!0}return zo.compareBoundaryPoints(zo.START_TO_START,yn)<=0},xa={dom:e,win:o,serializer:n,editor:r,expand:(vo={type:"word"})=>et(uo(e).expand(Pe(),vo)),collapse:_e,setCursorLocation:b,getContent:v,setContent:E,getBookmark:$,moveToBookmark:q,select:ne,isCollapsed:Y,isEditable:ce,isForward:kt,setNode:$t,getNode:mo,getSel:Ie,setRng:et,getRng:Pe,getStart:R,getEnd:N,getSelectedBlocks:Po,normalize:()=>{const vo=Pe(),an=Ie();if(!NT(an)&&ph(r)){const Ps=go(e,vo);return Ps.each(zo=>{et(zo,kt())}),Ps.getOr(vo)}return vo},selectorChanged:(vo,an)=>(m(vo,an),xa),selectorChangedWithUnbind:m,getScrollContainer:()=>{let vo,an=e.getRoot();for(;an&&an.nodeName!=="BODY";){if(an.scrollHeight>an.clientHeight){vo=an;break}an=an.parentNode}return vo},scrollIntoView:(vo,an)=>{We(vo)?nF(r,vo,an):cw(r,Pe(),an)},placeCaretAt:(vo,an)=>et(y(vo,an,r.getDoc())),getBoundingClientRect:()=>{const vo=Pe();return vo.collapsed?yt.fromRangeStart(vo).getClientRects()[0]:vo.getBoundingClientRect()},destroy:()=>{o=c=u=null,gr.destroy()}},oc=Lu(xa),gr=Vb(xa,r);return xa.bookmarkManager=oc,xa.controlSelection=gr,xa},qZ=(e,o,n)=>{o.addNodeFilter("br",(r,c,u)=>{const m=Qt.extend({},n.getBlockElements()),b=n.getNonEmptyElements(),v=n.getWhitespaceElements();m.body=1;const E=R=>R.name in m||ol(n,R);for(let R=0,N=r.length;R<N;R++){let $=r[R],q=$.parent;if(q&&E(q)&&$===q.lastChild){let ne=$.prev;for(;ne;){const Y=ne.name;if(Y!=="span"||ne.attr("data-mce-type")!=="bookmark"){Y==="br"&&($=null);break}ne=ne.prev}if($&&($.remove(),kC(n,b,v,q))){const Y=n.getElementRule(q.name);Y&&(Y.removeEmpty?q.remove():Y.paddEmpty&&VA(e,u,E,q))}}else{let ne=$;for(;q&&q.firstChild===ne&&q.lastChild===ne&&(ne=q,!m[q.name]);)q=q.parent;if(ne===q){const Y=new hl("#text",3);Y.value=Ra,$.replace(Y)}}}})},c8=(e,o,n)=>{e.addAttributeFilter("data-mce-tabindex",(r,c)=>{let u=r.length;for(;u--;){const m=r[u];m.attr("tabindex",m.attr("data-mce-tabindex")),m.attr(c,null)}}),e.addAttributeFilter("src,href,style",(r,c)=>{const u="data-mce-"+c,m=o.url_converter,b=o.url_converter_scope;let v=r.length;for(;v--;){const E=r[v];let R=E.attr(u);R!==void 0?(E.attr(c,R.length>0?R:null),E.attr(u,null)):(R=E.attr(c),c==="style"?R=n.serializeStyle(n.parseStyle(R),E.name):m&&(R=m.call(b,R,c,E.name)),E.attr(c,R.length>0?R:null))}}),e.addAttributeFilter("class",r=>{let c=r.length;for(;c--;){const u=r[c];let m=u.attr("class");m&&(m=m.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),u.attr("class",m.length>0?m:null))}}),e.addAttributeFilter("data-mce-type",(r,c,u)=>{let m=r.length;for(;m--;){const b=r[m];b.attr("data-mce-type")==="bookmark"&&!u.cleanup&&(P.from(b.firstChild).exists(E=>{var R;return!j0((R=E.value)!==null&&R!==void 0?R:"")})?b.unwrap():b.remove())}}),e.addNodeFilter("script,style",(r,c)=>{var u;const m=v=>v.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let b=r.length;for(;b--;){const v=r[b],E=v.firstChild,R=(u=E==null?void 0:E.value)!==null&&u!==void 0?u:"";if(c==="script"){const N=v.attr("type");N&&v.attr("type",N==="mce-no/type"?null:N.replace(/^mce\-/,"")),o.element_format==="xhtml"&&E&&R.length>0&&(E.value=`// <![CDATA[
`+m(R)+`
// ]]>`)}else o.element_format==="xhtml"&&E&&R.length>0&&(E.value=`<!--
`+m(R)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let c=r.length;for(;c--;){const u=r[c],m=u.value;o.preserve_cdata&&(m==null?void 0:m.indexOf("[CDATA["))===0?(u.name="#cdata",u.type=4,u.value=n.decode(m.replace(/^\[CDATA\[|\]\]$/g,""))):(m==null?void 0:m.indexOf("mce:protected "))===0&&(u.name="#text",u.type=3,u.raw=!0,u.value=unescape(m).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,c)=>{let u=r.length;for(;u--;){const m=r[u];m.type===7?m.remove():m.type===1&&c==="input"&&!m.attr("type")&&m.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{V(r,c=>{c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,c)=>{let u=r.length;for(;u--;)r[u].attr(c,null)}),o.remove_trailing_brs&&qZ(o,e,e.schema)},i8=e=>{const o=r=>(r==null?void 0:r.name)==="br",n=e.lastChild;if(o(n)){const r=n.prev;o(r)&&(n.remove(),r.remove())}},GZ=(e,o,n)=>{let r;const c=e.dom;let u=o.cloneNode(!0);const m=document.implementation;if(m.createHTMLDocument){const b=m.createHTMLDocument("");Qt.each(u.nodeName==="BODY"?u.childNodes:[u],v=>{b.body.appendChild(b.importNode(v,!0))}),u.nodeName!=="BODY"?u=b.body.firstChild:u=b.body,r=c.doc,c.doc=b}return HT(e,{...n,node:u}),r&&(c.doc=r),u},l8=(e,o)=>We(e)&&e.hasEventListeners("PreProcess")&&!o.no_events,Ta=(e,o,n)=>l8(e,n)?GZ(e,o,n):o,r3=(e,o,n)=>{Qt.inArray(o,n)===-1&&(e.addAttributeFilter(n,(r,c)=>{let u=r.length;for(;u--;)r[u].attr(c,null)}),o.push(n))},KZ=(e,o,n)=>!o.no_events&&e?n1(e,{...o,content:n}).content:n,u8=(e,o,n)=>{const r=ki(n.getInner?o.innerHTML:e.getOuterHTML(o));return n.selection||qy(we.fromDom(o))?r:Qt.trim(r)},d8=(e,o,n)=>{const r=n.selection?{forced_root_block:!1,...n}:n,c=e.parse(o,r);return i8(c),c},D1=(e,o,n)=>bp(e,o).serialize(n),YZ=(e,o,n,r,c)=>{const u=D1(o,n,r);return KZ(e,c,u)},XZ=(e,o)=>{const n=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},c=o&&o.dom?o.dom:Br.DOM,u=o&&o.schema?o.schema:ef(r),m=O1(r,u);c8(m,r,c);const b=(v,E={})=>{const R={format:"html",...E},N=Ta(o,v,R),$=u8(c,N,R),q=d8(m,$,R);return R.format==="tree"?q:YZ(o,r,u,q,R)};return{schema:u,addNodeFilter:m.addNodeFilter,addAttributeFilter:m.addAttributeFilter,serialize:b,addRules:u.addValidElements,setRules:u.setValidElements,addTempAttr:ye(r3,m,n),getTempAttrs:ue(n),getNodeFilters:m.getNodeFilters,getAttributeFilters:m.getAttributeFilters,removeNodeFilter:m.removeNodeFilter,removeAttributeFilter:m.removeAttributeFilter}},ri=(e,o)=>{const n=XZ(e,o);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},UM="html",jM=(e,o)=>({...e,format:o,get:!0,getInner:!0}),WM=(e,o={})=>{const n=o.format?o.format:UM,r=jM(o,n);return P4(e,r).fold(bt,c=>{const u=qL(e,c);return nM(e,u,c)})},f8="html",m8=(e,o)=>({format:f8,...e,set:!0,content:o}),R1=(e,o,n={})=>{const r=m8(n,o);return KC(e,r).map(c=>{const u=GL(e,c.content,c);return $4(e,u.html,c),u.content}).getOr(o)},g8="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),a3=[],p8="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),c3=[],i3=(e,o)=>{const n=be(o,r=>Qo(e,r));return Mo(n)},l3=e=>{const o=i3(e,g8),n=e.forced_root_block;return(n===!1||n==="")&&o.push("forced_root_block (false only)"),Mo(o)},ZM=e=>i3(e,a3),sS=(e,o)=>{const n=Qt.makeMap(e.plugins," "),c=be(o,u=>Qo(n,u));return Mo(c)},h8=e=>sS(e,p8),b8=e=>sS(e,c3.map(o=>o.name)),y8=(e,o)=>{const n=l3(e),r=h8(o),c=r.length>0,u=n.length>0,m=o.theme==="mobile";if(c||u||m){const b=`
- `,v=m?`

Themes:${b}mobile`:"",E=c?`

Plugins:${b}${r.join(b)}`:"",R=u?`

Options:${b}${n.join(b)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+v+E+R)}},Dd=e=>xt(c3,o=>o.name===e).fold(()=>e,o=>o.replacedWith?`${e}, replaced by ${o.replacedWith}`:e),v8=(e,o)=>{const n=ZM(e),r=b8(o),c=r.length>0,u=n.length>0;if(c||u){const m=`
- `,b=c?`

Plugins:${m}${r.map(Dd).join(m)}`:"",v=u?`

Options:${m}${n.join(m)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+b+v)}},x8=(e,o)=>{y8(e,o),v8(e,o)},rS=Br.DOM,w8=e=>{rS.setStyle(e.id,"display",e.orgDisplay)},aS=e=>P.from(e).each(o=>o.destroy()),qM=e=>{const o=e;o.contentAreaContainer=o.formElement=o.container=o.editorContainer=null,o.bodyElement=o.contentDocument=o.contentWindow=null,o.iframeElement=o.targetElm=null;const n=e.selection;if(n){const r=n.dom;o.selection=n.win=n.dom=r.doc=null}},k8=e=>{const o=e.formElement;o&&(o._mceOldSubmit&&(o.submit=o._mceOldSubmit,delete o._mceOldSubmit),rS.unbind(o,"submit reset",e.formEventDelegate))},_8=e=>{if(!e.removed){const{_selectionOverrides:o,editorUpload:n}=e,r=e.getBody(),c=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&We(c==null?void 0:c.nextSibling)&&rS.remove(c.nextSibling),s1(e),e.editorManager.remove(e),!e.inline&&r&&w8(e),VT(e),rS.remove(e.getContainer()),aS(o),aS(n),e.destroy()}},C8=(e,o)=>{const{selection:n,dom:r}=e;if(!e.destroyed){if(!o&&!e.removed){e.remove();return}o||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),aS(n),aS(r)),k8(e),qM(e),e.destroyed=!0}},cS=(()=>{const e={};return{add:(c,u)=>{e[c]=u},get:c=>e[c]?e[c]:{icons:{}},has:c=>Qo(e,c)}})(),N1=wi.ModelManager,d3=(e,o)=>o.dom[e],iS=(e,o)=>parseInt(Sa(o,e),10),S8=ye(d3,"clientWidth"),E8=ye(d3,"clientHeight"),JZ=ye(iS,"margin-top"),T8=ye(iS,"margin-left"),qw=e=>e.dom.getBoundingClientRect(),GM=(e,o,n)=>{const r=S8(e),c=E8(e);return o>=0&&n>=0&&o<=r&&n<=c},KM=(e,o,n,r)=>{const c=qw(o),u=e?c.left+o.dom.clientLeft+T8(o):0,m=e?c.top+o.dom.clientTop+JZ(o):0,b=n-u,v=r-m;return{x:b,y:v}},A8=(e,o,n)=>{const r=we.fromDom(e.getBody()),c=e.inline?r:Tf(r),u=KM(e.inline,c,o,n);return GM(c,u.x,u.y)},YM=e=>P.from(e).map(we.fromDom),z8=e=>{const o=e.inline?e.getBody():e.getContentAreaContainer();return YM(o).map(ad).getOr(!1)};var O8=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const XM=e=>{const o=[],n=()=>{const $=e.theme;return $&&$.getNotificationManagerImpl?$.getNotificationManagerImpl():O8()},r=()=>P.from(o[0]),c=($,q)=>$.type===q.type&&$.text===q.text&&!$.progressBar&&!$.timeout&&!q.progressBar&&!q.timeout,u=()=>{r().each($=>{$.reposition()})},m=$=>{o.push($)},b=$=>{ho(o,q=>q===$).each(q=>{o.splice(q,1)})},v=($,q=!0)=>e.removed||!z8(e)?{}:(q&&e.dispatch("BeforeOpenNotification",{notification:$}),xt(o,ne=>c(n().getArgs(ne),$)).getOrThunk(()=>{e.editorManager.setActive(e);const ne=n().open($,()=>{b(ne)},()=>HD(e));return m(ne),u(),e.dispatch("OpenNotification",{notification:{...ne}}),ne})),E=()=>{r().each($=>{n().close($),b($),u()})},R=ue(o);return($=>{$.on("SkinLoaded",()=>{const q=Ei($);q&&v({text:q,type:"warning",timeout:0},!1),u()}),$.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(u)}),$.on("remove",()=>{V(o.slice(),q=>{n().close(q)})}),$.addShortcut("alt+F12","Focus to notification",()=>r().map(q=>we.fromDom(q.getEl())).each(q=>d1(q)))})(e),{open:v,close:E,getNotifications:R}},M1=wi.PluginManager,Nh=wi.ThemeManager;var D8=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const JM=e=>{let o=[];const n=()=>{const Y=e.theme;return Y&&Y.getWindowManagerImpl?Y.getWindowManagerImpl():D8()},r=(Y,ce)=>(..._e)=>ce?ce.apply(Y,_e):void 0,c=Y=>{e.dispatch("OpenWindow",{dialog:Y})},u=Y=>{e.dispatch("CloseWindow",{dialog:Y})},m=Y=>{o.push(Y),c(Y)},b=Y=>{u(Y),o=be(o,ce=>ce!==Y),o.length===0&&e.focus()},v=()=>P.from(o[o.length-1]),E=Y=>{e.editorManager.setActive(e),iw(e),e.ui.show();const ce=Y();return m(ce),ce},R=(Y,ce)=>E(()=>n().open(Y,ce,b)),N=Y=>E(()=>n().openUrl(Y,b)),$=(Y,ce,_e)=>{const Ie=n();Ie.alert(Y,r(_e||Ie,ce))},q=(Y,ce,_e)=>{const Ie=n();Ie.confirm(Y,r(_e||Ie,ce))},ne=()=>{v().each(Y=>{n().close(Y),b(Y)})};return e.on("remove",()=>{V(o,Y=>{n().close(Y)})}),{open:R,openUrl:N,alert:$,confirm:q,close:ne}},B1=(e,o)=>{e.notificationManager.open({type:"error",text:o})},Gw=(e,o)=>{e._skinLoaded?B1(e,o):e.on("SkinLoaded",()=>{B1(e,o)})},QM=(e,o)=>{Gw(e,vc.translate(["Failed to upload image: {0}",o]))},Kw=(e,o,n)=>{qc(e,o,{message:n}),console.error(n)},Yw=(e,o,n)=>n?`Failed to load ${e}: ${n} from url ${o}`:`Failed to load ${e} url: ${o}`,R8=(e,o,n)=>{Kw(e,"PluginLoadError",Yw("plugin",o,n))},e5=(e,o,n)=>{Kw(e,"IconsLoadError",Yw("icons",o,n))},N8=(e,o,n)=>{Kw(e,"LanguageLoadError",Yw("language",o,n))},M8=(e,o,n)=>{Kw(e,"ThemeLoadError",Yw("theme",o,n))},B8=(e,o,n)=>{Kw(e,"ModelLoadError",Yw("model",o,n))},P8=(e,o,n)=>{const r=vc.translate(["Failed to initialize plugin: {0}",o]);qc(e,"PluginLoadError",{message:r}),f3(r,n),Gw(e,r)},f3=(e,...o)=>{const n=window.console;n&&(n.error?n.error(e,...o):n.log(e,...o))},rm=e=>/^[a-z0-9\-]+$/i.test(e),Xw=e=>"content/"+e+"/content.css",$8=e=>tinymce.Resource.has(Xw(e)),I8=e=>t5(e,uT(e)),F8=e=>t5(e,Zi(e)),t5=(e,o)=>{const n=e.editorManager.baseURL+"/skins/content",c=`content${e.editorManager.suffix}.css`;return he(o,u=>$8(u)?u:rm(u)&&!e.inline?`${n}/${u}/${c}`:e.documentBaseURI.toAbsolute(u))},tr=e=>{e.contentCSS=e.contentCSS.concat(I8(e),F8(e))},L8=e=>e?bs(e.getElementsByTagName("img")):[],Jw=(e,o)=>{const n={};return{findAll:(c,u=Xe)=>{const m=be(L8(c),v=>{const E=v.src;return v.hasAttribute("data-mce-bogus")||v.hasAttribute("data-mce-placeholder")||!E||E===on.transparentSrc?!1:_n(E,"blob:")?!e.isUploaded(E)&&u(v):_n(E,"data:")?u(v):!1}),b=he(m,v=>{const E=v.src;if(Qo(n,E))return n[E].then(R=>X(R)?R:{image:v,blobInfo:R.blobInfo});{const R=Q6(o,E).then(N=>(delete n[E],{image:v,blobInfo:N})).catch(N=>(delete n[E],N));return n[E]=R,R}});return Promise.all(b)}}},o5=()=>{let n={};const r=($,q)=>({status:$,resultUri:q}),c=$=>$ in n;return{hasBlobUri:c,getResultUri:$=>{const q=n[$];return q?q.resultUri:null},isPending:$=>c($)?n[$].status===1:!1,isUploaded:$=>c($)?n[$].status===2:!1,markPending:$=>{n[$]=r(1,null)},markUploaded:($,q)=>{n[$]=r(2,q)},removeFailed:$=>{delete n[$]},destroy:()=>{n={}}}};let H8=0;const V8=()=>{const e=()=>Math.round(P0()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},n5=e=>e+H8+++V8(),Mh=()=>{let e=[];const o=N=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[N.toLowerCase()]||"dat",n=(N,$,q,ne,Y)=>{if(X(N))return r({id:N,name:ne,filename:Y,blob:$,base64:q});if(lt(N))return r(N);throw new Error("Unknown input type")},r=N=>{if(!N.blob||!N.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const $=N.id||n5("blobid"),q=N.name||$,ne=N.blob;return{id:ue($),name:ue(q),filename:ue(N.filename||q+"."+o(ne.type)),blob:ue(ne),base64:ue(N.base64),blobUri:ue(N.blobUri||URL.createObjectURL(ne)),uri:ue(N.uri)}},c=N=>{m(N.id())||e.push(N)},u=N=>xt(e,N).getOrUndefined(),m=N=>u($=>$.id()===N);return{create:n,add:c,get:m,getByUri:N=>u($=>$.blobUri()===N),getByData:(N,$)=>u(q=>q.base64()===N&&q.blob().type===$),findFirst:u,removeByUri:N=>{e=be(e,$=>$.blobUri()===N?(URL.revokeObjectURL($.blobUri()),!1):!0)},destroy:()=>{V(e,N=>{URL.revokeObjectURL(N.blobUri())}),e=[]}}},Il=(e,o)=>{const n={},r=(Y,ce)=>Y?Y.replace(/\/$/,"")+"/"+ce.replace(/^\//,""):ce,c=(Y,ce)=>new Promise((_e,Ie)=>{const Pe=new XMLHttpRequest;Pe.open("POST",o.url),Pe.withCredentials=o.credentials,Pe.upload.onprogress=$t=>{ce($t.loaded/$t.total*100)},Pe.onerror=()=>{Ie("Image upload failed due to a XHR Transport error. Code: "+Pe.status)},Pe.onload=()=>{if(Pe.status<200||Pe.status>=300){Ie("HTTP Error: "+Pe.status);return}const $t=JSON.parse(Pe.responseText);if(!$t||!X($t.location)){Ie("Invalid JSON: "+Pe.responseText);return}_e(r(o.basePath,$t.location))};const et=new FormData;et.append("file",Y.blob(),Y.filename()),Pe.send(et)}),u=ie(o.handler)?o.handler:c,m=()=>new Promise(Y=>{Y([])}),b=(Y,ce)=>({url:ce,blobInfo:Y,status:!0}),v=(Y,ce)=>({url:"",blobInfo:Y,status:!1,error:ce}),E=(Y,ce)=>{Qt.each(n[Y],_e=>{_e(ce)}),delete n[Y]},R=(Y,ce,_e)=>(e.markPending(Y.blobUri()),new Promise(Ie=>{let Pe,et;try{const $t=()=>{Pe&&(Pe.close(),et=Me)},mo=kt=>{$t(),e.markUploaded(Y.blobUri(),kt),E(Y.blobUri(),b(Y,kt)),Ie(b(Y,kt))},Po=kt=>{$t(),e.removeFailed(Y.blobUri()),E(Y.blobUri(),v(Y,kt)),Ie(v(Y,kt))};et=kt=>{kt<0||kt>100||P.from(Pe).orThunk(()=>P.from(_e).map(He)).each(ct=>{Pe=ct,ct.progressBar.value(kt)})},ce(Y,et).then(mo,kt=>{Po(X(kt)?{message:kt}:kt)})}catch($t){Ie(v(Y,$t))}})),N=Y=>Y===c,$=Y=>{const ce=Y.blobUri();return new Promise(_e=>{n[ce]=n[ce]||[],n[ce].push(_e)})},q=(Y,ce)=>(Y=Qt.grep(Y,_e=>!e.isUploaded(_e.blobUri())),Promise.all(Qt.map(Y,_e=>e.isPending(_e.blobUri())?$(_e):R(_e,u,ce))));return{upload:(Y,ce)=>!o.url&&N(u)?m():q(Y,ce)}},P1=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),_p=(e,o)=>Il(o,{url:dv(e),basePath:fv(e),credentials:j_(e),handler:W_(e)}),ig=e=>{const o=o5(),n=_p(e,o);return{upload:(r,c=!0)=>n.upload(r,c?P1(e):void 0)}},Qw=(e,o)=>e.dom.isEmpty(o.dom)&&We(e.schema.getTextBlockElements()[oe(o)]),m3=e=>o=>{Qw(e,o)&&Zr(o,we.fromHtml('<br data-mce-bogus="1" />'))},g3=e=>{const o=Mh();let n,r;const c=o5(),u=[],m=Pe=>et=>e.selection?Pe(et):[],b=Pe=>Pe+(Pe.indexOf("?")===-1?"?":"&")+new Date().getTime(),v=(Pe,et,$t)=>{let mo=0;do mo=Pe.indexOf(et,mo),mo!==-1&&(Pe=Pe.substring(0,mo)+$t+Pe.substr(mo+et.length),mo+=$t.length-et.length+1);while(mo!==-1);return Pe},E=(Pe,et,$t)=>{const mo=`src="${$t}"${$t===on.transparentSrc?' data-mce-placeholder="1"':""}`;return Pe=v(Pe,`src="${et}"`,mo),Pe=v(Pe,'data-mce-src="'+et+'"','data-mce-src="'+$t+'"'),Pe},R=(Pe,et)=>{V(e.undoManager.data,$t=>{$t.type==="fragmented"?$t.fragments=he($t.fragments,mo=>E(mo,Pe,et)):$t.content=E($t.content,Pe,et)})},N=(Pe,et)=>{const $t=e.convertURL(et,"src");R(Pe.src,et),pc(we.fromDom(Pe),{src:Qs(e)?b(et):et,"data-mce-src":$t})},$=()=>(n||(n=_p(e,c)),ce().then(m(Pe=>{const et=he(Pe,$t=>$t.blobInfo);return n.upload(et,P1(e)).then(m($t=>{const mo=[];let Po=!1;const kt=he($t,(ct,Bt)=>{const{blobInfo:qo,image:un}=Pe[Bt];let us=!1;return ct.status&&jc(e)?(ct.url&&!ln(un.src,ct.url)&&(Po=!0),o.removeByUri(un.src),cg(e)||N(un,ct.url)):ct.error&&(ct.error.remove&&(R(un.src,on.transparentSrc),mo.push(un),us=!0),QM(e,ct.error.message)),{element:un,status:ct.status,uploadUri:ct.url,blobInfo:qo,removed:us}});return mo.length>0&&!cg(e)?e.undoManager.transact(()=>{V(Jl(mo),ct=>{const Bt=hc(ct);sr(ct),Bt.each(m3(e)),o.removeByUri(ct.dom.src)})}):Po&&e.undoManager.dispatchChange(),kt}))}))),q=()=>ba(e)?$():Promise.resolve([]),ne=Pe=>Ut(u,et=>et(Pe)),Y=Pe=>{u.push(Pe)},ce=()=>(r||(r=Jw(c,o)),r.findAll(e.getBody(),ne).then(m(Pe=>{const et=be(Pe,$t=>X($t)?(Gw(e,$t),!1):$t.uriType!=="blob");return cg(e)||V(et,$t=>{R($t.image.src,$t.blobInfo.blobUri()),$t.image.src=$t.blobInfo.blobUri(),$t.image.removeAttribute("data-mce-src")}),et}))),_e=()=>{o.destroy(),c.destroy(),r=n=null},Ie=Pe=>Pe.replace(/src="(blob:[^"]+)"/g,(et,$t)=>{const mo=c.getResultUri($t);if(mo)return'src="'+mo+'"';let Po=o.getByUri($t);return Po||(Po=Ee(e.editorManager.get(),(kt,ct)=>kt||ct.editorUpload&&ct.editorUpload.blobCache.getByUri($t),void 0)),Po?'src="data:'+Po.blob().type+";base64,"+Po.base64()+'"':et});return e.on("SetContent",()=>{ba(e)?q():ce()}),e.on("RawSaveContent",Pe=>{Pe.content=Ie(Pe.content)}),e.on("GetContent",Pe=>{Pe.source_view||Pe.format==="raw"||Pe.format==="tree"||(Pe.content=Ie(Pe.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",Pe=>{V(Pe,et=>{const $t=et.attr("src");if(!$t||o.getByUri($t))return;const mo=c.getResultUri($t);mo&&et.attr("src",mo)})})}),{blobCache:o,addFilter:Y,uploadImages:$,uploadImagesAuto:q,scanForImages:ce,destroy:_e}},s5=e=>{const o=e.dom,n=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{o.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{o.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},u={inline:"strike",remove:"all",preserve_attributes:["class","style"]},m={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[m,c,u]:[c,m,u]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,u,m)=>Do(c)&&c.hasAttribute("href"),onformat:(c,u,m)=>{Qt.each(m,(b,v)=>{o.setAttrib(c,v,b)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var u;return(u=c==null?void 0:c.customValue)!==null&&u!==void 0?u:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Qt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{r[c]={block:c,remove:"all"}}),r},p3={remove_similar:!0,inherit:!1},$1={selector:"td,th",...p3},U8={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...$1},tablecellverticalalign:{styles:{"vertical-align":"%value"},...$1},tablecellbordercolor:{styles:{borderColor:"%value"},...$1},tablecellclass:{classes:["%value"],...$1},tableclass:{selector:"table",classes:["%value"],...p3},tablecellborderstyle:{styles:{borderStyle:"%value"},...$1},tablecellborderwidth:{styles:{borderWidth:"%value"},...$1}},r5=ue(U8),a5=e=>{const o={},n=m=>We(m)?o[m]:o,r=m=>Qo(o,m),c=(m,b)=>{m&&(X(m)?(pt(b)||(b=[b]),V(b,v=>{ko(v.deep)&&(v.deep=!uu(v)),ko(v.split)&&(v.split=!uu(v)||wc(v)),ko(v.remove)&&uu(v)&&!wc(v)&&(v.remove="none"),uu(v)&&wc(v)&&(v.mixed=!0,v.block_expand=!0),X(v.classes)&&(v.classes=v.classes.split(/\s+/))}),o[m]=b):Kt(m,(v,E)=>{c(E,v)}))},u=m=>(m&&o[m]&&delete o[m],o);return c(s5(e)),c(r5()),c(K_(e)),{get:n,has:r,register:c,unregister:u}},ek=Qt.each,Zu=Br.DOM,tk=e=>We(e)&&lt(e),j8=(e,o)=>{const n=o&&o.schema||ef({}),r=(v,E)=>{E.classes.length>0&&Zu.addClass(v,E.classes.join(" ")),Zu.setAttribs(v,E.attrs)},c=v=>{const E=X(v)?{name:v,classes:[],attrs:{}}:v,R=Zu.create(E.name);return r(R,E),R},u=(v,E)=>{const R=n.getElementRule(v.nodeName.toLowerCase()),N=R==null?void 0:R.parentsRequired;return N&&N.length?E&&K(N,E)?E:N[0]:!1},m=(v,E,R)=>{let N;const $=E[0],q=tk($)?$.name:void 0,ne=u(v,q);if(ne)q===ne?(N=$,E=E.slice(1)):N=ne;else if($)N=$,E=E.slice(1);else if(!R)return v;const Y=N?c(N):Zu.create("div");Y.appendChild(v),R&&Qt.each(R,_e=>{const Ie=c(_e);Y.insertBefore(Ie,v)});const ce=tk(N)?N.siblings:void 0;return m(Y,E,ce)},b=Zu.create("div");if(e.length>0){const v=e[0],E=c(v),R=tk(v)?v.siblings:void 0;b.appendChild(m(E,e.slice(1),R))}return b},W8=e=>{e=Qt.trim(e);let o="div";const n={name:o,classes:[],attrs:{},selector:e};return e!=="*"&&(o=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,c,u,m,b)=>{switch(c){case"#":n.attrs.id=u;break;case".":n.classes.push(u);break;case":":Qt.inArray("checked disabled enabled read-only required".split(" "),u)!==-1&&(n.attrs[u]=u);break}if(m==="["){const v=b.match(/([\w\-]+)(?:\=\"([^\"]+))?/);v&&(n.attrs[v[1]]=v[2])}return""})),n.name=o||"div",n},QZ=e=>X(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Qt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),o=>{const n=Qt.map(o.split(/(?:~\+|~|\+)/),W8),r=n.pop();return n.length&&(r.siblings=n),r}).reverse()):[],Z8=(e,o)=>{let n="",r=gx(e);if(r==="")return"";const c=$=>X($)?$.replace(/%(\w+)/g,""):"",u=($,q)=>Zu.getStyle(q??e.getBody(),$,!0);if(X(o)){const $=e.formatter.get(o);if(!$)return"";o=$[0]}if("preview"in o){const $=o.preview;if($===!1)return"";r=$||r}let m=o.block||o.inline||"span",b;const v=QZ(o.selector);v.length>0?(v[0].name||(v[0].name=m),m=o.selector,b=j8(v,e)):b=j8([m],e);const E=Zu.select(m,b)[0]||b.firstChild;ek(o.styles,($,q)=>{const ne=c($);ne&&Zu.setStyle(E,q,ne)}),ek(o.attributes,($,q)=>{const ne=c($);ne&&Zu.setAttrib(E,q,ne)}),ek(o.classes,$=>{const q=c($);Zu.hasClass(E,q)||Zu.addClass(E,q)}),e.dispatch("PreviewFormats"),Zu.setStyles(b,{position:"absolute",left:-65535}),e.getBody().appendChild(b);const R=u("fontSize"),N=/px$/.test(R)?parseInt(R,10):0;return ek(r.split(" "),$=>{let q=u($,E);if(!($==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(q)&&(q=u($),yd(q).toLowerCase()==="#ffffff"))&&!($==="color"&&yd(q).toLowerCase()==="#000000")){if($==="font-size"&&/em|%$/.test(q)){if(N===0)return;q=parseFloat(q)/(/%$/.test(q)?100:1)*N+"px"}$==="border"&&q&&(n+="padding:0 2px;"),n+=$+":"+q+";"}}),e.dispatch("AfterPreviewFormats"),Zu.remove(b),n},q8=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let o=1;o<=6;o++)e.addShortcut("access+"+o,"",["FormatBlock",!1,"h"+o]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},am=e=>{const o=a5(e),n=Ve({});return q8(e),mN(e),cg(e)||y4(n,e),{get:o.get,has:o.has,register:o.register,unregister:o.unregister,apply:(r,c,u)=>{WL(e,r,c,u)},remove:(r,c,u,m)=>{ZL(e,r,c,u,m)},toggle:(r,c,u)=>{PM(e,r,c,u)},match:(r,c,u,m)=>VL(e,r,c,u,m),closest:r=>jL(e,r),matchAll:(r,c)=>n3(e,r,c),matchNode:(r,c,u,m)=>UL(e,r,c,u,m),canApply:r=>nS(e,r),formatChanged:(r,c,u,m)=>$M(e,n,r,c,u,m),getCssText:ye(Z8,e)}},G8=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},eq=(e,o,n)=>{const r=Ve(!1),c=v=>{Zw(o,!1,n),o.add({},v)};e.on("init",()=>{o.add()}),e.on("BeforeExecCommand",v=>{const E=v.command;G8(E)||(_M(o,n),o.beforeChange())}),e.on("ExecCommand",v=>{const E=v.command;G8(E)||c(v)}),e.on("ObjectResizeStart cut",()=>{o.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",v=>{const E=v.keyCode;if(v.isDefaultPrevented())return;const R=on.os.isMacOS()&&v.key==="Meta";(E>=33&&E<=36||E>=37&&E<=40||E===45||v.ctrlKey||R)&&(c(),e.nodeChanged()),(E===46||E===8)&&e.nodeChanged(),r.get()&&o.typing&&!Ww(Uw(e),o.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",v=>{const E=v.keyCode;if(v.isDefaultPrevented())return;if(E>=33&&E<=36||E>=37&&E<=40||E===45){o.typing&&c(v);return}const R=v.ctrlKey&&!v.altKey||v.metaKey;if((E<16||E>20)&&E!==224&&E!==91&&!o.typing&&!R){o.beforeChange(),Zw(o,!0,n),o.add({},v),r.set(!0);return}(on.os.isMacOS()?v.metaKey:v.ctrlKey&&!v.altKey)&&o.beforeChange()}),e.on("mousedown",v=>{o.typing&&c(v)});const u=v=>v.inputType==="insertReplacementText",m=v=>v.inputType==="insertText"&&v.data===null,b=v=>v.inputType==="insertFromPaste"||v.inputType==="insertFromDrop";e.on("input",v=>{v.inputType&&(u(v)||m(v)||b(v))&&c(v)}),e.on("AddUndo Undo Redo ClearUndos",v=>{v.isDefaultPrevented()||e.nodeChanged()})},K8=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},I1=e=>{const o=Vc(),n=Ve(0),r=Ve(0),c={data:[],typing:!1,beforeChange:()=>{zM(e,n,o)},add:(u,m)=>Q4(e,c,r,n,o,u,m),dispatchChange:()=>{e.setDirty(!0);const u=Uw(e);u.bookmark=ax(e.selection),e.dispatch("change",{level:u,lastLevel:Hn(c.data,r.get()).getOrUndefined()})},undo:()=>e3(e,c,n,r),redo:()=>OM(e,r,c.data),clear:()=>{t3(e,c,r)},reset:()=>{DM(e,c)},hasUndo:()=>RM(e,c,r),hasRedo:()=>o3(e,c,r),transact:u=>NM(e,c,n,u),ignore:u=>{MM(e,n,u)},extra:(u,m)=>{BM(e,c,r,u,m)}};return cg(e)||eq(e,c,n),K8(e),c},Y8=[9,27,eo.HOME,eo.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,eo.DOWN,eo.UP,eo.LEFT,eo.RIGHT].concat(on.browser.isFirefox()?[224]:[]),h3="data-mce-placeholder",b3=e=>e.type==="keydown"||e.type==="keyup",y3=e=>{const o=e.keyCode;return o===eo.BACKSPACE||o===eo.DELETE},X8=e=>{if(b3(e)){const o=e.keyCode;return!y3(e)&&(eo.metaKeyPressed(e)||e.altKey||o>=112&&o<=123||K(Y8,o))}else return!1},J8=e=>b3(e)&&!(y3(e)||e.type==="keyup"&&e.keyCode===229),Bh=(e,o,n)=>{if(e.isEmpty(o,void 0,{skipBogus:!1,includeZwsp:!0})){const r=o.firstElementChild;return r?e.getStyle(o.firstElementChild,"padding-left")||e.getStyle(o.firstElementChild,"padding-right")?!1:n===r.nodeName.toLowerCase():!0}else return!1},Q8=e=>{var o;const n=e.dom,r=Uc(e),c=(o=vb(e))!==null&&o!==void 0?o:"",u=(m,b)=>{if(X8(m))return;const v=e.getBody(),E=J8(m)?!1:Bh(n,v,r);(n.getAttrib(v,h3)!==""!==E||b)&&(n.setAttrib(v,h3,E?c:null),a1(e,E),e.on(E?"keydown":"keyup",u),e.off(E?"keyup":"keydown",u))};xn(c)&&e.on("init",m=>{u(m,!0),e.on("change SetContent ExecCommand",u),e.on("paste",b=>Uu.setEditorTimeout(e,()=>u(b)))})},e7=(e,o)=>({block:e,position:o}),t7=(e,o)=>({from:e,to:o}),v3=(e,o)=>{const n=we.fromDom(e),r=we.fromDom(o.container());return Ur(n,r).map(c=>e7(c,o))},o7=e=>!(ga(e.to.block,e.from.block)||ga(e.from.block,e.to.block)),n7=e=>!ts(e.from.block,e.to.block),c5=(e,o)=>Lr(o,c=>mb(c)||Ot(c.dom),c=>ts(c,e)).filter(As).getOr(e),s7=(e,o)=>{const n=we.fromDom(e);return ts(c5(n,o.from.block),c5(n,o.to.block))},r7=e=>Bs(e.from.block.dom)===!1&&Bs(e.to.block.dom)===!1,lS=e=>{const o=n=>Pu(n)||yc(n.dom)||Gg(n);return o(e.from.block)&&o(e.to.block)},a7=(e,o,n,r)=>Ms(r.position.getNode())&&!kr(e,r.block)?og(!1,r.block.dom).bind(c=>c.isEqual(r.position)?qi(n,o,c).bind(u=>v3(o,u)):P.some(r)).getOr(r):r,c7=(e,o,n,r)=>{const c=v3(o,yt.fromRangeStart(r)),u=c.bind(m=>qi(n,o,m.position).bind(b=>v3(o,b).map(v=>a7(e,o,n,v))));return Zn(c,u,t7).filter(m=>n7(m)&&s7(o,m)&&r7(m)&&lS(m)&&o7(m))},tq=(e,o,n,r)=>r.collapsed?c7(e,o,n,r):P.none(),ok=(e,o)=>{const n=Ia(e);return ho(n,r=>o.isBlock(oe(r))).fold(ue(n),r=>n.slice(0,r))},i5=(e,o)=>{const n=ok(e,o);return V(n,sr),n},uS=(e,o,n)=>{const r=mf(n,o);return xt(r.reverse(),c=>kr(e,c)).each(sr)},i7=(e,o)=>be(Eg(o),n=>!kr(e,n)).length===0,l7=(e,o,n,r,c)=>{if(kr(r,n))return cu(n),Zc(n.dom);i7(r,c)&&kr(r,o)&&Oc(c,we.fromTag("br"));const u=ml(n.dom,yt.before(c.dom));return V(i5(o,r),m=>{Oc(c,m)}),uS(r,e,o),u},u7=(e,o)=>e.isInline(oe(o)),d7=(e,o,n,r)=>{if(kr(r,n)){if(kr(r,o)){const m=ut((b=>{const v=(E,R)=>zc(E).fold(()=>R,N=>u7(r,N)?v(N,R.concat(Nm(N))):R);return v(b,[])})(n),(b,v)=>(ld(b,v),v),Kg());ud(o),Zr(o,m)}return sr(n),Zc(o.dom)}const c=iu(n.dom);return V(i5(o,r),u=>{Zr(n,u)}),uS(r,e,o),c},dy=(e,o)=>{const n=mf(o,e);return P.from(n[n.length-1])},fy=(e,o)=>ga(o,e)?dy(o,e):P.none(),nk=(e,o)=>{og(e,o.dom).bind(n=>P.from(n.getNode())).map(we.fromDom).filter(il).each(sr)},sk=(e,o,n,r)=>(nk(!0,o),nk(!1,n),fy(o,n).fold(ye(d7,e,o,n,r),ye(l7,e,o,n,r))),Ph=(e,o,n,r,c)=>o?sk(e,r,n,c):sk(e,n,r,c),Cp=(e,o)=>{const n=we.fromDom(e.getBody());return tq(e.schema,n.dom,o,e.selection.getRng()).map(c=>()=>{Ph(n,o,c.from.block,c.to.block,e.schema).each(u=>{e.selection.setRng(u.toRange())})})},dS=(e,o,n)=>{const r=o.getRng();return Zn(Ur(e,we.fromDom(r.startContainer)),Ur(e,we.fromDom(r.endContainer)),(c,u)=>ts(c,u)?P.none():P.some(()=>{r.deleteContents(),Ph(e,!0,c,u,n).each(m=>{o.setRng(m.toRange())})})).getOr(P.none())},rk=(e,o)=>{const n=we.fromDom(o),r=ye(ts,e);return Nr(n,mb,r).isSome()},l5=(e,o)=>rk(e,o.startContainer)||rk(e,o.endContainer),x3=(e,o)=>{const n=ml(e.dom,yt.fromRangeStart(o)).isNone(),r=Gi(e.dom,yt.fromRangeEnd(o)).isNone();return!l5(e,o)&&n&&r},w3=e=>P.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),u5=e=>{const o=we.fromDom(e.getBody()),n=e.selection.getRng();return x3(o,n)?w3(e):dS(o,e.selection,e.schema)},fS=(e,o)=>e.selection.isCollapsed()?P.none():u5(e),qu=(e,o,n,r,c)=>P.from(o._selectionOverrides.showCaret(e,n,r,c)),d5=e=>{const o=e.ownerDocument.createRange();return o.selectNode(e),o},F1=(e,o)=>e.dispatch("BeforeObjectSelected",{target:o}).isDefaultPrevented()?P.none():P.some(d5(o)),f5=(e,o,n)=>{const r=Mc(1,e.getBody(),o),c=yt.fromRangeStart(r),u=c.getNode();if(ah(u))return qu(1,e,u,!c.isAtEnd(),!1);const m=c.getNode(!0);if(ah(m))return qu(1,e,m,!1,!1);const b=Eh(e.dom.getRoot(),c.getNode());return ah(b)?qu(1,e,b,!1,n):P.none()},L1=(e,o,n)=>o.collapsed?f5(e,o,n).getOr(o):o,m5=e=>_h(e)||g1(e),g5=e=>Ch(e)||p1(e),p5=(e,o)=>{Xt(o)&&o.data.length===0&&e.remove(o)},k3=(e,o,n,r,c,u)=>{qu(r,e,u.getNode(!c),c,!0).each(m=>{if(o.collapsed){const b=o.cloneRange();c?b.setEnd(m.startContainer,m.startOffset):b.setStart(m.endContainer,m.endOffset),b.deleteContents()}else o.deleteContents();e.selection.setRng(m)}),p5(e.dom,n)},Sp=(e,o)=>{const n=e.selection.getRng();if(!Xt(n.commonAncestorContainer))return P.none();const r=o?Va.Forwards:Va.Backwards,c=_d(e.getBody()),u=ye(Ax,o?c.next:c.prev),m=o?m5:g5,b=Ab(r,e.getBody(),n),v=u(b),E=v&&Ea(o,v);if(!E||!Nv(b,E))return P.none();if(m(E))return P.some(()=>k3(e,n,b.getNode(),r,o,E));const R=u(E);return R&&m(R)&&Nv(E,R)?P.some(()=>k3(e,n,b.getNode(),r,o,R)):P.none()},lg=(e,o)=>Sp(e,o),Gu=(e,o)=>{const n=e.getBody();return o?Zc(n).filter(_h):iu(n).filter(Ch)},_3=e=>{const o=e.selection.getRng();return!o.collapsed&&(Gu(e,!0).exists(n=>n.isEqual(yt.fromRangeStart(o)))||Gu(e,!1).exists(n=>n.isEqual(yt.fromRangeEnd(o))))},f7=e=>We(e)&&(mb(we.fromDom(e))||Gg(we.fromDom(e))),Ku=wd.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),m7=(e,o)=>{const n=o.getNode(!e),r=e?"after":"before";return Do(n)&&n.getAttribute("data-mce-caret")===r},g7=(e,o,n,r,c)=>{const u=m=>c.isInline(m.nodeName.toLowerCase())&&!Dl(n,r,e);return Dv(!o,n).fold(()=>Dv(o,r).fold(ke,u),u)},h5=(e,o,n,r,c)=>{const u=c.getNode(!n);return Ur(we.fromDom(o),we.fromDom(r.getNode())).map(m=>kr(e,m)?Ku.remove(m.dom):Ku.moveToElement(u)).orThunk(()=>P.some(Ku.moveToElement(u)))},b5=(e,o,n,r)=>qi(o,e,n).bind(c=>f7(c.getNode())||g7(e,o,n,c,r)?P.none():o&&Bs(c.getNode())||!o&&Bs(c.getNode(!0))?h5(r,e,o,n,c):o&&Ch(n)||!o&&_h(n)?P.some(Ku.moveToPosition(c)):P.none()),p7=(e,o)=>co(o)?P.none():e&&Bs(o.nextSibling)?P.some(Ku.moveToElement(o.nextSibling)):!e&&Bs(o.previousSibling)?P.some(Ku.moveToElement(o.previousSibling)):P.none(),h7=(e,o,n)=>n.fold(r=>P.some(Ku.remove(r)),r=>P.some(Ku.moveToElement(r)),r=>Dl(o,r,e)?P.none():P.some(Ku.moveToPosition(r))),b7=(e,o,n,r)=>m7(o,n)?p7(o,n.getNode(!o)).orThunk(()=>b5(e,o,n,r)):b5(e,o,n,r).bind(c=>h7(e,n,c)),y7=(e,o,n,r)=>{const c=Mc(o?1:-1,e,n),u=yt.fromRangeStart(c),m=we.fromDom(e);return!o&&Ch(u)?P.some(Ku.remove(u.getNode(!0))):o&&_h(u)?P.some(Ku.remove(u.getNode())):!o&&_h(u)&&uC(m,u,r)?hR(m,u,r).map(b=>Ku.remove(b.getNode())):o&&Ch(u)&&pR(m,u,r)?Bn(m,u,r).map(b=>Ku.remove(b.getNode())):b7(e,o,u,r)},v7=(e,o)=>n=>(e._selectionOverrides.hideFakeCaret(),Cd(e,o,we.fromDom(n)),!0),C3=(e,o)=>n=>{const r=o?yt.before(n):yt.after(n);return e.selection.setRng(r.toRange()),!0},S3=e=>o=>(e.selection.setRng(o.toRange()),!0),E3=(e,o)=>P.from(Eh(e.getBody(),o)),x7=(e,o)=>{const n=e.selection.getNode();return E3(e,n).filter(Bs).fold(()=>y7(e.getBody(),o,e.selection.getRng(),e.schema).map(r=>()=>r.fold(v7(e,o),C3(e,o),S3(e))),()=>P.some(Me))},w7=e=>{V(Dc(e,".mce-offscreen-selection"),sr)},y5=(e,o)=>{const n=e.selection.getNode();return Bs(n)&&!Pg(n)?E3(e,n.parentNode).filter(Bs).fold(()=>P.some(()=>{w7(we.fromDom(e.getBody())),Cd(e,o,we.fromDom(e.selection.getNode())),y1(e)}),()=>P.some(Me)):_3(e)?P.some(()=>{Gb(e,e.selection.getRng(),we.fromDom(e.getBody()))}):P.none()},T3=e=>{const o=e.dom,n=e.selection,r=Eh(e.getBody(),n.getNode());if(Ot(r)&&o.isBlock(r)&&o.isEmpty(r)){const c=o.create("br",{"data-mce-bogus":"1"});o.setHTML(r,""),r.appendChild(c),n.setRng(yt.before(c).toRange())}return!0},ak=(e,o)=>e.selection.isCollapsed()?x7(e,o):y5(e,o),A3=e=>e.hasOwnProperty("text"),z3=e=>e.hasOwnProperty("marker"),mS=(e,o)=>{const n=(u,m)=>{if(Xt(u))return{text:u,offset:m};{const b=o(),v=u.childNodes;return m<v.length?(u.insertBefore(b,v[m]),{marker:b,before:!0}):(u.appendChild(b),{marker:b,before:!1})}},r=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:r}},v5=e=>{var o,n;const{start:r,end:c}=e,u=new window.Range;return A3(r)?u.setStart(r.text,r.offset):z3(r)&&(r.before?u.setStartBefore(r.marker):u.setStartAfter(r.marker),(o=r.marker.parentNode)===null||o===void 0||o.removeChild(r.marker)),A3(c)?u.setEnd(c.text,c.offset):z3(c)&&(c.before?u.setEndBefore(c.marker):u.setEndAfter(c.marker),(n=c.marker.parentNode)===null||n===void 0||n.removeChild(c.marker)),u},O3=(e,o)=>{var n;const r=e.dom,c=r.getParent(e.selection.getStart(),r.isBlock),u=r.getParent(e.selection.getEnd(),r.isBlock),m=e.getBody();if(((n=c==null?void 0:c.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&c&&u&&c===m.firstChild&&u===m.lastChild&&!r.isEmpty(m)){const v=c.cloneNode(!1),E=()=>{if(o?Sh(e):gC(e),m.firstChild!==c){const R=mS(e.selection.getRng(),()=>document.createElement("span"));Array.from(m.childNodes).forEach(N=>v.appendChild(N)),m.appendChild(v),e.selection.setRng(v5(R))}};return P.some(E)}return P.none()},ug=(e,o)=>{const n=yt.fromRangeStart(e.selection.getRng());return qi(o,e.getBody(),n).filter(r=>o?MF(r):pn(r)).bind(r=>Tx(o?0:-1,r)).map(r=>()=>e.selection.select(r))},Yu=(e,o)=>e.selection.isCollapsed()?ug(e,o):P.none(),Ep=Xt,D3=e=>Ep(e)&&e.data[0]===lc,ck=e=>Ep(e)&&e.data[e.data.length-1]===lc,R3=e=>{var o;return((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(lc)},x5=e=>{var o;if(Ep(e.previousSibling))return ck(e.previousSibling)||e.previousSibling.appendData(lc),e.previousSibling;if(Ep(e))return D3(e)||e.insertData(0,lc),e;{const n=R3(e);return(o=e.parentNode)===null||o===void 0||o.insertBefore(n,e),n}},w5=e=>{var o,n;if(Ep(e.nextSibling))return D3(e.nextSibling)||e.nextSibling.insertData(0,lc),e.nextSibling;if(Ep(e))return ck(e)||e.appendData(lc),e;{const r=R3(e);return e.nextSibling?(o=e.parentNode)===null||o===void 0||o.insertBefore(r,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(r),r}},ik=(e,o)=>e?x5(o):w5(o),k5=ye(ik,!0),_5=ye(ik,!1),lk=(e,o)=>Xt(e.container())?ik(o,e.container()):ik(o,e.getNode()),gS=(e,o)=>{const n=o.get();return n&&e.container()===n&&Uf(n)},N3=(e,o)=>o.fold(n=>{ep(e.get());const r=k5(n);return e.set(r),P.some(yt(r,r.length-1))},n=>Zc(n).map(r=>{if(gS(r,e)){const c=e.get();return yt(c,1)}else{ep(e.get());const c=lk(r,!0);return e.set(c),yt(c,1)}}),n=>iu(n).map(r=>{if(gS(r,e)){const c=e.get();return yt(c,c.length-1)}else{ep(e.get());const c=lk(r,!1);return e.set(c),yt(c,c.length-1)}}),n=>{ep(e.get());const r=_5(n);return e.set(r),P.some(yt(r,1))}),C5=(e,o)=>{for(let n=0;n<e.length;n++){const r=e[n].apply(null,o);if(r.isSome())return r}return P.none()},bl=wd.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),S5=(e,o)=>{const n=eg(o,e);return n||e},E5=(e,o,n)=>{const r=MR(n),c=S5(o,r.container());return yp(e,c,r).fold(()=>Gi(c,r).bind(ye(yp,e,c)).map(u=>bl.before(u)),P.none)},k7=(e,o)=>np(e,o)===null,T5=(e,o,n)=>yp(e,o,n).filter(ye(k7,o)),M3=(e,o,n)=>{const r=BR(n);return T5(e,o,r).bind(c=>ml(c,r).isNone()?P.some(bl.start(c)):P.none())},_7=(e,o,n)=>{const r=MR(n);return T5(e,o,r).bind(c=>Gi(c,r).isNone()?P.some(bl.end(c)):P.none())},C7=(e,o,n)=>{const r=BR(n),c=S5(o,r.container());return yp(e,c,r).fold(()=>ml(c,r).bind(ye(yp,e,c)).map(u=>bl.after(u)),P.none)},A5=e=>!OR(B3(e)),dg=(e,o,n)=>C5([E5,M3,_7,C7],[e,o,n]).filter(A5),B3=e=>e.fold(bt,bt,bt,bt),z5=e=>e.fold(ue("before"),ue("start"),ue("end"),ue("after")),pS=e=>e.fold(bl.before,bl.before,bl.after,bl.after),H1=e=>e.fold(bl.start,bl.start,bl.end,bl.end),P3=(e,o)=>z5(e)===z5(o)&&B3(e)===B3(o),S7=(e,o,n,r,c,u)=>Zn(yp(o,n,r),yp(o,n,c),(m,b)=>m!==b&&RR(n,m,b)?bl.after(e?m:b):u).getOr(u),E7=(e,o)=>e.fold(Xe,n=>!P3(n,o)),T7=(e,o,n,r,c)=>{const u=Ea(e,c);return qi(e,n,u).map(ye(Ea,e)).fold(()=>r.map(pS),v=>dg(o,n,v).map(ye(S7,e,o,n,u,v)).filter(ye(E7,r))).filter(A5)},A7=(e,o)=>e?o.fold(_(P.some,bl.start),P.none,_(P.some,bl.after),P.none):o.fold(P.none,_(P.some,bl.before),P.none,_(P.some,bl.end)),O5=(e,o,n,r)=>{const c=Ea(e,r),u=dg(o,n,c);return dg(o,n,c).bind(ye(A7,e)).orThunk(()=>T7(e,o,n,u,r))},z7=e=>ie(e.selection.getSel().modify),D5=(e,o,n)=>{const r=e?1:-1;return o.setRng(yt(n.container(),n.offset()+r).toRange()),o.getSel().modify("move",e?"forward":"backward","word"),!0},$3=(e,o)=>{const n=o.selection.getRng(),r=e?yt.fromRangeEnd(n):yt.fromRangeStart(n);return z7(o)?e&&W0(r)?D5(!0,o.selection,r):!e&&Jp(r)?D5(!1,o.selection,r):!1:!1};var fg;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(fg||(fg={}));const hS=(e,o)=>e===Va.Backwards?io(o):o,O7=(e,o,n)=>e===Va.Forwards?o.next(n):o.prev(n),D7=(e,o,n,r)=>Ms(r.getNode(o===Va.Forwards))?fg.Br:Dl(n,r)===!1?fg.Block:fg.Wrap,R5=(e,o,n,r)=>{const c=_d(n);let u=r;const m=[];for(;u;){const b=O7(o,c,u);if(!b)break;if(Ms(b.getNode(!1)))return o===Va.Forwards?{positions:hS(o,m).concat([b]),breakType:fg.Br,breakAt:P.some(b)}:{positions:hS(o,m),breakType:fg.Br,breakAt:P.some(b)};if(!b.isVisible()){u=b;continue}if(e(u,b)){const v=D7(n,o,u,b);return{positions:hS(o,m),breakType:v,breakAt:P.some(b)}}m.push(b),u=b}return{positions:hS(o,m),breakType:fg.Eol,breakAt:P.none()}},N5=(e,o,n,r)=>o(n,r).breakAt.map(c=>{const u=o(n,c).positions;return e===Va.Backwards?u.concat(c):[c].concat(u)}).getOr([]),I3=(e,o)=>Ee(e,(n,r)=>n.fold(()=>P.some(r),c=>Zn(Bo(c.getClientRects()),Bo(r.getClientRects()),(u,m)=>{const b=Math.abs(o-u.left);return Math.abs(o-m.left)<=b?r:c}).or(n)),P.none()),my=(e,o)=>Bo(o.getClientRects()).bind(n=>I3(e,n.left)),$h=ye(R5,yt.isAbove,-1),uk=ye(R5,yt.isBelow,1),M5=ye(N5,-1,$h),dk=ye(N5,1,uk),B5=(e,o)=>$h(e,o).breakAt.isNone(),P5=(e,o)=>uk(e,o).breakAt.isNone(),R7=e=>Zc(e).map(o=>[o].concat(uk(e,o).positions)).getOr([]),N7=e=>iu(e).map(o=>$h(e,o).positions.concat(o)).getOr([]),M7=(e,o)=>my(M5(e,o),o),B7=(e,o)=>my(dk(e,o),o),P7=Bs,$5=(e,o)=>Math.abs(e.left-o),I5=(e,o)=>Math.abs(e.right-o),$7=e=>Vs(e,"node"),F5=(e,o)=>ge(e,(n,r)=>{const c=Math.min($5(n,o),I5(n,o)),u=Math.min($5(r,o),I5(r,o));return u===c&&$7(r)&&P7(r.node)||u<c?r:n}),oq=e=>{const o=n=>he(n,r=>{const c=Fm(r);return c.node=e,c});if(Do(e))return o(e.getClientRects());if(Xt(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),o(n.getClientRects())}else return[]},Rd=e=>Je(e,oq);var gy;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(gy||(gy={}));const L5=(e,o,n,r)=>{let c=r;for(;c=ch(c,e,Qy,o);)if(n(c))return},F3=(e,o,n,r,c,u)=>{let m=0;const b=[],v=N=>{let $=Rd([N]);e===-1&&($=$.reverse());for(let q=0;q<$.length;q++){const ne=$[q];if(!n(ne,E)){if(b.length>0&&o(ne,tt(b))&&m++,ne.line=m,c(ne))return!0;b.push(ne)}}return!1},E=tt(u.getClientRects());if(!E)return b;const R=u.getNode();return R&&(v(R),L5(e,r,v,R)),b},I7=(e,o)=>o.line>e,H5=(e,o)=>o.line===e,F7=ye(F3,gy.Up,pb,Ar),V5=ye(F3,gy.Down,Ar,pb),U5=e=>tt(e.getClientRects()),L7=(e,o,n,r)=>{const c=_d(o);let u,m,b,v;const E=[];let R=0;e===1?(u=c.next,m=Ar,b=pb,v=yt.after(r)):(u=c.prev,m=pb,b=Ar,v=yt.before(r));const N=U5(v);do{if(!v.isVisible())continue;const $=U5(v);if(b($,N))continue;E.length>0&&m($,tt(E))&&R++;const q=Fm($);if(q.position=v,q.line=R,n(q))return E;E.push(q)}while(v=u(v));return E},j5=e=>o=>I7(e,o),Ih=e=>o=>H5(e,o),mg=(e,o)=>{e.selection.setRng(o),cw(e,e.selection.getRng())},bS=(e,o,n)=>P.some(L1(e,o,n)),L3=(e,o,n,r,c,u)=>{const m=o===Va.Forwards,b=_d(e.getBody()),v=ye(Ax,m?b.next:b.prev),E=m?r:c;if(!n.collapsed){const ne=ul(n);if(u(ne))return qu(o,e,ne,o===Va.Backwards,!1);if(_3(e)){const Y=n.cloneRange();return Y.collapse(o===Va.Backwards),P.from(Y)}}const R=Ab(o,e.getBody(),n);if(E(R))return F1(e,R.getNode(!m));let N=v(R);const $=Ky(n);if(N)N=Ea(m,N);else return $?P.some(n):P.none();if(E(N))return qu(o,e,N.getNode(!m),m,!1);const q=v(N);return q&&E(q)&&Nv(N,q)?qu(o,e,q.getNode(!m),m,!1):$?bS(e,N.toRange(),!1):P.none()},yS=(e,o,n,r,c,u)=>{const m=Ab(o,e.getBody(),n),b=tt(m.getClientRects()),v=o===gy.Down,E=e.getBody();if(!b)return P.none();if(_3(e)){const ce=v?yt.fromRangeEnd(n):yt.fromRangeStart(n);return(v?B7:M7)(E,ce).orThunk(()=>P.from(ce)).map(Ie=>Ie.toRange())}const N=(v?V5:F7)(E,j5(1),m),$=be(N,Ih(1)),q=b.left,ne=F5($,q);if(ne&&u(ne.node)){const ce=Math.abs(q-ne.left),_e=Math.abs(q-ne.right);return qu(o,e,ne.node,ce<_e,!1)}let Y;if(r(m)?Y=m.getNode():c(m)?Y=m.getNode(!0):Y=ul(n),Y){const ce=L7(o,E,j5(1),Y);let _e=F5(be(ce,Ih(1)),q);if(_e||(_e=tt(be(ce,Ih(0))),_e))return bS(e,_e.position.toRange(),!1)}return $.length===0?H3(e,v).filter(v?c:r).map(ce=>L1(e,ce.toRange(),!1)):P.none()},H3=(e,o)=>{const n=e.selection.getRng(),r=o?yt.fromRangeEnd(n):yt.fromRangeStart(n),c=Ov(r.container(),e.getBody());if(o){const u=uk(c,r);return Wn(u.positions)}else{const u=$h(c,r);return Bo(u.positions)}},W5=(e,o,n)=>H3(e,o).filter(n).exists(r=>(e.selection.setRng(r.toRange()),!0)),vS=(e,o)=>{const n=e.dom.createRng();n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),e.selection.setRng(n)},Z5=(e,o)=>{e?o.setAttribute("data-mce-selected","inline-boundary"):o.removeAttribute("data-mce-selected")},H7=(e,o,n)=>N3(o,n).map(r=>(vS(e,r),n)),nq=(e,o,n)=>{const r=yt.fromRangeStart(e);if(e.collapsed)return r;{const c=yt.fromRangeEnd(e);return n?ml(o,c).getOr(c):Gi(o,r).getOr(r)}},sq=(e,o,n)=>{const r=e.getBody(),c=nq(e.selection.getRng(),r,n),u=ye(Zb,e);return O5(n,u,r,c).bind(b=>H7(e,o,b))},vf=(e,o,n)=>{const r=he(Dc(we.fromDom(o.getRoot()),'*[data-mce-selected="inline-boundary"]'),m=>m.dom),c=be(r,e),u=be(n,e);V(hn(c,u),ye(Z5,!1)),V(hn(u,c),ye(Z5,!0))},V7=(e,o)=>{const n=o.get();if(e.selection.isCollapsed()&&!e.composing&&n){const r=yt.fromRangeStart(e.selection.getRng());yt.isTextPosition(r)&&!NR(r)&&(vS(e,p2(n,r)),o.set(null))}},U7=(e,o,n,r)=>{if(o.selection.isCollapsed()){const c=be(r,e);V(c,u=>{const m=yt.fromRangeStart(o.selection.getRng());dg(e,o.getBody(),m).bind(b=>H7(o,n,b))})}},Fh=(e,o,n)=>Gf(e)?sq(e,o,n).isSome():!1,V3=(e,o,n)=>Gf(o)?$3(e,o):!1,j7=e=>{const o=Ve(null),n=ye(Zb,e);return e.on("NodeChange",r=>{Gf(e)&&(vf(n,e.dom,r.parents),V7(e,o),U7(n,e,o,r.parents))}),o},xS=ye(V3,!0),W7=ye(V3,!1),wS=(e,o,n)=>{if(Gf(e)){const r=H3(e,o).getOrThunk(()=>{const c=e.selection.getRng();return o?yt.fromRangeEnd(c):yt.fromRangeStart(c)});return dg(ye(Zb,e),e.getBody(),r).exists(c=>{const u=pS(c);return N3(n,u).exists(m=>(vS(e,m),!0))})}else return!1},Z7=(e,o)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(o.container(),o.offset()),n},q7=e=>Zn(Zc(e),iu(e),(o,n)=>{const r=Ea(!0,o),c=Ea(!1,n);return Gi(e,r).forall(u=>u.isEqual(c))}).getOr(!0),U3=(e,o)=>n=>N3(o,n).map(r=>()=>vS(e,r)),q5=(e,o,n,r)=>{const c=e.getBody(),u=ye(Zb,e);e.undoManager.ignore(()=>{e.selection.setRng(Z7(n,r)),gC(e),dg(u,c,yt.fromRangeStart(e.selection.getRng())).map(H1).bind(U3(e,o)).each(Zt)}),e.nodeChanged()},Tp=(e,o)=>{const n=eg(o,e);return n||e},G7=(e,o,n,r)=>{const c=Tp(e.getBody(),r.container()),u=ye(Zb,e),m=dg(u,c,r);return m.bind(v=>n?v.fold(ue(P.some(H1(v))),P.none,ue(P.some(pS(v))),P.none):v.fold(P.none,ue(P.some(pS(v))),P.none,ue(P.some(H1(v))))).map(U3(e,o)).getOrThunk(()=>{const v=op(n,c,r),E=v.bind(R=>dg(u,c,R));return Zn(m,E,()=>yp(u,c,r).bind(R=>q7(R)?P.some(()=>{Cd(e,n,we.fromDom(R))}):P.none())).getOrThunk(()=>E.bind(()=>v.map(R=>()=>{n?q5(e,o,r,R):q5(e,o,R,r)})))})},j3=(e,o,n)=>{if(e.selection.isCollapsed()&&Gf(e)){const r=yt.fromRangeStart(e.selection.getRng());return G7(e,o,n,r)}return P.none()},K7=e=>Wd(e)>1,G5=(e,o)=>{const n=we.fromDom(e.getBody()),r=we.fromDom(e.selection.getStart()),c=mf(r,n);return ho(c,o).fold(ue(c),u=>c.slice(0,u))},Y7=e=>Wd(e)===1,W3=e=>G5(e,o=>e.schema.isBlock(oe(o))||K7(o)),Z3=e=>G5(e,o=>e.schema.isBlock(oe(o))),kS=(e,o)=>{const n=ye(OC,e);return Je(o,r=>n(r)?[r.dom]:[])},q3=e=>{const o=Z3(e);return kS(e,o)},K5=(e,o,n,r)=>{const c=kS(o,r);if(c.length===0)Cd(o,e,n);else{const u=gN(n.dom,c);o.selection.setRng(u.toRange())}},Y5=(e,o)=>{const n=be(W3(e),Y7);return Wn(n).bind(r=>{const c=yt.fromRangeStart(e.selection.getRng());return qb(o,c,r.dom)&&!Gx(r)?P.some(()=>K5(o,e,r,n)):P.none()})},X7=(e,o)=>{const n=o.parentElement;return Ms(o)&&!U(n)&&e.dom.isEmpty(n)},fk=e=>Gx(we.fromDom(e)),mk=(e,o)=>{const n=e.selection.getStart(),r=X7(e,n)||fk(n)?gN(n,o):M6(e.selection.getRng(),o);e.selection.setRng(r.toRange())},X5=(e,o)=>{const n=hn(o,q3(e));n.length>0&&mk(e,n)},G3=e=>Xt(e.startContainer),J5=e=>e.startOffset===0&&G3(e),Q5=(e,o)=>{const n=o.startContainer.parentElement;return!U(n)&&OC(e,we.fromDom(n))},_S=e=>{const o=e.startContainer.parentNode,n=e.endContainer.parentNode;return!U(o)&&!U(n)&&o.isEqualNode(n)},K3=e=>{const o=e.endContainer;return e.endOffset===(Xt(o)?o.length:o.childNodes.length)},gk=e=>_S(e)&&K3(e),J7=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),eB=e=>gk(e)||J7(e),Q7=e=>{const o=e.selection.getRng();return J5(o)&&Q5(e,o)&&eB(o)},eH=e=>{if(Q7(e)){const o=q3(e);return P.some(()=>{gC(e),X5(e,o)})}else return P.none()},CS=(e,o)=>e.selection.isCollapsed()?Y5(e,o):eH(e),tH=(e,o)=>Rg(e,n=>lu(n.dom),n=>o.isBlock(oe(n))),tB=e=>tH(we.fromDom(e.selection.getStart()),e.schema),rq=e=>{const o=e.selection.getRng();return o.collapsed&&(G3(o)||e.dom.isEmpty(o.startContainer))&&!tB(e)},pk=e=>(rq(e)&&mk(e,[]),!0),Y3=(e,o,n)=>We(n)?P.some(()=>{e._selectionOverrides.hideFakeCaret(),Cd(e,o,we.fromDom(n))}):P.none(),oH=(e,o)=>{const n=o?g1:p1,r=o?Va.Forwards:Va.Backwards,c=Ab(r,e.getBody(),e.selection.getRng());return n(c)?Y3(e,o,c.getNode(!o)):P.from(Ea(o,c)).filter(u=>n(u)&&Nv(c,u)).bind(u=>Y3(e,o,u.getNode(!o)))},nH=(e,o)=>{const n=e.selection.getNode();return Hc(n)?Y3(e,o,n):P.none()},X3=(e,o)=>e.selection.isCollapsed()?oH(e,o):nH(e,o),sH=e=>Lr(e,o=>Ot(o.dom)||Bs(o.dom)).exists(o=>Ot(o.dom)),J3=e=>la(e??"").getOr(0),oB=(e,o)=>{const n=e||IE(o)?"margin":"padding",r=Sa(o,"direction")==="rtl"?"-right":"-left";return n+r},nB=(e,o,n,r,c,u)=>{const m=oB(n,we.fromDom(u)),b=J3(e.getStyle(u,m));if(o==="outdent"){const v=Math.max(0,b-r);e.setStyle(u,m,v?v+c:"")}else{const v=b+r+c;e.setStyle(u,m,v)}},rH=(e,o)=>Ut(o,n=>{const r=oB(lT(e),n),c=ic(n,r).map(J3).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&c>0}),Lh=e=>{const o=tz(e);return!e.mode.isReadOnly()&&(o.length>1||rH(e,o))},Q3=e=>Bm(e)||Gg(e),ez=e=>hc(e).exists(Q3),tz=e=>be(Jl(e.selection.getSelectedBlocks()),o=>!Q3(o)&&!ez(o)&&sH(o)),SS=(e,o)=>{var n,r;const{dom:c}=e,u=oh(e),m=(r=(n=/[a-z%]+$/i.exec(u))===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:"px",b=J3(u),v=lT(e);V(tz(e),E=>{nB(c,o,v,b,m,E.dom)})},Hh=e=>SS(e,"indent"),oz=e=>SS(e,"outdent"),Xu=e=>{if(e.selection.isCollapsed()&&Lh(e)){const o=e.dom,n=e.selection.getRng(),r=yt.fromRangeStart(n),c=o.getParent(n.startContainer,o.isBlock);if(c!==null&&Jn(we.fromDom(c),r,e.schema))return P.some(()=>oz(e))}return P.none()},Vh=(e,o,n)=>os([Xu,ak,lg,(r,c)=>j3(r,o,c),Cp,kw,Yu,X3,fS,CS,O3],r=>r(e,n)).filter(r=>e.selection.isEditable()),nz=(e,o)=>{Vh(e,o,!1).fold(()=>{e.selection.isEditable()&&(gC(e),y1(e))},Zt)},aH=(e,o)=>{Vh(e,o,!0).fold(()=>{e.selection.isEditable()&&Sh(e)},Zt)},sB=(e,o)=>{e.addCommand("delete",()=>{nz(e,o)}),e.addCommand("forwardDelete",()=>{aH(e,o)})},rB=5,cH=400,aB=e=>e.touches===void 0||e.touches.length!==1?P.none():P.some(e.touches[0]),iH=(e,o)=>{const n=Math.abs(e.clientX-o.x),r=Math.abs(e.clientY-o.y);return n>rB||r>rB},lH=e=>{const o=Vc(),n=Ve(!1),r=Dm(c=>{e.dispatch("longpress",{...c,type:"longpress"}),n.set(!0)},cH);e.on("touchstart",c=>{aB(c).each(u=>{r.cancel();const m={x:u.clientX,y:u.clientY,target:c.target};r.throttle(c),n.set(!1),o.set(m)})},!0),e.on("touchmove",c=>{r.cancel(),aB(c).each(u=>{o.on(m=>{iH(u,m)&&(o.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",c=>{r.cancel(),c.type!=="touchcancel"&&o.get().filter(u=>u.target.isEqualNode(c.target)).each(()=>{n.get()?c.preventDefault():e.dispatch("tap",{...c,type:"tap"})})},!0)},ES=(e,o)=>Qo(e,o.nodeName),uH=(e,o)=>Xt(o)?!0:Do(o)?!ES(e.getBlockElements(),o)&&!Rl(o)&&!Nu(e,o)&&!sa(o):!1,dH=(e,o,n)=>te(fR(we.fromDom(n),we.fromDom(o)),r=>ES(e,r.dom)),V1=(e,o)=>{if(Xt(o)){if(o.data.length===0)return!0;if(/^\s+$/.test(o.data))return!o.nextSibling||ES(e,o.nextSibling)||sa(o.nextSibling)}return!1},U1=e=>e.dom.create(Uc(e),qm(e)),cB=e=>{const o=e.dom,n=e.selection,r=e.schema,c=r.getBlockElements(),u=n.getStart(),m=e.getBody();let b,v,E=null;const R=Uc(e);if(!u||!Do(u))return;const N=m.nodeName.toLowerCase();if(!r.isValidChild(N,R.toLowerCase())||dH(c,m,u))return;if(m.firstChild===m.lastChild&&Ms(m.firstChild)){b=U1(e),b.appendChild(Kg().dom),m.replaceChild(b,m.firstChild),e.selection.setCursorLocation(b,0),e.nodeChanged();return}let $=m.firstChild;for(;$;)if(Do($)&&Hr(r,$),uH(r,$)){if(V1(c,$)){v=$,$=$.nextSibling,o.remove(v);continue}if(!b){if(!E&&e.hasFocus()&&(E=mS(e.selection.getRng(),()=>document.createElement("span"))),!$.parentNode){$=null;break}b=U1(e),m.insertBefore(b,$)}v=$,$=$.nextSibling,b.appendChild(v)}else b=null,$=$.nextSibling;E&&(e.selection.setRng(v5(E)),e.nodeChanged())},sz=(e,o,n)=>{const r=we.fromDom(U1(e)),c=Kg();Zr(r,c),n(o,r);const u=document.createRange();return u.setStartBefore(c.dom),u.setEndBefore(c.dom),u},rz=e=>{e.on("NodeChange",()=>cB(e))},iB=e=>o=>(" "+o.attr("class")+" ").indexOf(e)!==-1,fH=(e,o,n)=>function(r){const c=arguments,u=c[c.length-2],m=u>0?o.charAt(u-1):"";if(m==='"')return r;if(m===">"){const b=o.lastIndexOf("<",u);if(b!==-1&&o.substring(b,u).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(c[0])+'">'+e.dom.encode(typeof c[1]=="string"?c[1]:c[0])+"</span>"},mH=(e,o,n)=>{let r=o.length,c=n.content;if(n.format!=="raw"){for(;r--;)c=c.replace(o[r],fH(e,c,l2(e)));n.content=c}},gH=(e,o)=>Ut(e,n=>{const r=o.match(n);return r!==null&&r[0].length===o.length}),pH=e=>{const o="contenteditable",n=" "+Qt.trim(xT(e))+" ",r=" "+Qt.trim(l2(e))+" ",c=iB(n),u=iB(r),m=Iu(e);m.length>0&&e.on("BeforeSetContent",b=>{mH(e,m,b)}),e.parser.addAttributeFilter("class",b=>{let v=b.length;for(;v--;){const E=b[v];c(E)?E.attr(o,"true"):u(E)&&E.attr(o,"false")}}),e.serializer.addAttributeFilter(o,b=>{let v=b.length;for(;v--;){const E=b[v];if(!c(E)&&!u(E))continue;const R=E.attr("data-mce-content");m.length>0&&R?gH(m,R)?(E.name="#text",E.type=3,E.raw=!0,E.value=R):E.remove():E.attr(o,null)}})},hH=e=>nn(we.fromDom(e.getBody()),"*[data-mce-caret]").map(o=>o.dom).getOrNull(),lB=(e,o)=>{o.hasAttribute("data-mce-caret")&&(sf(o),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(o))},uB=(e,o)=>{const n=hH(e);if(n){if(o.type==="compositionstart"){o.preventDefault(),o.stopPropagation(),lB(e,n);return}x_(n)&&(lB(e,n),e.undoManager.add())}},bH=e=>{e.on("keyup compositionstart",ye(uB,e))},dB=Bs,Ju=(e,o,n)=>L3(o,e,n,_h,Ch,dB),yH=(e,o,n)=>yS(o,e,n,u=>_h(u)||dR(u),u=>Ch(u)||fw(u),dB),az=e=>{const o=e.dom.create(Uc(e));return o.innerHTML='<br data-mce-bogus="1">',o},cz=(e,o,n)=>{const r=_d(e.getBody()),c=ye(Ax,o===1?r.next:r.prev);if(n.collapsed){const u=e.dom.getParent(n.startContainer,"PRE");if(!u)return;if(!c(yt.fromRangeStart(n))){const b=we.fromDom(az(e));o===1?di(we.fromDom(u),b):Oc(we.fromDom(u),b),e.selection.select(b.dom,!0),e.selection.collapse()}}},iz=(e,o)=>{const n=o?Va.Forwards:Va.Backwards,r=e.selection.getRng();return Ju(n,e,r).orThunk(()=>(cz(e,n,r),P.none()))},vH=(e,o)=>{const n=o?1:-1,r=e.selection.getRng();return yH(n,e,r).orThunk(()=>(cz(e,n,r),P.none()))},xH=(e,o)=>{const n=o?e.getEnd(!0):e.getStart(!0);return OR(n)?!o:o},fB=(e,o)=>iz(e,xH(e.selection,o)).exists(n=>(mg(e,n),!0)),mB=(e,o)=>vH(e,o).exists(n=>(mg(e,n),!0)),gB=(e,o)=>W5(e,o,o?Ch:_h),hk=(e,o)=>Gu(e,!o).map(n=>{const r=n.toRange(),c=e.selection.getRng();return o?r.setStart(c.startContainer,c.startOffset):r.setEnd(c.endContainer,c.endOffset),r}).exists(n=>(mg(e,n),!0)),wH=e=>K(["figcaption"],oe(e)),kH=(e,o,n)=>{const r=ye(ts,o);return Lr(we.fromDom(e.container()),c=>n.isBlock(oe(c)),r).filter(wH)},bk=(e,o,n)=>o?P5(e.dom,n):B5(e.dom,n),Ap=(e,o)=>{const n=we.fromDom(e.getBody()),r=yt.fromRangeStart(e.selection.getRng());return kH(r,n,e.schema).exists(()=>{if(bk(n,o,r)){const u=sz(e,n,o?Zr:ym);return e.selection.setRng(u),!0}else return!1})},Uh=(e,o)=>e.selection.isCollapsed()?Ap(e,o):!1,TS=(e,o,n)=>{const r=e.selection.getRng(),c=yt.fromRangeStart(r);return e.getBody().firstChild===o&&B5(n,c)?(e.execCommand("InsertNewBlockBefore"),!0):!1},lz=(e,o)=>{const n=e.selection.getRng(),r=yt.fromRangeStart(n);return e.getBody().lastChild===o&&P5(o,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},uz=(e,o)=>o?P.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>lz(e,n)).getOr(!1):P.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>P.from(e.dom.getParent(n,"details")).map(r=>TS(e,r,n))).getOr(!1),dz=(e,o)=>uz(e,o),pB={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},hB=e=>he(e,o=>({...pB,...o})),bB=e=>he(e,o=>({...pB,...o})),yB=(e,o)=>o.keyCode===e.keyCode&&o.shiftKey===e.shiftKey&&o.altKey===e.altKey&&o.ctrlKey===e.ctrlKey&&o.metaKey===e.metaKey,_H=(e,o)=>Je(hB(e),n=>yB(n,o)?[n]:[]),CH=(e,o)=>Je(bB(e),n=>yB(n,o)?[n]:[]),Ln=(e,...o)=>()=>e.apply(null,o),yk=(e,o)=>xt(_H(e,o),n=>n.action()),vB=(e,o)=>os(CH(e,o),n=>n.action()),fz=(e,o)=>{const n=o?Va.Forwards:Va.Backwards,r=e.selection.getRng();return L3(e,n,r,g1,p1,Hc).exists(c=>(mg(e,c),!0))},mz=(e,o)=>{const n=o?1:-1,r=e.selection.getRng();return yS(e,n,r,g1,p1,Hc).exists(c=>(mg(e,c),!0))},SH=(e,o)=>W5(e,o,o?p1:g1),EH=wd.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),vk={...EH,none:e=>EH.none(e)},aq=(e,o)=>TH(e,o,Xe),TH=(e,o,n)=>Je(Ia(e),r=>_l(r,o)?n(r)?[r]:[]:TH(r,o,n)),AH=(e,o,n=ke)=>{if(n(o))return P.none();if(K(e,oe(o)))return P.some(o);const r=c=>_l(c,"table")||n(c);return Ca(o,e.join(","),r)},zH=(e,o)=>AH(["td","th"],e,o),cq=e=>aq(e,"th,td"),xB=(e,o)=>Xl(e,"table",o),Yi=(e,o,n,r,c=Xe)=>{const u=r===1;if(!u&&n<=0)return vk.first(e[0]);if(u&&n>=e.length-1)return vk.last(e[e.length-1]);{const m=n+r,b=e[m];return c(b)?vk.middle(o,b):Yi(e,o,m,r,c)}},gz=(e,o)=>xB(e,o).bind(n=>{const r=cq(n);return ho(r,u=>ts(e,u)).map(u=>({index:u,all:r}))}),xk=(e,o,n)=>gz(e,n).fold(()=>vk.none(e),c=>Yi(c.all,e,c.index,1,o)),OH=(e,o,n)=>gz(e,n).fold(()=>vk.none(),c=>Yi(c.all,e,c.index,-1,o)),wB=e=>Xp(e).filter(o=>o.trim().length!==0||o.indexOf(Ra)>-1).isSome(),kB=e=>Dn(e)&&qa(e,"contenteditable")==="false",pz=["img","br"],DH=e=>wB(e)||K(pz,oe(e))||kB(e),RH=e=>zg(e,DH),_B=(e,o)=>({left:e.left-o,top:e.top-o,right:e.right+o*2,bottom:e.bottom+o*2,width:e.width+o,height:e.height+o}),NH=(e,o)=>Je(o,n=>{const r=_B(Fm(n.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:n},{x:r.right,y:e(r),cell:n}]}),MH=(e,o,n)=>Ee(e,(r,c)=>r.fold(()=>P.some(c),u=>{const m=Math.sqrt(Math.abs(u.x-o)+Math.abs(u.y-n)),b=Math.sqrt(Math.abs(c.x-o)+Math.abs(c.y-n));return P.some(b<m?c:u)}),P.none()),CB=(e,o,n,r,c)=>{const u=Dc(we.fromDom(n),"td,th,caption").map(b=>b.dom),m=be(NH(e,u),b=>o(b,c));return MH(m,r,c).map(b=>b.cell)},hz=e=>e.bottom,BH=e=>e.top,PH=(e,o)=>e.y<o,iq=(e,o)=>e.y>o,$H=ye(CB,hz,PH),SB=ye(CB,BH,iq),lq=(e,o)=>Bo(o.getClientRects()).bind(n=>$H(e,n.left,n.top)).bind(n=>my(N7(n),o)),IH=(e,o)=>Wn(o.getClientRects()).bind(n=>SB(e,n.left,n.top)).bind(n=>my(R7(n),o)),FH=(e,o,n)=>n.breakAt.exists(r=>e(o,r).breakAt.isSome()),LH=e=>e.breakType===fg.Wrap&&e.positions.length===0,bz=e=>e.breakType===fg.Br&&e.positions.length===1,wk=(e,o,n)=>{const r=e(o,n);return LH(r)||!Ms(n.getNode())&&bz(r)?!FH(e,o,r):r.breakAt.isNone()},EB=ye(wk,$h),TB=ye(wk,uk),HH=(e,o,n)=>{const r=yt.fromRangeStart(o);return og(!e,n).exists(c=>c.isEqual(r))},VH=(e,o,n,r)=>{const c=e.selection.getRng(),u=o?1:-1;return ET()&&HH(o,c,n)?(qu(u,e,n,!o,!1).each(m=>{mg(e,m)}),!0):!1},yz=(e,o,n)=>lq(o,n).orThunk(()=>Bo(n.getClientRects()).bind(r=>I3(M5(e,yt.before(o)),r.left))).getOr(yt.before(o)),UH=(e,o,n)=>IH(o,n).orThunk(()=>Bo(n.getClientRects()).bind(r=>I3(dk(e,yt.after(o)),r.left))).getOr(yt.after(o)),AB=(e,o)=>{const n=o.getNode(e);return eu(n)?P.some(n):P.none()},jH=(e,o,n)=>{o.undoManager.transact(()=>{const r=e?di:Oc,c=sz(o,we.fromDom(n),r);mg(o,c)})},zB=(e,o,n)=>{const r=AB(!!o,n),c=o===!1;r.fold(()=>mg(e,n.toRange()),u=>og(c,e.getBody()).filter(m=>m.isEqual(n)).fold(()=>mg(e,n.toRange()),m=>jH(o,e,u)))},xf=(e,o,n,r)=>{const c=e.selection.getRng(),u=yt.fromRangeStart(c),m=e.getBody();if(!o&&EB(r,u)){const b=yz(m,n,u);return zB(e,o,b),!0}else if(o&&TB(r,u)){const b=UH(m,n,u);return zB(e,o,b),!0}else return!1},vz=(e,o,n)=>P.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>P.from(e.dom.getParent(r,"table")).map(c=>n(e,o,c,r))).getOr(!1),xz=(e,o)=>vz(e,o,VH),OB=(e,o)=>vz(e,o,xf),uq=e=>{const o=vh.exact(e,0,e,0);return f(o)},WH=(e,o,n)=>n.fold(P.none,P.none,(r,c)=>RH(c).map(u=>uq(u)),r=>(e.execCommand("mceTableInsertRowAfter"),ZH(e,o,r))),ZH=(e,o,n)=>WH(e,o,xk(n,Ga)),qH=(e,o,n)=>WH(e,o,OH(n,Ga)),kk=(e,o)=>{const n=["table","li","dl"],r=we.fromDom(e.getBody()),c=b=>{const v=oe(b);return ts(b,r)||K(n,v)},u=e.selection.getRng(),m=we.fromDom(o?u.endContainer:u.startContainer);return zH(m,c).map(b=>(xB(b,c).each(R=>{e.model.table.clearSelectedCells(R.dom)}),e.selection.collapse(!o),(o?ZH:qH)(e,c,b).each(R=>{e.selection.setRng(R)}),!0)).getOr(!1)},GH=(e,o,n)=>{const r=on.os.isMacOS()||on.os.isiOS();yk([{keyCode:eo.RIGHT,action:Ln(fB,e,!0)},{keyCode:eo.LEFT,action:Ln(fB,e,!1)},{keyCode:eo.UP,action:Ln(mB,e,!1)},{keyCode:eo.DOWN,action:Ln(mB,e,!0)},...r?[{keyCode:eo.UP,action:Ln(hk,e,!1),metaKey:!0,shiftKey:!0},{keyCode:eo.DOWN,action:Ln(hk,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:eo.RIGHT,action:Ln(xz,e,!0)},{keyCode:eo.LEFT,action:Ln(xz,e,!1)},{keyCode:eo.UP,action:Ln(OB,e,!1)},{keyCode:eo.DOWN,action:Ln(OB,e,!0)},{keyCode:eo.UP,action:Ln(OB,e,!1)},{keyCode:eo.UP,action:Ln(dz,e,!1)},{keyCode:eo.DOWN,action:Ln(dz,e,!0)},{keyCode:eo.RIGHT,action:Ln(fz,e,!0)},{keyCode:eo.LEFT,action:Ln(fz,e,!1)},{keyCode:eo.UP,action:Ln(mz,e,!1)},{keyCode:eo.DOWN,action:Ln(mz,e,!0)},{keyCode:eo.RIGHT,action:Ln(Fh,e,o,!0)},{keyCode:eo.LEFT,action:Ln(Fh,e,o,!1)},{keyCode:eo.RIGHT,ctrlKey:!r,altKey:r,action:Ln(xS,e,o)},{keyCode:eo.LEFT,ctrlKey:!r,altKey:r,action:Ln(W7,e,o)},{keyCode:eo.UP,action:Ln(Uh,e,!1)},{keyCode:eo.DOWN,action:Ln(Uh,e,!0)}],n).each(c=>{n.preventDefault()})},wz=(e,o)=>{e.on("keydown",n=>{n.isDefaultPrevented()||GH(e,o,n)})},wf=(e,o)=>({container:e,offset:o}),_k=Br.DOM,Ck=e=>o=>e===o?-1:0,KH=e=>o=>e.isBlock(o)||K(["BR","IMG","HR","INPUT"],o.nodeName)||e.getContentEditable(o)==="false",kz=(e,o,n)=>{if(Xt(e)&&o>=0)return P.some(wf(e,o));{const r=qg(_k);return P.from(r.backwards(e,o,Ck(e),n)).map(c=>wf(c.container,c.container.data.length))}},YH=(e,o,n)=>{if(Xt(e)&&o>=e.length)return P.some(wf(e,o));{const r=qg(_k);return P.from(r.forwards(e,o,Ck(e),n)).map(c=>wf(c.container,0))}},_z=(e,o,n)=>{if(!Xt(e))return P.none();const r=e.data;if(o>=0&&o<=r.length)return P.some(wf(e,o));{const c=qg(_k);return P.from(c.backwards(e,o,Ck(e),n)).bind(u=>{const m=u.container.data;return _z(u.container,o+m.length,n)})}},Sk=(e,o,n)=>{if(!Xt(e))return P.none();const r=e.data;if(o<=r.length)return P.some(wf(e,o));{const c=qg(_k);return P.from(c.forwards(e,o,Ck(e),n)).bind(u=>Sk(u.container,o-r.length,n))}},Cz=(e,o,n,r,c)=>{const u=qg(e,KH(e));return P.from(u.backwards(o,n,r,c))},XH=e=>e.collapsed&&Xt(e.startContainer),JH=e=>ki(e.toString().replace(/\u00A0/g," ")),AS=e=>e!==""&&`  \f
\r	\v`.indexOf(e)!==-1,QH=(e,o)=>e.substring(o.length),e9=(e,o,n,r=!1)=>{let c;const u=n.charAt(0);for(c=o-1;c>=0;c--){const m=e.charAt(c);if(!r&&AS(m))return P.none();if(u===m&&ln(e,n,c,o))break}return P.some(c)},zS=(e,o,n,r=!1)=>{if(!XH(o))return P.none();const c={text:"",offset:0},u=(b,v,E)=>(c.text=E+c.text,c.offset+=v,e9(c.text,c.offset,n,r).getOr(v)),m=e.getParent(o.startContainer,e.isBlock)||e.getRoot();return Cz(e,o.startContainer,o.startOffset,u,m).bind(b=>{const v=o.cloneRange();if(v.setStart(b.container,b.offset),v.setEnd(o.endContainer,o.endOffset),v.collapsed)return P.none();const E=JH(v);return E.lastIndexOf(n)!==0?P.none():P.some({text:QH(E,n),range:v,trigger:n})})},t9=e=>e.nodeType===G,o9=e=>e.nodeType===bu,DB=e=>{if(t9(e))return wf(e,e.data.length);{const o=e.childNodes;return o.length>0?DB(o[o.length-1]):wf(e,o.length)}},RB=(e,o)=>{const n=e.childNodes;return n.length>0&&o<n.length?RB(n[o],0):n.length>0&&o9(e)&&n.length===o?DB(n[n.length-1]):wf(e,o)},n9=(e,o)=>{var n;const r=(n=e.getParent(o.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return Cz(e,o.container,o.offset,(c,u)=>u===0?-1:u,r).filter(c=>{const u=c.container.data.charAt(c.offset-1);return!AS(u)}).isSome()},s9=e=>o=>{const n=RB(o.startContainer,o.startOffset);return!n9(e,n)},Sz=(e,o,n)=>os(n.triggers,r=>zS(e,o,r)),r9=(e,o)=>{const n=o(),r=e.selection.getRng();return Sz(e.dom,r,n).bind(c=>Ez(e,o,c))},Ez=(e,o,n,r={})=>{var c;const u=o(),b=(c=e.selection.getRng().startContainer.nodeValue)!==null&&c!==void 0?c:"",v=be(u.lookupByTrigger(n.trigger),R=>n.text.length>=R.minChars&&R.matches.getOrThunk(()=>s9(e.dom))(n.range,b,n.text));if(v.length===0)return P.none();const E=Promise.all(he(v,R=>R.fetch(n.text,R.maxResults,r).then($=>({matchText:n.text,items:$,columns:R.columns,onAction:R.onAction,highlightOn:R.highlightOn}))));return P.some({lookupData:E,context:n})};var cm;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(cm||(cm={}));const Tz=(e,o,n)=>e.stype===cm.Error?o(e.serror):n(e.svalue),a9=e=>{const o=[],n=[];return V(e,r=>{Tz(r,c=>n.push(c),c=>o.push(c))}),{values:o,errors:n}},c9=(e,o)=>e.stype===cm.Error?{stype:cm.Error,serror:o(e.serror)}:e,i9=(e,o)=>e.stype===cm.Value?{stype:cm.Value,svalue:o(e.svalue)}:e,l9=(e,o)=>e.stype===cm.Value?o(e.svalue):e,Ec=(e,o)=>e.stype===cm.Error?o(e.serror):e,NB=e=>({stype:cm.Value,svalue:e}),MB=e=>({stype:cm.Error,serror:e}),Kc={fromResult:e=>e.fold(MB,NB),toResult:e=>Tz(e,Si.error,Si.value),svalue:NB,partition:a9,serror:MB,bind:l9,bindError:Ec,map:i9,mapError:c9,fold:Tz},OS=e=>lt(e)&&vn(e).length>100?" removed due to size":JSON.stringify(e,null,2),jh=e=>{const o=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:ue("... (only showing first ten failures)")}]):e;return he(o,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},j1=(e,o)=>Kc.serror([{path:e,getErrorInfo:o}]),BB=(e,o,n)=>j1(e,()=>'Could not find valid *required* value for "'+o+'" in '+OS(n)),Az=(e,o)=>j1(e,()=>'Choice schema did not contain choice key: "'+o+'"'),zz=(e,o,n)=>j1(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+OS(o)),Oz=(e,o)=>j1(e,ue(o)),PB=(e,o,n,r)=>vs(n,r).fold(()=>zz(e,n,r),u=>u.extract(e.concat(["branch: "+r]),o)),DS=(e,o)=>({extract:(c,u)=>vs(u,e).fold(()=>Az(c,e),b=>PB(c,u,o,b)),toString:()=>"chooseOn("+e+"). Possible values: "+vn(o)}),RS=(e,o)=>o,Ek=(e,o)=>Go(e)&&Go(o)?pu(e,o):o,W1=e=>(...o)=>{if(o.length===0)throw new Error("Can't merge zero objects");const n={};for(let r=0;r<o.length;r++){const c=o[r];for(const u in c)Qo(c,u)&&(n[u]=e(n[u],c[u]))}return n},pu=W1(Ek),Z1=W1(RS),Dz=()=>({tag:"required",process:{}}),$B=e=>({tag:"defaultedThunk",process:e}),IB=e=>$B(ue(e)),FB=()=>({tag:"option",process:{}}),d9=(e,o)=>e.length>0?Kc.svalue(pu(o,Z1.apply(void 0,e))):Kc.svalue(o),LB=e=>_(Kc.serror,je)(e),f9={consolidateObj:(e,o)=>{const n=Kc.partition(e);return n.errors.length>0?LB(n.errors):d9(n.values,o)},consolidateArr:e=>{const o=Kc.partition(e);return o.errors.length>0?LB(o.errors):Kc.svalue(o.values)}},m9=(e,o,n,r)=>({tag:"field",key:e,newKey:o,presence:n,prop:r}),g9=(e,o)=>({tag:"custom",newKey:e,instantiator:o}),HB=(e,o,n)=>{switch(e.tag){case"field":return o(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Rz=e=>{const o=(r,c)=>Kc.bindError(e(c),u=>Oz(r,u)),n=ue("val");return{extract:o,toString:n}},p9=Rz(Kc.svalue),h9=(e,o,n,r)=>vs(o,n).fold(()=>BB(e,n,o),r),VB=(e,o,n,r)=>{const c=vs(e,o).getOrThunk(()=>n(e));return r(c)},b9=(e,o,n)=>n(vs(e,o)),y9=(e,o,n,r)=>{const c=vs(e,o).map(u=>u===!0?n(e):u);return r(c)},v9=(e,o,n,r,c)=>{const u=b=>c.extract(o.concat([r]),b),m=b=>b.fold(()=>Kc.svalue(P.none()),v=>{const E=c.extract(o.concat([r]),v);return Kc.map(E,P.some)});switch(e.tag){case"required":return h9(o,n,r,u);case"defaultedThunk":return VB(n,r,e.process,u);case"option":return b9(n,r,m);case"defaultedOptionThunk":return y9(n,r,e.process,m);case"mergeWithThunk":return VB(n,r,ue({}),b=>{const v=pu(e.process(n),b);return u(v)})}},x9=(e,o,n)=>{const r={},c=[];for(const u of n)HB(u,(m,b,v,E)=>{const R=v9(v,e,o,m,E);Kc.fold(R,N=>{c.push(...N)},N=>{r[b]=N})},(m,b)=>{r[m]=b(o)});return c.length>0?Kc.serror(c):Kc.svalue(r)},Nz=e=>({extract:(r,c)=>x9(r,c,e),toString:()=>`obj{
`+he(e,c=>HB(c,(u,m,b,v)=>u+" -> "+v.toString(),(u,m)=>"state("+u+")")).join(`
`)+"}"}),Mz=e=>({extract:(r,c)=>{const u=he(c,(m,b)=>e.extract(r.concat(["["+b+"]"]),m));return f9.consolidateArr(u)},toString:()=>"array("+e.toString()+")"}),UB=e=>Rz(o=>e(o).fold(Kc.serror,Kc.svalue)),jB=(e,o,n)=>{const r=o.extract([e],n);return Kc.mapError(r,c=>({input:n,errors:c}))},w9=(e,o,n)=>Kc.toResult(jB(e,o,n)),k9=e=>`Errors: 
`+jh(e.errors).join(`
`)+`

Input object: `+OS(e.input),WB=(e,o)=>DS(e,Gn(o,Nz)),_9=ue(p9),Tk=(e,o)=>Rz(n=>{const r=typeof n;return e(n)?Kc.svalue(n):Kc.serror(`Expected type: ${o} but got: ${r}`)}),C9=Tk(gn,"number"),Ak=Tk(X,"string"),S9=Tk(zt,"boolean"),MS=Tk(ie,"function"),q1=m9,ZB=g9,E9=e=>UB(o=>K(e,o)?Si.value(o):Si.error(`Unsupported value: "${o}", choose one of "${e.join(", ")}".`)),qB=(e,o)=>q1(e,e,Dz(),o),GB=e=>qB(e,Ak),Bz=e=>qB(e,MS),T9=(e,o)=>q1(e,e,Dz(),Mz(o)),Pz=(e,o)=>q1(e,e,FB(),o),zk=e=>Pz(e,Ak),A9=e=>Pz(e,MS),z9=(e,o)=>q1(e,e,IB(o),_9()),py=(e,o,n)=>q1(e,e,IB(o),n),KB=(e,o)=>py(e,o,C9),O9=(e,o)=>py(e,o,Ak),YB=(e,o,n)=>py(e,o,E9(n)),BS=(e,o)=>py(e,o,S9),PS=(e,o)=>py(e,o,MS),D9=(e,o,n)=>py(e,o,Mz(n)),R9=GB("type"),N9=Bz("fetch"),$z=Bz("onAction"),M9=PS("onSetup",()=>Me),B9=zk("text"),P9=zk("icon"),$9=zk("tooltip"),mq=zk("label"),I9=BS("active",!1),$S=BS("enabled",!0),Iz=BS("primary",!1),XB=e=>z9("columns",e),Ok=e=>O9("type",e),JB=Nz([R9,GB("trigger"),KB("minChars",1),XB(1),KB("maxResults",10),A9("matches"),N9,$z,D9("highlightOn",[],Ak)]),QB=e=>w9("Autocompleter",JB,e),Fz=[$S,$9,P9,B9,M9],eP=[I9].concat(Fz),F9=[PS("predicate",ke),YB("scope","node",["node","editor"]),YB("position","selection",["node","selection","line"])],tP=Fz.concat([Ok("contextformbutton"),Iz,$z,ZB("original",bt)]),L9=eP.concat([Ok("contextformbutton"),Iz,$z,ZB("original",bt)]),Lz=Fz.concat([Ok("contextformbutton")]),H9=eP.concat([Ok("contextformtogglebutton")]),V9=WB("type",{contextformbutton:tP,contextformtogglebutton:L9});Nz([Ok("contextform"),PS("initValue",ue("")),mq,T9("commands",V9),Pz("launch",WB("type",{contextformbutton:Lz,contextformtogglebutton:H9}))].concat(F9));const U9=e=>{const o=e.ui.registry.getAll().popups,n=Gn(o,m=>QB(m).fold(b=>{throw new Error(k9(b))},bt)),r=at(ea(n,m=>m.trigger)),c=ia(n);return{dataset:n,triggers:r,lookupByTrigger:m=>be(c,b=>b.trigger===m)}},oP=(e,o)=>{const n=Dm(o.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||n.throttle()}),e.on("keydown",r=>{const c=r.which;c===8?n.throttle():c===27?(n.cancel(),o.cancelIfNecessary()):(c===38||c===40)&&n.cancel()},!0),e.on("remove",n.cancel)},j9=e=>{const o=Vc(),n=Ve(!1),r=o.isSet,c=()=>{r()&&(W2(e),n.set(!1),o.clear())},u=N=>{r()||o.set({trigger:N.trigger,matchLength:N.text.length})},m=mt(()=>U9(e)),b=N=>o.get().map($=>zS(e.dom,e.selection.getRng(),$.trigger,!0).bind(q=>Ez(e,m,q,N))).getOrThunk(()=>r9(e,m)),v=N=>{b(N).fold(c,$=>{u($.context),$.lookupData.then(q=>{o.get().map(ne=>{const Y=$.context;ne.trigger===Y.trigger&&(o.set({...ne,matchLength:Y.text.length}),n.get()?(j2(e,{range:Y.range}),U2(e,{lookupData:q})):(n.set(!0),j2(e,{range:Y.range}),qT(e,{lookupData:q})))})})})},E=(N,$)=>{const q=N.compareBoundaryPoints(window.Range.START_TO_START,$),ne=N.compareBoundaryPoints(window.Range.END_TO_END,$);return q>=0&&ne<=0},R=()=>o.get().bind(({trigger:N})=>{const $=e.selection.getRng();return zS(e.dom,$,N,n.get()).filter(({range:q})=>E($,q)).map(({range:q})=>q)});e.addCommand("mceAutocompleterReload",(N,$)=>{const q=lt($)?$.fetchOptions:{};v(q)}),e.addCommand("mceAutocompleterClose",c),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{R().each(N=>{j2(e,{range:N})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>R().isSome()),oP(e,{cancelIfNecessary:c,load:v})},W9=oo().browser.isSafari(),nP=e=>cu(we.fromDom(e)),sP=(e,o)=>{var n;return e.startOffset===0&&e.endOffset===((n=o.textContent)===null||n===void 0?void 0:n.length)},tc=(e,o)=>P.from(e.getParent(o.container(),"details")),im=(e,o)=>tc(e,o).isSome(),Z9=(e,o)=>{const n=P.from(e.getParent(o.startContainer,"details")),r=P.from(e.getParent(o.endContainer,"details"));if(n.isSome()||r.isSome()){const c=n.bind(u=>P.from(e.select("summary",u)[0]));return P.some({startSummary:c,startDetails:n,endDetails:r})}else return P.none()},pq=(e,o)=>Zc(o).exists(n=>n.isEqual(e)),q9=(e,o)=>iu(o).exists(n=>Ms(n.getNode())&&ml(o,n).exists(r=>r.isEqual(e))||n.isEqual(e)),G9=(e,o)=>o.startSummary.exists(n=>pq(e,n)),K9=(e,o)=>o.startSummary.exists(n=>q9(e,n)),Y9=(e,o)=>o.startDetails.exists(n=>ml(n,e).forall(r=>o.startSummary.exists(c=>!c.contains(e.container())&&c.contains(r.container())))),rP=(e,o,n)=>n.startDetails.exists(r=>Gi(e,o).forall(c=>!r.contains(c.container()))),hy=(e,o)=>{const n=o.getNode();ko(n)||e.selection.setCursorLocation(n,o.offset())},X9=(e,o,n)=>{const r=e.dom.getParent(o.container(),"details");if(r&&!r.open){const c=e.dom.select("summary",r)[0];c&&(n?Zc(c):iu(c)).each(m=>hy(e,m))}else hy(e,o)},J9=(e,o)=>{const n=v=>v.contains(e.startContainer),r=v=>v.contains(e.endContainer),c=o.startSummary.exists(n),u=o.startSummary.exists(r),m=o.startDetails.forall(v=>o.endDetails.forall(E=>v!==E));return(c||u)&&!(c&&u)||m},aP=(e,o,n)=>{const{dom:r,selection:c}=e,u=e.getBody();if(n==="character"){const m=yt.fromRangeStart(c.getRng()),b=r.getParent(m.container(),r.isBlock),v=tc(r,m),E=b&&r.isEmpty(b),R=U(b==null?void 0:b.previousSibling),N=U(b==null?void 0:b.nextSibling);return E&&(o?N:R)&&op(!o,u,m).exists(ne=>im(r,ne)&&!_a(v,tc(r,ne)))?!0:op(o,u,m).fold(ke,$=>{const q=tc(r,$);if(im(r,$)&&!_a(v,q)){if(o||X9(e,$,!1),b&&E){if(o&&R)return!0;if(!o&&N)return!0;X9(e,$,o),e.dom.remove(b)}return!0}else return!1})}else return!1},lm=(e,o,n,r)=>{const u=e.selection.getRng(),m=yt.fromRangeStart(u),b=e.getBody();return r==="selection"?J9(u,o):n?K9(m,o)||rP(b,m,o):G9(m,o)||Y9(m,o)},Q9=(e,o,n)=>Z9(e.dom,e.selection.getRng()).fold(()=>aP(e,o,n),r=>lm(e,r,o,n)||aP(e,o,n)),eV=(e,o,n)=>{const r=e.selection,c=r.getNode(),u=r.getRng(),m=yt.fromRangeStart(u);return m0(c)?(n==="selection"&&sP(u,c)||qb(o,m,c)?nP(c):e.undoManager.transact(()=>{const b=r.getSel();let{anchorNode:v,anchorOffset:E,focusNode:R,focusOffset:N}=b??{};const $=()=>{We(v)&&We(E)&&We(R)&&We(N)&&(b==null||b.setBaseAndExtent(v,E,R,N))},q=()=>{v=b==null?void 0:b.anchorNode,E=b==null?void 0:b.anchorOffset,R=b==null?void 0:b.focusNode,N=b==null?void 0:b.focusOffset},ne=(ce,_e)=>{V(ce.childNodes,Ie=>{Zv(Ie)&&_e.appendChild(Ie)})},Y=e.dom.create("span",{"data-mce-bogus":"1"});ne(c,Y),c.appendChild(Y),$(),(n==="word"||n==="line")&&(b==null||b.modify("extend",o?"right":"left",n)),!r.isCollapsed()&&sP(r.getRng(),Y)?nP(c):(e.execCommand(o?"ForwardDelete":"Delete"),q(),ne(Y,c),$()),e.dom.remove(Y)}),!0):!1},Wh=(e,o,n)=>Q9(e,o,n)||W9&&eV(e,o,n)?P.some(Me):P.none(),cP=e=>(o,n,r={})=>{const c=o.getBody(),u={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:c,currentTarget:c,eventPhase:Event.AT_TARGET,originalTarget:c,explicitOriginalTarget:c,isTrusted:!1,srcElement:c,cancelable:!1,preventDefault:Me,inputType:n},m=Bu(new InputEvent(e));return o.dispatch(e,{...m,...u,...r})},by=cP("input"),Nd=cP("beforeinput"),Hz=oo(),Vz=Hz.os,iP=Vz.isMacOS()||Vz.isiOS(),jz=Hz.browser.isFirefox(),lP=(e,o,n)=>{const r=n.keyCode===eo.BACKSPACE?"deleteContentBackward":"deleteContentForward",c=e.selection.isCollapsed(),u=c?"character":"selection",m=b=>c?b?"word":"line":"selection";vB([{keyCode:eo.BACKSPACE,action:Ln(Xu,e)},{keyCode:eo.BACKSPACE,action:Ln(ak,e,!1)},{keyCode:eo.DELETE,action:Ln(ak,e,!0)},{keyCode:eo.BACKSPACE,action:Ln(lg,e,!1)},{keyCode:eo.DELETE,action:Ln(lg,e,!0)},{keyCode:eo.BACKSPACE,action:Ln(j3,e,o,!1)},{keyCode:eo.DELETE,action:Ln(j3,e,o,!0)},{keyCode:eo.BACKSPACE,action:Ln(kw,e,!1)},{keyCode:eo.DELETE,action:Ln(kw,e,!0)},{keyCode:eo.BACKSPACE,action:Ln(Wh,e,!1,u)},{keyCode:eo.DELETE,action:Ln(Wh,e,!0,u)},...iP?[{keyCode:eo.BACKSPACE,altKey:!0,action:Ln(Wh,e,!1,m(!0))},{keyCode:eo.DELETE,altKey:!0,action:Ln(Wh,e,!0,m(!0))},{keyCode:eo.BACKSPACE,metaKey:!0,action:Ln(Wh,e,!1,m(!1))}]:[{keyCode:eo.BACKSPACE,ctrlKey:!0,action:Ln(Wh,e,!1,m(!0))},{keyCode:eo.DELETE,ctrlKey:!0,action:Ln(Wh,e,!0,m(!0))}],{keyCode:eo.BACKSPACE,action:Ln(Yu,e,!1)},{keyCode:eo.DELETE,action:Ln(Yu,e,!0)},{keyCode:eo.BACKSPACE,action:Ln(X3,e,!1)},{keyCode:eo.DELETE,action:Ln(X3,e,!0)},{keyCode:eo.BACKSPACE,action:Ln(fS,e,!1)},{keyCode:eo.DELETE,action:Ln(fS,e,!0)},{keyCode:eo.BACKSPACE,action:Ln(Cp,e,!1)},{keyCode:eo.DELETE,action:Ln(Cp,e,!0)},{keyCode:eo.BACKSPACE,action:Ln(CS,e,!1)},{keyCode:eo.DELETE,action:Ln(CS,e,!0)},{keyCode:eo.BACKSPACE,action:Ln(O3,e,!1)},{keyCode:eo.DELETE,action:Ln(O3,e,!0)}],n).filter(b=>e.selection.isEditable()).each(b=>{n.preventDefault(),Nd(e,r).isDefaultPrevented()||(b(),by(e,r))})},uP=(e,o,n)=>yk([{keyCode:eo.BACKSPACE,action:Ln(T3,e)},{keyCode:eo.DELETE,action:Ln(T3,e)},...iP?[{keyCode:eo.BACKSPACE,altKey:!0,action:Ln(pk,e)},{keyCode:eo.DELETE,altKey:!0,action:Ln(pk,e)},...n?[{keyCode:jz?224:91,action:Ln(pk,e)}]:[]]:[{keyCode:eo.BACKSPACE,ctrlKey:!0,action:Ln(pk,e)},{keyCode:eo.DELETE,ctrlKey:!0,action:Ln(pk,e)}]],o),tV=(e,o)=>{let n=!1;e.on("keydown",r=>{n=r.keyCode===eo.BACKSPACE,r.isDefaultPrevented()||lP(e,o,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||uP(e,r,n),n=!1})},oV=e=>{for(;e;){if(Do(e)||Xt(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},G1=(e,o)=>{const n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!o)return;if(/^(LI|DT|DD)$/.test(o.nodeName)){const u=oV(o.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&o.insertBefore(n.doc.createTextNode(Ra),o.firstChild)}const c=n.createRng();if(o.normalize(),o.hasChildNodes()){const u=new bc(o,o);let m=o,b;for(;b=u.current();){if(Xt(b)){c.setStart(b,0),c.setEnd(b,0);break}if(r[b.nodeName.toLowerCase()]){c.setStartBefore(b),c.setEndBefore(b);break}m=b,b=u.next()}b||(c.setStart(m,0),c.setEnd(m,0))}else Ms(o)?o.nextSibling&&n.isBlock(o.nextSibling)?(c.setStartBefore(o),c.setEndBefore(o)):(c.setStartAfter(o),c.setEndAfter(o)):(c.setStart(o,0),c.setEnd(o,0));e.selection.setRng(c),cw(e,c)},Dk=(e,o)=>{const n=e.getRoot();let r,c=o;for(;c!==n&&c&&e.getContentEditable(c)!=="false";){if(e.getContentEditable(c)==="true"){r=c;break}c=c.parentNode}return c!==n?r:n},Wz=e=>P.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),dP=e=>Wz(e).fold(ue(""),o=>o.nodeName.toUpperCase()),nV=e=>Wz(e).filter(o=>Gg(we.fromDom(o))).isSome(),Zz=e=>{e.innerHTML='<br data-mce-bogus="1">'},sV=(e,o,n)=>{const r=e.dom;P.from(n.style).map(r.parseStyle).each(v=>{const R={...Fc(we.fromDom(o)),...v};r.setStyles(o,R)});const c=P.from(n.class).map(v=>v.split(/\s+/)),u=P.from(o.className).map(v=>be(v.split(/\s+/),E=>E!==""));Zn(c,u,(v,E)=>{const R=be(E,$=>!K(v,$)),N=[...v,...R];r.setAttrib(o,"class",N.join(" "))});const m=["style","class"],b=ys(n,(v,E)=>!K(m,E));r.setAttribs(o,b)},Rk=(e,o)=>{if(Uc(e).toLowerCase()===o.tagName.toLowerCase()){const r=qm(e);sV(e,o,r)}},fP=(e,o,n,r,c=!0,u,m)=>{const b=e.dom,v=e.schema,E=Uc(e),R=n?n.nodeName.toUpperCase():"";let N=o;const $=v.getTextInlineElements();let q;u||R==="TABLE"||R==="HR"?q=b.create(u||E,m||{}):q=n.cloneNode(!1);let ne=q;if(!c)b.setAttrib(q,"style",null),b.setAttrib(q,"class",null);else do if($[N.nodeName]){if(lu(N)||Rl(N))continue;const Y=N.cloneNode(!1);b.setAttrib(Y,"id",""),q.hasChildNodes()?(Y.appendChild(q.firstChild),q.appendChild(Y)):(ne=Y,q.appendChild(Y))}while((N=N.parentNode)&&N!==r);return Rk(e,q),Zz(ne),q},mP=(e,o)=>e.dom.getParent(o,Li),gP=(e,o,n)=>{let r=o;for(;r&&r!==e&&U(r.nextSibling);){const c=r.parentElement;if(!c||!n(c))return Li(c);r=c}return!1},rV=(e,o,n)=>!o&&n.nodeName.toLowerCase()===Uc(e)&&e.dom.isEmpty(n)&&gP(e.getBody(),n,r=>Qo(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),aV=(e,o,n)=>{var r,c,u;const m=o(Uc(e)),b=mP(e,n);b&&(e.dom.insertAfter(m,b),G1(e,m),((u=(c=(r=n.parentElement)===null||r===void 0?void 0:r.childNodes)===null||c===void 0?void 0:c.length)!==null&&u!==void 0?u:0)>1&&e.dom.remove(n))},hq=(e,o)=>e.firstChild&&e.firstChild.nodeName===o,qz=e=>{var o;return((o=e.parentNode)===null||o===void 0?void 0:o.firstChild)===e},pP=(e,o)=>{const n=e==null?void 0:e.parentNode;return We(n)&&n.nodeName===o},hP=e=>We(e)&&/^(OL|UL|LI)$/.test(e.nodeName),Gz=e=>We(e)&&/^(LI|DT|DD)$/.test(e.nodeName),bP=e=>hP(e)&&hP(e.parentNode),IS=e=>{const o=e.parentNode;return Gz(o)?o:e},Nk=(e,o,n)=>{let r=e[n?"firstChild":"lastChild"];for(;r&&!Do(r);)r=r[n?"nextSibling":"previousSibling"];return r===o},yP=e=>Ee(ea(Fc(we.fromDom(e)),(o,n)=>`${n}: ${o};`),(o,n)=>o+n,""),cV=(e,o,n,r,c)=>{const u=e.dom,m=e.selection.getRng(),b=n.parentNode;if(n===e.getBody()||!b)return;bP(n)&&(c="LI");const v=Gz(r)?yP(r):void 0;let E=Gz(r)&&v?o(c,{style:yP(r)}):o(c);if(Nk(n,r,!0)&&Nk(n,r,!1))if(pP(n,"LI")){const R=IS(n);u.insertAfter(E,R),qz(n)?u.remove(R):u.remove(n)}else u.replace(E,n);else if(Nk(n,r,!0))pP(n,"LI")?(u.insertAfter(E,IS(n)),E.appendChild(u.doc.createTextNode(" ")),E.appendChild(n)):b.insertBefore(E,n),u.remove(r);else if(Nk(n,r,!1))u.insertAfter(E,IS(n)),u.remove(r);else{n=IS(n);const R=m.cloneRange();R.setStartAfter(r),R.setEndAfter(n);const N=R.extractContents();if(c==="LI"&&hq(N,"LI")){const $=be(he(E.children,we.fromDom),vt(Qr("br")));E=N.firstChild,u.insertAfter(N,n),V($,q=>ym(we.fromDom(E),q)),v&&E.setAttribute("style",v)}else u.insertAfter(N,n),u.insertAfter(E,n);u.remove(r)}G1(e,E)},bq=e=>{V(Dg(we.fromDom(e),qs),o=>{const n=o.dom;n.nodeValue=ki(n.data)})},Di=(e,o)=>{const n=e.dom.getParent(o,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},iV=(e,o)=>o&&o.nodeName==="A"&&e.isEmpty(o),Kz=(e,o)=>e.nodeName===o||e.previousSibling&&e.previousSibling.nodeName===o,Yz=(e,o)=>We(o)&&e.isBlock(o)&&!/^(TD|TH|CAPTION|FORM)$/.test(o.nodeName)&&!/^(fixed|absolute)/i.test(o.style.position)&&e.isEditable(o.parentNode)&&e.getContentEditable(o)!=="false",lV=(e,o,n)=>{var r;const c=[];if(!n)return;let u=n;for(;u=u.firstChild;){if(e.isBlock(u))return;Do(u)&&!o[u.nodeName.toLowerCase()]&&c.push(u)}let m=c.length;for(;m--;)u=c[m],(!u.hasChildNodes()||u.firstChild===u.lastChild&&((r=u.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||iV(e,u))&&e.remove(u)},Xz=(e,o,n)=>Xt(o)?e?n===1&&o.data.charAt(n-1)===lc?0:n:n===o.data.length-1&&o.data.charAt(n)===lc?o.data.length:n:n,uV=e=>{const o=e.cloneRange();return o.setStart(e.startContainer,Xz(!0,e.startContainer,e.startOffset)),o.setEnd(e.endContainer,Xz(!1,e.endContainer,e.endOffset)),o},dV=e=>{let o=e;do Xt(o)&&(o.data=o.data.replace(/^[\r\n]+/,"")),o=o.firstChild;while(o)},FS=(e,o,n,r,c)=>{var u,m;const b=e.dom,v=(u=Dk(b,r))!==null&&u!==void 0?u:b.getRoot();let E=b.getParent(r,b.isBlock);if(!E||!Yz(b,E)){if(E=E||v,!E.hasChildNodes()){const q=b.create(o);return Rk(e,q),E.appendChild(q),n.setStart(q,0),n.setEnd(q,0),q}let R=r;for(;R&&R.parentNode!==E;)R=R.parentNode;let N;for(;R&&!b.isBlock(R);)N=R,R=R.previousSibling;const $=(m=N==null?void 0:N.parentElement)===null||m===void 0?void 0:m.nodeName;if(N&&$&&e.schema.isValidChild($,o.toLowerCase())){const q=N.parentNode,ne=b.create(o);for(Rk(e,ne),q.insertBefore(ne,N),R=N;R&&!b.isBlock(R);){const Y=R.nextSibling;ne.appendChild(R),R=Y}n.setStart(r,c),n.setEnd(r,c)}}return r},fV=(e,o)=>{o.normalize();const n=o.lastChild;(!n||Do(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(o,"br")},mV=(e,o)=>{const n=Xa(e);return co(o)?!1:X(n)?K(Qt.explode(n),o.nodeName.toLowerCase()):n},wP={insert:(e,o)=>{let n,r,c,u,m=!1;const b=e.dom,v=e.schema,E=v.getNonEmptyElements(),R=e.selection.getRng(),N=Uc(e),$=we.fromDom(R.startContainer),q=Yc($,R.startOffset),ne=q.exists(Bt=>Dn(Bt)&&!Ga(Bt)),Y=R.collapsed&&ne,ce=(Bt,qo)=>fP(e,n,mo,$t,iT(e),Bt,qo),_e=Bt=>{const qo=Xz(Bt,n,r);if(Xt(n)&&(Bt?qo>0:qo<n.data.length))return!1;if((n.parentNode===mo||n===mo)&&m&&!Bt||Bt&&Do(n)&&n===mo.firstChild)return!0;if(Kz(n,"TABLE")||Kz(n,"HR"))return m&&!Bt||!m&&Bt;const un=new bc(n,mo);Xt(n)&&(Bt&&qo===0?un.prev():!Bt&&qo===n.data.length&&un.next());let us;for(;us=un.current();){if(Do(us)){if(!us.getAttribute("data-mce-bogus")){const gs=us.nodeName.toLowerCase();if(E[gs]&&gs!=="br")return!1}}else if(Xt(us)&&!Fi(us.data))return!1;Bt?un.prev():un.next()}return!0},Ie=()=>{let Bt;return/^(H[1-6]|PRE|FIGURE)$/.test(c)&&Po!=="HGROUP"?Bt=ce(N):Bt=ce(),mV(e,u)&&Yz(b,u)&&b.isEmpty(mo,void 0,{includeZwsp:!0})?Bt=b.split(u,mo):b.insertAfter(Bt,mo),G1(e,Bt),Bt};go(b,R).each(Bt=>{R.setStart(Bt.startContainer,Bt.startOffset),R.setEnd(Bt.endContainer,Bt.endOffset)}),n=R.startContainer,r=R.startOffset;const Pe=!!(o&&o.shiftKey),et=!!(o&&o.ctrlKey);Do(n)&&n.hasChildNodes()&&!Y&&(m=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,m&&Xt(n)?r=n.data.length:r=0);const $t=Dk(b,n);if(!$t||Di(e,n))return;Pe||(n=FS(e,N,R,n,r));let mo=b.getParent(n,b.isBlock)||b.getRoot();u=We(mo==null?void 0:mo.parentNode)?b.getParent(mo.parentNode,b.isBlock):null,c=mo?mo.nodeName.toUpperCase():"";const Po=u?u.nodeName.toUpperCase():"";if(Po==="LI"&&!et){const Bt=u;mo=Bt,u=Bt.parentNode,c=Po}if(Do(u)&&rV(e,Pe,mo))return aV(e,ce,mo);if(/^(LI|DT|DD)$/.test(c)&&Do(u)&&b.isEmpty(mo)){cV(e,ce,u,mo,N);return}if(!Y&&(mo===e.getBody()||!Yz(b,mo)))return;const kt=mo.parentNode;let ct;if(Y)ct=ce(N),q.fold(()=>{Zr($,we.fromDom(ct))},Bt=>{Oc(Bt,we.fromDom(ct))}),e.selection.setCursorLocation(ct,0);else if($m(mo))ct=sf(mo),b.isEmpty(mo)&&Zz(mo),Rk(e,ct),G1(e,ct);else if(_e(!1))ct=Ie();else if(_e(!0)&&kt){const Bt=yt.fromRangeStart(R),qo=fw(Bt),un=we.fromDom(mo),gs=uC(un,Bt,e.schema)?hR(un,Bt,e.schema).bind(rr=>P.from(rr.getNode())):P.none();ct=kt.insertBefore(ce(),mo);const Ws=Kz(mo,"HR")||qo?ct:gs.getOr(mo);G1(e,Ws)}else{const Bt=uV(R).cloneRange();Bt.setEndAfter(mo);const qo=Bt.extractContents();bq(qo),dV(qo),ct=qo.firstChild,b.insertAfter(qo,mo),lV(b,E,ct),fV(b,mo),b.isEmpty(mo)&&Zz(mo),ct.normalize(),b.isEmpty(ct)?(b.remove(ct),Ie()):(Rk(e,ct),G1(e,ct))}b.setAttrib(ct,"id",""),e.dispatch("NewBlock",{newBlock:ct})},fakeEventName:"insertParagraph"},yq=(e,o,n)=>{const r=new bc(o,n);let c;const u=e.getNonEmptyElements();for(;c=r.next();)if(u[c.nodeName.toLowerCase()]||Xt(c)&&c.length>0)return!0;return!1},gV=(e,o,n)=>{const r=e.dom.createRng();n?(r.setStartBefore(o),r.setEndBefore(o)):(r.setStartAfter(o),r.setEndAfter(o)),e.selection.setRng(r),cw(e,r)},vq=(e,o)=>{const n=e.selection,r=e.dom,c=n.getRng();let u,m=!1;go(r,c).each(q=>{c.setStart(q.startContainer,q.startOffset),c.setEnd(q.endContainer,q.endOffset)});let b=c.startOffset,v=c.startContainer;if(Do(v)&&v.hasChildNodes()){const q=b>v.childNodes.length-1;v=v.childNodes[Math.min(b,v.childNodes.length-1)]||v,q&&Xt(v)?b=v.data.length:b=0}let E=r.getParent(v,r.isBlock);const R=E&&E.parentNode?r.getParent(E.parentNode,r.isBlock):null,N=R?R.nodeName.toUpperCase():"",$=!!(o&&o.ctrlKey);N==="LI"&&!$&&(E=R),Xt(v)&&b>=v.data.length&&(yq(e.schema,v,E||r.getRoot())||(u=r.create("br"),c.insertNode(u),c.setStartAfter(u),c.setEndAfter(u),m=!0)),u=r.create("br"),nv(r,c,u),gV(e,u,m),e.undoManager.add()},pV=(e,o)=>{const n=we.fromTag("br");Oc(we.fromDom(o),n),e.undoManager.add()},hV=(e,o)=>{bV(e.getBody(),o)||di(we.fromDom(o),we.fromTag("br"));const n=we.fromTag("br");di(we.fromDom(o),n),gV(e,n.dom,!1),e.undoManager.add()},xq=e=>Ms(e.getNode()),bV=(e,o)=>xq(yt.after(o))?!0:Gi(e,yt.after(o)).map(n=>Ms(n.getNode())).getOr(!1),kf=e=>e&&e.nodeName==="A"&&"href"in e,yV=e=>e.fold(ke,kf,kf,ke),kP=e=>{const o=ye(Zb,e),n=yt.fromRangeStart(e.selection.getRng());return dg(o,e.getBody(),n).filter(yV)},vV=(e,o)=>{o.fold(Me,ye(pV,e),ye(hV,e),Me)},_P={insert:(e,o)=>{const n=kP(e);n.isSome()?n.each(ye(vV,e)):vq(e,o)},fakeEventName:"insertLineBreak"},CP=(e,o)=>Wz(e).filter(n=>o.length>0&&_l(we.fromDom(n),o)).isSome(),xV=e=>CP(e,U_(e)),wV=e=>CP(e,cT(e)),Fl=wd.generate([{br:[]},{block:[]},{none:[]}]),SP=(e,o)=>wV(e),Mk=e=>(o,n)=>nV(o)===e,EP=(e,o)=>(n,r)=>dP(n)===e.toUpperCase()===o,kV=e=>{const o=Dk(e.dom,e.selection.getStart());return co(o)},Bk=e=>EP("pre",e),_V=()=>EP("summary",!0),LS=e=>(o,n)=>V_(o)===e,TP=(e,o)=>xV(e),HS=(e,o)=>o,AP=e=>{const o=Uc(e),n=Dk(e.dom,e.selection.getStart());return We(n)&&e.schema.isValidChild(n.nodeName,o)},zP=e=>{const o=e.selection.getRng(),n=we.fromDom(o.startContainer),c=Yc(n,o.startOffset).map(u=>Dn(u)&&!Ga(u));return o.collapsed&&c.getOr(!0)},Md=(e,o)=>(n,r)=>Ee(e,(u,m)=>u&&m(n,r),!0)?P.some(o):P.none(),CV=(e,o)=>C5([Md([SP],Fl.none()),Md([Bk(!0),kV],Fl.none()),Md([_V()],Fl.br()),Md([Bk(!0),LS(!1),HS],Fl.br()),Md([Bk(!0),LS(!1)],Fl.block()),Md([Bk(!0),LS(!0),HS],Fl.block()),Md([Bk(!0),LS(!0)],Fl.br()),Md([Mk(!0),HS],Fl.br()),Md([Mk(!0)],Fl.block()),Md([TP],Fl.br()),Md([HS],Fl.br()),Md([AP],Fl.block()),Md([zP],Fl.block())],[e,!!(o&&o.shiftKey)]).getOr(Fl.none()),K1=(e,o,n)=>{o.selection.isCollapsed()||r6(o),!(We(n)&&Nd(o,e.fakeEventName).isDefaultPrevented())&&(e.insert(o,n),We(n)&&by(o,e.fakeEventName))},OP=(e,o)=>{const n=()=>K1(_P,e,o),r=()=>K1(wP,e,o),c=CV(e,o);switch(qf(e)){case"linebreak":c.fold(n,n,Me);break;case"block":c.fold(r,r,Me);break;case"invert":c.fold(r,n,Me);break;default:c.fold(n,r,Me);break}},DP=oo(),VS=DP.os.isiOS()&&DP.browser.isSafari(),RP=(e,o)=>{o.isDefaultPrevented()||(o.preventDefault(),G4(e.undoManager),e.undoManager.transact(()=>{OP(e,o)}))},Jz=e=>{if(!e.collapsed)return!1;const o=e.startContainer;if(Xt(o)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=o.data.charAt(e.startOffset-1);return n.test(r)}else return!1},Qz=e=>{let o=P.none();const n=c=>{o=P.some(c.selection.getBookmark()),c.undoManager.add()},r=(c,u)=>{c.undoManager.undo(),o.fold(Me,m=>c.selection.moveToBookmark(m)),RP(c,u),o=P.none()};e.on("keydown",c=>{c.keyCode===eo.ENTER&&(VS&&Jz(e.selection.getRng())?n(e):RP(e,c))}),e.on("keyup",c=>{c.keyCode===eo.ENTER&&o.each(()=>r(e,c))})},NP=(e,o,n)=>{const r=on.os.isMacOS()||on.os.isiOS();yk([{keyCode:eo.END,action:Ln(gB,e,!0)},{keyCode:eo.HOME,action:Ln(gB,e,!1)},...r?[]:[{keyCode:eo.HOME,action:Ln(hk,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:eo.END,action:Ln(hk,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:eo.END,action:Ln(SH,e,!0)},{keyCode:eo.HOME,action:Ln(SH,e,!1)},{keyCode:eo.END,action:Ln(wS,e,!0,o)},{keyCode:eo.HOME,action:Ln(wS,e,!1,o)}],n).each(c=>{n.preventDefault()})},SV=(e,o)=>{e.on("keydown",n=>{n.isDefaultPrevented()||NP(e,o,n)})},_q=e=>{e.on("input",o=>{o.isComposing||jF(e)})},Zh=oo(),EV=(e,o,n)=>{yk([{keyCode:eo.PAGE_UP,action:Ln(wS,e,!1,o)},{keyCode:eo.PAGE_DOWN,action:Ln(wS,e,!0,o)}],n)},MP=e=>e.stopImmediatePropagation(),BP=e=>e.keyCode===eo.PAGE_UP||e.keyCode===eo.PAGE_DOWN,Pk=(e,o,n)=>{n&&!e.get()?o.on("NodeChange",MP,!0):!n&&e.get()&&o.off("NodeChange",MP),e.set(n)},PP=(e,o)=>{if(Zh.os.isMacOS())return;const n=Ve(!1);e.on("keydown",r=>{BP(r)&&Pk(n,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||EV(e,o,r),BP(r)&&n.get()&&(Pk(n,e,!1),e.nodeChanged())})},$P=e=>{e.on("beforeinput",o=>{(!e.selection.isEditable()||te(o.getTargetRanges(),n=>!mA(e.dom,n)))&&o.preventDefault()})},IP=(e,o)=>{const n=o.container(),r=o.offset();return Xt(n)?(n.insertData(r,e),P.some(yt(n,r+e.length))):Rv(o).map(c=>{const u=we.fromText(e);return o.isAtEnd()?di(c,u):Oc(c,u),yt(u.dom,e.length)})},eO=ye(IP,Ra),FP=ye(IP," "),TV=(e,o,n)=>kR(e,o,n)?eO(o):FP(o),AV=e=>o=>o.fold(n=>ml(e.dom,yt.before(n)),n=>Zc(n),n=>iu(n),n=>Gi(e.dom,yt.after(n))),tO=(e,o,n)=>r=>kR(e,r,n)?eO(o):FP(o),US=e=>o=>{e.selection.setRng(o.toRange()),e.nodeChanged()},zV=(e,o)=>e.isEditable(e.getParent(o,"summary")),oO=e=>{const o=yt.fromRangeStart(e.selection.getRng()),n=we.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=ye(Zb,e),c=yt.fromRangeStart(e.selection.getRng());return dg(r,e.getBody(),c).bind(AV(n)).map(u=>()=>tO(n,o,e.schema)(u).each(US(e)))}else return P.none()},LP=e=>{const o=()=>{const n=we.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=yt.fromRangeStart(e.selection.getRng());TV(n,r,e.schema).each(US(e))};return Ir(on.browser.isFirefox()&&e.selection.isEditable()&&zV(e.dom,e.selection.getRng().startContainer),o)},jS=(e,o)=>{vB([{keyCode:eo.SPACEBAR,action:Ln(oO,e)},{keyCode:eo.SPACEBAR,action:Ln(LP,e)}],o).each(n=>{o.preventDefault(),Nd(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),by(e,"insertText",{data:" "}))})},HP=e=>{e.on("keydown",o=>{o.isDefaultPrevented()||jS(e,o)})},VP=e=>kT(e)?[{keyCode:eo.TAB,action:Ln(kk,e,!0)},{keyCode:eo.TAB,shiftKey:!0,action:Ln(kk,e,!1)}]:[],OV=(e,o)=>{yk([...VP(e)],o).each(n=>{o.preventDefault()})},DV=e=>{e.on("keydown",o=>{o.isDefaultPrevented()||OV(e,o)})},WS=e=>{if(e.addShortcut("Meta+P","","mcePrint"),j9(e),cg(e))return Ve(null);{const o=j7(e);return $P(e),bH(e),wz(e,o),tV(e,o),Qz(e),HP(e),_q(e),DV(e),SV(e,o),PP(e,o),o}};class UP{constructor(o){this.lastPath=[],this.editor=o;let n;const r=this;"onselectionchange"in o.getDoc()||o.on("NodeChange click mouseup keyup focus",c=>{const u=o.selection.getRng(),m={startContainer:u.startContainer,startOffset:u.startOffset,endContainer:u.endContainer,endOffset:u.endOffset};(c.type==="nodechange"||!S(m,n))&&o.dispatch("SelectionChange"),n=m}),o.on("contextmenu",()=>{iw(o),o.dispatch("SelectionChange")}),o.on("SelectionChange",()=>{const c=o.selection.getStart(!0);c&&ph(o)&&!r.isSameElementPath(c)&&o.dom.isChildOf(c,o.getBody())&&o.nodeChanged({selectionChange:!0})}),o.on("mouseup",c=>{!c.isDefaultPrevented()&&ph(o)&&(o.selection.getNode().nodeName==="IMG"?Uu.setEditorTimeout(o,()=>{o.nodeChanged()}):o.nodeChanged())})}nodeChanged(o={}){const n=this.editor.selection;let r;if(this.editor.initialized&&n&&!yv(this.editor)&&!this.editor.mode.isReadOnly()){const c=this.editor.getBody();r=n.getStart(!0)||c,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,c))&&(r=c);const u=[];this.editor.dom.getParent(r,m=>m===c?!0:(u.push(m),!1)),this.editor.dispatch("NodeChange",{...o,element:r,parents:u})}}isSameElementPath(o){let n;const r=this.editor,c=io(r.dom.getParents(o,Xe,r.getBody()));if(c.length===this.lastPath.length){for(n=c.length;n>=0&&c[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=c,!0}return this.lastPath=c,!1}}const jP=Wy("image"),RV=e=>{const o=e;return P.from(o[jP])},WP=(e,o)=>{const n=e;n[jP]=o},nO=Wy("event"),NV=e=>{const o=e;return P.from(o[nO])},ZS=e=>o=>{const n=o;n[nO]=e},MV=(e,o)=>ZS(o)(e),ZP=ZS(0),qP=ZS(2),BV=ZS(1),$V=(e=>o=>{const n=o;return P.from(n[nO]).exists(r=>r===e)})(0),IV=()=>Object.freeze({length:0,item:e=>null}),sO=Wy("mode"),FV=e=>{const o=e;return P.from(o[sO])},qS=e=>o=>{const n=o;n[sO]=e},yy=(e,o)=>qS(o)(e),GP=qS(0),rO=qS(2),KP=qS(1),YP=e=>o=>{const n=o;return P.from(n[sO]).exists(r=>r===e)},Y1=YP(0),XP=YP(1),JP=(e,o)=>({...o,get length(){return o.length},add:(n,r)=>{if(Y1(e))if(X(n)){if(!ko(r))return o.add(n,r)}else return o.add(n);return null},remove:n=>{Y1(e)&&o.remove(n)},clear:()=>{Y1(e)&&o.clear()}}),LV=["none","copy","link","move"],HV=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],QP=()=>{const e=new window.DataTransfer;let o="move",n="all";const r={get dropEffect(){return o},set dropEffect(c){K(LV,c)&&(o=c)},get effectAllowed(){return n},set effectAllowed(c){$V(r)&&K(HV,c)&&(n=c)},get items(){return JP(r,e.items)},get files(){return XP(r)?IV():e.files},get types(){return e.types},setDragImage:(c,u,m)=>{Y1(r)&&(WP(r,{image:c,x:u,y:m}),e.setDragImage(c,u,m))},getData:c=>XP(r)?"":e.getData(c),setData:(c,u)=>{Y1(r)&&e.setData(c,u)},clearData:c=>{Y1(r)&&e.clearData(c)}};return GP(r),r},GS=e=>{const o=QP(),n=FV(e);return rO(e),ZP(o),o.dropEffect=e.dropEffect,o.effectAllowed=e.effectAllowed,RV(e).each(r=>o.setDragImage(r.image,r.x,r.y)),V(e.types,r=>{r!=="Files"&&o.setData(r,e.getData(r))}),V(e.files,r=>o.items.add(r)),NV(e).each(r=>{MV(o,r)}),n.each(r=>{yy(e,r),yy(o,r)}),o},VV=e=>{const o=e.getData("text/html");return o===""?P.none():P.some(o)},e$=(e,o)=>e.setData("text/html",o),t$="x-tinymce/html",KS=ue(t$),aO="<!-- "+t$+" -->",UV=e=>aO+e,jV=e=>e.replace(aO,""),o$=e=>e.indexOf(aO)!==-1,WV=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),ZV=(e,o)=>{let n="<"+e;const r=ea(o,(c,u)=>u+'="'+hd.encodeAllRaw(c)+'"');return r.length&&(n+=" "+r.join(" ")),n+">"},qV=(e,o,n)=>{const r=e.split(/\n\n/),c=ZV(o,n),u="</"+o+">",m=he(r,v=>v.split(/\n/).join("<br />")),b=v=>c+v+u;return m.length===1?m[0]:he(m,b).join("")},n$="%MCEPASTEBIN%",GV=(e,o)=>{const{dom:n,selection:r}=e,c=e.getBody();o.set(r.getRng());const u=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n$);on.browser.isFirefox()&&n.setStyle(u,"left",n.getStyle(c,"direction",!0)==="rtl"?65535:-65535),n.bind(u,"beforedeactivate focusin focusout",m=>{m.stopPropagation()}),u.focus(),r.select(u,!0)},Or=(e,o)=>{const n=e.dom;if(cO(e)){let r;const c=o.get();for(;r=cO(e);)n.remove(r),n.unbind(r);c&&e.selection.setRng(c)}o.set(null)},cO=e=>e.dom.get("mcepastebin"),s$=e=>We(e)&&e.id==="mcepastebin",KV=e=>{const o=e.dom,n=(m,b)=>{m.appendChild(b),o.remove(b,!0)},[r,...c]=be(e.getBody().childNodes,s$);V(c,m=>{n(r,m)});const u=o.select("div[id=mcepastebin]",r);for(let m=u.length-1;m>=0;m--){const b=o.create("div");r.insertBefore(b,u[m]),n(b,u[m])}return r?r.innerHTML:""},YS=e=>e===n$,r$=e=>{const o=Ve(null);return{create:()=>GV(e,o),remove:()=>Or(e,o),getEl:()=>cO(e),getHtml:()=>KV(e),getLastRng:o.get}},a$=(e,o)=>(Qt.each(o,n=>{Be(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),YV=e=>{const o=ef(),n=O1({},o);let r="";const c=o.getVoidElements(),u=Qt.makeMap("script noscript style textarea video audio iframe object"," "),m=o.getBlockElements(),b=v=>{const E=v.name,R=v;if(E==="br"){r+=`
`;return}if(E!=="wbr"){if(c[E]&&(r+=" "),u[E]){r+=" ";return}if(v.type===3&&(r+=v.value),!(v.name in o.getVoidElements())){let N=v.firstChild;if(N)do b(N);while(N=N.next)}m[E]&&R.next&&(r+=`
`,E==="p"&&(r+=`
`))}};return e=a$(e,[/<!\[[^\]]+\]>/g]),b(n.parse(e)),r},iO=e=>(e=a$(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,r,c)=>!r&&!c?" ":Ra],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),lO=e=>{let o=0;return()=>e+o++},XV=e=>{const o=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Qt.hasOwn(n,o)?"image/"+n[o]:"image/"+o},JV=(e,o)=>{const n=O1({sanitize:Wc(e),sandbox_iframes:d2(e),sandbox_iframes_exclusions:Sv(e),convert_unsafe_embeds:Cb(e)},e.schema);n.addNodeFilter("meta",c=>{Qt.each(c,u=>{u.remove()})});const r=n.parse(o,{forced_root_block:!1,isRootContent:!0});return bp({validate:!0},e.schema).serialize(r)},c$=(e,o)=>({content:e,cancelled:o}),i$=(e,o,n)=>{const r=e.dom.create("div",{style:"display:none"},o),c=Z2(e,r,n);return c$(c.node.innerHTML,c.isDefaultPrevented())},QV=(e,o,n)=>{const r=GT(e,o,n),c=JV(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?i$(e,c,n):c$(c,r.isDefaultPrevented())},eU=(e,o,n)=>QV(e,o,n),qh=(e,o)=>(e.insertContent(o,{merge:a2(e),paste:!0}),!0),uO=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),X1=(e,o)=>uO(o)&&te(_b(e),n=>xs(o.toLowerCase(),`.${n.toLowerCase()}`)),$k=(e,o,n)=>(e.undoManager.extra(()=>{n(e,o)},()=>{e.insertContent('<img src="'+o+'">')}),!0),tU=(e,o,n)=>(e.undoManager.extra(()=>{n(e,o)},()=>{e.execCommand("mceInsertLink",!1,o)}),!0),oU=(e,o,n)=>!e.selection.isCollapsed()&&uO(o)?tU(e,o,n):!1,J1=(e,o,n)=>X1(e,o)?$k(e,o,n):!1,nU=(e,o)=>{Qt.each([oU,J1,qh],n=>!n(e,o,qh))},dO=(e,o,n)=>{n||!vT(e)?qh(e,o):nU(e,o)},sU=lO("mceclip"),l$=e=>{const o=QP();return e$(o,e),rO(o),o},fO=(e,o,n,r,c)=>{const u=eU(e,o,n);if(!u.cancelled){const m=u.content,b=()=>dO(e,m,r);c?Nd(e,"insertFromPaste",{dataTransfer:l$(m)}).isDefaultPrevented()||(b(),by(e,"insertFromPaste")):b()}},Q1=(e,o,n,r)=>{const c=n||o$(o);fO(e,jV(o),c,!1,r)},XS=(e,o,n)=>{const r=e.dom.encode(o).replace(/\r\n/g,`
`),c=Cl(r,c2(e)),u=qV(c,Uc(e),qm(e));fO(e,u,!1,!0,n)},u$=e=>{const o={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const r=e.types[n];try{o[r]=e.getData(r)}catch{o[r]=""}}return o},Gh=(e,o)=>o in e&&e[o].length>0,mO=e=>Gh(e,"text/html")||Gh(e,"text/plain"),rU=(e,o)=>{const n=o.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return We(n)?e.dom.encode(n[1]):void 0},d$=(e,o,n,r)=>{const c=sU(),u=Qs(e)&&We(n.name),m=u?rU(e,n.name):c,b=u?n.name:void 0,v=o.create(c,n,r,m,b);return o.add(v),v},gO=(e,o)=>{Oh(o.uri).each(({data:n,type:r,base64Encoded:c})=>{const u=c?n:btoa(n),m=o.file,b=e.editorUpload.blobCache,v=b.getByData(u,r),E=v??d$(e,b,m,u);Q1(e,`<img src="${E.blobUri()}">`,!1,!0)})},f$=e=>e.type==="paste",aU=e=>Promise.all(he(e,o=>kp(o).then(n=>({file:o,uri:n})))),cU=e=>{const o=_b(e);return n=>_n(n.type,"image/")&&te(o,r=>XV(r)===n.type)},iU=(e,o)=>{const n=o.items?Je(bs(o.items),c=>c.kind==="file"?[c.getAsFile()]:[]):[],r=o.files?bs(o.files):[];return be(n.length>0?n:r,cU(e))},pO=(e,o,n)=>{const r=f$(o)?o.clipboardData:o.dataTransfer;if(nh(e)&&r){const c=iU(e,r);if(c.length>0)return o.preventDefault(),aU(c).then(u=>{n&&e.selection.setRng(n),V(u,m=>{gO(e,m)})}),!0}return!1},hO=e=>{var o,n;return on.os.isAndroid()&&((n=(o=e.clipboardData)===null||o===void 0?void 0:o.items)===null||n===void 0?void 0:n.length)===0},lU=e=>eo.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,JS=(e,o,n,r,c)=>{let u=iO(n);const m=Gh(o,KS())||o$(n),b=!m&&WV(u),v=uO(u);(YS(u)||!u.length||b&&!v)&&(r=!0),(r||v)&&(Gh(o,"text/plain")&&b?u=o["text/plain"]:u=YV(u)),!YS(u)&&(r?XS(e,u,c):Q1(e,u,m,c))},m$=(e,o,n)=>{let r;const c=()=>o.getLastRng()||e.selection.getRng();e.on("keydown",u=>{lU(u)&&!u.isDefaultPrevented()&&(r=u.shiftKey&&u.keyCode===86)}),e.on("paste",u=>{if(u.isDefaultPrevented()||hO(u))return;const m=n.get()==="text"||r;r=!1;const b=u$(u.clipboardData);!mO(b)&&pO(e,u,c())||(Gh(b,"text/html")?(u.preventDefault(),JS(e,b,b["text/html"],m,!0)):Gh(b,"text/plain")&&Gh(b,"text/uri-list")?(u.preventDefault(),JS(e,b,b["text/plain"],m,!0)):(o.create(),Uu.setEditorTimeout(e,()=>{const v=o.getHtml();o.remove(),JS(e,b,v,m,!1)},0)))})},uU=e=>{const o=c=>_n(c,"webkit-fake-url"),n=c=>_n(c,"data:"),r=c=>{var u;return((u=c.data)===null||u===void 0?void 0:u.paste)===!0};e.parser.addNodeFilter("img",(c,u,m)=>{if(!nh(e)&&r(m))for(const b of c){const v=b.attr("src");X(v)&&!b.attr("data-mce-object")&&v!==on.transparentSrc&&(o(v)||!sh(e)&&n(v))&&b.remove()}})},g$=(e,o,n)=>{m$(e,o,n),uU(e)},dU=(e,o)=>{o.get()==="text"?(o.set("html"),i1(e,!1)):(o.set("text"),i1(e,!0)),e.focus()},fU=(e,o)=>{e.addCommand("mceTogglePlainTextPaste",()=>{dU(e,o)}),e.addCommand("mceInsertClipboardContent",(n,r)=>{r.html&&Q1(e,r.html,r.internal,!1),r.text&&XS(e,r.text,!1)})},mU=(e,o,n)=>{if(e)try{return e.clearData(),e.setData("text/html",o),e.setData("text/plain",n),e.setData(KS(),o),!0}catch{return!1}else return!1},p$=(e,o,n,r)=>{mU(e.clipboardData,o.html,o.text)?(e.preventDefault(),r()):n(o.html,r)},h$=e=>(o,n)=>{const{dom:r,selection:c}=e,u=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),m=r.create("div",{contenteditable:"true"},o);r.setStyles(u,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),u.appendChild(m),r.add(e.getBody(),u);const b=c.getRng();m.focus();const v=r.createRng();v.selectNodeContents(m),c.setRng(v),Uu.setEditorTimeout(e,()=>{c.setRng(b),r.remove(u),n()},0)},Ik=e=>({html:UV(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),gU=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),bO=e=>!e.selection.isCollapsed()||gU(e),pU=e=>o=>{!o.isDefaultPrevented()&&bO(e)&&e.selection.isEditable()&&p$(o,Ik(e),h$(e),()=>{if(on.browser.isChromium()||on.browser.isFirefox()){const n=e.selection.getRng();Uu.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},hU=e=>o=>{!o.isDefaultPrevented()&&bO(e)&&p$(o,Ik(e),h$(e),Me)},b$=e=>{e.on("cut",pU(e)),e.on("copy",hU(e))},yO=(e,o)=>{var n,r;return uo.getCaretRangeFromPoint((n=o.clientX)!==null&&n!==void 0?n:0,(r=o.clientY)!==null&&r!==void 0?r:0,e.getDoc())},bU=e=>{const o=e["text/plain"];return o?o.indexOf("file://")===0:!1},y$=(e,o)=>{e.focus(),o&&e.selection.setRng(o)},yU=e=>te(e.files,o=>/^image\//.test(o.type)),vU=(e,o,n,r)=>{const c=e.getParent(n,m=>Nu(o,m));if(!U(e.getParent(n,"summary")))return!0;if(c&&Qo(r,"text/html")){const m=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!U(m.querySelector(c.nodeName.toLowerCase()))}else return!1},xU=e=>{e.on("input",o=>{const n=r=>U(r.querySelector("summary"));if(o.inputType==="deleteByDrag"){const r=be(e.dom.select("details"),n);V(r,c=>{Ms(c.firstChild)&&c.firstChild.remove();const u=e.dom.create("summary");u.appendChild(Kg().dom),c.prepend(u)})}})},v$=(e,o)=>{t2(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),nh(e)||e.on("drop",n=>{const r=n.dataTransfer;r&&yU(r)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const r=yO(e,n);if(co(r))return;const c=u$(n.dataTransfer),u=Gh(c,KS());if((!mO(c)||bU(c))&&pO(e,n,r))return;const m=c[KS()],b=m||c["text/html"]||c["text/plain"],v=vU(e.dom,e.schema,r.startContainer,c),E=o.get();E&&!v||b&&(n.preventDefault(),Uu.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(m||E&&v)&&e.execCommand("Delete"),y$(e,r);const R=iO(b);c["text/html"]?Q1(e,R,u,!0):XS(e,R,!0)})}))}),e.on("dragstart",n=>{o.set(!0)}),e.on("dragover dragend",n=>{nh(e)&&!o.get()&&(n.preventDefault(),y$(e,yO(e,n))),n.type==="dragend"&&o.set(!1)}),xU(e)},wU=e=>{const o=c=>u=>{c(e,u)},n=o2(e);ie(n)&&e.on("PastePreProcess",o(n));const r=n2(e);ie(r)&&e.on("PastePostProcess",o(r))},kU=(e,o)=>{e.on("PastePreProcess",n=>{n.content=o(e,n.content,n.internal)})},_U=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,x$=e=>Qt.trim(e).replace(_U,yd).toLowerCase(),CU=(e,o,n)=>{const r=yT(e);if(n||r==="all"||!r2(e))return o;const c=r?r.split(/[, ]/):[];if(c&&r!=="none"){const u=e.dom,m=e.selection.getNode();o=o.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(b,v,E,R)=>{const N=u.parseStyle(u.decode(E)),$={};for(let ne=0;ne<c.length;ne++){const Y=N[c[ne]];let ce=Y,_e=u.getStyle(m,c[ne],!0);/color/.test(c[ne])&&(ce=x$(ce),_e=x$(_e)),_e!==ce&&($[c[ne]]=Y)}const q=u.serializeStyle($,"span");return q?v+' style="'+q+'"'+R:v+R})}else o=o.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return o=o.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(u,m,b,v)=>m+' style="'+b+'"'+v),o},SU=e=>{(on.browser.isChromium()||on.browser.isSafari())&&kU(e,CU)},EU=e=>{const o=Ve(!1),n=Ve(kv(e)?"text":"html"),r=r$(e);SU(e),fU(e,n),wU(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),e.on("PreInit",()=>{b$(e),v$(e,o),g$(e,r,n)})},TU=e=>{e.on("click",o=>{e.dom.getParent(o.target,"details")&&o.preventDefault()})},w$=e=>{e.parser.addNodeFilter("details",o=>{const n=u2(e);V(o,r=>{n==="expanded"?r.attr("open","open"):n==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",o=>{const n=_x(e);V(o,r=>{n==="expanded"?r.attr("open","open"):n==="collapsed"&&r.attr("open",null)})})},k$=e=>{TU(e),w$(e)},AU=Ms,_$=Xt,zU=e=>Bs(e.dom),OU=e=>Ot(e.dom),C$=e=>o=>ts(we.fromDom(e),o),DU=(e,o,n)=>Lr(we.fromDom(e),r=>OU(r)||n.isBlock(oe(r)),C$(o)).getOr(we.fromDom(o)).dom,S$=(e,o)=>Lr(we.fromDom(e),zU,C$(o)),Fk=(e,o,n)=>{const r=new bc(e,o),c=n?r.next.bind(r):r.prev.bind(r);let u=e;for(let m=n?e:c();m&&!AU(m);m=c())Tl(m)&&(u=m);return u},E$=(e,o,n)=>{const c=yt.fromRangeStart(e).getNode(),u=DU(c,o,n),m=Fk(c,u,!1),b=Fk(c,u,!0),v=document.createRange();return S$(m,u).fold(()=>{_$(m)?v.setStart(m,0):v.setStartBefore(m)},E=>v.setStartBefore(E.dom)),S$(b,u).fold(()=>{_$(b)?v.setEnd(b,b.data.length):v.setEndAfter(b)},E=>v.setEndAfter(E.dom)),v},RU=e=>{const o=E$(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(zr(o))},T$=e=>{e.on("mousedown",o=>{o.detail>=3&&(o.preventDefault(),RU(e))})};var vy;(function(e){e.Before="before",e.After="after"})(vy||(vy={}));const vO=(e,o)=>Math.abs(e.left-o),NU=(e,o)=>Math.abs(e.right-o),A$=(e,o)=>e>=o.top&&e<=o.bottom,MU=(e,o)=>e.top<o.bottom&&e.bottom>o.top,z$=(e,o)=>{const n=Xg(e,o)/Math.min(e.height,o.height);return MU(e,o)&&n>.5},BU=(e,o)=>{const n=be(e,r=>A$(o,r));return VE(n).fold(()=>[[],e],r=>{const{pass:c,fail:u}=de(e,m=>z$(m,r));return[c,u]})},O$=(e,o)=>({node:e.node,position:vO(e,o)<NU(e,o)?vy.Before:vy.After}),PU=(e,o,n)=>o>e.left&&o<e.right?0:Math.min(Math.abs(e.left-o),Math.abs(e.right-o)),xO=(e,o,n,r)=>{const c=N=>Tl(N.node)?P.some(N):Do(N.node)?xO(bs(N.node.childNodes),o,n,!1):P.none(),u=(N,$,q)=>c($).filter(ne=>Math.abs(q(N,o,n)-q(ne,o,n))<2&&Xt(ne.node)),m=(N,$)=>{const q=Mo(N,(ne,Y)=>$(ne,o,n)-$(Y,o,n));return os(q,c).map(ne=>r&&!Xt(ne.node)&&q.length>1?u(ne,q[1],$).getOr(ne):ne)},[b,v]=BU(Rd(e),n),{pass:E,fail:R}=de(v,N=>N.top<n);return m(b,PU).orThunk(()=>m(R,k_)).orThunk(()=>m(E,k_))},$U=(e,o,n,r)=>{const c=(u,m)=>{const b=E=>Do(E)&&E.classList.contains("mce-drag-container"),v=be(u.dom.childNodes,vt(b));return m.fold(()=>xO(v,n,r,!0),E=>{const R=be(v,N=>N!==E.dom);return xO(R,n,r,!0)}).orThunk(()=>(ts(u,e)?P.none():Af(u)).bind(R=>c(R,P.some(u))))};return c(o,P.none())},Lk=(e,o,n)=>{const r=we.fromDom(e),c=Su(r),m=we.fromPoint(c,o,n).filter(b=>ga(r,b)).getOr(r);return $U(r,m,o,n)},D$=(e,o,n)=>Lk(e,o,n).filter(r=>af(r.node)).map(r=>O$(r,o)),R$=e=>{var o,n;const r=e.getBoundingClientRect(),c=e.ownerDocument,u=c.documentElement,m=c.defaultView;return{top:r.top+((o=m==null?void 0:m.scrollY)!==null&&o!==void 0?o:0)-u.clientTop,left:r.left+((n=m==null?void 0:m.scrollX)!==null&&n!==void 0?n:0)-u.clientLeft}},N$=e=>e.inline?R$(e.getBody()):{left:0,top:0},IU=e=>{const o=e.getBody();return e.inline?{left:o.scrollLeft,top:o.scrollTop}:{left:0,top:0}},FU=e=>{const o=e.getBody(),n=e.getDoc().documentElement,r={left:o.scrollLeft,top:o.scrollTop},c={left:o.scrollLeft||n.scrollLeft,top:o.scrollTop||n.scrollTop};return e.inline?r:c},LU=(e,o)=>{if(o.target.ownerDocument!==e.getDoc()){const n=R$(e.getContentAreaContainer()),r=FU(e);return{left:o.pageX-n.left+r.left,top:o.pageY-n.top+r.top}}return{left:o.pageX,top:o.pageY}},HU=(e,o,n)=>({pageX:n.left-e.left+o.left,pageY:n.top-e.top+o.top}),VU=(e,o)=>HU(N$(e),IU(e),LU(e,o)),Hk=e=>({target:e,srcElement:e}),M$=(e,o,n,r)=>({...o,dataTransfer:r,type:e,...Hk(n)}),B$=(e,o,n)=>{const r=yo("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Me,stopImmediatePropagation:Me,stopPropagation:Me,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:n,...Hk(o)}},UU=(e,o)=>{const n=GS(e);return o==="dragstart"?(ZP(n),GP(n)):o==="drop"?(qP(n),rO(n)):(BV(n),KP(n)),n},jU=(e,o,n,r)=>{const c=UU(n,e);return ko(r)?B$(e,o,c):M$(e,r,o,c)},QS=32,Cq=100,eE=8,Vk=16,tE=Bs,oE=UE(tE,Ot),WU=(e,o,n)=>tE(n)&&n!==o&&e.isEditable(n.parentElement),ZU=(e,o,n)=>co(o)||o===n||e.dom.isChildOf(o,n)?!1:e.dom.isEditable(o),P$=(e,o,n,r)=>{const c=e.dom,u=o.cloneNode(!0);c.setStyles(u,{width:n,height:r}),c.setAttrib(u,"data-mce-selected",null);const m=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(m,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),c.setStyles(u,{margin:0,boxSizing:"border-box"}),m.appendChild(u),m},qU=(e,o)=>{e.parentNode!==o&&o.appendChild(e)},e0=(e,o)=>n=>()=>{const r=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:r+o,behavior:"smooth"})},wO=e0("left",-QS),$$=e0("left",QS),I$=e0("top",-QS),kO=e0("top",QS),GU=(e,o,n,r,c,u,m,b,v,E,R,N)=>{let $=0,q=0;e.style.left=o.pageX+"px",e.style.top=o.pageY+"px",o.pageX+n>c&&($=o.pageX+n-c),o.pageY+r>u&&(q=o.pageY+r-u),e.style.width=n-$+"px",e.style.height=r-q+"px";const ne=v.clientHeight,Y=v.clientWidth,ce=m+v.getBoundingClientRect().top,_e=b+v.getBoundingClientRect().left;R.on(Ie=>{Ie.intervalId.clear(),Ie.dragging&&N&&(m+eE>=ne?Ie.intervalId.set(kO(E)):m-eE<=0?Ie.intervalId.set(I$(E)):b+eE>=Y?Ie.intervalId.set($$(E)):b-eE<=0?Ie.intervalId.set(wO(E)):ce+Vk>=window.innerHeight?Ie.intervalId.set(kO(window)):ce-Vk<=0?Ie.intervalId.set(I$(window)):_e+Vk>=window.innerWidth?Ie.intervalId.set($$(window)):_e-Vk<=0&&Ie.intervalId.set(wO(window)))})},KU=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},YU=(e,o)=>{const n=e.getParent(o.parentNode,e.isBlock);KU(o),n&&n!==e.getRoot()&&e.isEmpty(n)&&cu(we.fromDom(n))},XU=e=>e.button===0,JU=(e,o)=>({pageX:o.pageX-e.relX,pageY:o.pageY+5}),F$=(e,o)=>n=>{if(XU(n)){const r=xt(o.dom.getParents(n.target),oE).getOr(null);if(We(r)&&WU(o.dom,o.getBody(),r)){const c=o.dom.getPos(r),u=o.getBody(),m=o.getDoc().documentElement;e.set({element:r,dataTransfer:QP(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(o.inline?u.scrollWidth:m.offsetWidth)-2,maxY:(o.inline?u.scrollHeight:m.offsetHeight)-2,relX:n.pageX-c.x,relY:n.pageY-c.y,width:r.offsetWidth,height:r.offsetHeight,ghost:P$(o,r,r.offsetWidth,r.offsetHeight),intervalId:_m(Cq)})}}},QU=(e,o,n)=>{e._selectionOverrides.hideFakeCaret(),D$(e.getBody(),o,n).fold(()=>e.selection.placeCaretAt(o,n),r=>{const c=e._selectionOverrides.showCaret(1,r.node,r.position===vy.Before,!1);c?e.selection.setRng(c):e.selection.placeCaretAt(o,n)})},t0=(e,o,n,r,c)=>{o==="dragstart"&&e$(r,e.dom.getOuterHTML(n));const u=jU(o,n,r,c);return e.dispatch(o,u)},ej=(e,o)=>{const n=lb((c,u)=>QU(o,c,u),0);o.on("remove",n.cancel);const r=e;return c=>e.on(u=>{const m=Math.max(Math.abs(c.screenX-u.screenX),Math.abs(c.screenY-u.screenY));if(!u.dragging&&m>10){const b=t0(o,"dragstart",u.element,u.dataTransfer,c);if(We(b.dataTransfer)&&(u.dataTransfer=b.dataTransfer),b.isDefaultPrevented())return;u.dragging=!0,o.focus()}if(u.dragging){const b=c.currentTarget===o.getDoc().documentElement,v=JU(u,VU(o,c));qU(u.ghost,o.getBody()),GU(u.ghost,v,u.width,u.height,u.maxX,u.maxY,c.clientY,c.clientX,o.getContentAreaContainer(),o.getWin(),r,b),n.throttle(c.clientX,c.clientY)}})},tj=e=>{const o=e.getSel();if(We(o)){const r=o.getRangeAt(0).startContainer;return Xt(r)?r.parentNode:r}else return null},oj=(e,o)=>n=>{e.on(r=>{var c;if(r.intervalId.clear(),r.dragging){if(ZU(o,tj(o.selection),r.element)){const u=(c=o.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&c!==void 0?c:o.getBody();t0(o,"drop",u,r.dataTransfer,n).isDefaultPrevented()||o.undoManager.transact(()=>{YU(o.dom,r.element),VV(r.dataTransfer).each(b=>o.insertContent(b)),o._selectionOverrides.hideFakeCaret()})}t0(o,"dragend",o.getBody(),r.dataTransfer,n)}}),_O(e)},L$=(e,o,n)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&n.fold(()=>t0(o,"dragend",r.element,r.dataTransfer),c=>t0(o,"dragend",r.element,r.dataTransfer,c))}),_O(e)},nj=(e,o)=>n=>L$(e,o,P.some(n)),_O=e=>{e.on(o=>{o.intervalId.clear(),KU(o.ghost)}),e.clear()},Sq=e=>{const o=Vc(),n=Br.DOM,r=document,c=F$(o,e),u=ej(o,e),m=oj(o,e),b=nj(o,e);e.on("mousedown",c),e.on("mousemove",u),e.on("mouseup",m),n.bind(r,"mousemove",u),n.bind(r,"mouseup",b),e.on("remove",()=>{n.unbind(r,"mousemove",u),n.unbind(r,"mouseup",b)}),e.on("keydown",v=>{v.keyCode===eo.ESC&&L$(o,e,P.none())})},sj=e=>{const o=c=>{if(!c.isDefaultPrevented()){const u=c.dataTransfer;u&&(K(u.types,"Files")||u.files.length>0)&&(c.preventDefault(),c.type==="drop"&&Gw(e,"Dropped file type is not supported"))}},n=c=>{sC(e,c.target)&&o(c)},r=()=>{const c=Br.DOM,u=e.dom,m=document,b=e.inline?e.getBody():e.getDoc(),v=["drop","dragover"];V(v,E=>{c.bind(m,E,n),u.bind(b,E,o)}),e.on("remove",()=>{V(v,E=>{c.unbind(m,E,n),u.unbind(b,E,o)})})};e.on("init",()=>{Uu.setEditorTimeout(e,r,0)})},H$=e=>{Sq(e),Q_(e)&&sj(e)},rj=e=>{const o=lb(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const r=L1(e,n,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{o.throttle()}),e.on("blur",()=>{o.cancel()})},CO=e=>{e.on("init",()=>{e.on("focusin",o=>{const n=o.target;if(Hc(n)){const r=Eh(e.getBody(),n),c=Bs(r)?r:n;e.selection.getNode()!==c&&F1(e,c).each(u=>e.selection.setRng(u))}})})},Uk=Bs,V$=(e,o)=>Eh(e.getBody(),o),aj=e=>{const o=e.selection,n=e.dom,r=e.getBody(),c=bD(e,r,n.isBlock,()=>hp(e)),u="sel-"+n.uniqueId(),m="data-mce-selected";let b;const v=Po=>We(Po)&&n.hasClass(Po,"mce-offscreen-selection"),E=Po=>Po!==r&&(Uk(Po)||Hc(Po))&&n.isChildOf(Po,r)&&n.isEditable(Po.parentNode),R=Po=>{Po&&o.setRng(Po)},N=(Po,kt,ct,Bt=!0)=>e.dispatch("ShowCaret",{target:kt,direction:Po,before:ct}).isDefaultPrevented()?null:(Bt&&o.scrollIntoView(kt,Po===-1),c.show(ct,kt)),$=Po=>{Po.hasAttribute("data-mce-caret")&&(sf(Po),o.scrollIntoView(Po))},q=()=>{e.on("click",kt=>{n.isEditable(kt.target)||(kt.preventDefault(),e.focus())}),e.on("blur NewBlock",et),e.on("ResizeWindow FullscreenStateChanged",c.reposition),e.on("tap",kt=>{const ct=kt.target,Bt=V$(e,ct);Uk(Bt)?(kt.preventDefault(),F1(e,Bt).each(Pe)):E(ct)&&F1(e,ct).each(Pe)},!0),e.on("mousedown",kt=>{const ct=kt.target;if(ct!==r&&ct.nodeName!=="HTML"&&!n.isChildOf(ct,r)||!A8(e,kt.clientX,kt.clientY))return;et(),mo();const Bt=V$(e,ct);Uk(Bt)?(kt.preventDefault(),F1(e,Bt).each(Pe)):D$(r,kt.clientX,kt.clientY).each(qo=>{kt.preventDefault();const un=N(1,qo.node,qo.position===vy.Before,!1);R(un),tl(Bt)?Bt.focus():e.getBody().focus()})}),e.on("keypress",kt=>{eo.modifierPressed(kt)||Uk(o.getNode())&&kt.preventDefault()}),e.on("GetSelectionRange",kt=>{let ct=kt.range;if(b){if(!b.parentNode){b=null;return}ct=ct.cloneRange(),ct.selectNode(b),kt.range=ct}}),e.on("SetSelectionRange",kt=>{kt.range=ce(kt.range);const ct=Pe(kt.range,kt.forward);ct&&(kt.range=ct)});const Po=kt=>Do(kt)&&kt.id==="mcepastebin";e.on("AfterSetSelectionRange",kt=>{const ct=kt.range,Bt=ct.startContainer.parentElement;!Y(ct)&&!Po(Bt)&&mo(),v(Bt)||et()}),H$(e),rj(e),CO(e)},ne=Po=>ll(Po)||Im(Po)||ks(Po),Y=Po=>ne(Po.startContainer)||ne(Po.endContainer),ce=Po=>{const kt=e.schema.getVoidElements(),ct=n.createRng(),Bt=Po.startContainer,qo=Po.startOffset,un=Po.endContainer,us=Po.endOffset;return Qo(kt,Bt.nodeName.toLowerCase())?qo===0?ct.setStartBefore(Bt):ct.setStartAfter(Bt):ct.setStart(Bt,qo),Qo(kt,un.nodeName.toLowerCase())?us===0?ct.setEndBefore(un):ct.setEndAfter(un):ct.setEnd(un,us),ct},_e=(Po,kt)=>{const ct=we.fromDom(e.getBody()),Bt=e.getDoc(),qo=nn(ct,"#"+u).getOrThunk(()=>{const gs=we.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Bt);return Js(gs,"id",u),Zr(ct,gs),gs}),un=n.createRng();ud(qo),Tu(qo,[we.fromText(Ra,Bt),we.fromDom(kt),we.fromText(Ra,Bt)]),un.setStart(qo.dom.firstChild,1),un.setEnd(qo.dom.lastChild,0),Kn(qo,{top:n.getPos(Po,e.getBody()).y+"px"}),d1(qo);const us=o.getSel();return us&&(us.removeAllRanges(),us.addRange(un)),un},Ie=Po=>{const kt=Po.cloneNode(!0),ct=e.dispatch("ObjectSelected",{target:Po,targetClone:kt});if(ct.isDefaultPrevented())return null;const Bt=_e(Po,ct.targetClone),qo=we.fromDom(Po);return V(Dc(we.fromDom(e.getBody()),`*[${m}]`),un=>{ts(qo,un)||dr(un,m)}),n.getAttrib(Po,m)||Po.setAttribute(m,"1"),b=Po,mo(),Bt},Pe=(Po,kt)=>{if(!Po)return null;if(Po.collapsed){if(!Y(Po)){const un=kt?1:-1,us=Ab(un,r,Po),gs=us.getNode(!kt);if(We(gs)){if(af(gs))return N(un,gs,kt?!us.isAtEnd():!1,!1);if(Uf(gs)&&Bs(gs.nextSibling)){const rr=n.createRng();return rr.setStart(gs,0),rr.setEnd(gs,0),rr}}const Ws=us.getNode(kt);if(We(Ws)){if(af(Ws))return N(un,Ws,kt?!1:!us.isAtEnd(),!1);if(Uf(Ws)&&Bs(Ws.previousSibling)){const rr=n.createRng();return rr.setStart(Ws,1),rr.setEnd(Ws,1),rr}}}return null}let ct=Po.startContainer,Bt=Po.startOffset;const qo=Po.endOffset;if(Xt(ct)&&Bt===0&&Uk(ct.parentNode)&&(ct=ct.parentNode,Bt=n.nodeIndex(ct),ct=ct.parentNode),!Do(ct))return null;if(qo===Bt+1&&ct===Po.endContainer){const un=ct.childNodes[Bt];if(E(un))return Ie(un)}return null},et=()=>{b&&b.removeAttribute(m),nn(we.fromDom(e.getBody()),"#"+u).each(sr),b=null},$t=()=>{c.destroy(),b=null},mo=()=>{c.hide()};return cg(e)||q(),{showCaret:N,showBlockCaretContainer:$,hideFakeCaret:mo,destroy:$t}},U$=(e,o)=>{let n=o;for(let r=e.previousSibling;Xt(r);r=r.previousSibling)n+=r.data.length;return n},jk=(e,o,n,r,c)=>{if(Xt(n)&&(r<0||r>n.data.length))return[];const u=c&&Xt(n)?[U$(n,r)]:[r];let m=n;for(;m!==o&&m.parentNode;)u.push(e.nodeIndex(m,c)),m=m.parentNode;return m===o?u.reverse():[]},nE=(e,o,n,r,c,u,m=!1)=>{const b=jk(e,o,n,r,m),v=jk(e,o,c,u,m);return{start:b,end:v}},SO=(e,o)=>{const n=o.slice(),r=n.pop();return gn(r)?Ee(n,(u,m)=>u.bind(b=>P.from(b.childNodes[m])),P.some(e)).bind(u=>Xt(u)&&(r<0||r>u.data.length)?P.none():P.some({node:u,offset:r})):P.none()},j$=(e,o)=>SO(e,o.start).bind(({node:n,offset:r})=>SO(e,o.end).map(({node:c,offset:u})=>{const m=document.createRange();return m.setStart(n,r),m.setEnd(c,u),m})),cj=(e,o,n,r=!1)=>nE(e,o,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r),xy=(e,o,n)=>{if(o&&e.isEmpty(o)&&!n(o)){const r=o.parentNode;e.remove(o,Xt(o.firstChild)&&Fi(o.firstChild.data)),xy(e,r,n)}},sE=(e,o,n,r=!0)=>{const c=o.startContainer.parentNode,u=o.endContainer.parentNode;o.deleteContents(),r&&!n(o.startContainer)&&(Xt(o.startContainer)&&o.startContainer.data.length===0&&e.remove(o.startContainer),Xt(o.endContainer)&&o.endContainer.data.length===0&&e.remove(o.endContainer),xy(e,c,n),c!==u&&xy(e,u,n))},rE=(e,o)=>P.from(e.dom.getParent(o.startContainer,e.dom.isBlock)),EO=(e,o,n)=>{const r=e.dynamicPatternsLookup({text:n,block:o});return{...e,blockPatterns:ix(r).concat(e.blockPatterns),inlinePatterns:F_(r).concat(e.inlinePatterns)}},Wk=(e,o,n,r)=>{const c=e.createRng();return c.setStart(o,0),c.setEnd(n,r),c.toString()},W$=(e,o)=>e.create("span",{"data-mce-type":"bookmark",id:o}),aE=(e,o)=>{const n=e.createRng();return n.setStartAfter(o.start),n.setEndBefore(o.end),n},Z$=(e,o,n)=>{const r=j$(e.getRoot(),n).getOrDie("Unable to resolve path range"),c=r.startContainer,u=r.endContainer,m=r.endOffset===0?u:u.splitText(r.endOffset),b=r.startOffset===0?c:c.splitText(r.startOffset),v=b.parentNode,E=m.parentNode;return{prefix:o,end:E.insertBefore(W$(e,o+"-end"),m),start:v.insertBefore(W$(e,o+"-start"),b)}},q$=(e,o,n)=>{xy(e,e.get(o.prefix+"-end"),n),xy(e,e.get(o.prefix+"-start"),n)},TO=e=>e.start.length===0,ij=e=>(o,n)=>{const c=o.data.substring(0,n),u=c.lastIndexOf(e.charAt(e.length-1)),m=c.lastIndexOf(e);return m!==-1?m+e.length:u!==-1?u+1:-1},AO=(e,o,n,r)=>{const c=o.start;return Cz(e,r.container,r.offset,ij(c),n).bind(m=>{var b,v;const E=(v=(b=n.textContent)===null||b===void 0?void 0:b.indexOf(c))!==null&&v!==void 0?v:-1;if(E!==-1&&m.offset>=E+c.length){const N=e.createRng();return N.setStart(m.container,m.offset-c.length),N.setEnd(m.container,m.offset),P.some(N)}else{const N=m.offset-c.length;return _z(m.container,N,n).map($=>{const q=e.createRng();return q.setStart($.container,$.offset),q.setEnd(m.container,m.offset),q}).filter($=>$.toString()===c).orThunk(()=>AO(e,o,n,wf(m.container,0)))}})},G$=(e,o,n,r,c,u=!1)=>{if(o.start.length===0&&!u){const m=e.createRng();return m.setStart(n,r),m.setEnd(n,r),P.some(m)}return kz(n,r,c).bind(m=>AO(e,o,c,m).bind(v=>{var E;if(u){if(v.endContainer===m.container&&v.endOffset===m.offset)return P.none();if(m.offset===0&&((E=v.endContainer.textContent)===null||E===void 0?void 0:E.length)===v.endOffset)return P.none()}return P.some(v)}))},zO=(e,o,n,r)=>{const c=e.dom,u=c.getRoot(),m=n.pattern,b=n.position.container,v=n.position.offset;return _z(b,v-n.pattern.end.length,o).bind(E=>{const R=nE(c,u,E.container,E.offset,b,v,r);if(TO(m))return P.some({matches:[{pattern:m,startRng:R,endRng:R}],position:E});{const N=o0(e,n.remainingPatterns,E.container,E.offset,o,r),$=N.getOr({matches:[],position:E}),q=$.position;return G$(c,m,q.container,q.offset,o,N.isNone()).map(Y=>{const ce=cj(c,u,Y,r);return{matches:$.matches.concat([{pattern:m,startRng:ce,endRng:R}]),position:wf(Y.startContainer,Y.startOffset)}})}})},o0=(e,o,n,r,c,u)=>{const m=e.dom;return kz(n,r,m.getRoot()).bind(b=>{const v=Wk(m,c,n,r);for(let E=0;E<o.length;E++){const R=o[E];if(!xs(v,R.end))continue;const N=o.slice();N.splice(E,1);const $=zO(e,c,{pattern:R,remainingPatterns:N,position:b},u);if($.isNone()&&r>0)return o0(e,o,n,r-1,c,u);if($.isSome())return $}return P.none()})},K$=(e,o,n)=>{e.selection.setRng(n),o.type==="inline-format"?V(o.format,r=>{e.formatter.apply(r)}):e.execCommand(o.cmd,!1,o.value)},OO=(e,o,n,r)=>{const c=aE(e.dom,n);sE(e.dom,c,r),K$(e,o,c)},lj=(e,o,n,r,c)=>{const u=e.dom,m=aE(u,r),b=aE(u,n);sE(u,b,c),sE(u,m,c);const v={prefix:n.prefix,start:n.end,end:r.start},E=aE(u,v);K$(e,o,E)},uj=(e,o)=>{const n=Wy("mce_textpattern"),r=ut(o,(c,u)=>{const m=Z$(e,n+`_end${c.length}`,u.endRng);return c.concat([{...u,endMarker:m}])},[]);return ut(r,(c,u)=>{const m=r.length-c.length-1,b=TO(u.pattern)?u.endMarker:Z$(e,n+`_start${m}`,u.startRng);return c.concat([{...u,startMarker:b}])},[])},Y$=e=>Mo(e,(o,n)=>n.end.length-o.end.length),dj=(e,o)=>{const n=Ut(e,r=>te(o,c=>r.pattern.start===c.pattern.start&&r.pattern.end===c.pattern.end));return e.length===o.length?n?e:o:e.length>o.length?e:o},X$=(e,o,n,r,c,u)=>{const m=o0(e,c.inlinePatterns,n,r,o,u).fold(()=>[],v=>v.matches),b=o0(e,Y$(c.inlinePatterns),n,r,o,u).fold(()=>[],v=>v.matches);return dj(m,b)},J$=(e,o)=>{if(o.length===0)return;const n=e.dom,r=e.selection.getBookmark(),c=uj(n,o);V(c,u=>{const m=n.getParent(u.startMarker.start,n.isBlock),b=v=>v===m;TO(u.pattern)?OO(e,u.pattern,u.endMarker,b):lj(e,u.pattern,u.startMarker,u.endMarker,b),q$(n,u.endMarker,b),q$(n,u.startMarker,b)}),e.selection.moveToBookmark(r)},Q$=(e,o,n)=>YH(o,0,o).map(r=>{const c=r.container;return Sk(c,n.start.length,o).each(u=>{const m=e.createRng();m.setStart(c,0),m.setEnd(u.container,u.offset),sE(e,m,b=>b===o)}),c}),eI=e=>(o,n)=>{const r=o.dom,c=n.pattern,u=j$(r.getRoot(),n.range).getOrDie("Unable to resolve path range"),m=(b,v)=>{const E=v.get(b);return pt(E)&&Bo(E).exists(R=>Qo(R,"block"))};return rE(o,u).each(b=>{c.type==="block-format"?m(c.format,o.formatter)&&o.undoManager.transact(()=>{e(o.dom,b,c),o.formatter.apply(c.format)}):c.type==="block-command"&&o.undoManager.transact(()=>{e(o.dom,b,c),o.execCommand(c.cmd,!1,c.value)})}),!0},fj=e=>Mo(e,(o,n)=>n.start.length-o.start.length),tI=e=>(o,n)=>{const r=fj(o),c=n.replace(Ra," ");return xt(r,u=>e(u,n,c))},DO=(e,o)=>(n,r,c,u,m)=>{var b;m===void 0&&(m=(b=r.textContent)!==null&&b!==void 0?b:"");const v=n.dom,E=Uc(n);return v.is(r,E)?e(c.blockPatterns,m).map(R=>o&&Qt.trim(m).length===R.start.length?[]:[{pattern:R,range:nE(v,v.getRoot(),r,0,r,0,u)}]).getOr([]):[]},mj=e=>/^\s[^\s]/.test(e),gj=eI((e,o,n)=>{Q$(e,o,n).each(r=>{const c=we.fromDom(r),u=Mm(c);mj(u)&&H0(c,u.slice(1))})}),pj=tI((e,o,n)=>o.indexOf(e.start)===0||n.indexOf(e.start)===0),hj=DO(pj,!0),bj=(e,o)=>{const n=e.selection.getRng();return rE(e,n).map(r=>{var c;const u=Math.max(0,n.startOffset),m=EO(o,r,(c=r.textContent)!==null&&c!==void 0?c:""),b=X$(e,r,n.startContainer,u,m,!0),v=hj(e,r,m,!0);return{inlineMatches:b,blockMatches:v}}).filter(({inlineMatches:r,blockMatches:c})=>c.length>0||r.length>0)},yj=(e,o)=>{if(o.length===0)return;const n=e.selection.getBookmark();V(o,r=>gj(e,r)),e.selection.moveToBookmark(n)},vj=eI(Q$),cE=tI((e,o,n)=>o===e.start||n===e.start),xj=DO(cE,!1),wj=(e,o)=>{const n=e.selection.getRng();return rE(e,n).map(r=>{const c=Math.max(0,n.startOffset),u=Wk(e.dom,r,n.startContainer,c),m=EO(o,r,u);return xj(e,r,m,!1,u)}).filter(r=>r.length>0)},kj=(e,o)=>{V(o,n=>vj(e,n))},_j=(e,o)=>bj(e,o).fold(ke,({inlineMatches:n,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{FE(e),J$(e,n),yj(e,r);const c=e.selection.getRng(),u=kz(c.startContainer,c.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),u.each(m=>{const b=m.container;b.data.charAt(m.offset-1)===Bp&&(b.deleteData(m.offset-1,1),xy(e.dom,b.parentNode,v=>v===e.dom.getRoot()))})}),!0)),Cj=(e,o)=>{const n=e.selection.getRng();rE(e,n).map(r=>{const c=Math.max(0,n.startOffset-1),u=Wk(e.dom,r,n.startContainer,c),m=EO(o,r,u),b=X$(e,r,n.startContainer,c,m,!1);b.length>0&&e.undoManager.transact(()=>{J$(e,b)})})},Sj=(e,o)=>wj(e,o).fold(ke,n=>(e.undoManager.transact(()=>{kj(e,n)}),!0)),nI=(e,o,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],o))return!0;return!1},Ej=(e,o)=>nI(e,o,(n,r)=>n===r.keyCode&&!eo.modifierPressed(r)),Tj=(e,o)=>nI(e,o,(n,r)=>n.charCodeAt(0)===r.charCode),sI=e=>{const o=[",",".",";",":","!","?"],n=[32],r=()=>Qg(i2(e).filter(m=>m.type==="inline-command"||m.type==="block-command"?e.queryCommandSupported(m.cmd):!0),wx(e)),c=()=>Ol(e);e.on("keydown",m=>{if(m.keyCode===13&&!eo.modifierPressed(m)&&e.selection.isCollapsed()){const b=xc(r(),"enter");(b.inlinePatterns.length>0||b.blockPatterns.length>0||c())&&_j(e,b)&&m.preventDefault()}},!0),e.on("keydown",m=>{if(m.keyCode===32&&e.selection.isCollapsed()){const b=xc(r(),"space");(b.blockPatterns.length>0||c())&&Sj(e,b)&&m.preventDefault()}},!0);const u=()=>{if(e.selection.isCollapsed()){const m=xc(r(),"space");(m.inlinePatterns.length>0||c())&&Cj(e,m)}};e.on("keyup",m=>{Ej(n,m)&&u()}),e.on("keypress",m=>{Tj(o,m)&&Uu.setEditorTimeout(e,u)})},Aj=e=>{sI(e)},rI=e=>{const o=Qt.each,n=eo.BACKSPACE,r=eo.DELETE,c=e.dom,u=e.selection,m=e.parser,b=on.browser,v=b.isFirefox(),E=b.isChromium()||b.isSafari(),R=on.deviceType.isiPhone()||on.deviceType.isiPad(),N=on.os.isMacOS()||on.os.isiOS(),$=(zo,yn)=>{try{e.getDoc().execCommand(zo,!1,String(yn))}catch{}},q=zo=>zo.isDefaultPrevented(),ne=()=>{const zo=as=>{const No=c.create("body"),cs=as.cloneContents();return No.appendChild(cs),u.serializer.serialize(No,{format:"html"})},yn=as=>{const No=zo(as),cs=c.createRng();cs.selectNode(e.getBody());const ps=zo(cs);return No===ps};e.on("keydown",as=>{const No=as.keyCode;if(!q(as)&&(No===r||No===n)&&e.selection.isEditable()){const cs=e.selection.isCollapsed(),ps=e.getBody();if(cs&&!Ru(e.schema,ps)||!cs&&!yn(e.selection.getRng()))return;as.preventDefault(),e.setContent(""),ps.firstChild&&c.isBlock(ps.firstChild)?e.selection.setCursorLocation(ps.firstChild,0):e.selection.setCursorLocation(ps,0),e.nodeChanged()}})},Y=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},ce=()=>{e.inline||c.bind(e.getDoc(),"mousedown mouseup",zo=>{let yn;if(zo.target===e.getDoc().documentElement)if(yn=u.getRng(),e.getBody().focus(),zo.type==="mousedown"){if(ll(yn.startContainer))return;u.placeCaretAt(zo.clientX,zo.clientY)}else u.setRng(yn)})},_e=()=>{e.on("keydown",zo=>{if(!q(zo)&&zo.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&u.getRng().startOffset===0){const yn=u.getNode(),as=yn.previousSibling;if(yn.nodeName==="HR"){c.remove(yn),zo.preventDefault();return}as&&as.nodeName&&as.nodeName.toLowerCase()==="hr"&&(c.remove(as),zo.preventDefault())}}})},Ie=()=>{Range.prototype.getClientRects||e.on("mousedown",zo=>{if(!q(zo)&&zo.target.nodeName==="HTML"){const yn=e.getBody();yn.blur(),Uu.setEditorTimeout(e,()=>{yn.focus()})}})},Pe=()=>{const zo=bx(e);e.on("click",yn=>{const as=yn.target;/^(IMG|HR)$/.test(as.nodeName)&&c.isEditable(as)&&(yn.preventDefault(),e.selection.select(as),e.nodeChanged()),as.nodeName==="A"&&c.hasClass(as,zo)&&as.childNodes.length===0&&c.isEditable(as.parentNode)&&(yn.preventDefault(),u.select(as))})},et=()=>{const zo=()=>{const as=c.getAttribs(u.getStart().cloneNode(!1));return()=>{const No=u.getStart();No!==e.getBody()&&(c.setAttrib(No,"style",null),o(as,cs=>{No.setAttributeNode(cs.cloneNode(!0))}))}},yn=()=>!u.isCollapsed()&&c.getParent(u.getStart(),c.isBlock)!==c.getParent(u.getEnd(),c.isBlock);e.on("keypress",as=>{let No;return!q(as)&&(as.keyCode===8||as.keyCode===46)&&yn()?(No=zo(),e.getDoc().execCommand("delete",!1),No(),as.preventDefault(),!1):!0}),c.bind(e.getDoc(),"cut",as=>{if(!q(as)&&yn()){const No=zo();Uu.setEditorTimeout(e,()=>{No()})}})},$t=()=>{e.on("keydown",zo=>{if(!q(zo)&&zo.keyCode===n&&u.isCollapsed()&&u.getRng().startOffset===0){const yn=u.getNode().previousSibling;if(yn&&yn.nodeName&&yn.nodeName.toLowerCase()==="table")return zo.preventDefault(),!1}return!0})},mo=()=>{e.on("keydown",zo=>{if(q(zo)||zo.keyCode!==eo.BACKSPACE)return;let yn=u.getRng();const as=yn.startContainer,No=yn.startOffset,cs=c.getRoot();let ps=as;if(!(!yn.collapsed||No!==0)){for(;ps.parentNode&&ps.parentNode.firstChild===ps&&ps.parentNode!==cs;)ps=ps.parentNode;ps.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,ps),yn=c.createRng(),yn.setStart(as,0),yn.setEnd(as,0),u.setRng(yn))}})},Po=()=>{const zo=()=>{$("StyleWithCSS",!1),$("enableInlineTableEditing",!1),zl(e)||$("enableObjectResizing",!1)};J_(e)||e.on("BeforeExecCommand mousedown",zo)},kt=()=>{const zo=()=>{o(c.select("a:not([data-mce-block])"),yn=>{var as;let No=yn.parentNode;const cs=c.getRoot();if((No==null?void 0:No.lastChild)===yn){for(;No&&!c.isBlock(No);){if(((as=No.parentNode)===null||as===void 0?void 0:as.lastChild)!==No||No===cs)return;No=No.parentNode}c.add(No,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",yn=>{(yn.type==="setcontent"||yn.command==="mceInsertLink")&&zo()})},ct=()=>{e.on("init",()=>{$("DefaultParagraphSeparator",Uc(e))})},Bt=zo=>{const yn=zo.getBody(),as=zo.selection.getRng();return as.startContainer===as.endContainer&&as.startContainer===yn&&as.startOffset===0&&as.endOffset===yn.childNodes.length},qo=()=>{e.on("keyup focusin mouseup",zo=>{!eo.modifierPressed(zo)&&!Bt(e)&&u.normalize()},!0)},un=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},us=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},gs=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",zo=>{let yn;zo.target.nodeName==="HTML"&&(yn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(yn),e.selection.normalize(),e.nodeChanged())}))},Ws=()=>{N&&e.on("keydown",zo=>{eo.metaKeyPressed(zo)&&!zo.shiftKey&&(zo.keyCode===37||zo.keyCode===39)&&(zo.preventDefault(),e.selection.getSel().modify("move",zo.keyCode===37?"backward":"forward","lineboundary"))})},rr=()=>{e.on("click",zo=>{let yn=zo.target;do if(yn.tagName==="A"){zo.preventDefault();return}while(yn=yn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},xa=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",zo=>{zo.preventDefault()})})},oc=()=>{m.addNodeFilter("br",zo=>{let yn=zo.length;for(;yn--;)zo[yn].attr("class")==="Apple-interchange-newline"&&zo[yn].remove()})},gr=Me,vo=()=>{if(!v||e.removed)return!1;const zo=e.selection.getSel();return!zo||!zo.rangeCount||zo.rangeCount===0},an=()=>{E&&(ce(),Pe(),xa(),Y(),R&&(us(),gs(),rr())),v&&(Ie(),Po(),un(),Ws())},Ps=()=>{mo(),ne(),on.windowsPhone||qo(),E&&(ce(),Pe(),ct(),xa(),$t(),oc(),R?(us(),gs(),rr()):Y()),v&&(_e(),Ie(),et(),Po(),kt(),un(),Ws(),$t())};return cg(e)?an():Ps(),{refreshContentEditable:gr,isHidden:vo}},zj=e=>e.toLowerCase()==="gpl",Oj=e=>e.length>=64&&e.length<=255,aI=e=>zj(e)||Oj(e)?"VALID":"INVALID",Zk=e=>{const o=f2(e);!X(m2(e))&&(ko(o)||aI(o)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},RO=Br.DOM,cI=(e,o)=>{const n=we.fromDom(e.getBody()),r=Of(el(n)),c=we.fromTag("style");Js(c,"type","text/css"),Zr(c,we.fromText(o)),Zr(r,c),e.on("remove",()=>{sr(c)})},Dj=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,NO=e=>ys(e,o=>ko(o)===!1),iI=e=>{const o=e.options.get,n=e.editorUpload.blobCache;return NO({allow_conditional_comments:o("allow_conditional_comments"),allow_html_data_urls:o("allow_html_data_urls"),allow_svg_data_urls:o("allow_svg_data_urls"),allow_html_in_named_anchor:o("allow_html_in_named_anchor"),allow_script_urls:o("allow_script_urls"),allow_unsafe_link_target:o("allow_unsafe_link_target"),convert_unsafe_embeds:o("convert_unsafe_embeds"),convert_fonts_to_spans:o("convert_fonts_to_spans"),fix_list_elements:o("fix_list_elements"),font_size_legacy_values:o("font_size_legacy_values"),forced_root_block:o("forced_root_block"),forced_root_block_attrs:o("forced_root_block_attrs"),preserve_cdata:o("preserve_cdata"),inline_styles:o("inline_styles"),root_name:Dj(e),sandbox_iframes:o("sandbox_iframes"),sandbox_iframes_exclusions:Sv(e),sanitize:o("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},lI=e=>{const o=e.options.get;return NO({custom_elements:o("custom_elements"),extended_valid_elements:o("extended_valid_elements"),invalid_elements:o("invalid_elements"),invalid_styles:o("invalid_styles"),schema:o("schema"),valid_children:o("valid_children"),valid_classes:o("valid_classes"),valid_elements:o("valid_elements"),valid_styles:o("valid_styles"),verify_html:o("verify_html"),padd_empty_block_inline_children:o("format_empty_lines")})},uI=e=>{const o=e.options.get;return{...iI(e),...lI(e),...NO({remove_trailing_brs:o("remove_trailing_brs"),pad_empty_with_br:o("pad_empty_with_br"),url_converter:o("url_converter"),url_converter_scope:o("url_converter_scope"),element_format:o("element_format"),entities:o("entities"),entity_encoding:o("entity_encoding"),indent:o("indent"),indent_after:o("indent_after"),indent_before:o("indent_before")})}},Rj=e=>{const o=O1(iI(e),e.schema);return o.addAttributeFilter("src,href,style,tabindex",(n,r)=>{const c=e.dom,u="data-mce-"+r;let m=n.length;for(;m--;){const b=n[m];let v=b.attr(r);if(v&&!b.attr(u)){if(v.indexOf("data:")===0||v.indexOf("blob:")===0)continue;r==="style"?(v=c.serializeStyle(c.parseStyle(v),b.name),v.length||(v=null),b.attr(u,v),b.attr(r,v)):r==="tabindex"?(b.attr(u,v),b.attr(r,null)):b.attr(u,e.convertURL(v,r,b.name))}}}),o.addNodeFilter("script",n=>{let r=n.length;for(;r--;){const c=n[r],u=c.attr("type")||"no/type";u.indexOf("mce-")!==0&&c.attr("type","mce-"+u)}}),_v(e)&&o.addNodeFilter("#cdata",n=>{var r;let c=n.length;for(;c--;){const u=n[c];u.type=8,u.name="#comment",u.value="[CDATA["+e.dom.encode((r=u.value)!==null&&r!==void 0?r:"")+"]]"}}),o.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let r=n.length;const c=e.schema.getNonEmptyElements();for(;r--;){const u=n[r];u.isEmpty(c)&&u.getAll("br").length===0&&u.append(new hl("br",1))}}),o},dI=e=>{const o=e2(e);o&&Uu.setEditorTimeout(e,()=>{let n;o===!0?n=e:n=e.editorManager.get(o),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},Nj=e=>{const o=e.dom.getRoot();!e.inline&&(!ph(e)||e.selection.getStart(!0)===o)&&Zc(o).each(n=>{const r=n.getNode(),c=eu(r)?Zc(r).getOr(n):n;e.selection.setRng(c.toRange())})},Mj=e=>{e.bindPendingEventDelegates(),e.initialized=!0,ZT(e),e.focus(!0),Nj(e),e.nodeChanged({initial:!0});const o=bT(e);ie(o)&&o.call(e,e),dI(e)},MO=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,Bj=(e,o,n)=>{const{pass:r,fail:c}=de(o,b=>tinymce.Resource.has(Xw(b))),m=[...r.map(b=>{const v=tinymce.Resource.get(Xw(b));return X(v)?Promise.resolve(MO(e).loadRawCss(b,v)):Promise.resolve()}),MO(e).loadAll(c)];return e.inline?m:m.concat([e.ui.styleSheetLoader.loadAll(n)])},fI=e=>{const o=MO(e),n=Zi(e),r=e.contentCSS,c=()=>{o.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},u=()=>{e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){let v="";Qt.each(e.contentStyles,E=>{v+=E+`\r
`}),e.dom.addStyle(v)}const m=Promise.all(Bj(e,r,n)).then(u).catch(u),b=dT(e);return b&&cI(e,b),m},Pj=e=>{const o=e.getDoc(),n=e.getBody();r1(e),vx(e)||(o.body.spellcheck=!1,RO.setAttrib(n,"spellcheck","false")),e.quirks=rI(e),V2(e);const r=pD(e);r!==void 0&&(n.dir=r);const c=xx(e);c&&e.on("BeforeSetContent",u=>{Qt.each(c,m=>{u.content=u.content.replace(m,b=>"<!--mce:protected "+escape(b)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",u=>{e.composing=u.type==="compositionstart"})},$j=e=>{cg(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},BO=e=>{e.removed!==!0&&($j(e),Mj(e))},Ij=e=>{let o=!1;const n=setTimeout(()=>{o||e.setProgressState(!0)},500);return()=>{clearTimeout(n),o=!0,e.setProgressState(!1)}},PO=e=>{const o=e.getElement();let n=e.getDoc();e.inline&&(RO.addClass(o,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=o,e.contentAreaContainer=o);const r=e.getBody();r.disabled=!0,e.readonly=J_(e),e._editableRoot=pT(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&RO.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=g3(e),e.schema=ef(lI(e)),e.dom=Br(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Z_(e),referrerPolicy:mv(e),onSetAttrib:m=>{e.dispatch("SetAttrib",m)}}),e.parser=Rj(e),e.serializer=ri(uI(e),e),e.selection=a8(e.dom,e.getWin(),e.serializer,e),e.annotator=t1(e),e.formatter=am(e),e.undoManager=I1(e),e._nodeChangeDispatcher=new UP(e),e._selectionOverrides=aj(e),lH(e),k$(e),pH(e),cg(e)||(T$(e),Aj(e));const c=WS(e);sB(e,c),rz(e),Q8(e),EU(e);const u=HL(e);Pj(e),Zk(e),u.fold(()=>{const m=Ij(e);fI(e).then(()=>{BO(e),m()})},m=>{e.setProgressState(!0),fI(e).then(()=>{m().then(b=>{e.setProgressState(!1),BO(e),s3(e)},b=>{e.notificationManager.open({type:"error",text:String(b)}),BO(e),s3(e)})})})},$O=Xe,mI=(e,o,n)=>C(e,o,$O,n),iE=Br.DOM,Fj=(e,o,n,r)=>{const c=we.fromTag("iframe");return r.each(u=>Js(c,"tabindex",u)),pc(c,n),pc(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:o}),kl(c,"tox-edit-area__iframe"),c},Lj=e=>{let o=rT(e)+"<html><head>";Nc(e)!==e.documentBaseUrl&&(o+='<base href="'+e.documentBaseURI.getURI()+'" />'),o+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=aT(e),r=Zm(e),c=e.translate(yx(e));return fx(e)&&(o+='<meta http-equiv="Content-Security-Policy" content="'+fx(e)+'" />'),o+=`</head><body id="${n}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${c}"><br></body></html>`,o},Hj=(e,o)=>{const n=on.browser.isFirefox()?yx(e):"Rich Text Area",r=e.translate(n),c=Fr(we.fromDom(e.getElement()),"tabindex").bind(la),u=Fj(e.id,r,H_(e),c).dom;u.onload=()=>{u.onload=null,e.dispatch("load")},e.contentAreaContainer=o.iframeContainer,e.iframeElement=u,e.iframeHTML=Lj(e),iE.add(o.iframeContainer,u)},gI=e=>{const o=e.iframeElement,n=()=>{e.contentDocument=o.contentDocument,PO(e)};if(hD(e)||on.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),n()}else{const r=mI(we.fromDom(o),"load",()=>{r.unbind(),n()});o.srcdoc=e.iframeHTML}},pI=(e,o)=>{Hj(e,o),o.editorContainer&&(o.editorContainer.style.display=e.orgDisplay,e.hidden=iE.isHidden(o.editorContainer)),e.getElement().style.display="none",iE.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,gI(e)},hI=Br.DOM,Vj=(e,o,n)=>{const r=M1.get(n),c=M1.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Qt.trim(n),r&&Qt.inArray(o,n)===-1){if(e.plugins[n])return;try{const u=r(e,c)||{};e.plugins[n]=u,ie(u.init)&&(u.init(e,c),o.push(n))}catch(u){P8(e,n,u)}}},IO=e=>e.replace(/^\-/,""),lE=e=>{const o=[];V(vv(e),n=>{Vj(e,o,IO(n))})},uE=e=>{const o=Qt.trim(Ja(e)),n=e.ui.registry.getAll().icons,r={...cS.get("default").icons,...cS.get(o).icons};Kt(r,(c,u)=>{Qo(n,u)||e.ui.registry.addIcon(u,c)})},zp=e=>{const o=Km(e);if(X(o)){const n=Nh.get(o);e.theme=n(e,Nh.urls[o])||{},ie(e.theme.init)&&e.theme.init(e,Nh.urls[o]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},dE=e=>{const o=hv(e),n=N1.get(o);e.model=n(e,N1.urls[o])},n0=e=>{const o=e.theme.renderUI;return o?o():FO(e)},bI=e=>{const o=e.getElement(),r=Km(e)(e,o);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:o.offsetHeight,r},yI=(e,o)=>({editorContainer:e,iframeContainer:o,api:{}}),Uj=e=>{const o=hI.create("div");return hI.insertAfter(o,e),yI(o,o)},FO=e=>{const o=e.getElement();return e.inline?yI(null):Uj(o)},jj=e=>{const o=e.getElement();return e.orgDisplay=o.style.display,X(Km(e))?n0(e):ie(Km(e))?bI(e):FO(e)},LO=(e,o)=>{const n={show:P.from(o.show).getOr(Me),hide:P.from(o.hide).getOr(Me),isEnabled:P.from(o.isEnabled).getOr(Xe),setEnabled:r=>{e.mode.isReadOnly()||P.from(o.setEnabled).each(c=>c(r))}};e.ui={...e.ui,...n}},fE=async e=>{e.dispatch("ScriptsLoaded"),uE(e),zp(e),dE(e),lE(e);const o=await jj(e);LO(e,P.from(o.api).getOr({})),e.editorContainer=o.editorContainer,tr(e),e.inline?PO(e):pI(e,{editorContainer:o.editorContainer,iframeContainer:o.iframeContainer})},Qu=Br.DOM,Kh=e=>e.charAt(0)==="-",vI=(e,o)=>{const n=Gm(o),r=gv(o);if(!vc.hasCode(n)&&n!=="en"){const c=xn(r)?r:`${o.editorManager.baseURL}/langs/${n}.js`;e.add(c).catch(()=>{N8(o,c,n)})}},Wj=(e,o)=>{const n=Km(e);if(X(n)&&!Kh(n)&&!Qo(Nh.urls,n)){const r=mx(e),c=r?e.documentBaseURI.toAbsolute(r):`themes/${n}/theme${o}.js`;Nh.load(n,c).catch(()=>{M8(e,c,n)})}},Zj=(e,o)=>{const n=hv(e);if(n!=="plugin"&&!Qo(N1.urls,n)){const r=G_(e),c=X(r)?e.documentBaseURI.toAbsolute(r):`models/${n}/model${o}.js`;N1.load(n,c).catch(()=>{B8(e,c,n)})}},qj=e=>P.from(Qa(e)).filter(xn).map(o=>({url:o,name:P.none()})),xI=(e,o,n)=>P.from(o).filter(r=>xn(r)&&!cS.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${n}.js`,name:P.some(r)})),Gj=(e,o,n)=>{const r=xI(o,"default",n),c=qj(o).orThunk(()=>xI(o,Ja(o),""));V(sc([r,c]),u=>{e.add(u.url).catch(()=>{e5(o,u.url,u.name.getOrUndefined())})})},Kj=(e,o)=>{const n=(r,c)=>{M1.load(r,c).catch(()=>{R8(e,c,r)})};Kt(hT(e),(r,c)=>{n(c,r),e.options.set("plugins",vv(e).concat(c))}),V(vv(e),r=>{r=Qt.trim(r),r&&!M1.urls[r]&&!Kh(r)&&n(r,`plugins/${r}/plugin${o}.js`)})},wI=e=>{const o=Km(e);return!X(o)||We(Nh.get(o))},Yj=e=>{const o=hv(e);return We(N1.get(o))},Xj=(e,o)=>{const n=vd.ScriptLoader,r=()=>{!e.removed&&wI(e)&&Yj(e)&&fE(e)};Wj(e,o),Zj(e,o),vI(n,e),Gj(n,e,o),Kj(e,o),n.loadQueue().then(r,r)},Jj=(e,o)=>vr.forElement(e,{contentCssCors:px(o),referrerPolicy:mv(o)}),Eq=e=>{const o=e.id;vc.setCode(Gm(e));const n=()=>{Qu.unbind(window,"ready",n),e.render()};if(!Om.Event.domLoaded){Qu.bind(window,"ready",n);return}if(!e.getElement())return;const r=we.fromDom(e.getElement()),c=vu(r);e.on("remove",()=>{re(r.dom.attributes,m=>dr(r,m.name)),pc(r,c)}),e.ui.styleSheetLoader=Jj(r,e),kb(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const u=e.getElement().form||Qu.getParent(o,"form");u&&(e.formElement=u,fT(e)&&!qr(e.getElement())&&(Qu.insertAfter(Qu.create("input",{type:"hidden",name:o}),o),e.hasHiddenInput=!0),e.formEventDelegate=m=>{e.dispatch(m.type,m)},Qu.bind(u,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),bv(e)&&!u.submit.nodeType&&!u.submit.length&&!u._mceOldSubmit&&(u._mceOldSubmit=u.submit,u.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),u._mceOldSubmit(u)))),e.windowManager=JM(e),e.notificationManager=XM(e),Ym(e)&&e.on("GetContent",m=>{m.save&&(m.content=Qu.encode(m.content))}),mT(e)&&e.on("submit",()=>{e.initialized&&e.save()}),X_(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),Xj(e,e.suffix)},Qj=(e,o)=>{e._editableRoot!==o&&(e._editableRoot=o,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),q2(e,o))},HO=e=>e._editableRoot,eW=(e,o)=>({sections:ue(e),options:ue(o)}),kI=oo().deviceType,VO=kI.isPhone(),tW=kI.isTablet(),s0=e=>{if(co(e))return[];{const o=pt(e)?e:e.split(/[ ,]/),n=he(o,Zs);return be(n,xn)}},oW=(e,o)=>{const n=$r(o,(r,c)=>K(e,c));return eW(n.t,n.f)},UO=(e,o,n={})=>{const r=e.sections(),c=vs(r,o).getOr({});return Qt.extend({},n,c)},jO=(e,o)=>Qo(e.sections(),o),nW=(e,o)=>jO(e,o)?e.sections()[o]:{},sW=(e,o)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:vs(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...o?{menubar:!1}:{}}),rW=(e,o)=>{var n;const r=(n=o.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?Qt.extend({},e.external_plugins,r):r},_I=(e,o)=>[...s0(e),...s0(o)],WO=(e,o,n,r)=>e&&jO(o,"mobile")?r:n,CI=(e,o,n,r)=>{const c=s0(n.forced_plugins),u=s0(r.plugins),m=nW(o,"mobile"),b=m.plugins?s0(m.plugins):u,v=WO(e,o,u,b),E=_I(c,v);return Qt.extend(r,{forced_plugins:c,plugins:E})},ZO=(e,o)=>e&&jO(o,"mobile"),aW=(e,o,n,r,c)=>{var u;const m=e?{mobile:sW((u=c.mobile)!==null&&u!==void 0?u:{},o)}:{},b=oW(["mobile"],pu(m,c)),v=Qt.extend(n,r,b.options(),ZO(e,b)?UO(b,"mobile"):{},{external_plugins:rW(r,b.options())});return CI(e,b,r,v)},Tq=(e,o)=>{const n=Z1(o);return aW(VO||tW,VO,n,e,n)},Aq=(e,o)=>XL(e,o),cW=e=>{const o=(r,c)=>{e.formatter.toggle(r,c),e.nodeChanged()},n=r=>()=>{V("left,center,right,justify".split(","),c=>{r!==c&&e.formatter.remove("align"+c)}),r!=="none"&&o("align"+r)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},SI=e=>{const o=n=>()=>{const r=e.selection,c=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return te(c,u=>We(e.formatter.matchNode(u,n)))};e.editorCommands.addCommands({JustifyLeft:o("alignleft"),JustifyCenter:o("aligncenter"),JustifyRight:o("alignright"),JustifyFull:o("alignjustify")},"state")},iW=e=>{cW(e),SI(e)},lW=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":o=>{const n=e.getDoc();let r;try{n.execCommand(o)}catch{r=!0}if(o==="paste"&&!n.queryCommandEnabled(o)&&(r=!0),r||!n.queryCommandSupported(o)){let c=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(on.os.isMacOS()||on.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:c,type:"error"})}}})},uW=(e,o,n,r)=>{const c=we.fromDom(e.getRoot());return mw(c,yt.fromRangeStart(o),r)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),b1(c,yt.fromRangeEnd(o),r)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},zq=e=>{if(typeof e!="string"){const o=Qt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:o}}return{content:e,details:{}}},Oq=(e,o)=>{const n=e.selection,r=e.dom;return/^ | $/.test(o)?uW(r,n.getRng(),o,e.schema):o},qk=(e,o)=>{if(e.selection.isEditable()){const{content:n,details:r}=zq(o);KC(e,{...r,content:Oq(e,n),format:"html",set:!1,selection:!0}).each(c=>{const u=KL(e,c.content,r);$4(e,u,c),e.addVisual()})}},EI=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const o=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(o)},insertImage:(o,n,r)=>{qk(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(o,n,r)=>{qk(e,e.dom.encode(r))},insertHTML:(o,n,r)=>{qk(e,r)},mceInsertContent:(o,n,r)=>{qk(e,r)},mceSetContent:(o,n,r)=>{e.setContent(r)},mceReplaceContent:(o,n,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(s2(e))}})},dW={"font-size":"size","font-family":"face"},fW=Qr("font"),mW=(e,o,n)=>{const r=u=>ic(u,e).orThunk(()=>fW(u)?vs(dW,e).bind(m=>Fr(u,m)):P.none()),c=u=>ts(we.fromDom(o),u);return zw(we.fromDom(n),u=>r(u),c)},Dq=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Rq=(e,o)=>P.from(Br.DOM.getStyle(o,e,!0)),gW=e=>(o,n)=>P.from(n).map(we.fromDom).filter(As).bind(r=>mW(e,o,r.dom).or(Rq(e,r.dom))).getOr(""),pW=gW("font-size"),Nq=_(Dq,gW("font-family")),hW=e=>Zc(e.getBody()).bind(o=>{const n=o.container();return P.from(Xt(n)?n.parentNode:n)}),wy=e=>P.from(e.selection.getRng()).bind(o=>{const n=e.getBody();return o.startContainer===n&&o.startOffset===0?P.none():P.from(e.selection.getStart(!0))}),qO=(e,o)=>wy(e).orThunk(ye(hW,e)).map(we.fromDom).filter(As).bind(o),r0=(e,o)=>qO(e,ot(P.some,o)),GO=(e,o)=>{if(/^[0-9.]+$/.test(o)){const n=parseInt(o,10);if(n>=1&&n<=7){const r=kx(e),c=wT(e);return c.length>0?c[n-1]||o:r[n-1]||o}else return o}else return o},TI=e=>{const o=e.split(/\s*,\s*/);return he(o,n=>n.indexOf(" ")!==-1&&!(_n(n,'"')||_n(n,"'"))?`'${n}'`:n).join(",")},AI=(e,o)=>{const n=GO(e,o);e.formatter.toggle("fontname",{value:TI(n)}),e.nodeChanged()},bW=e=>r0(e,o=>Nq(e.getBody(),o.dom)).getOr(""),yW=(e,o)=>{e.formatter.toggle("fontsize",{value:GO(e,o)}),e.nodeChanged()},vW=e=>r0(e,o=>pW(e.getBody(),o.dom)).getOr(""),xW=e=>r0(e,o=>{const n=we.fromDom(e.getBody()),r=zw(o,u=>ic(u,"line-height"),ye(ts,n)),c=()=>{const u=parseFloat(Sa(o,"line-height")),m=parseFloat(Sa(o,"font-size"));return String(u/m)};return r.getOrThunk(c)}).getOr(""),wW=(e,o)=>{e.formatter.toggle("lineheight",{value:String(o)}),e.nodeChanged()},kW=e=>{const o=(n,r)=>{e.formatter.toggle(n,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{o(n)},"ForeColor,HiliteColor":(n,r,c)=>{o(n,{value:c})},BackColor:(n,r,c)=>{o("hilitecolor",{value:c})},FontName:(n,r,c)=>{AI(e,c)},FontSize:(n,r,c)=>{yW(e,c)},LineHeight:(n,r,c)=>{wW(e,c)},Lang:(n,r,c)=>{var u;o(n,{value:c.code,customValue:(u=c.customCode)!==null&&u!==void 0?u:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{o("blockquote")},FormatBlock:(n,r,c)=>{o(X(c)?c:"p")},mceToggleFormat:(n,r,c)=>{o(c)}})},Yh=e=>{const o=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>o(n),mceBlockQuote:()=>o("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>bW(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>vW(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>xW(e))},_W=e=>{kW(e),Yh(e)},zI=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},CW=e=>{e.editorCommands.addCommands({Indent:()=>{Hh(e)},Outdent:()=>{oz(e)}}),e.editorCommands.addCommands({Outdent:()=>Lh(e)},"state")},mE=e=>{const o=(n,r,c)=>{const u=X(c)?{href:c}:c,m=e.dom.getParent(e.selection.getNode(),"a");lt(u)&&X(u.href)&&(u.href=u.href.replace(/ /g,"%20"),(!m||!u.href)&&e.formatter.remove("link"),u.href&&e.formatter.apply("link",u,m))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:o,createLink:o})},SW=(e,o,n,r)=>{const c=e.dom,u=b=>c.isBlock(b)&&b.parentElement===n,m=u(o)?o:c.getParent(r,u,n);return P.from(m).map(we.fromDom)},OI=(e,o)=>{const n=e.dom,r=e.selection.getRng(),c=o?e.selection.getStart():e.selection.getEnd(),u=o?r.startContainer:r.endContainer,m=Dk(n,u);if(!m||!m.isContentEditable)return;const b=o?Oc:di,v=Uc(e);SW(e,c,m,u).each(E=>{const R=fP(e,u,E.dom,m,!1,v);b(E,we.fromDom(R)),e.selection.setCursorLocation(R,0),e.dispatch("NewBlock",{newBlock:R}),by(e,"insertParagraph")})},EW=e=>OI(e,!0),DI=e=>OI(e,!1),TW=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{EW(e)},InsertNewBlockAfter:()=>{DI(e)}})},AW=e=>{e.editorCommands.addCommands({insertParagraph:()=>{K1(wP,e)},mceInsertNewLine:(o,n,r)=>{OP(e,r)},InsertLineBreak:(o,n,r)=>{K1(_P,e)}})},zW=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(o,n,r)=>{let c=0;e.dom.getParent(e.selection.getNode(),u=>Do(u)&&c++===r?(e.selection.select(u),!1):!0,e.getBody())},mceSelectNode:(o,n,r)=>{e.selection.select(r)},selectAll:()=>{const o=e.dom.getParent(e.selection.getStart(),Ot);if(o){const n=e.dom.createRng();n.selectNodeContents(o),e.selection.setRng(n)}}})},OW=e=>{e.editorCommands.addCommands({mceRemoveNode:(o,n,r)=>{const c=r??e.selection.getNode();if(c!==e.getBody()){const u=e.selection.getBookmark();e.dom.remove(c,!0),e.selection.moveToBookmark(u)}},mcePrint:()=>{e.getWin().print()},mceFocus:(o,n,r)=>{pF(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},KO=e=>{iW(e),lW(e),zI(e),zW(e),EI(e),mE(e),CW(e),TW(e),AW(e),_W(e),OW(e)},DW=["toggleview"],RI=e=>K(DW,e.toLowerCase());class uc{constructor(o){this.commands={state:{},exec:{},value:{}},this.editor=o}execCommand(o,n=!1,r,c){const u=this.editor,m=o.toLowerCase(),b=c==null?void 0:c.skip_focus;if(u.removed||(m!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(m)&&!b?u.focus():AD(u)),u.dispatch("BeforeExecCommand",{command:o,ui:n,value:r}).isDefaultPrevented()))return!1;const E=this.commands.exec[m];return ie(E)?(E(m,n,r),u.dispatch("ExecCommand",{command:o,ui:n,value:r}),!0):!1}queryCommandState(o){if(!RI(o)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=o.toLowerCase(),r=this.commands.state[n];return ie(r)?r(n):!1}queryCommandValue(o){if(!RI(o)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=o.toLowerCase(),r=this.commands.value[n];return ie(r)?r(n):""}addCommands(o,n="exec"){const r=this.commands;Kt(o,(c,u)=>{V(u.toLowerCase().split(","),m=>{r[n][m]=c})})}addCommand(o,n,r){const c=o.toLowerCase();this.commands.exec[c]=(u,m,b)=>n.call(r??this.editor,m,b)}queryCommandSupported(o){const n=o.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(o,n,r){this.commands.state[o.toLowerCase()]=()=>n.call(r??this.editor)}addQueryValueHandler(o,n,r){this.commands.value[o.toLowerCase()]=()=>n.call(r??this.editor)}}const ky="data-mce-contenteditable",RW=(e,o,n)=>{ql(e,o)&&!n?ku(e,o):n&&kl(e,o)},Gk=(e,o,n)=>{try{e.getDoc().execCommand(o,!1,String(n))}catch{}},Kk=(e,o)=>{e.dom.contentEditable=o?"true":"false"},YO=e=>{V(Dc(e,'*[contenteditable="true"]'),o=>{Js(o,ky,"true"),Kk(o,!1)})},NW=e=>{V(Dc(e,`*[${ky}="true"]`),o=>{dr(o,ky),Kk(o,!0)})},MW=e=>{P.from(e.selection.getNode()).each(o=>{o.removeAttribute("data-mce-selected")})},BW=e=>{e.selection.setRng(e.selection.getRng())},PW=(e,o)=>{const n=we.fromDom(e.getBody());RW(n,"mce-content-readonly",o),o?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),MW(e),e.readonly=!0,Kk(n,!1),YO(n)):(e.readonly=!1,e.hasEditableRoot()&&Kk(n,!0),NW(n),Gk(e,"StyleWithCSS",!1),Gk(e,"enableInlineTableEditing",!1),Gk(e,"enableObjectResizing",!1),HD(e)&&e.focus(),BW(e),e.nodeChanged())},_y=e=>e.readonly,NI=e=>{e.parser.addAttributeFilter("contenteditable",o=>{_y(e)&&V(o,n=>{n.attr(ky,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(ky,o=>{_y(e)&&V(o,n=>{n.attr("contenteditable",n.attr(ky))})}),e.serializer.addTempAttr(ky)},$W=e=>{e.serializer?NI(e):e.on("PreInit",()=>{NI(e)})},IW=e=>e.type==="click",a0=["copy"],um=e=>K(a0,e.type),FW=(e,o)=>Xl(o,"a",r=>ts(r,we.fromDom(e.getBody()))).bind(r=>Fr(r,"href")),LW=(e,o)=>{if(IW(o)&&!eo.metaKeyPressed(o)){const n=we.fromDom(o.target);FW(e,n).each(r=>{if(o.preventDefault(),/^#/.test(r)){const c=e.dom.select(`${r},[name="${jo(r,"#")}"]`);c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else um(o)&&e.dispatch(o.type,o)},HW=e=>{e.on("ShowCaret",o=>{_y(e)&&o.preventDefault()}),e.on("ObjectSelected",o=>{_y(e)&&o.preventDefault()})},VW=Qt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class XO{static isNative(o){return!!VW[o.toLowerCase()]}constructor(o){this.bindings={},this.settings=o||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||ke}fire(o,n){return this.dispatch(o,n)}dispatch(o,n){const r=o.toLowerCase(),c=E0(r,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);const u=this.bindings[r];if(u)for(let m=0,b=u.length;m<b;m++){const v=u[m];if(!v.removed){if(v.once&&this.off(r,v.func),c.isImmediatePropagationStopped())return c;if(v.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c}on(o,n,r,c){if(n===!1&&(n=ke),n){const u={func:n,removed:!1};c&&Qt.extend(u,c);const m=o.toLowerCase().split(" ");let b=m.length;for(;b--;){const v=m[b];let E=this.bindings[v];E||(E=[],this.toggleEvent(v,!0)),r?E=[u,...E]:E=[...E,u],this.bindings[v]=E}}return this}off(o,n){if(o){const r=o.toLowerCase().split(" ");let c=r.length;for(;c--;){const u=r[c];let m=this.bindings[u];if(!u)return Kt(this.bindings,(b,v)=>{this.toggleEvent(v,!1),delete this.bindings[v]}),this;if(m){if(!n)m.length=0;else{const b=de(m,v=>v.func===n);m=b.fail,this.bindings[u]=m,V(b.pass,v=>{v.removed=!0})}m.length||(this.toggleEvent(o,!1),delete this.bindings[u])}}}else Kt(this.bindings,(r,c)=>{this.toggleEvent(c,!1)}),this.bindings={};return this}once(o,n,r){return this.on(o,n,r,{once:!0})}has(o){o=o.toLowerCase();const n=this.bindings[o];return!(!n||n.length===0)}}const Yk=e=>(e._eventDispatcher||(e._eventDispatcher=new XO({scope:e,toggleEvent:(o,n)=>{XO.isNative(o)&&e.toggleNativeEvent&&e.toggleNativeEvent(o,n)}})),e._eventDispatcher),JO={fire(e,o,n){return this.dispatch(e,o,n)},dispatch(e,o,n){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return E0(e.toLowerCase(),o??{},r);const c=Yk(r).dispatch(e,o);if(n!==!1&&r.parent){let u=r.parent();for(;u&&!c.isPropagationStopped();)u.dispatch(e,c,!1),u=u.parent?u.parent():void 0}return c},on(e,o,n){return Yk(this).on(e,o,n)},off(e,o){return Yk(this).off(e,o)},once(e,o){return Yk(this).once(e,o)},hasEventListeners(e){return Yk(this).has(e)}},gE=Br.DOM;let Cy;const QO=(e,o)=>{if(o==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(o))return e.getDoc().documentElement;const n=kd(e);return n?(e.eventRoot||(e.eventRoot=gE.select(n)[0]),e.eventRoot):e.getBody()},UW=e=>!e.hidden&&!_y(e),MI=(e,o,n)=>{UW(e)?e.dispatch(o,n):_y(e)&&LW(e,n)},BI=(e,o)=>{if(e.delegates||(e.delegates={}),e.delegates[o]||e.removed)return;const n=QO(e,o);if(kd(e)){if(Cy||(Cy={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Cy&&(Kt(Cy,(c,u)=>{e.dom.unbind(QO(e,u))}),Cy=null)})),Cy[o])return;const r=c=>{const u=c.target,m=e.editorManager.get();let b=m.length;for(;b--;){const v=m[b].getBody();(v===u||gE.isChildOf(u,v))&&MI(m[b],o,c)}};Cy[o]=r,gE.bind(n,o,r)}else{const r=c=>{MI(e,o,c)};gE.bind(n,o,r),e.delegates[o]=r}},PI={...JO,bindPendingEventDelegates(){const e=this;Qt.each(e._pendingNativeEvents,o=>{BI(e,o)})},toggleNativeEvent(e,o){const n=this;e==="focus"||e==="blur"||n.removed||(o?n.initialized?BI(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(QO(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,o=e.getBody(),n=e.dom;e.delegates&&(Kt(e.delegates,(r,c)=>{e.dom.unbind(QO(e,c),c,r)}),delete e.delegates),!e.inline&&o&&n&&(o.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(o),n.unbind(e.getContainer()))}},jW=e=>X(e)?{value:e.split(/[ ,]/),valid:!0}:Oe(e,X)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},WW=e=>{const o=(()=>{switch(e){case"array":return pt;case"boolean":return zt;case"function":return ie;case"number":return gn;case"object":return lt;case"string":return X;case"string[]":return jW;case"object[]":return n=>Oe(n,lt);case"regexp":return n=>Be(n,RegExp);default:return Xe}})();return n=>eD(n,o,`The value must be a ${e}.`)},Mq=e=>X(e.processor),$I=(e,o)=>{const n=ds(o.message)?"":`. ${o.message}`;return e+n},II=e=>e.valid,eD=(e,o,n="")=>{const r=o(e);return zt(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},ZW=(e,o,n)=>{if(!ko(o)){const r=eD(o,n);if(II(r))return r.value;console.error($I(`Invalid default value passed for the "${e}" option`,r))}},qW=(e,o,n=o)=>{const r={},c={},u=(q,ne,Y)=>{const ce=eD(ne,Y);return II(ce)?(c[q]=ce.value,!0):(console.warn($I(`Invalid value passed for the ${q} option`,ce)),!1)},m=(q,ne)=>{const Y=Mq(ne)?WW(ne.processor):ne.processor,ce=ZW(q,ne.default,Y);r[q]={...ne,default:ce,processor:Y},vs(c,q).orThunk(()=>vs(o,q)).each(Ie=>u(q,Ie,Y))},b=q=>Qo(r,q);return{register:m,isRegistered:b,get:q=>vs(c,q).orThunk(()=>vs(r,q).map(ne=>ne.default)).getOrUndefined(),set:(q,ne)=>{if(b(q)){const Y=r[q];return Y.immutable?(console.error(`"${q}" is an immutable option and cannot be updated`),!1):u(q,ne,Y.processor)}else return console.warn(`"${q}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:q=>{const ne=b(q);return ne&&delete c[q],ne},isSet:q=>Qo(c,q),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(q,ne)=>zt(ne)||gn(ne)||X(ne)||U(ne)||pt(ne)||Go(ne)?ne:Object.prototype.toString.call(ne))))}catch(q){console.error(q)}}}},GW=["design","readonly"],FI=(e,o,n,r)=>{const c=n[o.get()],u=n[r];try{u.activate()}catch(m){console.error(`problem while activating editor mode ${r}:`,m);return}c.deactivate(),c.editorReadOnly!==u.editorReadOnly&&PW(e,u.editorReadOnly),o.set(r),UT(e,r)},KW=(e,o,n,r)=>{if(r!==n.get()){if(!Qo(o,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?FI(e,n,o,r):e.on("init",()=>FI(e,n,o,r))}},YW=(e,o,n)=>{if(K(GW,o))throw new Error(`Cannot override default mode ${o}`);return{...e,[o]:{...n,deactivate:()=>{try{n.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${o}:`,r)}}}}},XW=e=>{const o=Ve("design"),n=Ve({design:{activate:Me,deactivate:Me,editorReadOnly:!1},readonly:{activate:Me,deactivate:Me,editorReadOnly:!0}});return $W(e),HW(e),{isReadOnly:()=>_y(e),set:r=>KW(e,n.get(),o,r),get:()=>o.get(),register:(r,c)=>{n.set(YW(n.get(),r,c))}}},tD=Qt.each,oD=Qt.explode,JW={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},LI=Qt.makeMap("alt,ctrl,shift,meta,access"),QW=e=>e in LI,eZ=e=>{const o={},n=on.os.isMacOS()||on.os.isiOS();tD(oD(e.toLowerCase(),"+"),u=>{QW(u)?o[u]=!0:/^[0-9]{2,}$/.test(u)?o.keyCode=parseInt(u,10):(o.charCode=u.charCodeAt(0),o.keyCode=JW[u]||u.toUpperCase().charCodeAt(0))});const r=[o.keyCode];let c;for(c in LI)o[c]?r.push(c):o[c]=!1;return o.id=r.join(","),o.access&&(o.alt=!0,n?o.ctrl=!0:o.shift=!0),o.meta&&(n?o.meta=!0:(o.ctrl=!0,o.meta=!1)),o};class nD{constructor(o){this.shortcuts={},this.pendingPatterns=[],this.editor=o;const n=this;o.on("keyup keypress keydown",r=>{(n.hasModifier(r)||n.isFunctionKey(r))&&!r.isDefaultPrevented()&&(tD(n.shortcuts,c=>{n.matchShortcut(r,c)&&(n.pendingPatterns=c.subpatterns.slice(0),r.type==="keydown"&&n.executeShortcutAction(c))}),n.matchShortcut(r,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&r.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(o,n,r,c){const u=this,m=u.normalizeCommandFunc(r);return tD(oD(Qt.trim(o)),b=>{const v=u.createShortcut(b,n,m,c);u.shortcuts[v.id]=v}),!0}remove(o){const n=this.createShortcut(o);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(o){const n=this,r=o;return typeof r=="string"?()=>{n.editor.execCommand(r,!1,null)}:Qt.isArray(r)?()=>{n.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(o,n,r,c){const u=Qt.map(oD(o,">"),eZ);return u[u.length-1]=Qt.extend(u[u.length-1],{func:r,scope:c||this.editor}),Qt.extend(u[0],{desc:this.editor.translate(n),subpatterns:u.slice(1)})}hasModifier(o){return o.altKey||o.ctrlKey||o.metaKey}isFunctionKey(o){return o.type==="keydown"&&o.keyCode>=112&&o.keyCode<=123}matchShortcut(o,n){return!n||n.ctrl!==o.ctrlKey||n.meta!==o.metaKey||n.alt!==o.altKey||n.shift!==o.shiftKey?!1:o.keyCode===n.keyCode||o.charCode&&o.charCode===n.charCode?(o.preventDefault(),!0):!1}executeShortcutAction(o){return o.func?o.func.call(o.scope):null}}const tZ=()=>{const e={},o={},n={},r={},c={},u={},m={},b={},v=(R,N)=>($,q)=>{R[$.toLowerCase()]={...q,type:N}},E=(R,N)=>r[R.toLowerCase()]=N;return{addButton:v(e,"button"),addGroupToolbarButton:v(e,"grouptoolbarbutton"),addToggleButton:v(e,"togglebutton"),addMenuButton:v(e,"menubutton"),addSplitButton:v(e,"splitbutton"),addMenuItem:v(o,"menuitem"),addNestedMenuItem:v(o,"nestedmenuitem"),addToggleMenuItem:v(o,"togglemenuitem"),addAutocompleter:v(n,"autocompleter"),addContextMenu:v(c,"contextmenu"),addContextToolbar:v(u,"contexttoolbar"),addContextForm:v(u,"contextform"),addSidebar:v(m,"sidebar"),addView:v(b,"views"),addIcon:E,getAll:()=>({buttons:e,menuItems:o,icons:r,popups:n,contextMenus:c,contextToolbars:u,sidebars:m,views:b})}},oZ=()=>{const e=tZ();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Sy=Br.DOM,HI=Qt.extend,nZ=Qt.each;class pE{constructor(o,n,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,HI(this,PI);const c=this;this.id=o,this.hidden=!1;const u=Tq(r.defaultOptions,n);this.options=qW(c,u,n),L_(c);const m=this.options.get;m("deprecation_warnings")&&x8(n,u);const b=m("suffix");b&&(r.suffix=b),this.suffix=r.suffix;const v=m("base_url");v&&r._setBaseUrl(v),this.baseUri=r.baseURI;const E=mv(c);E&&(vd.ScriptLoader._setReferrerPolicy(E),Br.DOM.styleSheetLoader._setReferrerPolicy(E));const R=px(c);We(R)&&Br.DOM.styleSheetLoader._setContentCssCors(R),wi.languageLoad=m("language_load"),wi.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Oi(Nc(c),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=kb(c),this.hasVisual=Ti(c),this.shortcuts=new nD(this),this.editorCommands=new uc(this),KO(this);const N=m("cache_suffix");N&&(on.cacheSuffix=N.replace(/^[\?\&]+/,"")),this.ui={registry:oZ(),styleSheetLoader:void 0,show:Me,hide:Me,setEnabled:Me,isEnabled:Xe},this.mode=XW(c),r.dispatch("SetupEditor",{editor:this});const $=xv(c);ie($)&&$.call(c,c)}render(){Eq(this)}focus(o){this.execCommand("mceFocus",!1,o)}hasFocus(){return hp(this)}translate(o){return vc.translate(o)}getParam(o,n,r){const c=this.options;return c.isRegistered(o)||(We(r)?c.register(o,{processor:r,default:n}):c.register(o,{processor:Xe,default:n})),!c.isSet(o)&&!ko(n)?n:c.get(o)}hasPlugin(o,n){return K(vv(this),o)?n?M1.get(o)!==void 0:!0:!1}nodeChanged(o){this._nodeChangeDispatcher.nodeChanged(o)}addCommand(o,n,r){this.editorCommands.addCommand(o,n,r)}addQueryStateHandler(o,n,r){this.editorCommands.addQueryStateHandler(o,n,r)}addQueryValueHandler(o,n,r){this.editorCommands.addQueryValueHandler(o,n,r)}addShortcut(o,n,r,c){this.shortcuts.add(o,n,r,c)}execCommand(o,n,r,c){return this.editorCommands.execCommand(o,n,r,c)}queryCommandState(o){return this.editorCommands.queryCommandState(o)}queryCommandValue(o){return this.editorCommands.queryCommandValue(o)}queryCommandSupported(o){return this.editorCommands.queryCommandSupported(o)}show(){const o=this;o.hidden&&(o.hidden=!1,o.inline?o.getBody().contentEditable="true":(Sy.show(o.getContainer()),Sy.hide(o.id)),o.load(),o.dispatch("show"))}hide(){const o=this;o.hidden||(o.save(),o.inline?(o.getBody().contentEditable="false",o===o.editorManager.focusedEditor&&(o.editorManager.focusedEditor=null)):(Sy.hide(o.getContainer()),Sy.setStyle(o.id,"display",o.orgDisplay)),o.hidden=!0,o.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(o,n){this.dispatch("ProgressState",{state:o,time:n})}load(o={}){const n=this,r=n.getElement();if(n.removed)return"";if(r){const c={...o,load:!0},u=qr(r)?r.value:r.innerHTML,m=n.setContent(u,c);return c.no_events||n.dispatch("LoadContent",{...c,element:r}),m}else return""}save(o={}){const n=this;let r=n.getElement();if(!r||!n.initialized||n.removed)return"";const c={...o,save:!0,element:r};let u=n.getContent(c);const m={...c,content:u};if(m.no_events||n.dispatch("SaveContent",m),m.format==="raw"&&n.dispatch("RawSaveContent",m),u=m.content,qr(r))r.value=u;else{(o.is_removing||!n.inline)&&(r.innerHTML=u);const b=Sy.getParent(n.id,"form");b&&nZ(b.elements,v=>v.name===n.id?(v.value=u,!1):!0)}return m.element=c.element=r=null,m.set_dirty!==!1&&n.setDirty(!1),u}setContent(o,n){return R1(this,o,n)}getContent(o){return WM(this,o)}insertContent(o,n){n&&(o=HI({content:o},n)),this.execCommand("mceInsertContent",!1,o)}resetContent(o){o===void 0?R1(this,this.startContent,{format:"raw"}):R1(this,o),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(o){const n=!this.isNotDirty;this.isNotDirty=!o,o&&o!==n&&this.dispatch("dirty")}getContainer(){const o=this;return o.container||(o.container=o.editorContainer||Sy.get(o.id+"_parent")),o.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Sy.get(this.id)),this.targetElm}getWin(){const o=this;if(!o.contentWindow){const n=o.iframeElement;n&&(o.contentWindow=n.contentWindow)}return o.contentWindow}getDoc(){const o=this;if(!o.contentDocument){const n=o.getWin();n&&(o.contentDocument=n.document)}return o.contentDocument}getBody(){var o,n;const r=this.getDoc();return(n=(o=this.bodyElement)!==null&&o!==void 0?o:r==null?void 0:r.body)!==null&&n!==void 0?n:null}convertURL(o,n,r){const c=this,u=c.options.get,m=wv(c);if(ie(m))return m.call(c,o,r,!0,n);if(!u("convert_urls")||r==="link"||lt(r)&&r.nodeName==="LINK"||o.indexOf("file:")===0||o.length===0)return o;const b=new Oi(o);return b.protocol!=="http"&&b.protocol!=="https"&&b.protocol!==""?o:u("relative_urls")?c.documentBaseURI.toRelative(o):(o=c.documentBaseURI.toAbsolute(o,u("remove_script_host")),o)}addVisual(o){Aq(this,o)}setEditableRoot(o){Qj(this,o)}hasEditableRoot(){return HO(this)}remove(){_8(this)}destroy(o){C8(this,o)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const c0=Br.DOM,hE=Qt.each;let sD=!1,bE,Ll=[];const yE=e=>{const o=e.type;hE(Xh.get(),n=>{switch(o){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},VI=e=>{if(e!==sD){const o=Br.DOM;e?(o.bind(window,"resize",yE),o.bind(window,"scroll",yE)):(o.unbind(window,"resize",yE),o.unbind(window,"scroll",yE)),sD=e}},UI=e=>{const o=Ll;return Ll=be(Ll,n=>e!==n),Xh.activeEditor===e&&(Xh.activeEditor=Ll.length>0?Ll[0]:null),Xh.focusedEditor===e&&(Xh.focusedEditor=null),o.length!==Ll.length},sZ=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(UI(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},rZ=document.compatMode!=="CSS1Compat",Xh={...JO,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"3.0",releaseDate:"2024-08-07",i18n:vc,activeEditor:null,focusedEditor:null,setup(){const e=this;let o="",n="",r=Oi.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const c=window.tinymce||window.tinyMCEPreInit;if(c)o=c.base||c.baseURL,n=c.suffix;else{const u=document.getElementsByTagName("script");for(let m=0;m<u.length;m++){const b=u[m].src||"";if(b==="")continue;const v=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){v.indexOf(".min")!==-1&&(n=".min"),o=b.substring(0,b.lastIndexOf("/"));break}}if(!o&&document.currentScript){const m=document.currentScript.src;m.indexOf(".min")!==-1&&(n=".min"),o=m.substring(0,m.lastIndexOf("/"))}}e.baseURL=new Oi(r).toAbsolute(o),e.documentBaseURL=r,e.baseURI=new Oi(e.baseURL),e.suffix=n,BD(e)},overrideDefaults(e){const o=e.base_url;o&&this._setBaseUrl(o);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&Kt(r,(c,u)=>{wi.PluginManager.urls[u]=c})},init(e){const o=this;let n;const r=Qt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=(R,N)=>R.inline&&N.tagName.toLowerCase()in r,u=R=>{let N=R.id;return N||(N=vs(R,"name").filter($=>!c0.get($)).getOrThunk(c0.uniqueId),R.setAttribute("id",N)),N},m=R=>{const N=e[R];if(N)return N.apply(o,[])},b=R=>on.browser.isIE()||on.browser.isEdge()?(f3("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):rZ?(f3("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):X(R.selector)?c0.select(R.selector):We(R.target)?[R.target]:[];let v=R=>{n=R};const E=()=>{let R=0;const N=[];let $;const q=(ne,Y,ce)=>{const _e=new pE(ne,Y,o);N.push(_e),_e.on("init",()=>{++R===$.length&&v(N)}),_e.targetElm=_e.targetElm||ce,_e.render()};c0.unbind(window,"ready",E),m("onpageload"),$=Ys(b(e)),Qt.each($,ne=>{sZ(o.get(ne.id))}),$=Qt.grep($,ne=>!o.get(ne.id)),$.length===0?v([]):hE($,ne=>{c(e,ne)?f3("Could not initialize inline editor on invalid inline target element",ne):q(u(ne),e,ne)})};return c0.bind(window,"ready",E),new Promise(R=>{n?R(n):v=N=>{R(N)}})},get(e){return arguments.length===0?Ll.slice(0):X(e)?xt(Ll,o=>o.id===e).getOr(null):gn(e)&&Ll[e]?Ll[e]:null},add(e){const o=this,n=o.get(e.id);return n===e||(n===null&&Ll.push(e),VI(!0),o.activeEditor=e,o.dispatch("AddEditor",{editor:e}),bE||(bE=r=>{const c=o.dispatch("BeforeUnload");if(c.returnValue)return r.preventDefault(),r.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",bE))),e},createEditor(e,o){return this.add(new pE(e,o,this))},remove(e){const o=this;let n;if(!e){for(let r=Ll.length-1;r>=0;r--)o.remove(Ll[r]);return}if(X(e)){hE(c0.select(e),r=>{n=o.get(r.id),n&&o.remove(n)});return}return n=e,U(o.get(n.id))?null:(UI(n)&&o.dispatch("RemoveEditor",{editor:n}),Ll.length===0&&window.removeEventListener("beforeunload",bE),n.remove(),VI(Ll.length>0),n)},execCommand(e,o,n){var r;const c=this,u=lt(n)?(r=n.id)!==null&&r!==void 0?r:n.index:n;switch(e){case"mceAddEditor":{if(!c.get(u)){const m=n.options;new pE(u,m,c).render()}return!0}case"mceRemoveEditor":{const m=c.get(u);return m&&m.remove(),!0}case"mceToggleEditor":{const m=c.get(u);return m?(m.isHidden()?m.show():m.hide(),!0):(c.execCommand("mceAddEditor",!1,n),!0)}}return c.activeEditor?c.activeEditor.execCommand(e,o,n):!1},triggerSave:()=>{hE(Ll,e=>{e.save()})},addI18n:(e,o)=>{vc.add(e,o)},translate:e=>vc.translate(e),setActive(e){const o=this.activeEditor;this.activeEditor!==e&&(o&&o.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:o})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Oi(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Oi(this.baseURL)}};Xh.setup();const Bq=(()=>{const e=Vc(),o=u=>({items:u,types:vn(u),getType:m=>vs(u,m).getOrUndefined()}),n=u=>{e.set(u)},r=()=>e.get().getOrUndefined(),c=e.clear;return{FakeClipboardItem:o,write:n,read:r,clear:c}})(),rD=Math.min,i0=Math.max,Xk=Math.round,jI=(e,o,n)=>{let r=o.x,c=o.y;const u=e.w,m=e.h,b=o.w,v=o.h,E=(n||"").split("");return E[0]==="b"&&(c+=v),E[1]==="r"&&(r+=b),E[0]==="c"&&(c+=Xk(v/2)),E[1]==="c"&&(r+=Xk(b/2)),E[3]==="b"&&(c-=m),E[4]==="r"&&(r-=u),E[3]==="c"&&(c-=Xk(m/2)),E[4]==="c"&&(r-=Xk(u/2)),l0(r,c,u,m)},cZ=(e,o,n,r)=>{for(let c=0;c<r.length;c++){const u=jI(e,o,r[c]);if(u.x>=n.x&&u.x+u.w<=n.w+n.x&&u.y>=n.y&&u.y+u.h<=n.h+n.y)return r[c]}return null},iZ=(e,o,n)=>l0(e.x-o,e.y-n,e.w+o*2,e.h+n*2),lZ=(e,o)=>{const n=i0(e.x,o.x),r=i0(e.y,o.y),c=rD(e.x+e.w,o.x+o.w),u=rD(e.y+e.h,o.y+o.h);return c-n<0||u-r<0?null:l0(n,r,c-n,u-r)},uZ=(e,o,n)=>{let r=e.x,c=e.y,u=e.x+e.w,m=e.y+e.h;const b=o.x+o.w,v=o.y+o.h,E=i0(0,o.x-r),R=i0(0,o.y-c),N=i0(0,u-b),$=i0(0,m-v);return r+=E,c+=R,n&&(u+=E,m+=R,r-=N,c-=$),u-=N,m-=$,l0(r,c,u-r,m-c)},l0=(e,o,n,r)=>({x:e,y:o,w:n,h:r}),aD={inflate:iZ,relativePosition:jI,findBestRelativePosition:cZ,intersect:lZ,clamp:uZ,create:l0,fromClientRect:e=>l0(e.left,e.top,e.width,e.height)},dZ=(e,o,n=1e3)=>{let r=!1,c=null;const u=E=>(...R)=>{r||(r=!0,c!==null&&(clearTimeout(c),c=null),E.apply(null,R))},m=u(e),b=u(o);return{start:(...E)=>{!r&&c===null&&(c=setTimeout(()=>b.apply(null,E),n))},resolve:m,reject:b}},mZ=(()=>{const e={},o={},n={};return{load:(v,E)=>{const R=`Script at URL "${E}" failed to load`,N=`Script at URL "${E}" did not call \`tinymce.Resource.add('${v}', data)\` within 1 second`;if(e[v]!==void 0)return e[v];{const $=new Promise((q,ne)=>{const Y=dZ(q,ne);o[v]=Y.resolve,vd.ScriptLoader.loadScript(E).then(()=>Y.start(N),()=>Y.reject(R))});return e[v]=$,$}},add:(v,E)=>{o[v]!==void 0&&(o[v](E),delete o[v]),e[v]=Promise.resolve(E),n[v]=E},has:v=>v in n,get:v=>n[v],unload:v=>{delete e[v],delete n[v]}}})(),gZ=()=>(()=>{let e={},o=[];const n={getItem:r=>{const c=e[r];return c||null},setItem:(r,c)=>{o.push(r),e[r]=String(c)},key:r=>o[r],removeItem:r=>{o=o.filter(c=>c===r),delete e[r]},clear:()=>{o=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>o.length,configurable:!1,enumerable:!1}),n})();let Jk;try{const e="__storage_test__";Jk=window.localStorage,Jk.setItem(e,e),Jk.removeItem(e)}catch{Jk=gZ()}var pZ=Jk;const hZ={geom:{Rect:aD},util:{Delay:Uu,Tools:Qt,VK:eo,URI:Oi,EventDispatcher:XO,Observable:JO,I18n:vc,LocalStorage:pZ,ImageUploader:ig},dom:{EventUtils:Om,TreeWalker:bc,TextSeeker:qg,DOMUtils:Br,ScriptLoader:vd,RangeUtils:uo,Serializer:ri,StyleSheetLoader:nu,ControlSelection:Vb,BookmarkManager:Lu,Selection:a8,Event:Om.Event},html:{Styles:C0,Entities:hd,Node:hl,Schema:ef,DomParser:O1,Writer:hA,Serializer:bp},Env:on,AddOnManager:wi,Annotator:t1,Formatter:am,UndoManager:I1,EditorCommands:uc,WindowManager:JM,NotificationManager:XM,EditorObservable:PI,Shortcuts:nD,Editor:pE,FocusManager:zD,EditorManager:Xh,DOM:Br.DOM,ScriptLoader:vd.ScriptLoader,PluginManager:M1,ThemeManager:Nh,ModelManager:N1,IconManager:cS,Resource:mZ,FakeClipboard:Bq,trim:Qt.trim,isArray:Qt.isArray,is:Qt.is,toArray:Qt.toArray,makeMap:Qt.makeMap,each:Qt.each,map:Qt.map,grep:Qt.grep,inArray:Qt.inArray,extend:Qt.extend,walk:Qt.walk,resolve:Qt.resolve,explode:Qt.explode,_addCacheSuffix:Qt._addCacheSuffix},ZI=Qt.extend(Xh,hZ),bZ=e=>{try{ro.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(ZI),bZ(ZI)})()})(MG);(function(){var ro=tinymce.util.Tools.resolve("tinymce.ModelManager");const Gt=(l,f,h)=>{var y;return h(l,f.prototype)?!0:((y=l.constructor)===null||y===void 0?void 0:y.name)===f.name},Wt=l=>{const f=typeof l;return l===null?"null":f==="object"&&Array.isArray(l)?"array":f==="object"&&Gt(l,String,(h,y)=>y.isPrototypeOf(h))?"string":f},Jt=l=>f=>Wt(f)===l,Lt=l=>f=>typeof f===l,Ht=l=>f=>l===f,qe=Jt("string"),Re=Jt("object"),Pt=Jt("array"),so=Ht(null),po=Lt("boolean"),So=Ht(void 0),Ft=l=>l==null,Vt=l=>!Ft(l),St=Lt("function"),to=Lt("number"),Qe=()=>{},nt=(l,f)=>(...h)=>l(f.apply(null,h)),Be=(l,f)=>h=>l(f(h)),X=l=>()=>l,lt=l=>l,Go=(l,f)=>l===f;function pt(l,...f){return(...h)=>{const y=f.concat(h);return l.apply(null,y)}}const U=l=>f=>!l(f),zt=l=>()=>{throw new Error(l)},ko=l=>l(),co=X(!1),We=X(!0);class ie{constructor(f,h){this.tag=f,this.value=h}static some(f){return new ie(!0,f)}static none(){return ie.singletonNone}fold(f,h){return this.tag?h(this.value):f()}isSome(){return this.tag}isNone(){return!this.tag}map(f){return this.tag?ie.some(f(this.value)):ie.none()}bind(f){return this.tag?f(this.value):ie.none()}exists(f){return this.tag&&f(this.value)}forall(f){return!this.tag||f(this.value)}filter(f){return!this.tag||f(this.value)?this:ie.none()}getOr(f){return this.tag?this.value:f}or(f){return this.tag?this:f}getOrThunk(f){return this.tag?this.value:f()}orThunk(f){return this.tag?this:f()}getOrDie(f){if(this.tag)return this.value;throw new Error(f??"Called getOrDie on None")}static from(f){return Vt(f)?ie.some(f):ie.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(f){this.tag&&f(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ie.singletonNone=new ie(!1);const gn=Array.prototype.slice,Oe=Array.prototype.indexOf,Me=Array.prototype.push,_=(l,f)=>Oe.call(l,f),ot=(l,f)=>_(l,f)>-1,ue=(l,f)=>{for(let h=0,y=l.length;h<y;h++){const S=l[h];if(f(S,h))return!0}return!1},bt=(l,f)=>{const h=[];for(let y=0;y<l;y++)h.push(f(y));return h},wt=(l,f)=>{const h=l.length,y=new Array(h);for(let S=0;S<h;S++){const O=l[S];y[S]=f(O,S)}return y},ye=(l,f)=>{for(let h=0,y=l.length;h<y;h++){const S=l[h];f(S,h)}},vt=(l,f)=>{for(let h=l.length-1;h>=0;h--){const y=l[h];f(y,h)}},yo=(l,f)=>{const h=[],y=[];for(let S=0,O=l.length;S<O;S++){const I=l[S];(f(I,S)?h:y).push(I)}return{pass:h,fail:y}},He=(l,f)=>{const h=[];for(let y=0,S=l.length;y<S;y++){const O=l[y];f(O,y)&&h.push(O)}return h},Zt=(l,f,h)=>(vt(l,(y,S)=>{h=f(h,y,S)}),h),ke=(l,f,h)=>(ye(l,(y,S)=>{h=f(h,y,S)}),h),Xe=(l,f,h)=>{for(let y=0,S=l.length;y<S;y++){const O=l[y];if(f(O,y))return ie.some(O);if(h(O,y))break}return ie.none()},P=(l,f)=>Xe(l,f,co),wn=(l,f)=>{for(let h=0,y=l.length;h<y;h++){const S=l[h];if(f(S,h))return ie.some(h)}return ie.none()},st=l=>{const f=[];for(let h=0,y=l.length;h<y;++h){if(!Pt(l[h]))throw new Error("Arr.flatten item "+h+" was not an array, input: "+l);Me.apply(f,l[h])}return f},Nt=(l,f)=>st(wt(l,f)),Ue=(l,f)=>{for(let h=0,y=l.length;h<y;++h){const S=l[h];if(f(S,h)!==!0)return!1}return!0},dt=l=>{const f=gn.call(l,0);return f.reverse(),f},K=(l,f)=>{const h={};for(let y=0,S=l.length;y<S;y++){const O=l[y];h[String(O)]=f(O,y)}return h},te=(l,f)=>{const h=gn.call(l,0);return h.sort(f),h},he=(l,f)=>f>=0&&f<l.length?ie.some(l[f]):ie.none(),V=l=>he(l,0),re=l=>he(l,l.length-1),de=(l,f)=>{for(let h=0;h<l.length;h++){const y=f(l[h],h);if(y.isSome())return y}return ie.none()},be=Object.keys,ut=Object.hasOwnProperty,Ee=(l,f)=>{const h=be(l);for(let y=0,S=h.length;y<S;y++){const O=h[y],I=l[O];f(I,O)}},Ke=(l,f)=>xt(l,(h,y)=>({k:y,v:f(h,y)})),xt=(l,f)=>{const h={};return Ee(l,(y,S)=>{const O=f(y,S);h[O.k]=O.v}),h},ho=l=>(f,h)=>{l[h]=f},je=(l,f,h,y)=>{Ee(l,(S,O)=>{(f(S,O)?h:y)(S,O)})},Je=(l,f)=>{const h={};return je(l,f,ho(h),Qe),h},Ut=(l,f)=>{const h=[];return Ee(l,(y,S)=>{h.push(f(y,S))}),h},io=l=>Ut(l,lt),hn=(l,f)=>Lo(l,f)?ie.from(l[f]):ie.none(),Lo=(l,f)=>ut.call(l,f),Mo=(l,f)=>Lo(l,f)&&l[f]!==void 0&&l[f]!==null,Hn=l=>{for(const f in l)if(ut.call(l,f))return!1;return!0},Bo=typeof window<"u"?window:Function("return this;")(),Wn=(l,f)=>{let h=f??Bo;for(let y=0;y<l.length&&h!==void 0&&h!==null;++y)h=h[l[y]];return h},bs=(l,f)=>{const h=l.split(".");return Wn(h,f)},os=(l,f)=>bs(l,f),Ys=(l,f)=>{const h=os(l,f);if(h==null)throw new Error(l+" not available on this browser");return h},vn=Object.getPrototypeOf,jr=l=>Ys("HTMLElement",l),Kt=l=>{const f=bs("ownerDocument.defaultView",l);return Re(l)&&(jr(f).prototype.isPrototypeOf(l)||/^HTML\w*Element$/.test(vn(l).constructor.name))},Gn=8,hr=9,ar=11,Pr=1,$r=3,ys=l=>l.dom.nodeName.toLowerCase(),ea=l=>l.dom.nodeType,ia=l=>f=>ea(f)===l,vs=l=>ea(l)===Gn||ys(l)==="#comment",Qo=l=>Vs(l)&&Kt(l.dom),Vs=ia(Pr),Le=ia($r),at=ia(hr),xo=ia(ar),Ro=l=>f=>Vs(f)&&ys(f)===l,Vn=(l,f,h)=>{if(qe(h)||po(h)||to(h))l.setAttribute(f,h+"");else throw console.error("Invalid call to Attribute.set. Key ",f,":: Value ",h,":: Element ",l),new Error("Attribute value was not simple")},is=(l,f,h)=>{Vn(l.dom,f,h)},_r=(l,f)=>{const h=l.dom;Ee(f,(y,S)=>{Vn(h,S,y)})},Cr=(l,f)=>{Ee(f,(h,y)=>{h.fold(()=>{le(l,y)},S=>{Vn(l.dom,y,S)})})},ir=(l,f)=>{const h=l.dom.getAttribute(f);return h===null?void 0:h},ge=(l,f)=>ie.from(ir(l,f)),le=(l,f)=>{l.dom.removeAttribute(f)},tt=l=>ke(l.dom.attributes,(f,h)=>(f[h.name]=h.value,f),{}),mt=(l,f)=>{const y=(f||document).createElement("div");if(y.innerHTML=l,!y.hasChildNodes()||y.childNodes.length>1){const S="HTML does not have a single root node";throw console.error(S,l),new Error(S)}return Rn(y.childNodes[0])},en=(l,f)=>{const y=(f||document).createElement(l);return Rn(y)},kn=(l,f)=>{const y=(f||document).createTextNode(l);return Rn(y)},Rn=l=>{if(l==null)throw new Error("Node cannot be null or undefined");return{dom:l}},Ae={fromHtml:mt,fromTag:en,fromText:kn,fromDom:Rn,fromPoint:(l,f,h)=>ie.from(l.dom.elementFromPoint(f,h)).map(Rn)},Nn=(l,f)=>{const h=l.dom;if(h.nodeType!==Pr)return!1;{const y=h;if(y.matches!==void 0)return y.matches(f);if(y.msMatchesSelector!==void 0)return y.msMatchesSelector(f);if(y.webkitMatchesSelector!==void 0)return y.webkitMatchesSelector(f);if(y.mozMatchesSelector!==void 0)return y.mozMatchesSelector(f);throw new Error("Browser lacks native selectors")}},ve=l=>l.nodeType!==Pr&&l.nodeType!==hr&&l.nodeType!==ar||l.childElementCount===0,Se=(l,f)=>{const h=f===void 0?document:f.dom;return ve(h)?[]:wt(h.querySelectorAll(l),Ae.fromDom)},Mt=(l,f)=>{const h=f===void 0?document:f.dom;return ve(h)?ie.none():ie.from(h.querySelector(l)).map(Ae.fromDom)},jt=(l,f)=>l.dom===f.dom,To=(l,f)=>{const h=l.dom,y=f.dom;return h===y?!1:h.contains(y)},Zo=Nn,Ko=l=>Ae.fromDom(l.dom.ownerDocument),jo=l=>at(l)?l:Ko(l),ln=l=>Ae.fromDom(jo(l).dom.documentElement),_n=l=>Ae.fromDom(jo(l).dom.defaultView),xs=l=>ie.from(l.dom.parentNode).map(Ae.fromDom),Rs=l=>ie.from(l.dom.parentElement).map(Ae.fromDom),Zs=(l,f)=>{const h=St(f)?f:co;let y=l.dom;const S=[];for(;y.parentNode!==null&&y.parentNode!==void 0;){const O=y.parentNode,I=Ae.fromDom(O);if(S.push(I),h(I)===!0)break;y=O}return S},Pa=l=>ie.from(l.dom.previousSibling).map(Ae.fromDom),Za=l=>ie.from(l.dom.nextSibling).map(Ae.fromDom),xn=l=>wt(l.dom.childNodes,Ae.fromDom),ds=(l,f)=>{const h=l.dom.childNodes;return ie.from(h[f]).map(Ae.fromDom)},ms=l=>ds(l,0),la=(l,f)=>{xs(l).each(y=>{y.dom.insertBefore(f.dom,l.dom)})},ua=(l,f)=>{Za(l).fold(()=>{xs(l).each(S=>{ur(S,f)})},y=>{la(y,f)})},Yr=(l,f)=>{ms(l).fold(()=>{ur(l,f)},y=>{l.dom.insertBefore(f.dom,y.dom)})},ur=(l,f)=>{l.dom.appendChild(f.dom)},sd=(l,f,h)=>{ds(l,h).fold(()=>{ur(l,f)},y=>{la(y,f)})},Ac=(l,f)=>{la(l,f),ur(f,l)},Ts=(l,f)=>{ye(f,(h,y)=>{const S=y===0?l:f[y-1];ua(S,h)})},Aa=(l,f)=>{ye(f,h=>{ur(l,h)})},ka=l=>{l.dom.textContent="",ye(xn(l),f=>{Wr(f)})},Wr=l=>{const f=l.dom;f.parentNode!==null&&f.parentNode.removeChild(f)},Mi=l=>{const f=xn(l);f.length>0&&Ts(l,f),Wr(l)},za=(l,f)=>Ae.fromDom(l.dom.cloneNode(f)),$a=l=>za(l,!1),$c=l=>za(l,!0),fc=(l,f)=>{const h=Ae.fromTag(f),y=tt(l);return _r(h,y),h},yl=(l,f)=>{const h=fc(l,f),y=xn($c(l));return Aa(h,y),h},hi=(l,f)=>{const h=fc(l,f);ua(l,h);const y=xn(l);return Aa(h,y),Wr(l),h},ci=["tfoot","thead","tbody","colgroup"],mc=l=>ot(ci,l),ta=(l,f)=>({rows:l,columns:f}),vl=(l,f)=>({row:l,column:f}),xl=(l,f,h)=>({element:l,rowspan:f,colspan:h}),wl=(l,f,h,y)=>({element:l,rowspan:f,colspan:h,isNew:y}),Qi=(l,f,h,y,S,O)=>({element:l,rowspan:f,colspan:h,row:y,column:S,isLocked:O}),Xr=(l,f,h)=>({element:l,cells:f,section:h}),gc=(l,f,h,y)=>({element:l,cells:f,section:h,isNew:y}),W=(l,f,h)=>({element:l,isNew:f,isLocked:h}),fe=(l,f,h,y)=>({element:l,cells:f,section:h,isNew:y}),$e=(l,f,h,y)=>({startRow:l,startCol:f,finishRow:h,finishCol:y}),Et=(l,f,h)=>({element:l,colspan:f,column:h}),oo=(l,f)=>({element:l,columns:f}),Ho=l=>xo(l)&&Vt(l.dom.host),es=l=>Ae.fromDom(l.dom.getRootNode()),Us=l=>{const f=es(l);return Ho(f)?ie.some(f):ie.none()},ls=l=>Ae.fromDom(l.dom.host),Oo=l=>{if(Vt(l.target)){const f=Ae.fromDom(l.target);if(Vs(f)&&Rr(f)&&l.composed&&l.composedPath){const h=l.composedPath();if(h)return V(h)}}return ie.from(l.target)},Rr=l=>Vt(l.dom.shadowRoot),on=l=>{const f=Le(l)?l.dom.parentNode:l.dom;if(f==null||f.ownerDocument===null)return!1;const h=f.ownerDocument;return Us(Ae.fromDom(f)).fold(()=>h.body.contains(f),Be(on,ls))},oa=()=>ii(Ae.fromDom(document)),ii=l=>{const f=l.dom.body;if(f==null)throw new Error("Body is not available yet");return Ae.fromDom(f)},B=(l,f,h)=>He(Zs(l,h),f),Q=(l,f)=>He(xn(l),f),xe=(l,f)=>{let h=[];return ye(xn(l),y=>{f(y)&&(h=h.concat([y])),h=h.concat(xe(y,f))}),h},Ge=(l,f,h)=>B(l,y=>Nn(y,f),h),Dt=(l,f)=>Q(l,h=>Nn(h,f)),In=(l,f)=>Se(f,l);var or=(l,f,h,y,S)=>l(h,y)?ie.some(h):St(S)&&S(h)?ie.none():f(h,y,S);const Ns=(l,f,h)=>{let y=l.dom;const S=St(h)?h:co;for(;y.parentNode;){y=y.parentNode;const O=Ae.fromDom(y);if(f(O))return ie.some(O);if(S(O))break}return ie.none()},Qt=(l,f,h)=>or((S,O)=>O(S),Ns,l,f,h),nr=(l,f)=>{const h=S=>f(Ae.fromDom(S));return P(l.dom.childNodes,h).map(Ae.fromDom)},_a=(l,f)=>{const h=y=>{for(let S=0;S<y.childNodes.length;S++){const O=Ae.fromDom(y.childNodes[S]);if(f(O))return ie.some(O);const I=h(y.childNodes[S]);if(I.isSome())return I}return ie.none()};return h(l.dom)},sc=(l,f,h)=>Ns(l,y=>Nn(y,f),h),Zn=(l,f)=>nr(l,h=>Nn(h,f)),rc=(l,f)=>Mt(f,l),Ir=(l,f,h)=>or((S,O)=>Nn(S,O),sc,l,f,h),Zl=(l,f,h=Go)=>l.exists(y=>h(y,f)),Xs=l=>{const f=[],h=y=>{f.push(y)};for(let y=0;y<l.length;y++)l[y].each(h);return f},Bi=(l,f)=>l!=null?f(l):ie.none(),Hd=(l,f)=>l?ie.some(f):ie.none(),mm=(l,f)=>l.substring(f),wr=(l,f,h)=>f===""||l.length>=f.length&&l.substr(h,h+f.length)===f,Vd=(l,f)=>Oa(l,f)?mm(l,f.length):l,Jr=(l,f,h=0,y)=>{const S=l.indexOf(f,h);return S!==-1?So(y)?!0:S+f.length<=y:!1},Oa=(l,f)=>wr(l,f,0),li=(l,f)=>wr(l,f,l.length-f.length),bu=(l=>f=>f.replace(l,""))(/^\s+|\s+$/g),G=l=>l.length>0,oe=l=>{const f=parseFloat(l);return isNaN(f)?ie.none():ie.some(f)},Ze=l=>l.style!==void 0&&St(l.style.getPropertyValue),Ct=(l,f,h)=>{if(!qe(h))throw console.error("Invalid call to CSS.set. Property ",f,":: Value ",h,":: Element ",l),new Error("CSS value must be a string: "+h);Ze(l)&&l.style.setProperty(f,h)},fn=(l,f)=>{Ze(l)&&l.style.removeProperty(f)},Dn=(l,f,h)=>{const y=l.dom;Ct(y,f,h)},As=(l,f)=>{const h=l.dom;Ee(f,(y,S)=>{Ct(h,S,y)})},qs=(l,f)=>{const h=l.dom,S=window.getComputedStyle(h).getPropertyValue(f);return S===""&&!on(l)?Da(h,f):S},Da=(l,f)=>Ze(l)?l.style.getPropertyValue(f):"",ac=(l,f)=>{const h=l.dom,y=Da(h,f);return ie.from(y).filter(S=>S.length>0)},Qr=(l,f)=>{const h=l.dom;fn(h,f),Zl(ge(l,"style").map(bu),"")&&le(l,"style")},cc=(l,f)=>{const h=l.dom,y=f.dom;Ze(h)&&Ze(y)&&(y.style.cssText=h.style.cssText)},Js=(l,f,h=0)=>ge(l,f).map(y=>parseInt(y,10)).getOr(h),pc=(l,f)=>Js(l,f,1),qa=l=>Ro("col")(l)?Js(l,"span",1)>1:pc(l,"colspan")>1,Fr=l=>pc(l,"rowspan")>1,Sr=(l,f)=>parseInt(qs(l,f),10),dr=X(10),yu=X(10),vu=(l,f)=>xu(l,f,We),xu=(l,f,h)=>Nt(xn(l),y=>Nn(y,f)?h(y)?[y]:[]:xu(y,f,h)),_f=(l,f,h=co)=>{if(h(f))return ie.none();if(ot(l,ys(f)))return ie.some(f);const y=S=>Nn(S,"table")||h(S);return sc(f,l.join(","),y)},wu=(l,f)=>_f(["td","th"],l,f),Pi=l=>vu(l,"th,td"),Cf=l=>Nn(l,"colgroup")?Dt(l,"col"):Nt(wg(l),f=>Dt(f,"col")),da=(l,f)=>Ir(l,"table",f),Sf=l=>vu(l,"tr"),wg=l=>da(l).fold(X([]),f=>Dt(f,"colgroup")),kl=(l,f)=>wt(l,h=>{if(ys(h)==="colgroup"){const y=wt(Cf(h),S=>{const O=Js(S,"span",1);return xl(S,1,O)});return Xr(h,y,"colgroup")}else{const y=wt(Pi(h),S=>{const O=Js(S,"rowspan",1),I=Js(S,"colspan",1);return xl(S,O,I)});return Xr(h,y,f(h))}}),kg=l=>xs(l).map(f=>{const h=ys(f);return mc(h)?h:"tbody"}).getOr("tbody"),ku=l=>{const f=Sf(l),y=[...wg(l),...f];return kl(y,kg)},_g=(l,f)=>kl(l,()=>f),ql=l=>{let f=!1,h;return(...y)=>(f||(f=!0,h=l.apply(null,y)),h)},Cg=(l,f,h,y)=>{const S=l.isiOS()&&/ipad/i.test(h)===!0,O=l.isiOS()&&!S,I=l.isiOS()||l.isAndroid(),Z=I||y("(pointer:coarse)"),se=S||!O&&I&&y("(min-device-width:768px)"),Ce=O||I&&!se,Ye=f.isSafari()&&l.isiOS()&&/safari/i.test(h)===!1,no=!Ce&&!se&&!Ye;return{isiPad:X(S),isiPhone:X(O),isTablet:X(se),isPhone:X(Ce),isTouch:X(Z),isAndroid:l.isAndroid,isiOS:l.isiOS,isWebView:X(Ye),isDesktop:X(no)}},Ef=(l,f)=>{for(let h=0;h<l.length;h++){const y=l[h];if(y.test(f))return y}},gm=(l,f)=>{const h=Ef(l,f);if(!h)return{major:0,minor:0};const y=S=>Number(f.replace(h,"$"+S));return we(y(1),y(2))},_u=(l,f)=>{const h=String(f).toLowerCase();return l.length===0?pm():gm(l,h)},pm=()=>we(0,0),we=(l,f)=>({major:l,minor:f}),Gl={nu:we,detect:_u,unknown:pm},_l=(l,f)=>de(f.brands,h=>{const y=h.brand.toLowerCase();return P(l,S=>{var O;return y===((O=S.brand)===null||O===void 0?void 0:O.toLowerCase())}).map(S=>({current:S.name,version:Gl.nu(parseInt(h.version,10),0)}))}),Sg=(l,f)=>{const h=String(f).toLowerCase();return P(l,y=>y.search(h))},Jh=(l,f)=>Sg(l,f).map(h=>{const y=Gl.detect(h.versionRegexes,f);return{current:h.name,version:y}}),Cu=(l,f)=>Sg(l,f).map(h=>{const y=Gl.detect(h.versionRegexes,f);return{current:h.name,version:y}}),ts=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ga=l=>f=>Jr(f,l),$i=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:l=>Jr(l,"edge/")&&Jr(l,"chrome")&&Jr(l,"safari")&&Jr(l,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ts],search:l=>Jr(l,"chrome")&&!Jr(l,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:l=>Jr(l,"msie")||Jr(l,"trident")},{name:"Opera",versionRegexes:[ts,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ga("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ga("firefox")},{name:"Safari",versionRegexes:[ts,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:l=>(Jr(l,"safari")||Jr(l,"mobile/"))&&Jr(l,"applewebkit")}],Su=[{name:"Windows",search:ga("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:l=>Jr(l,"iphone")||Jr(l,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ga("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ga("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ga("linux"),versionRegexes:[]},{name:"Solaris",search:ga("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ga("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ga("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Tf={browsers:X($i),oses:X(Su)},Ud="Edge",hc="Chromium",Af="IE",Kl="Opera",zf="Firefox",Yl="Safari",Ic=()=>Eg({current:void 0,version:Gl.unknown()}),Eg=l=>{const f=l.current,h=l.version,y=S=>()=>f===S;return{current:f,version:h,isEdge:y(Ud),isChromium:y(hc),isIE:y(Af),isOpera:y(Kl),isFirefox:y(zf),isSafari:y(Yl)}},jd={unknown:Ic,nu:Eg,edge:X(Ud),chromium:X(hc),ie:X(Af),opera:X(Kl),firefox:X(zf),safari:X(Yl)},Ia="Windows",Yc="iOS",zc="Android",rd="Linux",Wd="macOS",Tg="Solaris",Zd="FreeBSD",el="ChromeOS",Of=()=>Dp({current:void 0,version:Gl.unknown()}),Dp=l=>{const f=l.current,h=l.version,y=S=>()=>f===S;return{current:f,version:h,isWindows:y(Ia),isiOS:y(Yc),isAndroid:y(zc),isMacOS:y(Wd),isLinux:y(rd),isSolaris:y(Tg),isFreeBSD:y(Zd),isChromeOS:y(el)}},Ag={unknown:Of,nu:Dp,windows:X(Ia),ios:X(Yc),android:X(zc),linux:X(rd),macos:X(Wd),solaris:X(Tg),freebsd:X(Zd),chromeos:X(el)},hm={detect:(l,f,h)=>{const y=Tf.browsers(),S=Tf.oses(),O=f.bind(se=>_l(y,se)).orThunk(()=>Jh(y,l)).fold(jd.unknown,jd.nu),I=Cu(S,l).fold(Ag.unknown,Ag.nu),Z=Cg(I,O,l,h);return{browser:O,os:I,deviceType:Z}}},qd=l=>window.matchMedia(l).matches;let ad=ql(()=>hm.detect(window.navigator.userAgent,ie.from(window.navigator.userAgentData),qd));const Gd=()=>ad(),Nr=(l,f)=>{const h=(Z,se)=>{if(!to(se)&&!se.match(/^[0-9]+$/))throw new Error(l+".set accepts only positive integer values. Value was "+se);const Ce=Z.dom;Ze(Ce)&&(Ce.style[l]=se+"px")},y=Z=>{const se=f(Z);if(se<=0||se===null){const Ce=qs(Z,l);return parseFloat(Ce)||0}return se},S=y,O=(Z,se)=>ke(se,(Ce,Ye)=>{const no=qs(Z,Ye),Ao=no===void 0?0:parseInt(no,10);return isNaN(Ao)?Ce:Ce+Ao},0);return{set:h,get:y,getOuter:S,aggregate:O,max:(Z,se,Ce)=>{const Ye=O(Z,Ce);return se>Ye?se-Ye:0}}},Lr=(l,f)=>oe(l).getOr(f),bi=(l,f,h)=>Lr(qs(l,f),h),cd=(l,f,h,y)=>{const S=bi(l,`padding-${h}`,0),O=bi(l,`padding-${y}`,0),I=bi(l,`border-${h}-width`,0),Z=bi(l,`border-${y}-width`,0);return f-S-O-I-Z},zg=(l,f)=>{const h=l.dom,y=h.getBoundingClientRect().width||h.offsetWidth;return f==="border-box"?y:cd(l,y,"left","right")},Ca=l=>bi(l,"height",l.dom.offsetHeight),nn=l=>bi(l,"width",l.dom.offsetWidth),Xl=l=>zg(l,"content-box"),bm=Nr("width",l=>l.dom.offsetWidth),Ga=l=>bm.get(l),js=l=>bm.getOuter(l),Eu=Xl,Og=nn,Kd=(l,f,h)=>{const y=l.cells,S=y.slice(0,f),O=y.slice(f),I=S.concat(h).concat(O);return Sa(l,I)},Rp=(l,f,h)=>Kd(l,f,[h]),Kn=(l,f,h)=>{const y=l.cells;y[f]=h},Sa=(l,f)=>fe(l.element,f,l.section,l.isNew),id=(l,f)=>{const h=l.cells,y=wt(h,f);return fe(l.element,y,l.section,l.isNew)},ic=(l,f)=>l.cells[f],Fc=(l,f)=>ic(l,f).element,yi=l=>l.cells.length,Fa=l=>{const f=yo(l,h=>h.section==="colgroup");return{rows:f.fail,cols:f.pass}},Oc=(l,f,h)=>{const y=wt(l.cells,h);return fe(f(l.element),y,l.section,!0)},di="data-snooker-locked-cols",ym=l=>ge(l,di).bind(f=>ie.from(f.match(/\d+/g))).map(f=>K(f,We)),Zr=l=>{const f=ke(Fa(l).rows,(y,S)=>(ye(S.cells,(O,I)=>{O.isLocked&&(y[I]=!0)}),y),{}),h=Ut(f,(y,S)=>parseInt(S,10));return te(h)},ld=(l,f)=>l+","+f,na=(l,f,h)=>ie.from(l.access[ld(f,h)]),Tu=(l,f,h)=>{const y=ud(l,S=>h(f,S.element));return y.length>0?ie.some(y[0]):ie.none()},ud=(l,f)=>{const h=Nt(l.all,y=>y.cells);return He(h,f)},sr=l=>{const f={};let h=0;return ye(l.cells,y=>{const S=y.colspan;bt(S,O=>{const I=h+O;f[I]=Et(y.element,S,I)}),h+=S}),f},Ii=l=>{const f={},h=[],S=V(l).map(_o=>_o.element).bind(da).bind(ym).getOr({});let O=0,I=0,Z=0;const{pass:se,fail:Ce}=yo(l,_o=>_o.section==="colgroup");ye(Ce,_o=>{const go=[];ye(_o.cells,Xo=>{let qt=0;for(;f[ld(Z,qt)]!==void 0;)qt++;const uo=Mo(S,qt.toString()),zn=Qi(Xo.element,Xo.rowspan,Xo.colspan,Z,qt,uo);for(let Mn=0;Mn<Xo.colspan;Mn++)for(let rn=0;rn<Xo.rowspan;rn++){const Gr=Z+rn,er=qt+Mn,ya=ld(Gr,er);f[ya]=zn,I=Math.max(I,er+1)}go.push(zn)}),O++,h.push(Xr(_o.element,go,_o.section)),Z++});const{columns:Ye,colgroups:no}=re(se).map(_o=>{const go=sr(_o);return{colgroups:[oo(_o.element,io(go))],columns:go}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ta(O,I),access:f,all:h,columns:Ye,colgroups:no}},ss={fromTable:l=>{const f=ku(l);return Ii(f)},generate:Ii,getAt:na,findItem:Tu,filterItems:ud,justCells:l=>Nt(l.all,f=>f.cells),justColumns:l=>io(l.columns),hasColumns:l=>be(l.columns).length>0,getColumnAt:(l,f)=>ie.from(l.columns[f])},dd=(l,f=We)=>{const h=l.grid,y=bt(h.columns,lt),S=bt(h.rows,lt);return wt(y,O=>Df(()=>Nt(S,Ce=>ss.getAt(l,Ce,O).filter(Ye=>Ye.column===O).toArray()),Ce=>Ce.colspan===1&&f(Ce.element),()=>ss.getAt(l,0,O)))},Df=(l,f,h)=>{const y=l();return P(y,f).orThunk(()=>ie.from(y[0]).orThunk(h)).map(I=>I.element)},vm=l=>{const f=l.grid,h=bt(f.rows,lt),y=bt(f.columns,lt);return wt(h,S=>Df(()=>Nt(y,se=>ss.getAt(l,S,se).filter(Ce=>Ce.row===S).fold(X([]),Ce=>[Ce])),se=>se.rowspan===1,()=>ss.getAt(l,S,0)))},C=(l,f)=>{if(f<0||f>=l.length-1)return ie.none();const h=l[f].fold(()=>{const S=dt(l.slice(0,f));return de(S,(O,I)=>O.map(Z=>({value:Z,delta:I+1})))},S=>ie.some({value:S,delta:0})),y=l[f+1].fold(()=>{const S=l.slice(f+1);return de(S,(O,I)=>O.map(Z=>({value:Z,delta:I+1})))},S=>ie.some({value:S,delta:1}));return h.bind(S=>y.map(O=>{const I=O.delta+S.delta;return Math.abs(O.value-S.value)/I}))},D=(l,f)=>h=>L(h)==="rtl"?f:l,L=l=>qs(l,"direction")==="rtl"?"rtl":"ltr",me=Nr("height",l=>{const f=l.dom;return on(l)?f.getBoundingClientRect().height:f.offsetHeight}),Te=l=>me.get(l),It=l=>me.getOuter(l),Cn=Ca,Yn=(l,f)=>({left:l,top:f,translate:(y,S)=>Yn(l+y,f+S)}),Tn=Yn,Sn=l=>{const f=l.getBoundingClientRect();return Tn(f.left,f.top)},yr=(l,f)=>l!==void 0?l:f!==void 0?f:0,fa=l=>{const f=l.dom.ownerDocument,h=f.body,y=f.defaultView,S=f.documentElement;if(h===l.dom)return Tn(h.offsetLeft,h.offsetTop);const O=yr(y==null?void 0:y.pageYOffset,S.scrollTop),I=yr(y==null?void 0:y.pageXOffset,S.scrollLeft),Z=yr(S.clientTop,h.clientTop),se=yr(S.clientLeft,h.clientLeft);return vi(l).translate(I-se,O-Z)},vi=l=>{const f=l.dom,y=f.ownerDocument.body;return y===f?Tn(y.offsetLeft,y.offsetTop):on(l)?Sn(f):Tn(0,0)},Ql=(l,f)=>({row:l,y:f}),Rf=(l,f)=>({col:l,x:f}),Dg=l=>fa(l).left+js(l),Dc=l=>fa(l).left,Rg=(l,f)=>Rf(l,Dc(f)),Ry=(l,f)=>Rf(l,Dg(f)),Mp=l=>fa(l).top,bc=(l,f)=>Ql(l,Mp(f)),Bp=(l,f)=>Ql(l,Mp(f)+It(f)),Ra=(l,f,h)=>{if(h.length===0)return[];const y=wt(h.slice(1),(O,I)=>O.map(Z=>l(I,Z))),S=h[h.length-1].map(O=>f(h.length-1,O));return y.concat([S])},Ny=l=>-l,Jc={delta:lt,positions:l=>Ra(bc,Bp,l),edge:Mp},xm=D({delta:lt,edge:Dc,positions:l=>Ra(Rg,Ry,l)},{delta:Ny,edge:Dg,positions:l=>Ra(Ry,Rg,l)}),Ng={delta:(l,f)=>xm(f).delta(l,f),positions:(l,f)=>xm(f).positions(l,f),edge:l=>xm(l).edge(l)},Pp={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Qh=(()=>{const l="[0-9]+",h="[eE]"+("[+-]?"+l),y="\\.",S=Z=>`(?:${Z})?`,I=`[+-]?(?:${["Infinity",l+y+S(l)+S(h),y+l+S(h),l+S(h)].join("|")})`;return new RegExp(`^(${I})(.*)$`)})(),Cl=(l,f)=>ue(f,h=>ue(Pp[h],y=>l===y)),zu=(l,f)=>ie.from(Qh.exec(l)).bind(y=>{const S=Number(y[1]),O=y[2];return Cl(O,f)?ie.some({value:S,unit:O}):ie.none()}),Yd=/(\d+(\.\d+)?)%/,Do=/(\d+(\.\d+)?)px|em/,tl=Ro("col"),$p=Ro("tr"),Nf=(l,f,h)=>{const y=Rs(l).getOrThunk(()=>ii(Ko(l)));return f(l)/h(y)*100},Sl=(l,f)=>{Dn(l,"width",f+"px")},Mg=(l,f)=>{Dn(l,"width",f+"%")},Xd=(l,f)=>{Dn(l,"height",f+"px")},Mf=l=>{Qr(l,"height")},Bg=l=>Cn(l)+"px",eu=(l,f,h,y)=>{const S=da(l).map(O=>{const I=h(O);return Math.floor(f/100*I)}).getOr(f);return y(l,S),S},My=(l,f,h,y)=>{const S=parseFloat(l);return li(l,"%")&&ys(f)!=="table"?eu(f,S,h,y):S},qr=l=>{const f=Bg(l);return f?My(f,l,Te,Xd):Te(l)},Xt=(l,f,h)=>{const y=h(l),S=pc(l,f);return y/S},Lc=(l,f)=>ac(l,f).orThunk(()=>ge(l,f).map(h=>h+"px")),tu=l=>Lc(l,"width"),Ka=l=>Lc(l,"height"),wm=l=>Nf(l,Ga,Eu),La=l=>tl(l)?Ga(l):Og(l),Ms=l=>$p(l)?Te(l):Xt(l,"rowspan",qr),Ip=l=>tu(l).bind(h=>zu(h,["fixed","relative","empty"])),Ot=(l,f,h)=>{Dn(l,"width",f+h)},Bs=l=>Ga(l)+"px",Pg=l=>Te(l)+"px",Na=l=>Nf(l,Ga,Eu)+"%",Hc=l=>tu(l).exists(f=>Yd.test(f)),By=l=>tu(l).exists(f=>Do.test(f)),Li=l=>tu(l).isNone(),m0=X(Yd),fd=Ro("col"),Py=l=>tu(l).getOrThunk(()=>La(l)+"px"),Hi=l=>Ka(l).getOrThunk(()=>Ms(l)+"px"),Os=l=>wt(ss.justColumns(l),f=>ie.from(f.element)),Ou=l=>{const f=Gd().browser,h=f.isChromium()||f.isFirefox();return fd(l)?h:!0},Bf=(l,f,h,y,S,O)=>l.filter(y).fold(()=>O(C(h,f)),I=>S(I)),Ha=(l,f,h,y)=>{const S=dd(l),O=ss.hasColumns(l)?Os(l):S,I=[ie.some(Ng.edge(f))].concat(wt(Ng.positions(S,f),se=>se.map(Ce=>Ce.x))),Z=U(qa);return wt(O,(se,Ce)=>Bf(se,Ce,I,Z,Ye=>{if(Ou(Ye))return h(Ye);{const no=Bi(S[Ce],lt);return Bf(no,Ce,I,Z,Ao=>y(ie.some(Ga(Ao))),y)}},y))},Fp=l=>l.map(f=>f+"px").getOr(""),Du=(l,f)=>Ha(l,f,Py,Fp),Ru=(l,f,h)=>Ha(l,f,wm,y=>y.fold(()=>h.minCellWidth(),S=>S/h.pixelWidth()*100)),kr=(l,f,h)=>Ha(l,f,La,y=>y.getOrThunk(h.minCellWidth)),km=(l,f,h,y)=>{const S=vm(l),O=wt(l.all,Z=>ie.some(Z.element)),I=[ie.some(Jc.edge(f))].concat(wt(Jc.positions(S,f),Z=>Z.map(se=>se.y)));return wt(O,(Z,se)=>Bf(Z,se,I,We,h,y))},Ve=(l,f)=>km(l,f,Ms,h=>h.getOrThunk(yu)),Vi=(l,f)=>km(l,f,Hi,Fp),_m=(l,f)=>()=>on(l)?f(l):parseFloat(ac(l,"width").getOr("0")),Vc=l=>{const f=_m(l,Ga),h=X(0);return{width:f,pixelWidth:f,getWidths:(S,O)=>kr(S,l,O),getCellDelta:h,singleColumnWidth:X([0]),minCellWidth:h,setElementWidth:Qe,adjustTableWidth:Qe,isRelative:!0,label:"none"}},Ui=l=>{const f=_m(l,se=>parseFloat(Na(se))),h=_m(l,Ga);return{width:f,pixelWidth:h,getWidths:(se,Ce)=>Ru(se,l,Ce),getCellDelta:se=>se/h()*100,singleColumnWidth:(se,Ce)=>[100-se],minCellWidth:()=>dr()/h()*100,setElementWidth:Mg,adjustTableWidth:se=>{const Ce=f(),Ye=se/100*Ce,no=Ce+Ye;Mg(l,no)},isRelative:!0,label:"percent"}},pa=l=>{const f=_m(l,Ga);return{width:f,pixelWidth:f,getWidths:(I,Z)=>kr(I,l,Z),getCellDelta:lt,singleColumnWidth:(I,Z)=>[Math.max(dr(),I+Z)-I],minCellWidth:dr,setElementWidth:Sl,adjustTableWidth:I=>{const Z=f()+I;Sl(l,Z)},isRelative:!1,label:"pixel"}},sa=(l,f)=>m0().exec(f)!==null?Ui(l):pa(l),w={getTableSize:l=>tu(l).fold(()=>Vc(l),h=>sa(l,h)),pixelSize:pa,percentageSize:Ui,noneSize:Vc},A=(l,f,h,y,S,O)=>({minRow:l,minCol:f,maxRow:h,maxCol:y,allCells:S,selectedCells:O}),F=(l,f)=>{const h=l.grid.columns;let S=l.grid.rows,O=h,I=0,Z=0;const se=[],Ce=[];return Ee(l.access,Ye=>{if(se.push(Ye),f(Ye)){Ce.push(Ye);const no=Ye.row,Ao=no+Ye.rowspan-1,_o=Ye.column,go=_o+Ye.colspan-1;no<S?S=no:Ao>I&&(I=Ao),_o<O?O=_o:go>Z&&(Z=go)}}),A(S,O,I,Z,se,Ce)},J=(l,f,h)=>{const y=l[h].element,S=Ae.fromTag("td");ur(S,Ae.fromTag("br")),(f?ur:Yr)(y,S)},ze=(l,f,h,y)=>{const S=He(l,Z=>Z.section!=="colgroup"),O=f.grid.columns,I=f.grid.rows;for(let Z=0;Z<I;Z++){let se=!1;for(let Ce=0;Ce<O;Ce++)Z<h.minRow||Z>h.maxRow||Ce<h.minCol||Ce>h.maxCol||(ss.getAt(f,Z,Ce).filter(y).isNone()?J(S,se,Z):se=!0)}},Tt=(l,f,h,y)=>{Ee(h.columns,I=>{(I.column<f.minCol||I.column>f.maxCol)&&Wr(I.element)});const S=He(vu(l,"tr"),I=>I.dom.childElementCount===0);ye(S,Wr),(f.minCol===f.maxCol||f.minRow===f.maxRow)&&ye(vu(l,"th,td"),I=>{le(I,"rowspan"),le(I,"colspan")}),le(l,di),le(l,"data-snooker-col-series"),w.getTableSize(l).adjustTableWidth(y)},fo=(l,f,h,y)=>{if(y.minCol===0&&f.grid.columns===y.maxCol+1)return 0;const S=kr(f,l,h),O=ke(S,(Ce,Ye)=>Ce+Ye,0),se=ke(S.slice(y.minCol,y.maxCol+1),(Ce,Ye)=>Ce+Ye,0)/O*h.pixelWidth()-h.pixelWidth();return h.getCellDelta(se)},Wo=(l,f)=>{const h=Ao=>Nn(Ao.element,f),y=$c(l),S=ku(y),O=w.getTableSize(l),I=ss.generate(S),Z=F(I,h),se="th:not("+f+"),td:not("+f+")",Ce=xu(y,"th,td",Ao=>Nn(Ao,se));ye(Ce,Wr),ze(S,I,Z,h);const Ye=ss.fromTable(l),no=fo(l,Ye,O,Z);return Tt(y,Z,I,no),y},Un=" ",Is=((l,f)=>{const h=O=>{if(!l(O))throw new Error("Can only get "+f+" value of a "+f+" node");return y(O).getOr("")},y=O=>l(O)?ie.from(O.dom.nodeValue):ie.none();return{get:h,getOption:y,set:(O,I)=>{if(!l(O))throw new Error("Can only set raw "+f+" value of a "+f+" node");O.dom.nodeValue=I}}})(Le,"text"),Fs=l=>Is.get(l),Hr=l=>Is.getOption(l),ji=(l,f)=>Is.set(l,f),yc=l=>ys(l)==="img"?1:Hr(l).fold(()=>xn(l).length,f=>f.length),ou=l=>Hr(l).filter(f=>f.trim().length!==0||f.indexOf(Un)>-1).isSome(),El=l=>Qo(l)&&ir(l,"contenteditable")==="false",Nu=["img","br"],$g=l=>ou(l)||ot(Nu,ys(l))||El(l),ol=l=>_a(l,$g),Cm=l=>Lp(l,$g),Lp=(l,f)=>{const h=y=>{const S=xn(y);for(let O=S.length-1;O>=0;O--){const I=S[O];if(f(I))return ie.some(I);const Z=h(I);if(Z.isSome())return Z}return ie.none()};return h(l)},Hp={scope:["row","col"]},Pf=l=>()=>{const f=Ae.fromTag("td",l.dom);return ur(f,Ae.fromTag("br",l.dom)),f},Ya=l=>()=>Ae.fromTag("col",l.dom),nu=l=>()=>Ae.fromTag("colgroup",l.dom),zs=l=>()=>Ae.fromTag("tr",l.dom),vr=(l,f,h)=>{const y=yl(l,f);return Ee(h,(S,O)=>{S===null?le(y,O):is(y,O,S)}),y},Qc=l=>l,ma=(l,f,h)=>ol(l).map(S=>{const O=h.join(","),I=Ge(S,O,Z=>jt(Z,l));return Zt(I,(Z,se)=>{const Ce=$a(se);return ur(Z,Ce),Ce},f)}).getOr(f),Vp=(l,f)=>{Ee(Hp,(h,y)=>ge(l,y).filter(S=>ot(h,S)).each(S=>is(f,y,S)))},$f=(l,f,h)=>{const y=(I,Z)=>{cc(I.element,Z),Qr(Z,"height"),I.colspan!==1&&Qr(Z,"width")},S=I=>{const Z=Ae.fromTag(ys(I.element),f.dom),se=h.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Ce=se.length>0?ma(I.element,Z,se):Z;return ur(Ce,Ae.fromTag("br")),y(I,Z),Vp(I.element,Z),l(I.element,Z),Z};return{col:I=>{const Z=Ae.fromTag(ys(I.element),f.dom);return y(I,Z),l(I.element,Z),Z},colgroup:nu(f),row:zs(f),cell:S,replace:vr,colGap:Ya(f),gap:Pf(f)}},If=l=>({col:Ya(l),colgroup:nu(l),row:zs(l),cell:Pf(l),replace:Qc,colGap:Ya(l),gap:Pf(l)}),nl=(l,f)=>{const y=document.createElement("div");return y.innerHTML=l,xn(Ae.fromDom(y))},md=l=>wt(l,Ae.fromDom),Jd=l=>f=>f.options.get(l),Mu="100%",eb=l=>{var f;const h=l.dom,y=(f=h.getParent(l.selection.getStart(),h.isBlock))!==null&&f!==void 0?f:l.getBody();return Eu(Ae.fromDom(y))+"px"},Qd=(l,f)=>su(l)||!tb(l)?f:Ff(l)?{...f,width:eb(l)}:{...f,width:Mu},Up=(l,f)=>su(l)||tb(l)?f:Ff(l)?{...f,width:eb(l)}:{...f,width:Mu},Ig=l=>{const f=l.options.register;f("table_clone_elements",{processor:"string[]"}),f("table_use_colgroups",{processor:"boolean",default:!0}),f("table_header_type",{processor:h=>{const y=ot(["section","cells","sectionCells","auto"],h);return y?{value:h,valid:y}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),f("table_sizing_mode",{processor:"string",default:"auto"}),f("table_default_attributes",{processor:"object",default:{border:"1"}}),f("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),f("table_column_resizing",{processor:h=>{const y=ot(["preservetable","resizetable"],h);return y?{value:h,valid:y}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),f("table_resize_bars",{processor:"boolean",default:!0}),f("table_style_by_css",{processor:"boolean",default:!0}),f("table_merge_content_on_paste",{processor:"boolean",default:!0})},o_=l=>ie.from(l.options.get("table_clone_elements")),gd=l=>{const f=l.options.get("object_resizing");return ot(f.split(","),"table")},n_=Jd("table_header_type"),p0=Jd("table_column_resizing"),ha=l=>p0(l)==="preservetable",$y=l=>p0(l)==="resizetable",pd=Jd("table_sizing_mode"),Sm=l=>pd(l)==="relative",Ff=l=>pd(l)==="fixed",su=l=>pd(l)==="responsive",ru=Jd("table_resize_bars"),tb=Jd("table_style_by_css"),hd=Jd("table_merge_content_on_paste"),ei=l=>{const f=l.options,h=f.get("table_default_attributes");return f.isSet("table_default_attributes")?h:Up(l,h)},ob=l=>{const f=l.options,h=f.get("table_default_styles");return f.isSet("table_default_styles")?h:Qd(l,h)},h0=Jd("table_use_colgroups"),nb=l=>Ir(l,"[contenteditable]"),sb=(l,f=!1)=>on(l)?l.dom.isContentEditable:nb(l).fold(X(f),h=>b0(h)==="true"),b0=l=>l.dom.contentEditable,Fg=l=>Ae.fromDom(l.getBody()),bd=l=>f=>jt(f,Fg(l)),xi=l=>{le(l,"data-mce-style");const f=h=>le(h,"data-mce-style");ye(Pi(l),f),ye(Cf(l),f),ye(Sf(l),f)},au=l=>Ae.fromDom(l.selection.getStart()),Em=l=>l.getBoundingClientRect().width,y0=l=>l.getBoundingClientRect().height,Lg=l=>(f,h)=>{const y=f.dom.getStyle(h,l)||f.dom.getAttrib(h,l);return ie.from(y).filter(G)},v0=Lg("width"),s_=Lg("height"),r_=l=>/^(\d+(\.\d+)?)%$/.test(l),a_=l=>/^(\d+(\.\d+)?)px$/.test(l),Tm=l=>Qt(l,Ro("table")).exists(sb),Hg=(l,f)=>{const h=f.column,y=f.column+f.colspan-1,S=f.row,O=f.row+f.rowspan-1;return h<=l.finishCol&&y>=l.startCol&&S<=l.finishRow&&O>=l.startRow},ns=(l,f)=>f.column>=l.startCol&&f.column+f.colspan-1<=l.finishCol&&f.row>=l.startRow&&f.row+f.rowspan-1<=l.finishRow,bn=(l,f)=>{let h=!0;const y=pt(ns,f);for(let S=f.startRow;S<=f.finishRow;S++)for(let O=f.startCol;O<=f.finishCol;O++)h=h&&ss.getAt(l,S,O).exists(y);return h?ie.some(f):ie.none()},Am=(l,f)=>$e(Math.min(l.row,f.row),Math.min(l.column,f.column),Math.max(l.row+l.rowspan-1,f.row+f.rowspan-1),Math.max(l.column+l.colspan-1,f.column+f.colspan-1)),rb=(l,f,h)=>{const y=ss.findItem(l,f,jt),S=ss.findItem(l,h,jt);return y.bind(O=>S.map(I=>Am(O,I)))},Iy=(l,f,h)=>rb(l,f,h).bind(y=>bn(l,y)),x0=(l,f,h,y)=>ss.findItem(l,f,jt).bind(S=>{const O=h>0?S.row+S.rowspan-1:S.row,I=y>0?S.column+S.colspan-1:S.column;return ss.getAt(l,O+h,I+y).map(se=>se.element)}),ef=(l,f,h)=>rb(l,f,h).map(y=>{const S=ss.filterItems(l,pt(Hg,y));return wt(S,O=>O.element)}),Er=(l,f)=>{const h=(y,S)=>To(S,y);return ss.findItem(l,f,h).map(y=>y.element)},c_=(l,f,h)=>da(l).bind(y=>{const S=Vg(y);return x0(S,l,f,h)}),w0=(l,f,h)=>{const y=Vg(l);return ef(y,f,h)},k0=(l,f,h,y,S)=>{const O=Vg(l),I=jt(l,h)?ie.some(f):Er(O,f),Z=jt(l,S)?ie.some(y):Er(O,y);return I.bind(se=>Z.bind(Ce=>ef(O,se,Ce)))},Rt=(l,f,h)=>{const y=Vg(l);return Iy(y,f,h)},Vg=ss.fromTable;var zE=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],zm=()=>{const l=Ce=>Ae.fromDom(Ce.dom.cloneNode(!1)),f=Ce=>jo(Ce).dom,h=Ce=>Vs(Ce)?ys(Ce)==="body"?!0:ot(zE,ys(Ce)):!1,y=Ce=>Vs(Ce)?ot(["br","img","hr","input"],ys(Ce)):!1,S=Ce=>Vs(Ce)&&ir(Ce,"contenteditable")==="false",O=(Ce,Ye)=>Ce.dom.compareDocumentPosition(Ye.dom),I=(Ce,Ye)=>{const no=tt(Ce);_r(Ye,no)},Z=Ce=>{const Ye=ys(Ce);return ot(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Ye)},se=Ce=>Vs(Ce)?ge(Ce,"lang"):ie.none();return{up:X({selector:sc,closest:Ir,predicate:Ns,all:Zs}),down:X({selector:In,predicate:xe}),styles:X({get:qs,getRaw:ac,set:Dn,remove:Qr}),attrs:X({get:ir,set:is,remove:le,copyTo:I}),insert:X({before:la,after:ua,afterAll:Ts,append:ur,appendAll:Aa,prepend:Yr,wrap:Ac}),remove:X({unwrap:Mi,remove:Wr}),create:X({nu:Ae.fromTag,clone:l,text:Ae.fromText}),query:X({comparePosition:O,prevSibling:Pa,nextSibling:Za}),property:X({children:xn,name:ys,parent:xs,document:f,isText:Le,isComment:vs,isElement:Vs,isSpecial:Z,getLanguage:se,getText:Fs,setText:ji,isBoundary:h,isEmptyTag:y,isNonEditable:S}),eq:jt,is:Zo}};const OE=(l,f,h,y)=>{const S=h[0],O=h.slice(1);return y(l,f,S,O)},Ug=(l,f,h)=>h.length>0?OE(l,f,h,_0):ie.none(),_0=(l,f,h,y)=>{const S=f(l,h);return Zt(y,(O,I)=>{const Z=f(l,I);return yd(l,O,Z)},S)},yd=(l,f,h)=>f.bind(y=>h.filter(pt(l.eq,y))),C0=(l,f)=>pt(l.eq,f),jp=(l,f,h,y=co)=>{const S=[f].concat(l.up().all(f)),O=[h].concat(l.up().all(h)),I=Ye=>wn(Ye,y).fold(()=>Ye,Ao=>Ye.slice(0,Ao+1)),Z=I(S),se=I(O),Ce=P(Z,Ye=>ue(se,C0(l,Ye)));return{firstpath:Z,secondpath:se,shared:Ce}},Mr=Ug,tf=jp,S0=zm(),Bu=(l,f)=>Mr(S0,(h,y)=>l(y),f),E0=(l,f,h)=>tf(S0,l,f,h),ab=l=>sc(l,"table"),Wp=(l,f,h)=>{const y=S=>O=>h!==void 0&&h(O)||jt(O,S);return jt(l,f)?ie.some({boxes:ie.some([l]),start:l,finish:f}):ab(l).bind(S=>ab(f).bind(O=>{if(jt(S,O))return ie.some({boxes:w0(S,l,f),start:l,finish:f});if(To(S,O)){const I=Ge(f,"td,th",y(S)),Z=I.length>0?I[I.length-1]:f;return ie.some({boxes:k0(S,l,S,f,O),start:l,finish:Z})}else if(To(O,S)){const I=Ge(l,"td,th",y(O)),Z=I.length>0?I[I.length-1]:l;return ie.some({boxes:k0(O,l,S,f,O),start:l,finish:Z})}else return E0(l,f).shared.bind(I=>Ir(I,"table",h).bind(Z=>{const se=Ge(f,"td,th",y(Z)),Ce=se.length>0?se[se.length-1]:f,Ye=Ge(l,"td,th",y(Z)),no=Ye.length>0?Ye[Ye.length-1]:l;return ie.some({boxes:k0(Z,l,S,f,O),start:no,finish:Ce})}))}))},cb=(l,f)=>{const h=In(l,f);return h.length>0?ie.some(h):ie.none()},sl=(l,f)=>P(l,h=>Nn(h,f)),i_=(l,f,h)=>rc(l,f).bind(y=>rc(l,h).bind(S=>Bu(ab,[y,S]).map(O=>({first:y,last:S,table:O})))),ib=(l,f)=>sc(l,"table").bind(h=>rc(h,f).bind(y=>Wp(y,l).bind(S=>S.boxes.map(O=>({boxes:O,start:S.start,finish:S.finish}))))),T0=(l,f,h,y,S)=>sl(l,S).bind(O=>c_(O,f,h).bind(I=>ib(I,y))),Om=(l,f)=>cb(l,f),A0=(l,f,h)=>i_(l,f,h).bind(y=>{const S=se=>jt(l,se),O="thead,tfoot,tbody,table",I=sc(y.first,O,S),Z=sc(y.last,O,S);return I.bind(se=>Z.bind(Ce=>jt(se,Ce)?Rt(y.table,y.first,y.last):ie.none()))}),l_=lt,z0=l=>{const f=(y,S)=>ge(y,S).exists(O=>parseInt(O,10)>1),h=y=>f(y,"rowspan")||f(y,"colspan");return l.length>0&&Ue(l,h)?ie.some(l):ie.none()},u_=(l,f,h)=>f.length<=1?ie.none():A0(l,h.firstSelectedSelector,h.lastSelectedSelector).map(y=>({bounds:y,cells:f})),fi="data-mce-selected",rl="td["+fi+"],th["+fi+"]",ao="["+fi+"]",Fy="data-mce-first-selected",Rc="td["+Fy+"],th["+Fy+"]",Ly="data-mce-last-selected",d_="td["+Ly+"],th["+Ly+"]",Br=ao,Lf={selected:fi,selectedSelector:rl,firstSelected:Fy,firstSelectedSelector:Rc,lastSelected:Ly,lastSelectedSelector:d_},Hy=(l,f,h)=>({element:h,mergable:u_(f,l,Lf),unmergable:z0(l),selection:l_(l)}),DE=(l,f,h)=>({element:l,clipboard:f,generators:h}),Hf=(l,f,h,y)=>({selection:l_(l),clipboard:h,generators:y}),Vy=l=>da(l).bind(f=>Om(f,Lf.firstSelectedSelector)).fold(X(l),f=>f[0]),vd=l=>(f,h)=>{const y=ys(f),S=y==="col"||y==="colgroup"?Vy(f):f;return Ir(S,l,h)},f_=vd("th,td,caption"),O0=vd("th,td"),Tr=l=>md(l.model.table.getSelectedCells()),Zp=l=>He(Tr(l),f=>Nn(f,Lf.selectedSelector)),ra=l=>da(l[0]).map(f=>{const h=Wo(f,Br);return xi(h),[h]}),m_=(l,f)=>wt(f,h=>l.selection.serializer.serialize(h.dom,{})).join(""),al=l=>wt(l,f=>f.dom.innerText).join(""),qp=(l,f)=>{l.on("BeforeGetContent",h=>{const y=S=>{h.preventDefault(),ra(S).each(O=>{h.content=h.format==="text"?al(O):m_(l,O)})};if(h.selection===!0){const S=Zp(l);S.length>=1&&y(S)}}),l.on("BeforeSetContent",h=>{if(h.selection===!0&&h.paste===!0){const y=Tr(l);V(y).each(S=>{da(S).each(O=>{const I=He(nl(h.content),se=>ys(se)!=="meta"),Z=Ro("table");if(hd(l)&&I.length===1&&Z(I[0])){h.preventDefault();const se=Ae.fromDom(l.getDoc()),Ce=If(se),Ye=DE(S,I[0],Ce);f.pasteCells(O,Ye).each(()=>{l.focus()})}})})}})},cl=(l,f)=>({element:l,offset:f}),RE=(l,f,h)=>l.property().isText(f)&&l.property().getText(f).trim().length===0||l.property().isComment(f)?h(f).bind(y=>RE(l,y,h).orThunk(()=>ie.some(y))):ie.none(),NE=(l,f)=>l.property().isText(f)?l.property().getText(f).length:l.property().children(f).length,ME=(l,f)=>{const h=RE(l,f,l.query().prevSibling).getOr(f);if(l.property().isText(h))return cl(h,NE(l,h));const y=l.property().children(h);return y.length>0?ME(l,y[y.length-1]):cl(h,NE(l,h))},BE=ME,vc=zm(),wi=l=>BE(vc,l),lb=(l,f)=>{qa(l)||Ip(l).each(y=>{const S=y.value/2;Ot(l,S,y.unit),Ot(f,S,y.unit)})},Dm=l=>wt(l,X(0)),D0=(l,f,h,y,S)=>S(l.slice(0,f)).concat(y).concat(S(l.slice(h))),Gp=l=>(f,h,y,S)=>{if(l(y)){const O=Math.max(S,f[h]-Math.abs(y)),I=Math.abs(O-f[h]);return y>=0?I:-I}else return y},of=Gp(l=>l<0),Kp=Gp(We),jg=()=>{const l=(Z,se,Ce,Ye,no)=>{const Ao=of(Z,se,Ye,no);return D0(Z,se,Ce+1,[Ao,0],Dm)},f=(Z,se,Ce,Ye)=>{const no=(100+Ce)/100,Ao=Math.max(Ye,(Z[se]+Ce)/no);return wt(Z,(_o,go)=>(go===se?Ao:_o/no)-_o)},h=(Z,se,Ce,Ye,no,Ao)=>Ao?f(Z,se,Ye,no):l(Z,se,Ce,Ye,no);return{resizeTable:(Z,se)=>Z(se),clampTableDelta:of,calcLeftEdgeDeltas:h,calcMiddleDeltas:(Z,se,Ce,Ye,no,Ao,_o)=>h(Z,Ce,Ye,no,Ao,_o),calcRightEdgeDeltas:(Z,se,Ce,Ye,no,Ao)=>{if(Ao)return f(Z,Ce,Ye,no);{const _o=of(Z,Ce,Ye,no);return Dm(Z.slice(0,Ce)).concat([_o])}},calcRedestributedWidths:(Z,se,Ce,Ye)=>{if(Ye){const Ao=(se+Ce)/se,_o=wt(Z,go=>go/Ao);return{delta:Ao*100-100,newSizes:_o}}else return{delta:Ce,newSizes:Z}}}},Rm=()=>{const l=(I,Z,se,Ce,Ye)=>{const no=Ce>=0?se:Z,Ao=Kp(I,no,Ce,Ye);return D0(I,Z,se+1,[Ao,-Ao],Dm)};return{resizeTable:(I,Z,se)=>{se&&I(Z)},clampTableDelta:(I,Z,se,Ce,Ye)=>{if(Ye){if(se>=0)return se;{const no=ke(I,(Ao,_o)=>Ao+_o-Ce,0);return Math.max(-no,se)}}else return of(I,Z,se,Ce)},calcLeftEdgeDeltas:l,calcMiddleDeltas:(I,Z,se,Ce,Ye,no)=>l(I,se,Ce,Ye,no),calcRightEdgeDeltas:(I,Z,se,Ce,Ye,no)=>{if(no)return Dm(I);{const Ao=Ce/I.length;return wt(I,X(Ao))}},calcRedestributedWidths:(I,Z,se,Ce)=>({delta:0,newSizes:I})}},nf=l=>ss.fromTable(l).grid,Wg=Ro("th"),Zg=l=>Ue(l,f=>Wg(f.element)),PE=(l,f)=>l&&f?"sectionCells":l?"section":"cells",R0=l=>{const f=l.section==="thead",h=Zl(Uy(l.cells),"th");return l.section==="tfoot"?{type:"footer"}:f||h?{type:"header",subType:PE(f,h)}:{type:"body"}},Uy=l=>{const f=He(l,h=>Wg(h.element));return f.length===0?ie.some("td"):f.length===l.length?ie.some("th"):ie.none()},g_=l=>{const f=wt(l,S=>R0(S).type),h=ot(f,"header"),y=ot(f,"footer");if(!h&&!y)return ie.some("body");{const S=ot(f,"body");return h&&!S&&!y?ie.some("header"):!h&&!S&&y?ie.some("footer"):ie.none()}},N0=l=>de(l.all,f=>{const h=R0(f);return h.type==="header"?ie.from(h.subType):ie.none()}),jy=(l,f,h)=>W(h(l.element,f),!0,l.isLocked),M0=(l,f)=>l.section!==f?fe(l.element,l.cells,f,l.isNew):l,B0=()=>({transformRow:M0,transformCell:(l,f,h)=>{const y=h(l.element,f),S=ys(y)!=="td"?hi(y,"td"):y;return W(S,l.isNew,l.isLocked)}}),P0=()=>({transformRow:M0,transformCell:jy}),ub=()=>({transformRow:(l,f)=>M0(l,f==="thead"?"tbody":f),transformCell:jy}),db={getTableSectionType:(l,f)=>{const h=ss.fromTable(l);switch(N0(h).getOr(f)){case"section":return B0();case"sectionCells":return P0();case"cells":return ub()}},section:B0,sectionCells:P0,cells:ub,fallback:()=>({transformRow:lt,transformCell:jy})},Yp=(l,f,h,y)=>{h===y?le(l,f):is(l,f,h)},Nm=(l,f,h)=>{re(Dt(l,f)).fold(()=>Yr(l,h),y=>ua(y,h))},$0=(l,f)=>{const h=Zn(l,f).getOrThunk(()=>{const y=Ae.fromTag(f,Ko(l).dom);return f==="thead"?Nm(l,"caption,colgroup",y):f==="colgroup"?Nm(l,"caption",y):ur(l,y),y});return ka(h),h},I0=(l,f)=>{const h=[],y=[],S=_o=>wt(_o,go=>{go.isNew&&h.push(go.element);const Xo=go.element;return ka(Xo),ye(go.cells,qt=>{qt.isNew&&y.push(qt.element),Yp(qt.element,"colspan",qt.colspan,1),Yp(qt.element,"rowspan",qt.rowspan,1),ur(Xo,qt.element)}),Xo}),O=_o=>Nt(_o,go=>wt(go.cells,Xo=>(Yp(Xo.element,"span",Xo.colspan,1),Xo.element))),I=(_o,go)=>{const Xo=$0(l,go),uo=(go==="colgroup"?O:S)(_o);Aa(Xo,uo)},Z=_o=>{Zn(l,_o).each(Wr)},se=(_o,go)=>{_o.length>0?I(_o,go):Z(go)},Ce=[],Ye=[],no=[],Ao=[];return ye(f,_o=>{switch(_o.section){case"thead":Ce.push(_o);break;case"tbody":Ye.push(_o);break;case"tfoot":no.push(_o);break;case"colgroup":Ao.push(_o);break}}),se(Ao,"colgroup"),se(Ce,"thead"),se(Ye,"tbody"),se(no,"tfoot"),{newRows:h,newCells:y}},p_=l=>wt(l,f=>{const h=$a(f.element);return ye(f.cells,y=>{const S=$c(y.element);Yp(S,"colspan",y.colspan,1),Yp(S,"rowspan",y.rowspan,1),ur(h,S)}),h}),F0=(l,f)=>wt(l,h=>ic(h,f)),qg=(l,f)=>l[f],$E=(l,f)=>{if(l.length===0)return 0;const h=l[0];return wn(l,S=>!f(h.element,S.element)).getOr(l.length)},L0=(l,f,h,y)=>{const S=qg(l,f),O=S.section==="colgroup",I=$E(S.cells.slice(h),y),Z=O?1:$E(F0(l.slice(f),h),y);return{colspan:I,rowspan:Z}},Mm=(l,f)=>{const h=wt(l,S=>wt(S.cells,co)),y=(S,O,I,Z)=>{for(let se=S;se<S+I;se++)for(let Ce=O;Ce<O+Z;Ce++)h[se][Ce]=!0};return wt(l,(S,O)=>{const I=Nt(S.cells,(Z,se)=>{if(h[O][se]===!1){const Ce=L0(l,O,se,f);return y(O,se,Ce.rowspan,Ce.colspan),[wl(Z.element,Ce.rowspan,Ce.colspan,Z.isNew)]}else return[]});return gc(S.element,I,S.section,S.isNew)})},Xp=(l,f,h)=>{const y=[];ye(l.colgroups,S=>{const O=[];for(let I=0;I<l.grid.columns;I++){const Z=ss.getColumnAt(l,I).map(se=>W(se.element,h,!1)).getOrThunk(()=>W(f.colGap(),!0,!1));O.push(Z)}y.push(fe(S.element,O,"colgroup",h))});for(let S=0;S<l.grid.rows;S++){const O=[];for(let se=0;se<l.grid.columns;se++){const Ce=ss.getAt(l,S,se).map(Ye=>W(Ye.element,h,Ye.isLocked)).getOrThunk(()=>W(f.gap(),!0,!1));O.push(Ce)}const I=l.all[S],Z=fe(I.element,O,I.section,h);y.push(Z)}return y},H0=(l,f)=>Xp(l,f,!1),Zy=l=>Mm(l,jt),V0=(l,f)=>de(l.all,h=>P(h.cells,y=>jt(f,y.element))),h_=(l,f,h)=>{const y=wt(f.selection,O=>wu(O).bind(I=>V0(l,I)).filter(h)),S=Xs(y);return Hd(S.length>0,S)},ti=(l,f,h,y,S)=>(O,I,Z,se)=>{const Ce=ss.fromTable(O),Ye=ie.from(se==null?void 0:se.section).getOrThunk(db.fallback);return f(Ce,I).map(Ao=>{const _o=H0(Ce,Z),go=l(_o,Ao,jt,S(Z),Ye),Xo=Zr(go.grid),qt=Zy(go.grid);return{info:Ao,grid:qt,cursor:go.cursor,lockedColumns:Xo}}).bind(Ao=>{const _o=I0(O,Ao.grid),go=ie.from(se==null?void 0:se.sizing).getOrThunk(()=>w.getTableSize(O)),Xo=ie.from(se==null?void 0:se.resize).getOrThunk(Rm);return h(O,Ao.grid,Ao.info,{sizing:go,resize:Xo,section:Ye}),y(O),le(O,di),Ao.lockedColumns.length>0&&is(O,di,Ao.lockedColumns.join(",")),ie.some({cursor:Ao.cursor,newRows:_o.newRows,newCells:_o.newCells})})},gD=(l,f)=>wu(f.element).bind(h=>V0(l,h).map(y=>({...y,generators:f.generators,clipboard:f.clipboard}))),U0=(l,f)=>h_(l,f,We).map(h=>({cells:h,generators:f.generators,clipboard:f.clipboard})),fb=(l,f)=>f.mergable,IE=(l,f)=>f.unmergable,il=(l,f)=>h_(l,f,We),Pu=(l,f)=>h_(l,f,h=>!h.isLocked),Bm=(l,f)=>V0(l,f).exists(h=>!h.isLocked),Gg=(l,f)=>Ue(f,h=>Bm(l,h)),b_=(l,f)=>fb(l,f).filter(h=>Gg(l,h.cells)),mb=(l,f)=>IE(l,f).filter(h=>Gg(l,h)),qy=(l,f,h,y)=>{const S=Fa(l).rows;if(S.length===0)return l;for(let O=f.startRow;O<=f.finishRow;O++)for(let I=f.startCol;I<=f.finishCol;I++){const Z=S[O],se=ic(Z,I).isLocked;Kn(Z,I,W(y(),!1,se))}return l},y_=(l,f,h,y)=>{const S=Fa(l).rows;let O=!0;for(let I=0;I<S.length;I++)for(let Z=0;Z<yi(S[0]);Z++){const se=S[I],Ce=ic(se,Z),Ye=Ce.element,no=h(Ye,f);no&&!O?Kn(se,Z,W(y(),!0,Ce.isLocked)):no&&(O=!1)}return l},Pm=(l,f)=>ke(l,(h,y)=>ue(h,S=>f(S.element,y.element))?h:h.concat([y]),[]),Kg=(l,f,h,y)=>(f>0&&f<l[0].cells.length&&ye(l,S=>{const O=S.cells[f-1];let I=0;const Z=y();for(;S.cells.length>f+I&&h(O.element,S.cells[f+I].element);)Kn(S,f+I,W(Z,!0,S.cells[f+I].isLocked)),I++}),l),cu=(l,f,h,y)=>{const S=Fa(l).rows;if(f>0&&f<S.length){const O=S[f-1].cells,I=Pm(O,h);ye(I,Z=>{let se=ie.none();for(let Ce=f;Ce<S.length;Ce++)for(let Ye=0;Ye<yi(S[0]);Ye++){const no=S[Ce],Ao=ic(no,Ye);h(Ao.element,Z.element)&&(se.isNone()&&(se=ie.some(y())),se.each(go=>{Kn(no,Ye,W(go,!0,Ao.isLocked))}))}})}return l},Gy=l=>{const f=O=>O(l),h=X(l),y=()=>S,S={tag:!0,inner:l,fold:(O,I)=>I(l),isValue:We,isError:co,map:O=>ki.value(O(l)),mapError:y,bind:f,exists:f,forall:f,getOr:h,or:y,getOrThunk:h,orThunk:y,getOrDie:h,each:O=>{O(l)},toOptional:()=>ie.some(l)};return S},lc=l=>{const f=()=>h,h={tag:!1,inner:l,fold:(y,S)=>y(l),isValue:co,isError:We,map:f,mapError:y=>ki.error(y(l)),bind:f,exists:co,forall:We,getOr:lt,or:lt,getOrThunk:ko,orThunk:ko,getOrDie:zt(String(l)),each:Qe,toOptional:ie.none};return h},ki={value:Gy,error:lc,fromOption:(l,f)=>l.fold(()=>lc(f),Gy)},FE=(l,f,h)=>{if(l.row>=f.length||l.column>yi(f[0]))return ki.error("invalid start address out of table bounds, row: "+l.row+", column: "+l.column);const y=f.slice(l.row),S=y[0].cells.slice(l.column),O=yi(h[0]),I=h.length;return ki.value({rowDelta:y.length-I,colDelta:S.length-O})},v_=(l,f)=>{const h=yi(l[0]),y=yi(f[0]);return{rowDelta:0,colDelta:h-y}},Vf=(l,f)=>{const h=l.length,y=f.length;return{rowDelta:h-y,colDelta:0}},$m=(l,f,h,y)=>{const S=f.section==="colgroup"?h.col:h.cell;return bt(l,O=>W(S(),!0,y(O)))},Uf=(l,f,h,y)=>{const S=l[l.length-1];return l.concat(bt(f,()=>{const O=S.section==="colgroup"?h.colgroup:h.row,I=Oc(S,O,lt),Z=$m(I.cells.length,I,h,se=>Lo(y,se.toString()));return Sa(I,Z)}))},ll=(l,f,h,y)=>wt(l,S=>{const O=$m(f,S,h,co);return Kd(S,y,O)}),x_=(l,f,h)=>wt(l,y=>ke(h,(S,O)=>{const I=$m(1,y,f,We)[0];return Rp(S,O,I)},y)),gb=(l,f,h)=>{const y=f.colDelta<0?ll:lt,S=f.rowDelta<0?Uf:lt,O=Zr(l),I=yi(l[0]),Z=ue(O,Ye=>Ye===I-1),se=y(l,Math.abs(f.colDelta),h,Z?I-1:I),Ce=Zr(se);return S(se,Math.abs(f.rowDelta),h,K(Ce,We))},W0=(l,f,h,y)=>{const S=ic(l[f],h),O=pt(y,S.element),I=l[f];return l.length>1&&yi(I)>1&&(h>0&&O(Fc(I,h-1))||h<I.cells.length-1&&O(Fc(I,h+1))||f>0&&O(Fc(l[f-1],h))||f<l.length-1&&O(Fc(l[f+1],h)))},Jp=(l,f,h,y,S,O)=>{const I=l.row,Z=l.column,se=h.length,Ce=yi(h[0]),Ye=I+se,no=Z+Ce+O.length,Ao=K(O,We);for(let _o=I;_o<Ye;_o++){let go=0;for(let Xo=Z;Xo<no;Xo++){if(Ao[Xo]){go++;continue}W0(f,_o,Xo,S)&&y_(f,Fc(f[_o],Xo),S,y.cell);const qt=Xo-Z-go,uo=ic(h[_o-I],qt),zn=uo.element,Mn=y.replace(zn);Kn(f[_o],Xo,W(Mn,!0,uo.isLocked))}}return f},Yg=(l,f,h)=>{const y=yi(f[0]),S=Fa(f).cols.length+l.row,O=bt(y-l.column,Z=>Z+l.column),I=P(O,Z=>Ue(h,se=>se!==Z)).getOr(y-1);return{row:S,column:I}},Im=(l,f,h)=>He(h,y=>y>=l.column&&y<=yi(f[0])+l.column),ks=(l,f,h,y,S)=>{const O=Zr(f),I=Yg(l,f,O),Z=Fa(h).rows,se=Im(I,Z,O);return FE(I,f,Z).map(Ye=>{const no={...Ye,colDelta:Ye.colDelta-se.length},Ao=gb(f,no,y),_o=Zr(Ao),go=Im(I,Z,_o);return Jp(I,Ao,Z,y,S,go)})},Wi=(l,f,h,y,S)=>{Kg(f,l,S,y.cell);const O=Vf(h,f),I=gb(h,O,y),Z=Vf(f,I),se=gb(f,Z,y);return wt(se,(Ce,Ye)=>Kd(Ce,l,I[Ye].cells))},sf=(l,f,h,y,S)=>{cu(f,l,S,y.cell);const O=Zr(f),I=v_(f,h),Z={...I,colDelta:I.colDelta-O.length},se=gb(f,Z,y),{cols:Ce,rows:Ye}=Fa(se),no=Zr(se),Ao=v_(h,f),_o={...Ao,colDelta:Ao.colDelta+no.length},go=x_(h,y,no),Xo=gb(go,_o,y);return[...Ce,...Ye.slice(0,l),...Xo,...Ye.slice(l,Ye.length)]},Ky=(l,f,h,y)=>Oc(l,S=>y(S,h),f),cr=(l,f,h,y,S)=>{const{rows:O,cols:I}=Fa(l),Z=O.slice(0,f),se=O.slice(f),Ce=Ky(O[h],(Ye,no)=>f>0&&f<O.length&&y(Fc(O[f-1],no),Fc(O[f],no))?ic(O[f],no):W(S(Ye.element,y),!0,Ye.isLocked),y,S);return[...I,...Z,Ce,...se]},Fm=(l,f,h,y,S,O,I)=>{if(h==="colgroup"||!y){const Z=ic(l,S);return W(I(Z.element,O),!0,!1)}else return ic(l,f)},Yy=(l,f,h,y,S)=>wt(l,O=>{const I=f>0&&f<yi(O)&&y(Fc(O,f-1),Fc(O,f)),Z=Fm(O,f,O.section,I,h,y,S);return Rp(O,f,Z)}),LE=(l,f)=>Nt(l,h=>{const y=h.cells,S=Zt(f,(O,I)=>I>=0&&I<O.length?O.slice(0,I).concat(O.slice(I+1)):O,y);return S.length>0?[fe(h.element,S,h.section,h.isNew)]:[]}),HE=(l,f,h)=>{const{rows:y,cols:S}=Fa(l);return[...S,...y.slice(0,f),...y.slice(h+1)]},pb=(l,f,h,y)=>Fc(l[f],h)!==void 0&&f>0&&y(Fc(l[f-1],h),Fc(l[f],h)),Ar=(l,f,h)=>f>0&&h(Fc(l,f-1),Fc(l,f)),w_=(l,f,h,y)=>pb(l,f,h,y)||Ar(l[f],h,y),VE=(l,f)=>Ue(f,lt)&&Zg(l.cells)?We:(y,S,O)=>!(ys(y.element)==="th"&&f[O]),k_=(l,f)=>Ue(f,lt)&&Zg(l)?We:(y,S,O)=>!(ys(y.element)==="th"&&f[S]),Xg=(l,f,h,y)=>{const S=I=>I==="row"?Fr(f):qa(f),O=I=>S(I)?`${I}group`:I;return l?Wg(f)?O(h):null:y&&Wg(f)?O(h==="row"?"col":"row"):null},ul=(l,f)=>(h,y,S)=>ie.some(Xg(l,h.element,"col",f[S])),Lm=(l,f)=>(h,y)=>ie.some(Xg(l,h.element,"row",f[y])),Z0=(l,f,h)=>W(h(l.element,f),!0,l.isLocked),Vo=(l,f,h,y,S,O,I)=>{const Z=se=>ue(f,Ce=>h(se.element,Ce.element));return wt(l,(se,Ce)=>id(se,(Ye,no)=>{if(Z(Ye)){const Ao=I(Ye,Ce,no)?S(Ye,h,y):Ye;return O(Ao,Ce,no).each(_o=>{Cr(Ao.element,{scope:ie.from(_o)})}),Ao}else return Ye}))},q0=(l,f,h)=>Nt(l,(y,S)=>w_(l,S,f,h)?[]:[ic(y,f)]),UE=(l,f,h)=>{const y=l[f];return Nt(y.cells,(S,O)=>w_(l,f,O,h)?[]:[S])},__=(l,f,h,y,S)=>{const O=Fa(l).rows,I=Nt(f,Ye=>q0(O,Ye,y)),Z=wt(O,Ye=>Zg(Ye.cells)),se=k_(I,Z),Ce=Lm(h,Z);return Vo(l,I,y,S,Z0,Ce,se)},G0=(l,f,h,y,S,O,I)=>{const{cols:Z,rows:se}=Fa(l),Ce=se[f[0]],Ye=Nt(f,qt=>UE(se,qt,S)),no=wt(Ce.cells,(qt,uo)=>Zg(q0(se,uo,S))),Ao=[...se];ye(f,qt=>{Ao[qt]=I.transformRow(se[qt],h)});const _o=[...Z,...Ao],go=VE(Ce,no),Xo=ul(y,no);return Vo(_o,Ye,S,O,I.transformCell,Xo,go)},C_=(l,f,h,y)=>{const S=Fa(l).rows,O=wt(f,I=>ic(S[I.row],I.column));return Vo(l,O,h,y,Z0,ie.none,We)},xd={generate:l=>{if(!Pt(l))throw new Error("cases must be an array");if(l.length===0)throw new Error("there must be at least one case");const f=[],h={};return ye(l,(y,S)=>{const O=be(y);if(O.length!==1)throw new Error("one and only one name per case");const I=O[0],Z=y[I];if(h[I]!==void 0)throw new Error("duplicate key detected:"+I);if(I==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Pt(Z))throw new Error("case arguments must be an array");f.push(I),h[I]=(...se)=>{const Ce=se.length;if(Ce!==Z.length)throw new Error("Wrong number of arguments to case "+I+". Expected "+Z.length+" ("+Z+"), got "+Ce);return{fold:(...no)=>{if(no.length!==l.length)throw new Error("Wrong number of arguments to fold. Expected "+l.length+", got "+no.length);return no[S].apply(null,se)},match:no=>{const Ao=be(no);if(f.length!==Ao.length)throw new Error("Wrong number of arguments to match. Expected: "+f.join(",")+`
Actual: `+Ao.join(","));if(!Ue(f,go=>ot(Ao,go)))throw new Error("Not all branches were specified when using match. Specified: "+Ao.join(", ")+`
Required: `+f.join(", "));return no[I].apply(null,se)},log:no=>{console.log(no,{constructors:f,constructor:I,params:se})}}}}),h}},Jg={...xd.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Xy=(l,f)=>l.length===0?Jg.none():l.length===1?Jg.only(0):f===0?Jg.left(0,1):f===l.length-1?Jg.right(f-1,f):f>0&&f<l.length-1?Jg.middle(f-1,f,f+1):Jg.none(),jE=(l,f,h,y,S)=>{const O=l.slice(0),I=Xy(l,f),Z=X(wt(O,X(0))),se=Ao=>y.singleColumnWidth(O[Ao],h),Ce=(Ao,_o)=>S.calcLeftEdgeDeltas(O,Ao,_o,h,y.minCellWidth(),y.isRelative),Ye=(Ao,_o,go)=>S.calcMiddleDeltas(O,Ao,_o,go,h,y.minCellWidth(),y.isRelative),no=(Ao,_o)=>S.calcRightEdgeDeltas(O,Ao,_o,h,y.minCellWidth(),y.isRelative);return I.fold(Z,se,Ce,Ye,no)},Tl=(l,f,h)=>{let y=0;for(let S=l;S<f;S++)y+=h[S]!==void 0?h[S]:0;return y},E_=(l,f)=>{const h=ss.justCells(l);return wt(h,y=>{const S=Tl(y.column,y.column+y.colspan,f);return{element:y.element,width:S,colspan:y.colspan}})},K0=(l,f)=>{const h=ss.justColumns(l);return wt(h,(y,S)=>({element:y.element,width:f[S],colspan:y.colspan}))},T_=(l,f)=>wt(l.all,(h,y)=>({element:h.element,height:f[y]})),Jy=l=>Zt(l,(f,h)=>f+h,0),WE=(l,f)=>ss.hasColumns(l)?K0(l,f):E_(l,f),Qy=(l,f,h)=>{const y=WE(l,f);ye(y,S=>{h.setElementWidth(S.element,S.width)})},Y0=(l,f,h,y,S)=>{const O=ss.fromTable(l),I=S.getCellDelta(f),Z=S.getWidths(O,S),se=h===O.grid.columns-1,Ce=y.clampTableDelta(Z,h,I,S.minCellWidth(),se),Ye=jE(Z,h,Ce,S,y),no=wt(Ye,(Ao,_o)=>Ao+Z[_o]);Qy(O,no,S),y.resizeTable(S.adjustTableWidth,Ce,se)},X0=(l,f,h)=>{const y=ss.fromTable(l),S=Ve(y,l),O=wt(S,(se,Ce)=>h===Ce?Math.max(f+se,yu()):se),I=T_(y,O);ye(I,se=>{Xd(se.element,se.height)}),ye(ss.justCells(y),se=>{Mf(se.element)});const Z=Jy(O);Xd(l,Z)},A_=(l,f,h,y,S)=>{const O=ss.generate(f),I=y.getWidths(O,y),Z=y.pixelWidth(),{newSizes:se,delta:Ce}=S.calcRedestributedWidths(I,Z,h.pixelDelta,y.isRelative);Qy(O,se,y),y.adjustTableWidth(Ce)},ZE=(l,f,h,y)=>{const S=ss.generate(f),O=y.getWidths(S,y);Qy(S,O,y)},rf=l=>ke(l,(h,y)=>ue(h,O=>O.column===y.column)?h:h.concat([y]),[]).sort((h,y)=>h.column-y.column),z_=Ro("col"),Qp=Ro("colgroup"),eh=l=>ys(l)==="tr"||Qp(l),O_=l=>{const f=Js(l,"colspan",1),h=Js(l,"rowspan",1);return{element:l,colspan:f,rowspan:h}},ev=(l,f=O_)=>{const h=Z=>z_(Z.element)?l.col(Z):l.cell(Z),y=Z=>Qp(Z.element)?l.colgroup(Z):l.row(Z),S=Z=>{if(eh(Z))return y({element:Z});{const se=Z,Ce=h(f(se));return O=ie.some({item:se,replacement:Ce}),Ce}};let O=ie.none();return{getOrInit:(Z,se)=>O.fold(()=>S(Z),Ce=>se(Z,Ce.item)?Ce.replacement:S(Z))}},J0=l=>f=>{const h=[],y=(I,Z)=>P(h,se=>Z(se.item,I)),S=I=>{const Z=l==="td"?{scope:null}:{},se=f.replace(I,l,Z);return h.push({item:I,sub:se}),se};return{replaceOrInit:(I,Z)=>{if(eh(I)||z_(I))return I;{const se=I;return y(se,Z).fold(()=>S(se),Ce=>Z(I,Ce.item)?Ce.sub:S(se))}}}},tv=l=>ge(l,"scope").map(f=>f.substr(0,3)),_i={modification:ev,transform:J0,merging:l=>({unmerge:y=>{const S=tv(y);return S.each(O=>is(y,"scope",O)),()=>{const O=l.cell({element:y,colspan:1,rowspan:1});return Qr(O,"width"),Qr(y,"width"),S.each(I=>is(O,"scope",I)),O}},merge:y=>{const S=()=>{const O=Xs(wt(y,tv));if(O.length===0)return ie.none();{const I=O[0],Z=["row","col"];return ue(O,Ce=>Ce!==I&&ot(Z,Ce))?ie.none():ie.from(I)}};return Qr(y[0],"width"),S().fold(()=>le(y[0],"scope"),O=>is(y[0],"scope",O+"group")),X(y[0])}})},GE=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],KE=(l,f)=>{const h=l.property().name(f);return ot(["ol","ul"],h)},Hm=(l,f)=>{const h=l.property().name(f);return ot(GE,h)},Vm=(l,f)=>ot(["br","img","hr","input"],l.property().name(f)),jf=zm(),Q0=l=>Hm(jf,l),yt=l=>KE(jf,l),ov=l=>Vm(jf,l),Wf=l=>{const f=Ro("br"),h=se=>Ue(se,Ce=>f(Ce)||Le(Ce)&&Fs(Ce).trim().length===0),y=se=>ys(se)==="li"||Ns(se,yt).isSome(),S=se=>Za(se).map(Ce=>Q0(Ce)?!0:ov(Ce)?ys(Ce)!=="img":!1).getOr(!1),O=se=>Cm(se).bind(Ce=>{const Ye=S(Ce);return xs(Ce).map(no=>Ye===!0||y(no)||f(Ce)||Q0(no)&&!jt(se,no)?[]:[Ae.fromTag("br")])}).getOr([]),Z=(()=>{const se=Nt(l,Ce=>{const Ye=xn(Ce);return h(Ye)?[]:Ye.concat(O(Ce))});return se.length===0?[Ae.fromTag("br")]:se})();ka(l[0]),Aa(l[0],Z)},Um=l=>sb(l,!0),nv=l=>{Pi(l).length===0&&Wr(l)},dl=(l,f)=>({grid:l,cursor:f}),ex=l=>de(l,f=>de(f.cells,h=>{const y=h.element;return Hd(Um(y),y)})),tx=(l,f,h)=>{var y,S;const O=Fa(l).rows;return ie.from((S=(y=O[f])===null||y===void 0?void 0:y.cells[h])===null||S===void 0?void 0:S.element).filter(Um).orThunk(()=>ex(O))},Ci=(l,f,h)=>{const y=tx(l,f,h);return dl(l,y)},th=l=>ke(l,(h,y)=>ue(h,O=>O.row===y.row)?h:h.concat([y]),[]).sort((h,y)=>h.row-y.row),D_=(l,f,h,y)=>{const S=f[0].row,O=th(f),I=Zt(O,(Z,se)=>({grid:cr(Z.grid,S,se.row+Z.delta,h,y.getOrInit),delta:Z.delta+1}),{grid:l,delta:0}).grid;return Ci(I,S,f[0].column)},R_=(l,f,h,y)=>{const S=th(f),O=S[S.length-1],I=O.row+O.rowspan,Z=Zt(S,(se,Ce)=>cr(se,I,Ce.row,h,y.getOrInit),l);return Ci(Z,I,f[0].column)},YE=(l,f,h,y)=>{const S=f.details,O=rf(S),I=O[0].column,Z=Zt(O,(se,Ce)=>({grid:Yy(se.grid,I,Ce.column+se.delta,h,y.getOrInit),delta:se.delta+1}),{grid:l,delta:0}).grid;return Ci(Z,S[0].row,I)},N_=(l,f,h,y)=>{const S=f.details,O=S[S.length-1],I=O.column+O.colspan,Z=rf(S),se=Zt(Z,(Ce,Ye)=>Yy(Ce,I,Ye.column,h,y.getOrInit),l);return Ci(se,S[0].row,I)},XE=(l,f,h,y)=>{const S=rf(f),O=wt(S,Z=>Z.column),I=__(l,O,!0,h,y.replaceOrInit);return Ci(I,f[0].row,f[0].column)},M_=(l,f,h,y)=>{const S=C_(l,f,h,y.replaceOrInit);return Ci(S,f[0].row,f[0].column)},JE=(l,f,h,y)=>{const S=rf(f),O=wt(S,Z=>Z.column),I=__(l,O,!1,h,y.replaceOrInit);return Ci(I,f[0].row,f[0].column)},QE=(l,f,h,y)=>{const S=C_(l,f,h,y.replaceOrInit);return Ci(S,f[0].row,f[0].column)},sv=(l,f)=>(h,y,S,O,I)=>{const Z=th(y),se=wt(Z,Ye=>Ye.row),Ce=G0(h,se,l,f,S,O.replaceOrInit,I);return Ci(Ce,y[0].row,y[0].column)},rv=sv("thead",!0),eT=sv("tbody",!1),B_=sv("tfoot",!1),tT=(l,f,h,y)=>{const S=rf(f.details),O=LE(l,wt(S,Z=>Z.column)),I=O.length>0?O[0].cells.length-1:0;return Ci(O,S[0].row,Math.min(S[0].column,I))},ox=(l,f,h,y)=>{const S=th(f),O=HE(l,S[0].row,S[S.length-1].row),I=Math.max(Fa(O).rows.length-1,0);return Ci(O,Math.min(f[0].row,I),f[0].column)},aa=(l,f,h,y)=>{const S=f.cells;Wf(S);const O=qy(l,f.bounds,h,y.merge(S));return dl(O,ie.from(S[0]))},nx=(l,f,h,y)=>{const O=Zt(f,(I,Z)=>y_(I,Z,h,y.unmerge(Z)),l);return dl(O,ie.from(f[0]))},P_=(l,f,h,y)=>{const O=((se,Ce)=>{const Ye=ss.fromTable(se);return Xp(Ye,Ce,!0)})(f.clipboard,f.generators),I=vl(f.row,f.column);return ks(I,l,O,f.generators,h).fold(()=>dl(l,ie.some(f.element)),se=>Ci(se,f.row,f.column))},av=(l,f,h)=>{const y=_g(l,h.section),S=ss.generate(y);return Xp(S,f,!0)},cv=(l,f,h,y)=>{const S=Fa(l).rows,O=f.cells[0].column,I=S[f.cells[0].row],Z=av(f.clipboard,f.generators,I),se=Wi(O,l,Z,f.generators,h);return Ci(se,f.cells[0].row,f.cells[0].column)},oi=(l,f,h,y)=>{const S=Fa(l).rows,O=f.cells[f.cells.length-1].column+f.cells[f.cells.length-1].colspan,I=S[f.cells[0].row],Z=av(f.clipboard,f.generators,I),se=Wi(O,l,Z,f.generators,h);return Ci(se,f.cells[0].row,O)},Al=(l,f,h,y)=>{const S=Fa(l).rows,O=f.cells[0].row,I=S[O],Z=av(f.clipboard,f.generators,I),se=sf(O,l,Z,f.generators,h);return Ci(se,f.cells[0].row,f.cells[0].column)},sx=(l,f,h,y)=>{const S=Fa(l).rows,O=f.cells[f.cells.length-1].row+f.cells[f.cells.length-1].rowspan,I=S[f.cells[0].row],Z=av(f.clipboard,f.generators,I),se=sf(O,l,Z,f.generators,h);return Ci(se,O,f.cells[0].column)},rx=(l,f)=>{const h=ss.fromTable(l);return il(h,f).bind(S=>{const O=S[S.length-1],I=S[0].column,Z=O.column+O.colspan,se=st(wt(h.all,Ce=>He(Ce.cells,Ye=>Ye.column>=I&&Ye.column<Z)));return Uy(se)}).getOr("")},$_=(l,f)=>{const h=ss.fromTable(l);return il(h,f).bind(Uy).getOr("")},ax=(l,f)=>{const h=ss.fromTable(l);return il(h,f).bind(S=>{const O=S[S.length-1],I=S[0].row,Z=O.row+O.rowspan,se=h.all.slice(I,Z);return g_(se)}).getOr("")},bb=(l,f,h,y)=>ZE(l,f,h,y.sizing),iv=(l,f,h,y)=>A_(l,f,h,y.sizing,y.resize),I_=(l,f)=>ue(f,h=>h.column===0&&h.isLocked),Si=(l,f)=>ue(f,h=>h.column+h.colspan>=l.grid.columns&&h.isLocked),jm=(l,f)=>{const h=dd(l),y=rf(f);return ke(y,(S,O)=>{const Z=h[O.column].map(js).getOr(0);return S+Z},0)},wd=l=>(f,h)=>il(f,h).filter(y=>!(l?I_:Si)(f,y)).map(y=>({details:y,pixelDelta:jm(f,y)})),cx=(l,f)=>Pu(l,f).map(h=>({details:h,pixelDelta:-jm(l,h)})),Vr=l=>(f,h)=>U0(f,h).filter(y=>!(l?I_:Si)(f,y.cells)),$u=_i.transform("th"),Wm=_i.transform("td"),oT=ti(D_,il,Qe,Qe,_i.modification),ix=ti(R_,il,Qe,Qe,_i.modification),F_=ti(YE,wd(!0),iv,Qe,_i.modification),Qg=ti(N_,wd(!1),iv,Qe,_i.modification),xc=ti(tT,cx,iv,nv,_i.modification),Zf=ti(ox,il,Qe,nv,_i.modification),nT=ti(XE,Pu,Qe,Qe,$u),lx=ti(JE,Pu,Qe,Qe,Wm),sT=ti(rv,Pu,Qe,Qe,$u),lv=ti(eT,Pu,Qe,Qe,Wm),ux=ti(B_,Pu,Qe,Qe,Wm),uv=ti(M_,Pu,Qe,Qe,$u),Uo=ti(QE,Pu,Qe,Qe,Wm),yb=ti(aa,b_,bb,Qe,_i.merging),dx=ti(nx,mb,bb,Qe,_i.merging),L_=ti(P_,gD,bb,Qe,_i.modification),H_=ti(cv,Vr(!0),Qe,Qe,_i.modification),rT=ti(oi,Vr(!1),Qe,Qe,_i.modification),Nc=ti(Al,U0,Qe,Qe,_i.modification),aT=ti(sx,U0,Qe,Qe,_i.modification),Zm=rx,fx=$_,V_=ax,Uc=(l,f)=>l.dispatch("NewRow",{node:f}),qm=(l,f)=>l.dispatch("NewCell",{node:f}),qf=(l,f,h)=>{l.dispatch("TableModified",{...h,table:f})},U_=(l,f,h,y,S)=>{l.dispatch("TableSelectionChange",{cells:f,start:h,finish:y,otherCells:S})},cT=l=>{l.dispatch("TableSelectionClear")},iT=(l,f,h,y,S)=>{l.dispatch("ObjectResizeStart",{target:f,width:h,height:y,origin:S})},Xa=(l,f,h,y,S)=>{l.dispatch("ObjectResized",{target:f,width:h,height:y,origin:S})},ba={structure:!1,style:!0},Qs={structure:!0,style:!1},jc={structure:!0,style:!0},Ja=(l,f)=>Sm(l)?w.percentageSize(f):Ff(l)?w.pixelSize(f):w.getTableSize(f),Qa=(l,f,h)=>{const y=Xn=>ys(Fg(Xn))==="table",S=Xn=>!y(l)||nf(Xn).rows>1,O=Xn=>!y(l)||nf(Xn).columns>1,I=o_(l),Z=$y(l)?Qe:lb,se=Xn=>{switch(n_(l)){case"section":return db.section();case"sectionCells":return db.sectionCells();case"cells":return db.cells();default:return db.getTableSectionType(Xn,"section")}},Ce=(Xn,$l)=>$l.cursor.fold(()=>{const Vu=Pi(Xn);return V(Vu).filter(on).map(ff=>{h.clearSelectedCells(Xn.dom);const ec=l.dom.createRng();return ec.selectNode(ff.dom),l.selection.setRng(ec),is(ff,"data-mce-selected","1"),ec})},Vu=>{const ff=wi(Vu),ec=l.dom.createRng();return ec.setStart(ff.element.dom,ff.offset),ec.setEnd(ff.element.dom,ff.offset),l.selection.setRng(ec),h.clearSelectedCells(Xn.dom),ie.some(ec)}),Ye=(Xn,$l,Vu,ff)=>(ec,Ds,rw=!1)=>{xi(ec);const aw=Ae.fromDom(l.getDoc()),u1=$f(Vu,aw,I),oC={sizing:Ja(l,ec),resize:$y(l)?jg():Rm(),section:se(ec)};return $l(ec)?Xn(ec,Ds,u1,oC).bind(em=>{f.refresh(ec.dom),ye(em.newRows,wh=>{Uc(l,wh.dom)}),ye(em.newCells,wh=>{qm(l,wh.dom)});const pp=Ce(ec,em);return on(ec)&&(xi(ec),rw||qf(l,ec.dom,ff)),pp.map(wh=>({rng:wh,effect:ff}))}):ie.none()},no=Ye(Zf,S,Qe,Qs),Ao=Ye(xc,O,Qe,Qs),_o=Ye(oT,We,Qe,Qs),go=Ye(ix,We,Qe,Qs),Xo=Ye(F_,We,Z,Qs),qt=Ye(Qg,We,Z,Qs),uo=Ye(yb,We,Qe,Qs),zn=Ye(dx,We,Qe,Qs),Mn=Ye(H_,We,Qe,Qs),rn=Ye(rT,We,Qe,Qs),Gr=Ye(Nc,We,Qe,Qs),er=Ye(aT,We,Qe,Qs),ya=Ye(L_,We,Qe,jc),Bl=Ye(uv,We,Qe,Qs),Gc=Ye(Uo,We,Qe,Qs),mp=Ye(nT,We,Qe,Qs),gp=Ye(lx,We,Qe,Qs),Gs=Ye(sT,We,Qe,Qs),Cc=Ye(lv,We,Qe,Qs),Ai=Ye(ux,We,Qe,Qs);return{deleteRow:no,deleteColumn:Ao,insertRowsBefore:_o,insertRowsAfter:go,insertColumnsBefore:Xo,insertColumnsAfter:qt,mergeCells:uo,unmergeCells:zn,pasteColsBefore:Mn,pasteColsAfter:rn,pasteRowsBefore:Gr,pasteRowsAfter:er,pasteCells:ya,makeCellsHeader:Bl,unmakeCellsHeader:Gc,makeColumnsHeader:mp,unmakeColumnsHeader:gp,makeRowsHeader:Gs,makeRowsBody:Cc,makeRowsFooter:Ai,getTableRowType:V_,getTableCellType:fx,getTableColType:Zm}},dv=(l,f,h)=>{const y=Js(l,f,1);h===1||y<=1?le(l,f):is(l,f,Math.min(h,y))},fv=(l,f)=>h=>{const y=h.column+h.colspan-1,S=h.column;return y>=l&&S<f},j_=(l,f,h)=>{if(ss.hasColumns(l)){const y=He(ss.justColumns(l),fv(f,h)),S=wt(y,I=>{const Z=$c(I.element);return dv(Z,"span",h-f),Z}),O=Ae.fromTag("colgroup");return Aa(O,S),[O]}else return[]},W_=(l,f,h)=>wt(l.all,y=>{const S=He(y.cells,fv(f,h)),O=wt(S,Z=>{const se=$c(Z.element);return dv(se,"colspan",h-f),se}),I=Ae.fromTag("tr");return Aa(I,O),I}),Z_=(l,f)=>{const h=ss.fromTable(l);return Pu(h,f).map(S=>{const O=S[S.length-1],I=S[0].column,Z=O.column+O.colspan,se=j_(h,I,Z),Ce=W_(h,I,Z);return[...se,...Ce]})},mv=(l,f,h)=>{const y=ss.fromTable(l);return il(y,f).bind(O=>{const I=Xp(y,h,!1),se=Fa(I).rows.slice(O[0].row,O[O.length-1].row+O[O.length-1].rowspan),Ce=Nt(se,no=>{const Ao=He(no.cells,_o=>!_o.isLocked);return Ao.length>0?[{...no,cells:Ao}]:[]}),Ye=Zy(Ce);return Hd(Ye.length>0,Ye)}).map(O=>p_(O))},Gm=xd.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),gv=(l,f,h)=>{const y=h.substring(0,h.length-l.length),S=parseFloat(y);return y===S.toString()?f(S):Gm.invalid(h)},oh={...Gm,from:l=>li(l,"%")?gv("%",Gm.percent,l):li(l,"px")?gv("px",Gm.pixels,l):Gm.invalid(l)},uT=(l,f)=>wt(l,h=>oh.from(h).fold(()=>h,S=>S/f*100+"%",S=>S+"%")),dT=(l,f,h)=>{const y=h/f;return wt(l,S=>oh.from(S).fold(()=>S,I=>I*y+"px",I=>I/100*h+"px"))},Zi=(l,f)=>{const h=l.fold(()=>X(""),y=>{const S=y/f;return X(S+"px")},()=>{const y=100/f;return X(y+"%")});return bt(f,h)},pD=(l,f,h)=>l.fold(()=>f,y=>dT(f,h,y),y=>uT(f,h)),q_=(l,f,h)=>{const y=oh.from(h),S=Ue(l,O=>O==="0px")?Zi(y,l.length):pD(y,l,f);return kd(S)},zl=(l,f)=>l.length===0?f:Zt(l,(h,y)=>oh.from(y).fold(X(0),lt,lt)+h,0),pv=(l,f)=>{const h=Math.floor(l);return{value:h+f,remainder:l-h}},vb=(l,f)=>oh.from(l).fold(X(l),h=>h+f+"px",h=>h+f+"%"),kd=l=>{if(l.length===0)return l;const f=Zt(l,(y,S)=>{const O=oh.from(S).fold(()=>({value:S,remainder:0}),I=>pv(I,"px"),I=>({value:I+"%",remainder:0}));return{output:[O.value].concat(y.output),remainder:y.remainder+O.remainder}},{output:[],remainder:0}),h=f.output;return h.slice(0,h.length-1).concat([vb(h[h.length-1],Math.round(f.remainder))])},Ei=oh.from,Km=(l,f,h)=>{ye(f,y=>{const S=l.slice(y.column,y.colspan+y.column),O=zl(S,dr());Dn(y.element,"width",O+h)})},mx=(l,f,h)=>{ye(f,(y,S)=>{const O=zl([l[S]],dr());Dn(y.element,"width",O+h)})},hv=(l,f,h)=>{ye(h,y=>{Qr(y.element,"height")}),ye(f,(y,S)=>{Dn(y.element,"height",l[S])})},G_=l=>Ei(l).fold(X("px"),X("px"),X("%")),Gf=(l,f,h)=>{const y=ss.fromTable(l),S=y.all,O=ss.justCells(y),I=ss.justColumns(y);f.each(Z=>{const se=G_(Z),Ce=Ga(l),Ye=Du(y,l),no=q_(Ye,Ce,Z);ss.hasColumns(y)?mx(no,I,se):Km(no,O,se),Dn(l,"width",Z)}),h.each(Z=>{const se=Te(l),Ce=Vi(y,l),Ye=q_(Ce,se,Z);hv(Ye,S,O),Dn(l,"height",Z)})},K_=Hc,gx=By,Y_=Li,xb=l=>{le(l,"width"),le(l,"height")},wb=l=>{const f=Na(l);Gf(l,ie.some(f),ie.none()),xb(l)},kb=l=>{const f=Bs(l);Gf(l,ie.some(f),ie.none()),xb(l)},fT=l=>{const f=Pg(l);Gf(l,ie.none(),ie.some(f)),xb(l)},bv=l=>{Qr(l,"width");const f=Cf(l),h=f.length>0?f:Pi(l);ye(h,y=>{Qr(y,"width"),xb(y)}),xb(l)},mT={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},X_=()=>Ae.fromTag("th"),gT=()=>Ae.fromTag("td"),yv=()=>Ae.fromTag("col"),J_=(l,f,h,y)=>{const S=Ae.fromTag("tr");for(let O=0;O<l;O++){const I=y<f||O<h?X_():gT();O<h&&is(I,"scope","row"),y<f&&is(I,"scope","col"),ur(I,Ae.fromTag("br")),ur(S,I)}return S},pT=l=>{const f=Ae.fromTag("colgroup");return bt(l,()=>ur(f,yv())),f},px=(l,f,h,y)=>bt(l,S=>J_(f,h,y,S)),vv=(l,f,h,y,S,O=mT)=>{const I=Ae.fromTag("table"),Z=S!=="cells";As(I,O.styles),_r(I,O.attributes),O.colGroups&&ur(I,pT(f));const se=Math.min(l,h);if(Z&&h>0){const _o=Ae.fromTag("thead");ur(I,_o);const Xo=px(h,f,S==="sectionCells"?se:0,y);Aa(_o,Xo)}const Ce=Ae.fromTag("tbody");ur(I,Ce);const Ye=Z?l-se:l,Ao=px(Ye,f,Z?0:h,y);return Aa(Ce,Ao),I},hT=l=>l.dom.innerHTML,Q_=l=>{const f=Ae.fromTag("div"),h=Ae.fromDom(l.dom.cloneNode(!0));return ur(f,h),hT(f)},Ti=(l,f)=>{l.selection.select(f.dom,!0),l.selection.collapse(!0)},hx=(l,f)=>{rc(f,"td,th").each(pt(Ti,l))},bx=(l,f)=>{ye(In(f,"tr"),h=>{Uc(l,h.dom),ye(In(h,"th,td"),y=>{qm(l,y.dom)})})},yx=l=>qe(l)&&l.indexOf("%")!==-1,xv=(l,f,h,y,S)=>{const O=ob(l),I={styles:O,attributes:ei(l),colGroups:h0(l)};return l.undoManager.ignore(()=>{const Z=vv(h,f,S,y,n_(l),I);is(Z,"data-mce-id","__mce");const se=Q_(Z);l.insertContent(se),l.addVisual()}),rc(Fg(l),'table[data-mce-id="__mce"]').map(Z=>(Ff(l)?kb(Z):su(l)?bv(Z):(Sm(l)||yx(O.width))&&wb(Z),xi(Z),le(Z,"data-mce-id"),bx(l,Z),hx(l,Z),Z.dom)).getOrNull()},bT=(l,f,h,y={})=>{const S=O=>to(O)&&O>0;if(S(f)&&S(h)){const O=y.headerRows||0,I=y.headerColumns||0;return xv(l,h,f,I,O)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var wv=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const e2="x-tinymce/dom-table-",vx=e2+"rows",xx=e2+"columns",t2=l=>{const f=wv.FakeClipboardItem(l);wv.write([f])},nh=l=>{var f;const h=(f=wv.read())!==null&&f!==void 0?f:[];return de(h,y=>ie.from(y.getType(l)))},o2=l=>{nh(l).isSome()&&wv.clear()},n2=l=>{l.fold(yT,f=>t2({[vx]:f}))},s2=()=>nh(vx),yT=()=>o2(vx),r2=l=>{l.fold(vT,f=>t2({[xx]:f}))},a2=()=>nh(xx),vT=()=>o2(xx),kv=l=>f_(au(l),bd(l)).filter(Tm),c2=l=>O0(au(l),bd(l)).filter(Tm),sh=(l,f)=>{const h=bd(l),y=()=>kv(l).each(qt=>{da(qt,h).filter(U(h)).each(uo=>{const zn=Ae.fromText("");if(ua(uo,zn),Wr(uo),l.dom.isEmpty(l.getBody()))l.setContent(""),l.selection.setCursorLocation();else{const Mn=l.dom.createRng();Mn.setStart(zn.dom,0),Mn.setEnd(zn.dom,0),l.selection.setRng(Mn),l.nodeChanged()}})}),S=qt=>kv(l).each(uo=>{su(l)||Ff(l)||Sm(l)||da(uo,h).each(Mn=>{qt==="relative"&&!K_(Mn)?wb(Mn):qt==="fixed"&&!gx(Mn)?kb(Mn):qt==="responsive"&&!Y_(Mn)&&bv(Mn),xi(Mn),qf(l,Mn.dom,Qs)})}),O=qt=>da(qt,h),I=qt=>c2(l).bind(uo=>O(uo).map(zn=>qt(zn,uo))),Z=(qt,uo)=>{I(zn=>{l.formatter.toggle("tableclass",{value:uo},zn.dom),qf(l,zn.dom,ba)})},se=(qt,uo)=>{I(zn=>{const Mn=Tr(l),Gr=Ue(Mn,er=>l.formatter.match("tablecellclass",{value:uo},er.dom))?l.formatter.remove:l.formatter.apply;ye(Mn,er=>Gr("tablecellclass",{value:uo},er.dom)),qf(l,zn.dom,ba)})},Ce=()=>{kv(l).each(qt=>{da(qt,h).each(uo=>{Zn(uo,"caption").fold(()=>{const zn=Ae.fromTag("caption");ur(zn,Ae.fromText("Caption")),sd(uo,zn,0),l.selection.setCursorLocation(zn.dom,0)},zn=>{Ro("caption")(qt)&&Mt("td",uo).each(Mn=>l.selection.setCursorLocation(Mn.dom,0)),Wr(zn)}),qf(l,uo.dom,Qs)})})},Ye=qt=>{l.focus()},no=(qt,uo=!1)=>I((zn,Mn)=>{const rn=Hy(Tr(l),zn,Mn);qt(zn,rn,uo).each(Ye)}),Ao=()=>I((qt,uo)=>{const zn=Hy(Tr(l),qt,uo),Mn=$f(Qe,Ae.fromDom(l.getDoc()),ie.none());return mv(qt,zn,Mn)}),_o=()=>I((qt,uo)=>{const zn=Hy(Tr(l),qt,uo);return Z_(qt,zn)}),go=(qt,uo)=>uo().each(zn=>{const Mn=wt(zn,rn=>$c(rn));I((rn,Gr)=>{const er=If(Ae.fromDom(l.getDoc())),ya=Hf(Tr(l),Gr,Mn,er);qt(rn,ya).each(Ye)})}),Xo=qt=>(uo,zn)=>hn(zn,"type").each(Mn=>{no(qt(Mn),zn.no_events)});Ee({mceTableSplitCells:()=>no(f.unmergeCells),mceTableMergeCells:()=>no(f.mergeCells),mceTableInsertRowBefore:()=>no(f.insertRowsBefore),mceTableInsertRowAfter:()=>no(f.insertRowsAfter),mceTableInsertColBefore:()=>no(f.insertColumnsBefore),mceTableInsertColAfter:()=>no(f.insertColumnsAfter),mceTableDeleteCol:()=>no(f.deleteColumn),mceTableDeleteRow:()=>no(f.deleteRow),mceTableCutCol:()=>_o().each(qt=>{r2(qt),no(f.deleteColumn)}),mceTableCutRow:()=>Ao().each(qt=>{n2(qt),no(f.deleteRow)}),mceTableCopyCol:()=>_o().each(qt=>r2(qt)),mceTableCopyRow:()=>Ao().each(qt=>n2(qt)),mceTablePasteColBefore:()=>go(f.pasteColsBefore,a2),mceTablePasteColAfter:()=>go(f.pasteColsAfter,a2),mceTablePasteRowBefore:()=>go(f.pasteRowsBefore,s2),mceTablePasteRowAfter:()=>go(f.pasteRowsAfter,s2),mceTableDelete:y,mceTableCellToggleClass:se,mceTableToggleClass:Z,mceTableToggleCaption:Ce,mceTableSizingMode:(qt,uo)=>S(uo),mceTableCellType:Xo(qt=>qt==="th"?f.makeCellsHeader:f.unmakeCellsHeader),mceTableColType:Xo(qt=>qt==="th"?f.makeColumnsHeader:f.unmakeColumnsHeader),mceTableRowType:Xo(qt=>{switch(qt){case"header":return f.makeRowsHeader;case"footer":return f.makeRowsFooter;default:return f.makeRowsBody}})},(qt,uo)=>l.addCommand(uo,qt)),l.addCommand("mceInsertTable",(qt,uo)=>{bT(l,uo.rows,uo.columns,uo.options)}),l.addCommand("mceTableApplyCellStyle",(qt,uo)=>{const zn=Gr=>"tablecell"+Gr.toLowerCase().replace("-","");if(!Re(uo))return;const Mn=He(Tr(l),Tm);if(Mn.length===0)return;const rn=Je(uo,(Gr,er)=>l.formatter.has(zn(er))&&qe(Gr));Hn(rn)||(Ee(rn,(Gr,er)=>{const ya=zn(er);ye(Mn,Bl=>{Gr===""?l.formatter.remove(ya,{value:null},Bl.dom,!0):l.formatter.apply(ya,{value:Gr},Bl.dom)})}),O(Mn[0]).each(Gr=>qf(l,Gr.dom,ba)))})},i2=(l,f)=>{const h=bd(l),y=S=>O0(au(l)).bind(O=>da(O,h).map(I=>{const Z=Hy(Tr(l),I,O);return S(I,Z)})).getOr("");Ee({mceTableRowType:()=>y(f.getTableRowType),mceTableCellType:()=>y(f.getTableCellType),mceTableColType:()=>y(f.getTableColType)},(S,O)=>l.addQueryValueHandler(O,S))},wx=xd.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),l2=(l,f,h,y)=>l.fold(f,h,y),xT=l=>l.fold(lt,lt,lt),Iu=wx.before,_v=wx.on,Cv=wx.after,Wc={before:Iu,on:_v,after:Cv,cata:l2,getStart:xT},Ol={create:(l,f)=>({selection:l,kill:f})},kx=(l,f)=>{const h=l.document.createRange();return h.selectNode(f.dom),h},wT=(l,f)=>{const h=l.document.createRange();return Ym(h,f),h},Ym=(l,f)=>l.selectNodeContents(f.dom),_b=(l,f)=>{f.fold(h=>{l.setStartBefore(h.dom)},(h,y)=>{l.setStart(h.dom,y)},h=>{l.setStartAfter(h.dom)})},kT=(l,f)=>{f.fold(h=>{l.setEndBefore(h.dom)},(h,y)=>{l.setEnd(h.dom,y)},h=>{l.setEndAfter(h.dom)})},u2=(l,f,h)=>{const y=l.document.createRange();return _b(y,f),kT(y,h),y},_x=(l,f,h,y,S)=>{const O=l.document.createRange();return O.setStart(f.dom,h),O.setEnd(y.dom,S),O},d2=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom,width:l.width,height:l.height}),Sv=l=>{const f=l.getClientRects(),h=f.length>0?f[0]:l.getBoundingClientRect();return h.width>0||h.height>0?ie.some(h).map(d2):ie.none()},Cb=xd.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),f2=(l,f,h)=>f(Ae.fromDom(h.startContainer),h.startOffset,Ae.fromDom(h.endContainer),h.endOffset),m2=(l,f)=>f.match({domRange:h=>({ltr:X(h),rtl:ie.none}),relative:(h,y)=>({ltr:ql(()=>u2(l,h,y)),rtl:ql(()=>ie.some(u2(l,y,h)))}),exact:(h,y,S,O)=>({ltr:ql(()=>_x(l,h,y,S,O)),rtl:ql(()=>ie.some(_x(l,S,O,h,y)))})}),_T=(l,f)=>{const h=f.ltr();return h.collapsed?f.rtl().filter(S=>S.collapsed===!1).map(S=>Cb.rtl(Ae.fromDom(S.endContainer),S.endOffset,Ae.fromDom(S.startContainer),S.startOffset)).getOrThunk(()=>f2(l,Cb.ltr,h)):f2(l,Cb.ltr,h)},Ev=(l,f)=>{const h=m2(l,f);return _T(l,h)},Tv=(l,f)=>Ev(l,f).match({ltr:(y,S,O,I)=>{const Z=l.document.createRange();return Z.setStart(y.dom,S),Z.setEnd(O.dom,I),Z},rtl:(y,S,O,I)=>{const Z=l.document.createRange();return Z.setStart(O.dom,I),Z.setEnd(y.dom,S),Z}});Cb.ltr,Cb.rtl;const rh={create:(l,f,h,y)=>({start:l,soffset:f,finish:h,foffset:y})},Av={create:(l,f,h,y)=>({start:Wc.on(l,f),finish:Wc.on(h,y)})},Cx=(l,f)=>{const h=Tv(l,f);return rh.create(Ae.fromDom(h.startContainer),h.startOffset,Ae.fromDom(h.endContainer),h.endOffset)},zv=Av.create,ST=(l,f,h,y,S,O,I)=>jt(h,S)&&y===O?ie.none():Ir(h,"td,th",f).bind(Z=>Ir(S,"td,th",f).bind(se=>p2(l,f,Z,se,I))),p2=(l,f,h,y,S)=>jt(h,y)?ie.none():Wp(h,y,f).bind(O=>{const I=O.boxes.getOr([]);return I.length>1?(S(l,I,O.start,O.finish),ie.some(Ol.create(ie.some(zv(h,0,h,yc(h))),!0))):ie.none()}),ep=(l,f,h,y,S)=>{const O=I=>(S.clearBeforeUpdate(h),S.selectRange(h,I.boxes,I.start,I.finish),I.boxes);return T0(y,l,f,S.firstSelectedSelector,S.lastSelectedSelector).map(O)},h2=(l,f)=>({item:l,mode:f}),Sb=(l,f,h,y=Xm)=>l.property().parent(f).map(S=>h2(S,y)),Xm=(l,f,h,y=Eb)=>h.sibling(l,f).map(S=>h2(S,y)),Eb=(l,f,h,y=Eb)=>{const S=l.property().children(f);return h.first(S).map(I=>h2(I,y))},b2=[{current:Sb,next:Xm,fallback:ie.none()},{current:Xm,next:Eb,fallback:ie.some(Sb)},{current:Eb,next:Eb,fallback:ie.some(Xm)}],y2=(l,f,h,y,S=b2)=>P(S,I=>I.current===h).bind(I=>I.current(l,f,y,I.next).orThunk(()=>I.fallback.bind(Z=>y2(l,f,Z,y)))),ah={left:()=>({sibling:(h,y)=>h.query().prevSibling(y),first:h=>h.length>0?ie.some(h[h.length-1]):ie.none()}),right:()=>({sibling:(h,y)=>h.query().nextSibling(y),first:h=>h.length>0?ie.some(h[0]):ie.none()})},af=(l,f,h,y,S,O)=>y2(l,f,y,S).bind(Z=>O(Z.item)?ie.none():h(Z.item)?ie.some(Z.item):af(l,Z.item,h,Z.mode,S,O)),TT=(l,f,h,y)=>af(l,f,h,Xm,ah.left(),y),Sx=(l,f,h,y)=>af(l,f,h,Xm,ah.right(),y),v2=l=>f=>l.property().children(f).length===0,x2=(l,f,h)=>Ex(l,f,v2(l),h),w2=(l,f,h)=>k2(l,f,v2(l),h),Ex=TT,k2=Sx,Jm=zm(),_2=(l,f)=>x2(Jm,l,f),tp=(l,f)=>w2(Jm,l,f),Qm=(l,f,h)=>Ex(Jm,l,f,h),Tb=(l,f,h)=>k2(Jm,l,f,h),ch=(l,f,h)=>Ns(l,f,h).isSome(),Ov=xd.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),eg=(l,f,h)=>{const y=l.getRect(f),S=l.getRect(h);return S.right>y.left&&S.left<y.right},Dl=l=>Ir(l,"tr"),ih={...Ov,verify:(l,f,h,y,S,O,I)=>Ir(y,"td,th",I).bind(Z=>Ir(f,"td,th",I).map(se=>jt(Z,se)?jt(y,Z)&&yc(Z)===S?O(se):Ov.none("in same cell"):Bu(Dl,[Z,se]).fold(()=>eg(l,se,Z)?Ov.success():O(se),Ce=>O(se)))).getOr(Ov.none("default")),cata:(l,f,h,y,S)=>l.fold(f,h,y,S)},C2=(l,f,h,y)=>({parent:l,children:f,element:h,index:y}),lh=l=>xs(l).bind(f=>{const h=xn(f);return uh(h,l).map(y=>C2(f,h,l,y))}),uh=(l,f)=>wn(l,pt(jt,f)),Mc=Ro("br"),Dv=(l,f,h)=>f(l,h).bind(y=>Le(y)&&Fs(y).trim().length===0?Dv(y,f,h):ie.some(y)),Ab=(l,f,h)=>h.traverse(f).orThunk(()=>Dv(f,h.gather,l)).map(h.relative),Rv=(l,f)=>ds(l,f).filter(Mc).orThunk(()=>ds(l,f-1).filter(Mc)),S2=(l,f,h,y)=>Rv(f,h).bind(S=>y.traverse(S).fold(()=>Dv(S,y.gather,l).map(y.relative),O=>lh(O).map(I=>Wc.on(I.parent,I.index)))),Ax=(l,f,h,y)=>(Mc(f)?Ab(l,f,y):S2(l,f,h,y)).map(O=>({start:O,finish:O})),Nv=l=>ih.cata(l,f=>ie.none(),()=>ie.none(),f=>ie.some(cl(f,0)),f=>ie.some(cl(f,yc(f)))),Va=(l,f)=>({left:l.left,top:l.top+f,right:l.right,bottom:l.bottom+f}),Mv=(l,f)=>({left:l.left,top:l.top-f,right:l.right,bottom:l.bottom-f}),cf=(l,f,h)=>({left:l.left+f,top:l.top+h,right:l.right+f,bottom:l.bottom+h}),E2=l=>l.top,zx=l=>l.bottom,Kf=(l,f,h)=>h>=0&&h<yc(f)?l.getRangedRect(f,h,f,h+1):h>0?l.getRangedRect(f,h-1,f,h):ie.none(),zb=l=>({left:l.left,top:l.top,right:l.right,bottom:l.bottom}),dh=(l,f)=>ie.some(l.getRect(f)),Bv=(l,f,h)=>Vs(f)?dh(l,f).map(zb):Le(f)?Kf(l,f,h).map(zb):ie.none(),Pv=(l,f)=>Vs(f)?dh(l,f).map(zb):Le(f)?l.getRangedRect(f,0,f,yc(f)).map(zb):ie.none(),tg=5,zT=100,fl=xd.generate([{none:[]},{retry:["caret"]}]),_d=(l,f)=>l.left<f.left||Math.abs(f.right-l.left)<1||l.left>f.right,Ox=(l,f,h)=>Qt(f,Q0).fold(co,y=>Pv(l,y).exists(S=>_d(h,S))),T2=(l,f,h,y,S)=>{const O=Va(S,tg);return Math.abs(h.bottom-y.bottom)<1||h.top>S.bottom?fl.retry(O):h.top===S.bottom?fl.retry(Va(S,1)):Ox(l,f,S)?fl.retry(cf(O,tg,0)):fl.none()},Dx={point:E2,adjuster:(l,f,h,y,S)=>{const O=Mv(S,tg);return Math.abs(h.top-y.top)<1||h.bottom<S.top?fl.retry(O):h.bottom===S.top?fl.retry(Mv(S,1)):Ox(l,f,S)?fl.retry(cf(O,tg,0)):fl.none()},move:Mv,gather:_2},Rx={point:zx,adjuster:T2,move:Va,gather:tp},z2=(l,f,h)=>l.elementFromPoint(f,h).filter(y=>ys(y)==="table").isSome(),O2=(l,f,h,y,S)=>qi(l,f,h,f.move(y,tg),S),qi=(l,f,h,y,S)=>S===0?ie.some(y):z2(l,y.left,f.point(y))?O2(l,f,h,y,S-1):l.situsFromPoint(y.left,f.point(y)).bind(O=>O.start.fold(ie.none,I=>Pv(l,I).bind(Z=>f.adjuster(l,I,Z,h,y).fold(ie.none,se=>qi(l,f,h,se,S-1))).orThunk(()=>ie.some(y)),ie.none)),op=(l,f,h)=>l.point(f)>h.getInnerHeight()?ie.some(l.point(f)-h.getInnerHeight()):l.point(f)<0?ie.some(-l.point(f)):ie.none(),Nx=(l,f,h)=>{const y=l.move(h,tg),S=qi(f,l,h,y,zT).getOr(y);return op(l,S,f).fold(()=>f.situsFromPoint(S.left,l.point(S)),O=>(f.scrollBy(0,O),f.situsFromPoint(S.left,l.point(S)-O)))},og={tryUp:pt(Nx,Dx),tryDown:pt(Nx,Rx),getJumpSize:X(tg)},Gi=20,ml=(l,f,h)=>l.getSelection().bind(y=>Ax(f,y.finish,y.foffset,h).fold(()=>ie.some(cl(y.finish,y.foffset)),S=>{const O=l.fromSitus(S),I=ih.verify(l,y.finish,y.foffset,O.finish,O.foffset,h.failure,f);return Nv(I)})),Zc=(l,f,h,y,S,O)=>O===0?ie.none():lu(l,f,h,y,S).bind(I=>{const Z=l.fromSitus(I),se=ih.verify(l,h,y,Z.finish,Z.foffset,S.failure,f);return ih.cata(se,()=>ie.none(),()=>ie.some(I),Ce=>jt(h,Ce)&&y===0?iu(l,h,y,Mv,S):Zc(l,f,Ce,0,S,O-1),Ce=>jt(h,Ce)&&y===yc(Ce)?iu(l,h,y,Va,S):Zc(l,f,Ce,yc(Ce),S,O-1))}),iu=(l,f,h,y,S)=>Bv(l,f,h).bind(O=>$v(l,S,y(O,og.getJumpSize()))),$v=(l,f,h)=>{const y=Gd().browser;return y.isChromium()||y.isSafari()||y.isFirefox()?f.retry(l,h):ie.none()},lu=(l,f,h,y,S)=>Bv(l,h,y).bind(O=>$v(l,S,O)),np=(l,f,h)=>ml(l,f,h).bind(y=>Zc(l,f,y.element,y.offset,h,Gi).map(l.fromSitus)),OT=(l,f)=>ch(l,h=>xs(h).exists(y=>jt(y,f))),Mx=(l,f,h,y,S)=>Ir(y,"td,th",f).bind(O=>Ir(O,"table",f).bind(I=>OT(S,I)?np(l,f,h).bind(Z=>Ir(Z.finish,"td,th",f).map(se=>({start:O,finish:se,range:Z}))):ie.none())),DT=(l,f,h,y,S,O)=>O(y,f).orThunk(()=>Mx(l,f,h,y,S).map(I=>{const Z=I.range;return Ol.create(ie.some(zv(Z.start,Z.soffset,Z.finish,Z.foffset)),!0)})),RT=(l,f)=>Ir(l,"tr",f).bind(h=>Ir(h,"table",f).bind(y=>{const S=In(y,"tr");return jt(h,S[0])?Qm(y,O=>Cm(O).isSome(),f).map(O=>{const I=yc(O);return Ol.create(ie.some(zv(O,I,O,I)),!0)}):ie.none()})),D2=(l,f)=>Ir(l,"tr",f).bind(h=>Ir(h,"table",f).bind(y=>{const S=In(y,"tr");return jt(h,S[S.length-1])?Tb(y,O=>ol(O).isSome(),f).map(O=>Ol.create(ie.some(zv(O,0,O,0)),!0)):ie.none()})),Iv=(l,f,h,y,S,O,I)=>Mx(l,h,y,S,O).bind(Z=>p2(f,h,Z.start,Z.finish,I)),Fv=l=>{let f=l;return{get:()=>f,set:S=>{f=S}}},ni=l=>{const f=Fv(ie.none()),h=()=>f.get().each(l);return{clear:()=>{h(),f.set(ie.none())},isSet:()=>f.get().isSome(),get:()=>f.get(),set:Z=>{h(),f.set(ie.some(Z))}}},fh=()=>{const l=ni(Qe);return{...l,on:h=>l.get().each(h)}},mh=(l,f)=>Ir(l,"td,th",f),Ob=l=>Rs(l).exists(sb),Bx=(l,f,h,y)=>{const S=fh(),O=S.clear,I=Ye=>{S.on(no=>{y.clearBeforeUpdate(f),mh(Ye.target,h).each(Ao=>{Wp(no,Ao,h).each(_o=>{const go=_o.boxes.getOr([]);if(go.length===1){const Xo=go[0],qt=b0(Xo)==="false",uo=Zl(nb(Ye.target),Xo,jt);qt&&uo&&y.selectRange(f,go,Xo,Xo)}else go.length>1&&(y.selectRange(f,go,_o.start,_o.finish),l.selectContents(Ao))})})})};return{clearstate:O,mousedown:Ye=>{y.clear(f),mh(Ye.target,h).filter(Ob).each(S.set)},mouseover:Ye=>{I(Ye)},mouseup:Ye=>{I(Ye),O()}}},Db={traverse:Za,gather:tp,relative:Wc.before,retry:og.tryDown,failure:ih.failedDown},Rb={traverse:Pa,gather:_2,relative:Wc.before,retry:og.tryUp,failure:ih.failedUp},sp=l=>f=>f===l,Px=sp(38),Lv=sp(40),Fu=l=>l>=37&&l<=40,R2={isBackward:sp(37),isForward:sp(39)},N2={isBackward:sp(39),isForward:sp(37)},Yf=l=>{const f=l!==void 0?l.dom:document,h=f.body.scrollLeft||f.documentElement.scrollLeft,y=f.body.scrollTop||f.documentElement.scrollTop;return Tn(h,y)},Rl=(l,f,h)=>{const S=(h!==void 0?h.dom:document).defaultView;S&&S.scrollBy(l,f)},Nb=xd.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),rp=l=>Nb.exact(l.start,l.soffset,l.finish,l.foffset),ng=l=>l.match({domRange:f=>Ae.fromDom(f.startContainer),relative:(f,h)=>Wc.getStart(f),exact:(f,h,y,S)=>f}),$x=Nb.domRange,Hv=Nb.relative,M2=Nb.exact,NT=l=>{const f=ng(l);return _n(f)},MT=rh.create,ap={domRange:$x,relative:Hv,exact:M2,exactFromRange:rp,getWin:NT,range:MT},Ix=(l,f,h)=>{var y;return ie.from((y=l.caretPositionFromPoint)===null||y===void 0?void 0:y.call(l,f,h)).bind(S=>{if(S.offsetNode===null)return ie.none();const O=l.createRange();return O.setStart(S.offsetNode,S.offset),O.collapse(),ie.some(O)})},gh=(l,f,h)=>{var y;return ie.from((y=l.caretRangeFromPoint)===null||y===void 0?void 0:y.call(l,f,h))},Mb=(l,f,h)=>l.caretPositionFromPoint?Ix(l,f,h):l.caretRangeFromPoint?gh(l,f,h):ie.none(),BT=(l,f,h)=>{const y=l.document;return Mb(y,f,h).map(S=>rh.create(Ae.fromDom(S.startContainer),S.startOffset,Ae.fromDom(S.endContainer),S.endOffset))},Vv=(l,f)=>{const h=ys(l);return h==="input"?Wc.after(l):ot(["br","img"],h)?f===0?Wc.before(l):Wc.after(l):Wc.on(l,f)},Fx=(l,f)=>{const h=l.fold(Wc.before,Vv,Wc.after),y=f.fold(Wc.before,Vv,Wc.after);return ap.relative(h,y)},Lx=(l,f,h,y)=>{const S=Vv(l,f),O=Vv(h,y);return ap.relative(S,O)},Uv=(l,f,h,y)=>{const O=Ko(l).dom.createRange();return O.setStart(l.dom,f),O.setEnd(h.dom,y),O},Hx=(l,f,h,y)=>{const S=Uv(l,f,h,y),O=jt(l,h)&&f===y;return S.collapsed&&!O},ph=l=>ie.from(l.getSelection()),jv=(l,f)=>{ph(l).each(h=>{h.removeAllRanges(),h.addRange(f)})},Wv=(l,f,h,y,S)=>{const O=_x(l,f,h,y,S);jv(l,O)},Zv=(l,f,h,y,S,O)=>{f.collapse(h.dom,y),f.extend(S.dom,O)},qv=(l,f)=>Ev(l,f).match({ltr:(h,y,S,O)=>{Wv(l,h,y,S,O)},rtl:(h,y,S,O)=>{ph(l).each(I=>{if(I.setBaseAndExtent)I.setBaseAndExtent(h.dom,y,S.dom,O);else if(I.extend)try{Zv(l,I,h,y,S,O)}catch{Wv(l,S,O,h,y)}else Wv(l,S,O,h,y)})}}),Ss=(l,f,h,y,S)=>{const O=Lx(f,h,y,S);qv(l,O)},lf=(l,f,h)=>{const y=Fx(f,h);qv(l,y)},cp=l=>{if(l.rangeCount>0){const f=l.getRangeAt(0),h=l.getRangeAt(l.rangeCount-1);return ie.some(rh.create(Ae.fromDom(f.startContainer),f.startOffset,Ae.fromDom(h.endContainer),h.endOffset))}else return ie.none()},Gv=l=>{if(l.anchorNode===null||l.focusNode===null)return cp(l);{const f=Ae.fromDom(l.anchorNode),h=Ae.fromDom(l.focusNode);return Hx(f,l.anchorOffset,h,l.focusOffset)?ie.some(rh.create(f,l.anchorOffset,h,l.focusOffset)):cp(l)}},Kv=(l,f,h=!0)=>{const S=(h?wT:kx)(l,f);jv(l,S)},sg=l=>ph(l).filter(f=>f.rangeCount>0).bind(Gv),Yv=l=>sg(l).map(f=>ap.exact(f.start,f.soffset,f.finish,f.foffset)),Vx=(l,f)=>{const h=Tv(l,f);return Sv(h)},Ux=(l,f,h)=>BT(l,f,h),jx=l=>{ph(l).each(f=>f.removeAllRanges())},Xf=l=>({elementFromPoint:(qt,uo)=>Ae.fromPoint(Ae.fromDom(l.document),qt,uo),getRect:qt=>qt.dom.getBoundingClientRect(),getRangedRect:(qt,uo,zn,Mn)=>{const rn=ap.exact(qt,uo,zn,Mn);return Vx(l,rn)},getSelection:()=>Yv(l).map(qt=>Cx(l,qt)),fromSitus:qt=>{const uo=ap.relative(qt.start,qt.finish);return Cx(l,uo)},situsFromPoint:(qt,uo)=>Ux(l,qt,uo).map(zn=>Av.create(zn.start,zn.soffset,zn.finish,zn.foffset)),clearSelection:()=>{jx(l)},collapseSelection:(qt=!1)=>{Yv(l).each(uo=>uo.fold(zn=>zn.collapse(qt),(zn,Mn)=>{const rn=qt?zn:Mn;lf(l,rn,rn)},(zn,Mn,rn,Gr)=>{const er=qt?zn:rn,ya=qt?Mn:Gr;Ss(l,er,ya,er,ya)}))},setSelection:qt=>{Ss(l,qt.start,qt.soffset,qt.finish,qt.foffset)},setRelativeSelection:(qt,uo)=>{lf(l,qt,uo)},selectNode:qt=>{Kv(l,qt,!1)},selectContents:qt=>{Kv(l,qt)},getInnerHeight:()=>l.innerHeight,getScrollY:()=>Yf(Ae.fromDom(l.document)).top,scrollBy:(qt,uo)=>{Rl(qt,uo,Ae.fromDom(l.document))}}),ip=(l,f)=>({rows:l,cols:f}),B2=(l,f,h,y)=>{const S=Xf(l),O=Bx(S,f,h,y);return{clearstate:O.clearstate,mousedown:O.mousedown,mouseover:O.mouseover,mouseup:O.mouseup}},Bb=l=>Qt(l,Qo).exists(sb),Wx=(l,f)=>Bb(l)||Bb(f),Xv=(l,f,h,y)=>{const S=Xf(l),O=()=>(y.clear(f),ie.none());return{keydown:(se,Ce,Ye,no,Ao,_o)=>{const go=se.raw,Xo=go.which,qt=go.shiftKey===!0;return cb(f,y.selectedSelector).fold(()=>(Fu(Xo)&&!qt&&y.clearBeforeUpdate(f),Fu(Xo)&&qt&&!Wx(Ce,no)?ie.none:Lv(Xo)&&qt?pt(Iv,S,f,h,Db,no,Ce,y.selectRange):Px(Xo)&&qt?pt(Iv,S,f,h,Rb,no,Ce,y.selectRange):Lv(Xo)?pt(DT,S,h,Db,no,Ce,D2):Px(Xo)?pt(DT,S,h,Rb,no,Ce,RT):ie.none),zn=>{const Mn=rn=>()=>de(rn,er=>ep(er.rows,er.cols,f,zn,y)).fold(()=>i_(f,y.firstSelectedSelector,y.lastSelectedSelector).map(er=>{const ya=Lv(Xo)||_o.isForward(Xo)?Wc.after:Wc.before;return S.setRelativeSelection(Wc.on(er.first,0),ya(er.table)),y.clear(f),Ol.create(ie.none(),!0)}),er=>ie.some(Ol.create(ie.none(),!0)));return Fu(Xo)&&qt&&!Wx(Ce,no)?ie.none:Lv(Xo)&&qt?Mn([ip(1,0)]):Px(Xo)&&qt?Mn([ip(-1,0)]):_o.isBackward(Xo)&&qt?Mn([ip(0,-1),ip(-1,0)]):_o.isForward(Xo)&&qt?Mn([ip(0,1),ip(1,0)]):Fu(Xo)&&!qt?O:ie.none})()},keyup:(se,Ce,Ye,no,Ao)=>cb(f,y.selectedSelector).fold(()=>{const _o=se.raw,go=_o.which;return _o.shiftKey===!0&&Fu(go)&&Wx(Ce,no)?ST(f,h,Ce,Ye,no,Ao,y.selectRange):ie.none()},ie.none)}},Jv=(l,f,h,y)=>{const S=Xf(l);return(O,I)=>{y.clearBeforeUpdate(f),Wp(O,I,h).each(Z=>{const se=Z.boxes.getOr([]);y.selectRange(f,se,Z.start,Z.finish),S.selectContents(I),S.collapseSelection()})}},Zx=(l,f)=>{const h=ir(l,f);return h===void 0||h===""?[]:h.split(" ")},P2=(l,f,h)=>{const S=Zx(l,f).concat([h]);return is(l,f,S.join(" ")),!0},Jf=(l,f,h)=>{const y=He(Zx(l,f),S=>S!==h);return y.length>0?is(l,f,y.join(" ")):le(l,f),!1},Qv=l=>l.dom.classList!==void 0,$2=l=>Zx(l,"class"),uu=(l,f)=>P2(l,"class",f),wc=(l,f)=>Jf(l,"class",f),Qf=(l,f)=>{Qv(l)?l.dom.classList.add(f):uu(l,f)},qx=l=>{(Qv(l)?l.dom.classList:$2(l)).length===0&&le(l,"class")},PT=(l,f)=>{Qv(l)?l.dom.classList.remove(f):wc(l,f),qx(l)},e1=(l,f)=>Qv(l)&&l.dom.classList.contains(f),Gx=(l,f)=>{ye(f,h=>{PT(l,h)})},hh=l=>f=>{Qf(f,l)},I2=l=>f=>{Gx(f,l)},IT={byClass:l=>{const f=hh(l.selected),h=I2([l.selected,l.lastSelected,l.firstSelected]),y=O=>{const I=In(O,l.selectedSelector);ye(I,h)};return{clearBeforeUpdate:y,clear:y,selectRange:(O,I,Z,se)=>{y(O),ye(I,f),Qf(Z,l.firstSelected),Qf(se,l.lastSelected)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}},byAttr:(l,f,h)=>{const y=se=>{le(se,l.selected),le(se,l.firstSelected),le(se,l.lastSelected)},S=se=>{is(se,l.selected,"1")},O=se=>{I(se),h()},I=se=>{const Ce=In(se,`${l.selectedSelector},${l.firstSelectedSelector},${l.lastSelectedSelector}`);ye(Ce,y)};return{clearBeforeUpdate:I,clear:O,selectRange:(se,Ce,Ye,no)=>{O(se),ye(Ce,S),is(Ye,l.firstSelected,"1"),is(no,l.lastSelected,"1"),f(Ce,Ye,no)},selectedSelector:l.selectedSelector,firstSelectedSelector:l.firstSelectedSelector,lastSelectedSelector:l.lastSelectedSelector}}},F2=(l,f,h,y)=>{switch(l.tag){case"none":return f();case"single":return y(l.element);case"multiple":return h(l.elements)}},L2=()=>({tag:"none"}),$o=l=>({tag:"multiple",elements:l}),kc=l=>({tag:"single",element:l}),Pb=(l,f,h)=>({get:()=>Om(l(),h).fold(()=>f().fold(L2,kc),$o)}),_c=(l,f)=>{const h=l.slice(0,f[f.length-1].row+1),y=Zy(h);return Nt(y,S=>{const O=S.cells.slice(0,f[f.length-1].column+1);return wt(O,I=>I.element)})},du=(l,f)=>{const h=l.slice(f[0].row+f[0].rowspan-1,l.length),y=Zy(h);return Nt(y,S=>{const O=S.cells.slice(f[0].column+f[0].colspan-1,S.cells.length);return wt(O,I=>I.element)})},Kx=(l,f,h)=>{const y=ss.fromTable(l);return il(y,f).map(O=>{const I=Xp(y,h,!1),{rows:Z}=Fa(I),se=_c(Z,O),Ce=du(Z,O);return{upOrLeftCells:se,downOrRightCells:Ce}})},lp=(l,f,h,y,S,O,I)=>({target:l,x:f,y:h,stop:y,prevent:S,kill:O,raw:I}),$b=l=>{const f=Ae.fromDom(Oo(l).getOr(l.target)),h=()=>l.stopPropagation(),y=()=>l.preventDefault(),S=nt(y,h);return lp(f,l.clientX,l.clientY,h,y,S,l)},up=(l,f)=>h=>{l(h)&&f($b(h))},Ib=(l,f,h,y,S)=>{const O=up(h,y);return l.dom.addEventListener(f,O,S),{unbind:pt(FT,l,f,O,S)}},H2=(l,f,h,y)=>Ib(l,f,h,y,!1),FT=(l,f,h,y)=>{l.dom.removeEventListener(f,h,y)},LT=We,bh=(l,f,h)=>H2(l,f,LT,h),dp=$b,Yx=l=>!e1(Ae.fromDom(l.target),"ephox-snooker-resizer-bar"),Xx=(l,f)=>{const h=Pb(()=>Ae.fromDom(l.getBody()),()=>O0(au(l),bd(l)),Lf.selectedSelector),y=(se,Ce,Ye)=>{da(Ce).each(Ao=>{const _o=wt(se,zn=>zn.dom),go=o_(l),Xo=$f(Qe,Ae.fromDom(l.getDoc()),go),qt=Tr(l),uo=Kx(Ao,{selection:qt},Xo).map(zn=>Ke(zn,Mn=>wt(Mn,rn=>rn.dom))).getOrUndefined();U_(l,_o,Ce.dom,Ye.dom,uo)})},S=()=>cT(l),O=IT.byAttr(Lf,y,S);return l.on("init",se=>{const Ce=l.getWin(),Ye=Fg(l),no=bd(l),Ao=()=>{const Gs=l.selection,Cc=Ae.fromDom(Gs.getStart()),Ai=Ae.fromDom(Gs.getEnd());Bu(da,[Cc,Ai]).fold(()=>O.clear(Ye),Qe)},_o=B2(Ce,Ye,no,O),go=Xv(Ce,Ye,no,O),Xo=Jv(Ce,Ye,no,O),qt=Gs=>Gs.raw.shiftKey===!0;l.on("TableSelectorChange",Gs=>Xo(Gs.start,Gs.finish));const uo=(Gs,Cc)=>{qt(Gs)&&(Cc.kill&&Gs.kill(),Cc.selection.each(Ai=>{const Hu=ap.relative(Ai.start,Ai.finish),Pl=Tv(Ce,Hu);l.selection.setRng(Pl)}))},zn=Gs=>{const Cc=dp(Gs);if(Cc.raw.shiftKey&&Fu(Cc.raw.which)){const Ai=l.selection.getRng(),Hu=Ae.fromDom(Ai.startContainer),Pl=Ae.fromDom(Ai.endContainer);go.keyup(Cc,Hu,Ai.startOffset,Pl,Ai.endOffset).each(xh=>{uo(Cc,xh)})}},Mn=Gs=>{const Cc=dp(Gs);f.hide();const Ai=l.selection.getRng(),Hu=Ae.fromDom(Ai.startContainer),Pl=Ae.fromDom(Ai.endContainer),xh=D(R2,N2)(Ae.fromDom(l.selection.getStart()));go.keydown(Cc,Hu,Ai.startOffset,Pl,Ai.endOffset,xh).each(Xn=>{uo(Cc,Xn)}),f.show()},rn=Gs=>Gs.button===0,Gr=Gs=>Gs.buttons===void 0?!0:(Gs.buttons&1)!==0,er=Gs=>{_o.clearstate()},ya=Gs=>{rn(Gs)&&Yx(Gs)&&_o.mousedown(dp(Gs))},Bl=Gs=>{Gr(Gs)&&Yx(Gs)&&_o.mouseover(dp(Gs))},Gc=Gs=>{rn(Gs)&&Yx(Gs)&&_o.mouseup(dp(Gs))},gp=(()=>{const Gs=Fv(Ae.fromDom(Ye)),Cc=Fv(0);return{touchEnd:Hu=>{const Pl=Ae.fromDom(Hu.target);if(Ro("td")(Pl)||Ro("th")(Pl)){const xh=Gs.get(),Xn=Cc.get();jt(xh,Pl)&&Hu.timeStamp-Xn<300&&(Hu.preventDefault(),Xo(Pl,Pl))}Gs.set(Pl),Cc.set(Hu.timeStamp)}}})();l.on("dragstart",er),l.on("mousedown",ya),l.on("mouseover",Bl),l.on("mouseup",Gc),l.on("touchend",gp.touchEnd),l.on("keyup",zn),l.on("keydown",Mn),l.on("NodeChange",Ao)}),l.on("PreInit",()=>{l.serializer.addTempAttr(Lf.firstSelected),l.serializer.addTempAttr(Lf.lastSelected)}),{getSelectedCells:()=>F2(h.get(),X([]),se=>wt(se,Ce=>Ce.dom),se=>[se.dom]),clearSelectedCells:se=>O.clear(Ae.fromDom(se))}},gl=l=>{let f=[];return{bind:O=>{if(O===void 0)throw new Error("Event bind error: undefined handler");f.push(O)},unbind:O=>{f=He(f,I=>I!==O)},trigger:(...O)=>{const I={};ye(l,(Z,se)=>{I[Z]=O[se]}),ye(f,Z=>{Z(I)})}}},uf=l=>{const f=Ke(l,y=>({bind:y.bind,unbind:y.unbind})),h=Ke(l,y=>y.trigger);return{registry:f,trigger:h}},t1=(l,f)=>{let h=null;const y=()=>{so(h)||(clearTimeout(h),h=null)};return{cancel:y,throttle:(...O)=>{y(),h=setTimeout(()=>{h=null,l.apply(null,O)},f)}}},Lu=l=>l.slice(0).sort(),o1=(l,f)=>{throw new Error("All required keys ("+Lu(l).join(", ")+") were not specified. Specified keys were: "+Lu(f).join(", ")+".")},HT=l=>{throw new Error("Unsupported keys for object: "+Lu(l).join(", "))},n1=(l,f)=>{if(!Pt(f))throw new Error("The "+l+" fields must be an array. Was: "+f+".");ye(f,h=>{if(!qe(h))throw new Error("The value "+h+" in the "+l+" fields was not a string.")})},s1=(l,f)=>{throw new Error("All values need to be of type: "+f+". Keys ("+Lu(l).join(", ")+") were not.")},VT=l=>{const f=Lu(l);P(f,(y,S)=>S<f.length-1&&y===f[S+1]).each(y=>{throw new Error("The field: "+y+" occurs more than once in the combined fields: ["+f.join(", ")+"].")})},UT=(l,f)=>jT(l,f,{validate:St,label:"function"}),jT=(l,f,h)=>{if(f.length===0)throw new Error("You must specify at least one required field.");return n1("required",f),VT(f),y=>{const S=be(y);Ue(f,Z=>ot(S,Z))||o1(f,S),l(f,S);const I=He(f,Z=>!h.validate(y[Z],Z));return I.length>0&&s1(I,h.label),y}},WT=(l,f)=>{const h=He(f,y=>!ot(l,y));h.length>0&&HT(h)},r1=l=>UT(WT,l),V2=r1(["compare","extract","mutate","sink"]),ZT=r1(["element","start","stop","destroy"]),a1=r1(["forceDrop","drop","move","delayDrop"]),qc=()=>{let l=ie.none();const f=()=>{l=ie.none()},h=(O,I)=>{const Z=l.map(se=>O.compare(se,I));return l=ie.some(I),Z},y=(O,I)=>{I.extract(O).each(se=>{h(I,se).each(Ye=>{S.trigger.move(Ye)})})},S=uf({move:gl(["info"])});return{onEvent:y,reset:f,events:S.registry}},fu=()=>{const l=uf({move:gl(["info"])});return{onEvent:Qe,reset:Qe,events:l.registry}},Nl=()=>{const l=fu(),f=qc();let h=l;return{on:()=>{h.reset(),h=f},off:()=>{h.reset(),h=l},isOn:()=>h===f,onEvent:(Z,se)=>{h.onEvent(Z,se)},events:f.events}},c1=(l,f,h)=>{let y=!1;const S=uf({start:gl([]),stop:gl([])}),O=Nl(),I=()=>{go.stop(),O.isOn()&&(O.off(),S.trigger.stop())},Z=t1(I,200),se=qt=>{go.start(qt),O.on(),S.trigger.start()},Ce=qt=>{Z.cancel(),O.onEvent(qt,f)};O.events.move.bind(qt=>{f.mutate(l,qt.info)});const Ye=()=>{y=!0},no=()=>{y=!1},Ao=()=>y,_o=qt=>(...uo)=>{y&&qt.apply(null,uo)},go=f.sink(a1({forceDrop:I,drop:_o(I),move:_o(Ce),delayDrop:_o(Z.throttle)}),h),Xo=()=>{go.destroy()};return{element:go.element,go:se,on:Ye,off:no,isActive:Ao,destroy:Xo,events:S.registry}},Fb=l=>{const f=l.replace(/\./g,"-");return{resolve:y=>f+"-"+y}},Lb=Fb("ephox-dragster").resolve,qT=l=>{const f={layerClass:Lb("blocker"),...l},h=Ae.fromTag("div");return is(h,"role","presentation"),As(h,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Qf(h,Lb("blocker")),Qf(h,f.layerClass),{element:X(h),destroy:()=>{Wr(h)}}};var Z2=V2({compare:(l,f)=>Tn(f.left-l.left,f.top-l.top),extract:l=>ie.some(Tn(l.x,l.y)),sink:(l,f)=>{const h=qT(f),y=bh(h.element(),"mousedown",l.forceDrop),S=bh(h.element(),"mouseup",l.drop),O=bh(h.element(),"mousemove",l.move),I=bh(h.element(),"mouseout",l.delayDrop),Z=()=>{h.destroy(),S.unbind(),O.unbind(),I.unbind(),y.unbind()},se=Ye=>{ur(Ye,h.element())},Ce=()=>{Wr(h.element())};return ZT({element:h.element,start:se,stop:Ce,destroy:Z})},mutate:(l,f)=>{l.mutate(f.left,f.top)}});const i1=(l,f={})=>{var h;const y=(h=f.mode)!==null&&h!==void 0?h:Z2;return c1(l,y,f)},eo=Fb("ephox-snooker").resolve,Ml=()=>{const l=uf({drag:gl(["xDelta","yDelta"])});return{mutate:(h,y)=>{l.trigger.drag(h,y)},events:l.registry}},G2=()=>{const l=uf({drag:gl(["xDelta","yDelta","target"])});let f=ie.none();const h=Ml();return h.events.drag.bind(O=>{f.each(I=>{l.trigger.drag(O.xDelta,O.yDelta,I)})}),{assign:O=>{f=ie.some(O)},get:()=>f,mutate:h.mutate,events:l.registry}},Jx=(l,f,h,y,S)=>{const O=Ae.fromTag("div");return As(O,{position:"absolute",left:f-y/2+"px",top:h+"px",height:S+"px",width:y+"px"}),_r(O,{"data-column":l,role:"presentation"}),O},Hb=(l,f,h,y,S)=>{const O=Ae.fromTag("div");return As(O,{position:"absolute",left:f+"px",top:h-S/2+"px",height:S+"px",width:y+"px"}),_r(O,{"data-row":l,role:"presentation"}),O},fp=eo("resizer-bar"),Qx=eo("resizer-rows"),Vb=eo("resizer-cols"),K2=7,KT=(l,f)=>Nt(l.all,(h,y)=>f(h.element)?[y]:[]),ew=(l,f)=>{const h=[];return bt(l.grid.columns,y=>{ss.getColumnAt(l,y).map(O=>O.element).forall(f)&&h.push(y)}),He(h,y=>{const S=ss.filterItems(l,O=>O.column===y);return Ue(S,O=>f(O.element))})},Ub=l=>{const f=In(l.parent(),"."+fp);ye(f,Wr)},rg=(l,f,h)=>{const y=l.origin();ye(f,S=>{S.each(O=>{const I=h(y,O);Qf(I,fp),ur(l.parent(),I)})})},Y2=(l,f,h,y)=>{rg(l,f,(S,O)=>{const I=Jx(O.col,O.x-S.left,h.top-S.top,K2,y);return Qf(I,Vb),I})},X2=(l,f,h,y)=>{rg(l,f,(S,O)=>{const I=Hb(O.row,h.left-S.left,O.y-S.top,y,K2);return Qf(I,Qx),I})},YT=(l,f,h,y,S)=>{const O=fa(h),I=f.isResizable,Z=y.length>0?Jc.positions(y,h):[],se=Z.length>0?KT(l,I):[],Ce=He(Z,(_o,go)=>ue(se,Xo=>go===Xo));X2(f,Ce,O,js(h));const Ye=S.length>0?Ng.positions(S,h):[],no=Ye.length>0?ew(l,I):[],Ao=He(Ye,(_o,go)=>ue(no,Xo=>go===Xo));Y2(f,Ao,O,It(h))},tw=(l,f)=>{if(Ub(l),l.isResizable(f)){const h=ss.fromTable(f),y=vm(h),S=dd(h);YT(h,l,f,y,S)}},XT=(l,f)=>{const h=In(l.parent(),"."+fp);ye(h,f)},pl=l=>{XT(l,f=>{Dn(f,"display","none")})},mi=l=>{XT(l,f=>{Dn(f,"display","block")})},yh=l=>e1(l,Qx),xD=l=>e1(l,Vb),JT=eo("resizer-bar-dragging"),ow=l=>{const f=G2(),h=i1(f,{});let y=ie.none();const S=(go,Xo)=>ie.from(ir(go,Xo));f.events.drag.bind(go=>{S(go.target,"data-row").each(Xo=>{const qt=Sr(go.target,"top");Dn(go.target,"top",qt+go.yDelta+"px")}),S(go.target,"data-column").each(Xo=>{const qt=Sr(go.target,"left");Dn(go.target,"left",qt+go.xDelta+"px")})});const O=(go,Xo)=>{const qt=Sr(go,Xo),uo=Js(go,"data-initial-"+Xo,0);return qt-uo};h.events.stop.bind(()=>{f.get().each(go=>{y.each(Xo=>{S(go,"data-row").each(qt=>{const uo=O(go,"top");le(go,"data-initial-top"),_o.trigger.adjustHeight(Xo,uo,parseInt(qt,10))}),S(go,"data-column").each(qt=>{const uo=O(go,"left");le(go,"data-initial-left"),_o.trigger.adjustWidth(Xo,uo,parseInt(qt,10))}),tw(l,Xo)})})});const I=(go,Xo)=>{_o.trigger.startAdjust(),f.assign(go),is(go,"data-initial-"+Xo,Sr(go,Xo)),Qf(go,JT),Dn(go,"opacity","0.2"),h.go(l.parent())},Z=bh(l.parent(),"mousedown",go=>{yh(go.target)&&I(go.target,"top"),xD(go.target)&&I(go.target,"left")}),se=go=>jt(go,l.view()),Ce=go=>Ir(go,"table",se).filter(sb),Ye=bh(l.view(),"mouseover",go=>{Ce(go.target).fold(()=>{on(go.target)&&Ub(l)},Xo=>{h.isActive()&&(y=ie.some(Xo),tw(l,Xo))})}),no=()=>{Z.unbind(),Ye.unbind(),h.destroy(),Ub(l)},Ao=go=>{tw(l,go)},_o=uf({adjustHeight:gl(["table","delta","row"]),adjustWidth:gl(["table","delta","column"]),startAdjust:gl([])});return{destroy:no,refresh:Ao,on:h.on,off:h.off,hideBars:pt(pl,l),showBars:pt(mi,l),events:_o.registry}},QT={create:(l,f,h)=>{const y=Jc,S=Ng,O=ow(l),I=uf({beforeResize:gl(["table","type"]),afterResize:gl(["table","type"]),startDrag:gl([])});return O.events.adjustHeight.bind(Z=>{const se=Z.table;I.trigger.beforeResize(se,"row");const Ce=y.delta(Z.delta,se);X0(se,Ce,Z.row),I.trigger.afterResize(se,"row")}),O.events.startAdjust.bind(Z=>{I.trigger.startDrag()}),O.events.adjustWidth.bind(Z=>{const se=Z.table;I.trigger.beforeResize(se,"col");const Ce=S.delta(Z.delta,se),Ye=h(se);Y0(se,Ce,Z.column,f,Ye),I.trigger.afterResize(se,"col")}),{on:O.on,off:O.off,refreshBars:O.refresh,hideBars:O.hideBars,showBars:O.showBars,destroy:O.destroy,events:I.registry}}},df={only:(l,f)=>{const h=at(l)?ln(l):l;return{parent:X(h),view:X(l),origin:X(Tn(0,0)),isResizable:f}},detached:(l,f,h)=>{const y=()=>fa(f);return{parent:X(f),view:X(l),origin:y,isResizable:h}},body:(l,f,h)=>({parent:X(f),view:X(l),origin:X(Tn(0,0)),isResizable:h})},l1=()=>{const l=Ae.fromTag("div");return As(l,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ur(oa(),l),l},tA=(l,f)=>l.inline?df.body(Ae.fromDom(l.getBody()),l1(),f):df.only(Ae.fromDom(l.getDoc()),f),oA=(l,f)=>{l.inline&&Wr(f.parent())},Q2=l=>Vt(l)&&l.nodeName==="TABLE",jb="bar-",nw=l=>ir(l,"data-mce-resize")!=="false",eC=l=>{const f=ss.fromTable(l);ss.hasColumns(f)||ye(Pi(l),h=>{const y=qs(h,"width");Dn(h,"width",y),le(h,"width")})},kD=l=>Oa(l,"corner-"),vh=l=>Vd(l,"corner-"),sw=l=>{const f=fh(),h=fh(),y=fh();let S,O,I,Z;const se=uo=>Ja(l,uo),Ce=()=>ha(l)?Rm():jg(),Ye=uo=>nf(uo).columns,no=uo=>nf(uo).rows,Ao=(uo,zn,Mn,rn)=>{const Gr=vh(zn),er=li(Gr,"e"),ya=Oa(Gr,"n");if(O===""&&wb(uo),Z===""&&fT(uo),Mn!==S&&O!==""){Dn(uo,"width",O);const Bl=Ce(),Gc=se(uo),mp=ha(l)||er?Ye(uo)-1:0;Y0(uo,Mn-S,mp,Bl,Gc)}else if(r_(O)){const Bl=parseFloat(O.replace("%","")),Gc=Mn*Bl/S;Dn(uo,"width",Gc+"%")}if(a_(O)&&eC(uo),rn!==I&&Z!==""){Dn(uo,"height",Z);const Bl=ya?0:no(uo)-1;X0(uo,rn-I,Bl)}},_o=()=>{h.on(uo=>{uo.destroy()}),y.on(uo=>{oA(l,uo)})};return l.on("init",()=>{const uo=tA(l,nw);if(y.set(uo),gd(l)&&ru(l)){const zn=Ce(),Mn=QT.create(uo,zn,se);Mn.on(),Mn.events.startDrag.bind(rn=>{f.set(l.selection.getRng())}),Mn.events.beforeResize.bind(rn=>{const Gr=rn.table.dom;iT(l,Gr,Em(Gr),y0(Gr),jb+rn.type)}),Mn.events.afterResize.bind(rn=>{const Gr=rn.table,er=Gr.dom;xi(Gr),f.on(ya=>{l.selection.setRng(ya),l.focus()}),Xa(l,er,Em(er),y0(er),jb+rn.type),l.undoManager.add()}),h.set(Mn)}}),l.on("ObjectResizeStart",uo=>{const zn=uo.target;if(Q2(zn)){const Mn=Ae.fromDom(zn);ye(l.dom.select(".mce-clonedresizable"),rn=>{l.dom.addClass(rn,"mce-"+p0(l)+"-columns")}),!gx(Mn)&&Ff(l)?kb(Mn):!K_(Mn)&&Sm(l)&&wb(Mn),Y_(Mn)&&Oa(uo.origin,jb)&&wb(Mn),S=uo.width,O=su(l)?"":v0(l,zn).getOr(""),I=uo.height,Z=s_(l,zn).getOr("")}}),l.on("ObjectResized",uo=>{const zn=uo.target;if(Q2(zn)){const Mn=Ae.fromDom(zn),rn=uo.origin;kD(rn)&&Ao(Mn,rn,uo.width,uo.height),xi(Mn),qf(l,Mn.dom,ba)}}),l.on("SwitchMode",()=>{h.on(uo=>{l.mode.isReadOnly()?uo.hideBars():uo.showBars()})}),l.on("dragstart dragend",uo=>{h.on(zn=>{uo.type==="dragstart"?(zn.hideBars(),zn.off()):(zn.on(),zn.showBars())})}),l.on("remove",()=>{_o()}),{refresh:uo=>{h.on(zn=>zn.refreshBars(Ae.fromDom(uo)))},hide:()=>{h.on(uo=>uo.hideBars())},show:()=>{h.on(uo=>uo.showBars())}}},_D=l=>{Ig(l);const f=sw(l),h=Xx(l,f),y=Qa(l,f,h);return sh(l,y),i2(l,y),qp(l,y),{getSelectedCells:h.getSelectedCells,clearSelectedCells:h.clearSelectedCells}},tC=l=>({table:_D(l)});var nA=()=>{ro.add("dom",tC)};nA()})();(function(){const ro=Object.getPrototypeOf,Gt=(t,s,a)=>{var i;return a(t,s.prototype)?!0:((i=t.constructor)===null||i===void 0?void 0:i.name)===s.name},Wt=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&Gt(t,String,(a,i)=>i.isPrototypeOf(a))?"string":s},Jt=t=>s=>Wt(s)===t,Lt=t=>s=>typeof s===t,Ht=t=>s=>t===s,qe=(t,s)=>Pt(t)&&Gt(t,s,(a,i)=>ro(a)===i),Re=Jt("string"),Pt=Jt("object"),so=t=>qe(t,Object),po=Jt("array"),So=Ht(null),Ft=Lt("boolean"),Vt=Ht(void 0),St=t=>t==null,to=t=>!St(t),Qe=Lt("function"),nt=Lt("number"),Be=(t,s)=>{if(po(t)){for(let a=0,i=t.length;a<i;++a)if(!s(t[a]))return!1;return!0}return!1},X=()=>{},lt=t=>()=>t(),Go=(t,s)=>(...a)=>t(s.apply(null,a)),pt=(t,s)=>a=>t(s(a)),U=t=>()=>t,zt=t=>t,ko=(t,s)=>t===s;function co(t,...s){return(...a)=>{const i=s.concat(a);return t.apply(null,i)}}const We=t=>s=>!t(s),ie=t=>()=>{throw new Error(t)},gn=t=>t(),Oe=U(!1),Me=U(!0);class _{constructor(s,a){this.tag=s,this.value=a}static some(s){return new _(!0,s)}static none(){return _.singletonNone}fold(s,a){return this.tag?a(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?_.some(s(this.value)):_.none()}bind(s){return this.tag?s(this.value):_.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:_.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return to(s)?_.some(s):_.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}_.singletonNone=new _(!1);const ot=Array.prototype.slice,ue=Array.prototype.indexOf,bt=Array.prototype.push,wt=(t,s)=>ue.call(t,s),ye=(t,s)=>{const a=wt(t,s);return a===-1?_.none():_.some(a)},vt=(t,s)=>wt(t,s)>-1,yo=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];if(s(d,a))return!0}return!1},He=(t,s)=>{const a=[];for(let i=0;i<t;i++)a.push(s(i));return a},Zt=(t,s)=>{const a=[];for(let i=0;i<t.length;i+=s){const d=ot.call(t,i,i+s);a.push(d)}return a},ke=(t,s)=>{const a=t.length,i=new Array(a);for(let d=0;d<a;d++){const g=t[d];i[d]=s(g,d)}return i},Xe=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];s(d,a)}},P=(t,s)=>{for(let a=t.length-1;a>=0;a--){const i=t[a];s(i,a)}},wn=(t,s)=>{const a=[],i=[];for(let d=0,g=t.length;d<g;d++){const p=t[d];(s(p,d)?a:i).push(p)}return{pass:a,fail:i}},st=(t,s)=>{const a=[];for(let i=0,d=t.length;i<d;i++){const g=t[i];s(g,i)&&a.push(g)}return a},Nt=(t,s,a)=>(P(t,(i,d)=>{a=s(a,i,d)}),a),Ue=(t,s,a)=>(Xe(t,(i,d)=>{a=s(a,i,d)}),a),dt=(t,s,a)=>{for(let i=0,d=t.length;i<d;i++){const g=t[i];if(s(g,i))return _.some(g);if(a(g,i))break}return _.none()},K=(t,s)=>dt(t,s,Oe),te=(t,s)=>{for(let a=0,i=t.length;a<i;a++){const d=t[a];if(s(d,a))return _.some(a)}return _.none()},he=t=>{const s=[];for(let a=0,i=t.length;a<i;++a){if(!po(t[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+t);bt.apply(s,t[a])}return s},V=(t,s)=>he(ke(t,s)),re=(t,s)=>{for(let a=0,i=t.length;a<i;++a){const d=t[a];if(s(d,a)!==!0)return!1}return!0},de=t=>{const s=ot.call(t,0);return s.reverse(),s},be=(t,s)=>st(t,a=>!vt(s,a)),ut=(t,s)=>{const a={};for(let i=0,d=t.length;i<d;i++){const g=t[i];a[String(g)]=s(g,i)}return a},Ee=t=>[t],Ke=(t,s)=>{const a=ot.call(t,0);return a.sort(s),a},xt=(t,s)=>s>=0&&s<t.length?_.some(t[s]):_.none(),ho=t=>xt(t,0),je=t=>xt(t,t.length-1),Je=Qe(Array.from)?Array.from:t=>ot.call(t),Ut=(t,s)=>{for(let a=0;a<t.length;a++){const i=s(t[a],a);if(i.isSome())return i}return _.none()},io=Object.keys,hn=Object.hasOwnProperty,Lo=(t,s)=>{const a=io(t);for(let i=0,d=a.length;i<d;i++){const g=a[i],p=t[g];s(p,g)}},Mo=(t,s)=>Hn(t,(a,i)=>({k:i,v:s(a,i)})),Hn=(t,s)=>{const a={};return Lo(t,(i,d)=>{const g=s(i,d);a[g.k]=g.v}),a},Bo=t=>(s,a)=>{t[a]=s},Wn=(t,s,a,i)=>{Lo(t,(d,g)=>{(s(d,g)?a:i)(d,g)})},bs=(t,s)=>{const a={},i={};return Wn(t,s,Bo(a),Bo(i)),{t:a,f:i}},os=(t,s)=>{const a={};return Wn(t,s,Bo(a),X),a},Ys=(t,s)=>{const a=[];return Lo(t,(i,d)=>{a.push(s(i,d))}),a},vn=(t,s)=>{const a=io(t);for(let i=0,d=a.length;i<d;i++){const g=a[i],p=t[g];if(s(p,g,t))return _.some(p)}return _.none()},jr=t=>Ys(t,zt),Kt=(t,s)=>Gn(t,s)?_.from(t[s]):_.none(),Gn=(t,s)=>hn.call(t,s),hr=(t,s)=>Gn(t,s)&&t[s]!==void 0&&t[s]!==null,ar=(t,s,a=ko)=>t.exists(i=>a(i,s)),Pr=(t,s,a=ko)=>ea(t,s,a).getOr(t.isNone()&&s.isNone()),$r=t=>{const s=[],a=i=>{s.push(i)};for(let i=0;i<t.length;i++)t[i].each(a);return s},ys=t=>{const s=[];for(let a=0;a<t.length;a++){const i=t[a];if(i.isSome())s.push(i.getOrDie());else return _.none()}return _.some(s)},ea=(t,s,a)=>t.isSome()&&s.isSome()?_.some(a(t.getOrDie(),s.getOrDie())):_.none(),ia=(t,s,a,i)=>t.isSome()&&s.isSome()&&a.isSome()?_.some(i(t.getOrDie(),s.getOrDie(),a.getOrDie())):_.none(),vs=(t,s)=>t!=null?_.some(s(t)):_.none(),Qo=(t,s)=>t?_.some(s):_.none(),Vs=(t,s)=>t+s,Le=(t,s)=>t.substring(s),at=(t,s,a)=>s===""||t.length>=s.length&&t.substr(a,a+s.length)===s,xo=(t,s)=>is(t,s)?Le(t,s.length):t,Ro=(t,s)=>_r(t,s)?t:Vs(t,s),Vn=(t,s,a=0,i)=>{const d=t.indexOf(s,a);return d!==-1?Vt(i)?!0:d+s.length<=i:!1},is=(t,s)=>at(t,s,0),_r=(t,s)=>at(t,s,t.length-s.length),ir=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),ge=t=>t.length>0,le=t=>!ge(t),tt=t=>t.style!==void 0&&Qe(t.style.getPropertyValue),mt=(t,s)=>{const i=(s||document).createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1){const d="HTML does not have a single root node";throw console.error(d,t),new Error(d)}return Rn(i.childNodes[0])},en=(t,s)=>{const i=(s||document).createElement(t);return Rn(i)},kn=(t,s)=>{const i=(s||document).createTextNode(t);return Rn(i)},Rn=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Ae={fromHtml:mt,fromTag:en,fromText:kn,fromDom:Rn,fromPoint:(t,s,a)=>_.from(t.dom.elementFromPoint(s,a)).map(Rn)},Nn=typeof window<"u"?window:Function("return this;")(),ve=(t,s)=>{let a=s??Nn;for(let i=0;i<t.length&&a!==void 0&&a!==null;++i)a=a[t[i]];return a},Se=(t,s)=>{const a=t.split(".");return ve(a,s)},Mt=(t,s)=>Se(t,s),jt=(t,s)=>{const a=Mt(t,s);if(a==null)throw new Error(t+" not available on this browser");return a},To=Object.getPrototypeOf,Zo=t=>jt("HTMLElement",t),Ko=t=>{const s=Se("ownerDocument.defaultView",t);return Pt(t)&&(Zo(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(To(t).constructor.name))},jo=9,ln=11,_n=1,xs=3,Rs=t=>t.dom.nodeName.toLowerCase(),Zs=t=>t.dom.nodeType,Pa=t=>s=>Zs(s)===t,Za=t=>xn(t)&&Ko(t.dom),xn=Pa(_n),ds=Pa(xs),ms=Pa(jo),la=Pa(ln),ua=t=>s=>xn(s)&&Rs(s)===t,Yr=(t,s)=>{const a=t.dom;if(a.nodeType!==_n)return!1;{const i=a;if(i.matches!==void 0)return i.matches(s);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(s);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(s);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},ur=t=>t.nodeType!==_n&&t.nodeType!==jo&&t.nodeType!==ln||t.childElementCount===0,sd=(t,s)=>{const a=s===void 0?document:s.dom;return ur(a)?[]:ke(a.querySelectorAll(t),Ae.fromDom)},Ac=(t,s)=>{const a=s===void 0?document:s.dom;return ur(a)?_.none():_.from(a.querySelector(t)).map(Ae.fromDom)},Ts=(t,s)=>t.dom===s.dom,Aa=(t,s)=>{const a=t.dom,i=s.dom;return a===i?!1:a.contains(i)},ka=t=>Ae.fromDom(t.dom.ownerDocument),Wr=t=>ms(t)?t:ka(t),Mi=t=>Ae.fromDom(Wr(t).dom.documentElement),za=t=>Ae.fromDom(Wr(t).dom.defaultView),$a=t=>_.from(t.dom.parentNode).map(Ae.fromDom),$c=t=>$a(t),fc=t=>_.from(t.dom.parentElement).map(Ae.fromDom),yl=(t,s)=>{const a=Qe(s)?s:Oe;let i=t.dom;const d=[];for(;i.parentNode!==null&&i.parentNode!==void 0;){const g=i.parentNode,p=Ae.fromDom(g);if(d.push(p),a(p)===!0)break;i=g}return d},hi=t=>_.from(t.dom.offsetParent).map(Ae.fromDom),ci=t=>_.from(t.dom.nextSibling).map(Ae.fromDom),mc=t=>ke(t.dom.childNodes,Ae.fromDom),ta=(t,s)=>{const a=t.dom.childNodes;return _.from(a[s]).map(Ae.fromDom)},vl=t=>ta(t,0),xl=(t,s)=>({element:t,offset:s}),wl=(t,s)=>{const a=mc(t);return a.length>0&&s<a.length?xl(a[s],0):xl(t,s)},Qi=t=>la(t)&&to(t.dom.host),Xr=t=>Ae.fromDom(t.dom.getRootNode()),gc=t=>Qi(t)?t:Ae.fromDom(Wr(t).dom.body),W=t=>fe(t).isSome(),fe=t=>{const s=Xr(t);return Qi(s)?_.some(s):_.none()},$e=t=>Ae.fromDom(t.dom.host),Et=t=>{if(to(t.target)){const s=Ae.fromDom(t.target);if(xn(s)&&oo(s)&&t.composed&&t.composedPath){const a=t.composedPath();if(a)return ho(a)}}return _.from(t.target)},oo=t=>to(t.dom.shadowRoot),Ho=t=>{const s=ds(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const a=s.ownerDocument;return fe(Ae.fromDom(s)).fold(()=>a.body.contains(s),pt(Ho,$e))},es=()=>Us(Ae.fromDom(document)),Us=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return Ae.fromDom(s)},ls=(t,s,a)=>{if(Re(a)||Ft(a)||nt(a))t.setAttribute(s,a+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",a,":: Element ",t),new Error("Attribute value was not simple")},Oo=(t,s,a)=>{ls(t.dom,s,a)},Rr=(t,s)=>{const a=t.dom;Lo(s,(i,d)=>{ls(a,d,i)})},on=(t,s)=>{const a=t.dom.getAttribute(s);return a===null?void 0:a},oa=(t,s)=>_.from(on(t,s)),ii=(t,s)=>{const a=t.dom;return a&&a.hasAttribute?a.hasAttribute(s):!1},B=(t,s)=>{t.dom.removeAttribute(s)},Q=t=>Ue(t.dom.attributes,(s,a)=>(s[a.name]=a.value,s),{}),xe=(t,s,a)=>{if(!Re(a))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",a,":: Element ",t),new Error("CSS value must be a string: "+a);tt(t)&&t.style.setProperty(s,a)},Ge=(t,s)=>{tt(t)&&t.style.removeProperty(s)},Dt=(t,s,a)=>{const i=t.dom;xe(i,s,a)},In=(t,s)=>{const a=t.dom;Lo(s,(i,d)=>{xe(a,d,i)})},or=(t,s)=>{const a=t.dom;Lo(s,(i,d)=>{i.fold(()=>{Ge(a,d)},g=>{xe(a,d,g)})})},Ns=(t,s)=>{const a=t.dom,d=window.getComputedStyle(a).getPropertyValue(s);return d===""&&!Ho(t)?Qt(a,s):d},Qt=(t,s)=>tt(t)?t.style.getPropertyValue(s):"",nr=(t,s)=>{const a=t.dom,i=Qt(a,s);return _.from(i).filter(d=>d.length>0)},_a=t=>{const s={},a=t.dom;if(tt(a))for(let i=0;i<a.style.length;i++){const d=a.style.item(i);s[d]=a.style[d]}return s},sc=(t,s,a)=>{const i=Ae.fromTag(t);return Dt(i,s,a),nr(i,s).isSome()},Zn=(t,s)=>{const a=t.dom;Ge(a,s),ar(oa(t,"style").map(ir),"")&&B(t,"style")},rc=t=>t.dom.offsetWidth,Ir=(t,s)=>{const a=(x,k)=>{if(!nt(k)&&!k.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+k);const T=x.dom;tt(T)&&(T.style[t]=k+"px")},i=x=>{const k=s(x);if(k<=0||k===null){const T=Ns(x,t);return parseFloat(T)||0}return k},d=i,g=(x,k)=>Ue(k,(T,z)=>{const M=Ns(x,z),H=M===void 0?0:parseInt(M,10);return isNaN(H)?T:T+H},0);return{set:a,get:i,getOuter:d,aggregate:g,max:(x,k,T)=>{const z=g(x,T);return k>z?k-z:0}}},Zl=Ir("height",t=>{const s=t.dom;return Ho(t)?s.getBoundingClientRect().height:s.offsetHeight}),Xs=t=>Zl.get(t),Bi=t=>Zl.getOuter(t),Hd=(t,s)=>{const a=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],i=Zl.max(t,s,a);Dt(t,"max-height",i+"px")},mm=(t,s)=>({left:t,top:s,translate:(i,d)=>mm(t+i,s+d)}),wr=mm,Vd=t=>{const s=t.getBoundingClientRect();return wr(s.left,s.top)},Jr=(t,s)=>t!==void 0?t:s!==void 0?s:0,Oa=t=>{const s=t.dom.ownerDocument,a=s.body,i=s.defaultView,d=s.documentElement;if(a===t.dom)return wr(a.offsetLeft,a.offsetTop);const g=Jr(i==null?void 0:i.pageYOffset,d.scrollTop),p=Jr(i==null?void 0:i.pageXOffset,d.scrollLeft),x=Jr(d.clientTop,a.clientTop),k=Jr(d.clientLeft,a.clientLeft);return li(t).translate(p-k,g-x)},li=t=>{const s=t.dom,i=s.ownerDocument.body;return i===s?wr(i.offsetLeft,i.offsetTop):Ho(t)?Vd(s):wr(0,0)},ui=Ir("width",t=>t.dom.offsetWidth),bu=(t,s)=>ui.set(t,s),G=t=>ui.get(t),oe=t=>ui.getOuter(t),Ze=(t,s)=>{const a=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],i=ui.max(t,s,a);Dt(t,"max-width",i+"px")},Ct=t=>{let s=!1,a;return(...i)=>(s||(s=!0,a=t.apply(null,i)),a)},fn=(t,s,a,i)=>{const d=t.isiOS()&&/ipad/i.test(a)===!0,g=t.isiOS()&&!d,p=t.isiOS()||t.isAndroid(),x=p||i("(pointer:coarse)"),k=d||!g&&p&&i("(min-device-width:768px)"),T=g||p&&!k,z=s.isSafari()&&t.isiOS()&&/safari/i.test(a)===!1,M=!T&&!k&&!z;return{isiPad:U(d),isiPhone:U(g),isTablet:U(k),isPhone:U(T),isTouch:U(x),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:U(z),isDesktop:U(M)}},Dn=(t,s)=>{for(let a=0;a<t.length;a++){const i=t[a];if(i.test(s))return i}},As=(t,s)=>{const a=Dn(t,s);if(!a)return{major:0,minor:0};const i=d=>Number(s.replace(a,"$"+d));return ac(i(1),i(2))},qs=(t,s)=>{const a=String(s).toLowerCase();return t.length===0?Da():As(t,a)},Da=()=>ac(0,0),ac=(t,s)=>({major:t,minor:s}),Qr={nu:ac,detect:qs,unknown:Da},cc=(t,s)=>Ut(s.brands,a=>{const i=a.brand.toLowerCase();return K(t,d=>{var g;return i===((g=d.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(d=>({current:d.name,version:Qr.nu(parseInt(a.version,10),0)}))}),Js=(t,s)=>{const a=String(s).toLowerCase();return K(t,i=>i.search(a))},pc=(t,s)=>Js(t,s).map(a=>{const i=Qr.detect(a.versionRegexes,s);return{current:a.name,version:i}}),qa=(t,s)=>Js(t,s).map(a=>{const i=Qr.detect(a.versionRegexes,s);return{current:a.name,version:i}}),Fr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Sr=t=>s=>Vn(s,t),dr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Vn(t,"edge/")&&Vn(t,"chrome")&&Vn(t,"safari")&&Vn(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Fr],search:t=>Vn(t,"chrome")&&!Vn(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Vn(t,"msie")||Vn(t,"trident")},{name:"Opera",versionRegexes:[Fr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Sr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Sr("firefox")},{name:"Safari",versionRegexes:[Fr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Vn(t,"safari")||Vn(t,"mobile/"))&&Vn(t,"applewebkit")}],yu=[{name:"Windows",search:Sr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Vn(t,"iphone")||Vn(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Sr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Sr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Sr("linux"),versionRegexes:[]},{name:"Solaris",search:Sr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Sr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Sr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],vu={browsers:U(dr),oses:U(yu)},xu="Edge",_f="Chromium",wu="IE",Pi="Opera",Cf="Firefox",da="Safari",Sf=()=>wg({current:void 0,version:Qr.unknown()}),wg=t=>{const s=t.current,a=t.version,i=d=>()=>s===d;return{current:s,version:a,isEdge:i(xu),isChromium:i(_f),isIE:i(wu),isOpera:i(Pi),isFirefox:i(Cf),isSafari:i(da)}},kl={unknown:Sf,nu:wg,edge:U(xu),chromium:U(_f),ie:U(wu),opera:U(Pi),firefox:U(Cf),safari:U(da)},kg="Windows",ku="iOS",_g="Android",ql="Linux",Cg="macOS",Ef="Solaris",gm="FreeBSD",_u="ChromeOS",pm=()=>we({current:void 0,version:Qr.unknown()}),we=t=>{const s=t.current,a=t.version,i=d=>()=>s===d;return{current:s,version:a,isWindows:i(kg),isiOS:i(ku),isAndroid:i(_g),isMacOS:i(Cg),isLinux:i(ql),isSolaris:i(Ef),isFreeBSD:i(gm),isChromeOS:i(_u)}},Gl={unknown:pm,nu:we,windows:U(kg),ios:U(ku),android:U(_g),linux:U(ql),macos:U(Cg),solaris:U(Ef),freebsd:U(gm),chromeos:U(_u)},Sg={detect:(t,s,a)=>{const i=vu.browsers(),d=vu.oses(),g=s.bind(k=>cc(i,k)).orThunk(()=>pc(i,t)).fold(kl.unknown,kl.nu),p=qa(d,t).fold(Gl.unknown,Gl.nu),x=fn(p,g,t,a);return{browser:g,os:p,deviceType:x}}},Jh=t=>window.matchMedia(t).matches;let Cu=Ct(()=>Sg.detect(window.navigator.userAgent,_.from(window.navigator.userAgentData),Jh));const ts=()=>Cu(),ga=(t,s,a,i,d,g,p)=>({target:t,x:s,y:a,stop:i,prevent:d,kill:g,raw:p}),$i=t=>{const s=Ae.fromDom(Et(t).getOr(t.target)),a=()=>t.stopPropagation(),i=()=>t.preventDefault(),d=Go(i,a);return ga(s,t.clientX,t.clientY,a,i,d,t)},Su=(t,s)=>a=>{t(a)&&s($i(a))},Tf=(t,s,a,i,d)=>{const g=Su(a,i);return t.dom.addEventListener(s,g,d),{unbind:co(Af,t,s,g,d)}},Ud=(t,s,a,i)=>Tf(t,s,a,i,!1),hc=(t,s,a,i)=>Tf(t,s,a,i,!0),Af=(t,s,a,i)=>{t.dom.removeEventListener(s,a,i)},Kl=(t,s)=>{$a(t).each(i=>{i.dom.insertBefore(s.dom,t.dom)})},zf=(t,s)=>{ci(t).fold(()=>{$a(t).each(d=>{Ic(d,s)})},i=>{Kl(i,s)})},Yl=(t,s)=>{vl(t).fold(()=>{Ic(t,s)},i=>{t.dom.insertBefore(s.dom,i.dom)})},Ic=(t,s)=>{t.dom.appendChild(s.dom)},Eg=(t,s,a)=>{ta(t,a).fold(()=>{Ic(t,s)},i=>{Kl(i,s)})},jd=(t,s)=>{Xe(s,a=>{Ic(t,a)})},Ia=t=>{t.dom.textContent="",Xe(mc(t),s=>{Yc(s)})},Yc=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},zc=t=>{const s=t!==void 0?t.dom:document,a=s.body.scrollLeft||s.documentElement.scrollLeft,i=s.body.scrollTop||s.documentElement.scrollTop;return wr(a,i)},rd=(t,s,a)=>{const d=(a!==void 0?a.dom:document).defaultView;d&&d.scrollTo(t,s)},Wd=t=>{const s=t===void 0?window:t;return ts().browser.isFirefox()?_.none():_.from(s.visualViewport)},Tg=(t,s,a,i)=>({x:t,y:s,width:a,height:i,right:t+a,bottom:s+i}),Zd=t=>{const s=t===void 0?window:t,a=s.document,i=zc(Ae.fromDom(a));return Wd(s).fold(()=>{const d=s.document.documentElement,g=d.clientWidth,p=d.clientHeight;return Tg(i.left,i.top,g,p)},d=>Tg(Math.max(d.pageLeft,i.left),Math.max(d.pageTop,i.top),d.width,d.height))},el=()=>Ae.fromDom(document),Of=(t,s)=>t.view(s).fold(U([]),i=>{const d=t.owner(i),g=Of(t,d);return[i].concat(g)}),Dp=(t,s)=>{const a=s.owner(t),i=Of(s,a);return _.some(i)};var hm=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?_.none():_.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(Ae.fromDom)},owner:t=>ka(t)});const qd=t=>{const s=el(),a=zc(s);return Dp(t,hm).fold(co(Oa,t),d=>{const g=li(t),p=Nt(d,(x,k)=>{const T=li(k);return{left:x.left+T.left,top:x.top+T.top}},{left:0,top:0});return wr(p.left+g.left+a.left,p.top+g.top+a.top)})},ad=(t,s,a)=>({point:t,width:s,height:a}),Gd=(t,s,a,i)=>({x:t,y:s,width:a,height:i}),Nr=(t,s,a,i)=>({x:t,y:s,width:a,height:i,right:t+a,bottom:s+i}),Lr=t=>{const s=Oa(t),a=oe(t),i=Bi(t);return Nr(s.left,s.top,a,i)},bi=t=>{const s=qd(t),a=oe(t),i=Bi(t);return Nr(s.left,s.top,a,i)},cd=(t,s)=>{const a=Math.max(t.x,s.x),i=Math.max(t.y,s.y),d=Math.min(t.right,s.right),g=Math.min(t.bottom,s.bottom),p=d-a,x=g-i;return Nr(a,i,p,x)},zg=(t,s)=>Ue(s,(a,i)=>cd(a,i),t),Ca=()=>Zd(window),nn=t=>{let s=t;return{get:()=>s,set:d=>{s=d}}},Xl=t=>{const s=nn(_.none()),a=()=>s.get().each(t);return{clear:()=>{a(),s.set(_.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:x=>{a(),s.set(_.some(x))}}},bm=()=>Xl(t=>t.destroy()),Ga=()=>Xl(t=>t.unbind()),js=()=>{const t=Xl(X);return{...t,on:a=>t.get().each(a)}};var Eu=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Og=t=>{const s=g=>g(t),a=U(t),i=()=>d,d={tag:!0,inner:t,fold:(g,p)=>p(t),isValue:Me,isError:Oe,map:g=>Kn.value(g(t)),mapError:i,bind:s,exists:s,forall:s,getOr:a,or:i,getOrThunk:a,orThunk:i,getOrDie:a,each:g=>{g(t)},toOptional:()=>_.some(t)};return d},Kd=t=>{const s=()=>a,a={tag:!1,inner:t,fold:(i,d)=>i(t),isValue:Oe,isError:Me,map:s,mapError:i=>Kn.error(i(t)),bind:s,exists:Oe,forall:Me,getOr:zt,or:zt,getOrThunk:gn,orThunk:gn,getOrDie:ie(String(t)),each:X,toOptional:_.none};return a},Kn={value:Og,error:Kd,fromOption:(t,s)=>t.fold(()=>Kd(s),Og)};var Sa;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Sa||(Sa={}));const id=(t,s,a)=>t.stype===Sa.Error?s(t.serror):a(t.svalue),ic=t=>{const s=[],a=[];return Xe(t,i=>{id(i,d=>a.push(d),d=>s.push(d))}),{values:s,errors:a}},Fc=(t,s)=>t.stype===Sa.Error?{stype:Sa.Error,serror:s(t.serror)}:t,yi=(t,s)=>t.stype===Sa.Value?{stype:Sa.Value,svalue:s(t.svalue)}:t,Fa=(t,s)=>t.stype===Sa.Value?s(t.svalue):t,Oc=(t,s)=>t.stype===Sa.Error?s(t.serror):t,di=t=>({stype:Sa.Value,svalue:t}),ym=t=>({stype:Sa.Error,serror:t}),na={fromResult:t=>t.fold(ym,di),toResult:t=>id(t,Kn.error,Kn.value),svalue:di,partition:ic,serror:ym,bind:Fa,bindError:Oc,map:yi,mapError:Fc,fold:id},Tu=(t,s,a,i)=>({tag:"field",key:t,newKey:s,presence:a,prop:i}),ud=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),sr=(t,s,a)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return a(t.newKey,t.instantiator)}},Ii=(t,s)=>s,Np=(t,s)=>so(t)&&so(s)?br(t,s):s,Jl=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const a={};for(let i=0;i<s.length;i++){const d=s[i];for(const g in d)Gn(d,g)&&(a[g]=t(a[g],d[g]))}return a},br=Jl(Np),Au=Jl(Ii),Xc=()=>({tag:"required",process:{}}),ss=t=>({tag:"defaultedThunk",process:t}),dd=t=>ss(U(t)),Df=()=>({tag:"option",process:{}}),vm=t=>({tag:"mergeWithThunk",process:t}),C=t=>vm(U(t)),D=(t,s)=>t.length>0?na.svalue(br(s,Au.apply(void 0,t))):na.svalue(s),L=t=>Go(na.serror,he)(t),It={consolidateObj:(t,s)=>{const a=na.partition(t);return a.errors.length>0?L(a.errors):D(a.values,s)},consolidateArr:t=>{const s=na.partition(t);return s.errors.length>0?L(s.errors):na.svalue(s.values)}},Cn=t=>Pt(t)&&io(t).length>100?" removed due to size":JSON.stringify(t,null,2),Yn=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:U("... (only showing first ten failures)")}]):t;return ke(s,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},Tn=(t,s)=>na.serror([{path:t,getErrorInfo:s}]),Sn=(t,s,a)=>Tn(t,()=>'Could not find valid *required* value for "'+s+'" in '+Cn(a)),yr=(t,s)=>Tn(t,()=>'Choice schema did not contain choice key: "'+s+'"'),fa=(t,s,a)=>Tn(t,()=>'The chosen schema: "'+a+'" did not exist in branches: '+Cn(s)),vi=(t,s)=>Tn(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),Ql=(t,s)=>Tn(t,U(s)),Rf=t=>{const s=(i,d)=>na.bindError(t(d),g=>Ql(i,g)),a=U("val");return{extract:s,toString:a}},Dg=Rf(na.svalue),Dc=(t,s,a,i)=>Kt(s,a).fold(()=>Sn(t,a,s),i),Rg=(t,s,a,i)=>{const d=Kt(t,s).getOrThunk(()=>a(t));return i(d)},Ry=(t,s,a)=>a(Kt(t,s)),Mp=(t,s,a,i)=>{const d=Kt(t,s).map(g=>g===!0?a(t):g);return i(d)},bc=(t,s,a,i,d)=>{const g=x=>d.extract(s.concat([i]),x),p=x=>x.fold(()=>na.svalue(_.none()),k=>{const T=d.extract(s.concat([i]),k);return na.map(T,_.some)});switch(t.tag){case"required":return Dc(s,a,i,g);case"defaultedThunk":return Rg(a,i,t.process,g);case"option":return Ry(a,i,p);case"defaultedOptionThunk":return Mp(a,i,t.process,p);case"mergeWithThunk":return Rg(a,i,U({}),x=>{const k=br(t.process(a),x);return g(k)})}},Bp=(t,s,a)=>{const i={},d=[];for(const g of a)sr(g,(p,x,k,T)=>{const z=bc(k,t,s,p,T);na.fold(z,M=>{d.push(...M)},M=>{i[x]=M})},(p,x)=>{i[p]=x(s)});return d.length>0?na.serror(d):na.svalue(i)},Ra=t=>({extract:(i,d)=>t().extract(i,d),toString:()=>t().toString()}),Ny=t=>io(os(t,to)),Jc=t=>{const s=En(t),a=Nt(t,(d,g)=>sr(g,p=>br(d,{[p]:!0}),U(d)),{});return{extract:(d,g)=>{const p=Ft(g)?[]:Ny(g),x=st(p,k=>!hr(a,k));return x.length===0?s.extract(d,g):vi(d,x)},toString:s.toString}},En=t=>({extract:(i,d)=>Bp(i,d,t),toString:()=>`obj{
`+ke(t,d=>sr(d,(g,p,x,k)=>g+" -> "+k.toString(),(g,p)=>"state("+g+")")).join(`
`)+"}"}),Fi=t=>({extract:(i,d)=>{const g=ke(d,(p,x)=>t.extract(i.concat(["["+x+"]"]),p));return It.consolidateArr(g)},toString:()=>"array("+t.toString()+")"}),xm=(t,s)=>{const a=s!==void 0?s:zt;return{extract:(g,p)=>{const x=[];for(const k of t){const T=k.extract(g,p);if(T.stype===Sa.Value)return{stype:Sa.Value,svalue:a(T.svalue)};x.push(T)}return It.consolidateArr(x)},toString:()=>"oneOf("+ke(t,g=>g.toString()).join(", ")+")"}},Ng=(t,s)=>{const a=(g,p)=>Fi(Rf(t)).extract(g,p);return{extract:(g,p)=>{const x=io(p),k=a(g,x);return na.bind(k,T=>{const z=ke(T,M=>Tu(M,M,Xc(),s));return En(z).extract(g,p)})},toString:()=>"setOf("+s.toString()+")"}},Pp=(t,s)=>{const a=Ct(s);return{extract:(g,p)=>a().extract(g,p),toString:()=>a().toString()}},Qh=Go(Fi,En),Cl=U(Dg),zu=(t,s)=>Rf(a=>{const i=typeof a;return t(a)?na.svalue(a):na.serror(`Expected type: ${s} but got: ${i}`)}),Yd=zu(nt,"number"),Do=zu(Re,"string"),tl=zu(Ft,"boolean"),$p=zu(Qe,"function"),Nf=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>Nf(t[s]));default:return!1}},Sl=Rf(t=>Nf(t)?na.svalue(t):na.serror("Expected value to be acceptable for sending via postMessage")),Mg=(t,s,a,i)=>Kt(a,i).fold(()=>fa(t,a,i),g=>g.extract(t.concat(["branch: "+i]),s)),Xd=(t,s)=>({extract:(d,g)=>Kt(g,t).fold(()=>yr(d,t),x=>Mg(d,g,s,x)),toString:()=>"chooseOn("+t+"). Possible values: "+io(s)}),Mf=()=>Fi(Dg),Bg=t=>Rf(s=>t(s).fold(na.serror,na.svalue)),eu=(t,s)=>Ng(a=>na.fromResult(t(a)),s),My=(t,s,a)=>{const i=s.extract([t],a);return na.mapError(i,d=>({input:a,errors:d}))},qr=(t,s,a)=>na.toResult(My(t,s,a)),Xt=t=>t.fold(s=>{throw new Error(tu(s))},zt),Lc=(t,s,a)=>Xt(qr(t,s,a)),tu=t=>`Errors: 
`+Yn(t.errors).join(`
`)+`

Input object: `+Cn(t.input),Ka=(t,s)=>Xd(t,Mo(s,En)),wm=(t,s)=>Pp(t,s),La=Tu,Ms=ud,Ip=t=>Bg(s=>vt(t,s)?Kn.value(s):Kn.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),Ot=t=>La(t,t,Xc(),Cl()),Bs=(t,s)=>La(t,t,Xc(),s),Pg=t=>Bs(t,Yd),Na=t=>Bs(t,Do),Hc=(t,s)=>La(t,t,Xc(),Ip(s)),By=t=>Bs(t,tl),Li=t=>Bs(t,$p),m0=(t,s)=>La(t,t,Df(),Rf(a=>na.serror("The field: "+t+" is forbidden. "+s))),fd=(t,s)=>La(t,t,Xc(),En(s)),Py=(t,s)=>La(t,t,Xc(),Qh(s)),Hi=(t,s)=>La(t,t,Xc(),Fi(s)),Os=t=>La(t,t,Df(),Cl()),Ou=(t,s)=>La(t,t,Df(),s),Bf=t=>Ou(t,Yd),Ha=t=>Ou(t,Do),Fp=(t,s)=>Ou(t,Ip(s)),Du=t=>Ou(t,$p),Ru=(t,s)=>Ou(t,Fi(s)),kr=(t,s)=>Ou(t,En(s)),km=(t,s)=>Ou(t,Jc(s)),Ve=(t,s)=>La(t,t,dd(s),Cl()),Vi=(t,s,a)=>La(t,t,dd(s),a),_m=(t,s)=>Vi(t,s,Yd),Vc=(t,s)=>Vi(t,s,Do),Ui=(t,s,a)=>Vi(t,s,Ip(a)),pa=(t,s)=>Vi(t,s,tl),sa=(t,s)=>Vi(t,s,$p),g0=(t,s)=>Vi(t,s,Sl),w=(t,s,a)=>Vi(t,s,Fi(a)),A=(t,s,a)=>Vi(t,s,En(a)),J={generate:t=>{if(!po(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],a={};return Xe(t,(i,d)=>{const g=io(i);if(g.length!==1)throw new Error("one and only one name per case");const p=g[0],x=i[p];if(a[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!po(x))throw new Error("case arguments must be an array");s.push(p),a[p]=(...k)=>{const T=k.length;if(T!==x.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+x.length+" ("+x+"), got "+T);return{fold:(...M)=>{if(M.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+M.length);return M[d].apply(null,k)},match:M=>{const H=io(M);if(s.length!==H.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+H.join(","));if(!re(s,ee=>vt(H,ee)))throw new Error("Not all branches were specified when using match. Specified: "+H.join(", ")+`
Required: `+s.join(", "));return M[p].apply(null,k)},log:M=>{console.log(M,{constructors:s,constructor:p,params:k})}}}}),a}};J.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ze=t=>{const s=[],a=[];return Xe(t,i=>{i.fold(d=>{s.push(d)},d=>{a.push(d)})}),{errors:s,values:a}},Tt=(t,s)=>{const a={};return Lo(t,(i,d)=>{vt(s,d)||(a[d]=i)}),a},fo=(t,s)=>({[t]:s}),Wo=t=>{const s={};return Xe(t,a=>{s[a.key]=a.value}),s},Un=(t,s)=>Tt(t,s),Qn=(t,s)=>fo(t,s),Is=t=>Wo(t),Fs=(t,s)=>t.length===0?Kn.value(s):Kn.value(br(s,Au.apply(void 0,t))),Hr=t=>Kn.error(he(t)),ji=(t,s)=>{const a=ze(t);return a.errors.length>0?Hr(a.errors):Fs(a.values,s)},yc=t=>Qe(t)?t:Oe,ou=(t,s,a)=>{let i=t.dom;const d=yc(a);for(;i.parentNode;){i=i.parentNode;const g=Ae.fromDom(i),p=s(g);if(p.isSome())return p;if(d(g))break}return _.none()},El=(t,s,a)=>{const i=s(t),d=yc(a);return i.orThunk(()=>d(t)?_.none():ou(t,s,d))},Nu=(t,s)=>Ts(t.element,s.event.target),$g={can:Me,abort:Oe,run:X},ol=t=>{if(!hr(t,"can")&&!hr(t,"abort")&&!hr(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...$g,...t}},Cm=(t,s)=>(...a)=>Ue(t,(i,d)=>i&&s(d).apply(void 0,a),!0),Lp=(t,s)=>(...a)=>Ue(t,(i,d)=>i||s(d).apply(void 0,a),!1),Hp=t=>Qe(t)?{can:Me,abort:Oe,run:t}:t,Pf=t=>{const s=Cm(t,d=>d.can),a=Lp(t,d=>d.abort);return{can:s,abort:a,run:(...d)=>{Xe(t,g=>{g.run.apply(void 0,d)})}}},Ya=U,nu=Ya("touchstart"),zs=Ya("touchmove"),vr=Ya("touchend"),Qc=Ya("touchcancel"),ma=Ya("mousedown"),Vp=Ya("mousemove"),$f=Ya("mouseout"),If=Ya("mouseup"),nl=Ya("mouseover"),md=Ya("focusin"),Jd=Ya("focusout"),Mu=Ya("keydown"),eb=Ya("keyup"),Qd=Ya("input"),Up=Ya("change"),Ig=Ya("click"),o_=Ya("transitioncancel"),gd=Ya("transitionend"),n_=Ya("transitionstart"),p0=Ya("selectstart"),ha=t=>U("alloy."+t),$y={tap:ha("tap")},pd=ha("focus"),Sm=ha("blur.post"),Ff=ha("paste.post"),su=ha("receive"),ru=ha("execute"),tb=ha("focus.item"),hd=$y.tap,ei=ha("longpress"),ob=ha("sandbox.close"),h0=ha("typeahead.cancel"),nb=ha("system.init"),sb=ha("system.touchmove"),b0=ha("system.touchend"),Fg=ha("system.scroll"),bd=ha("system.resize"),xi=ha("system.attached"),au=ha("system.detached"),Em=ha("system.dismissRequested"),y0=ha("system.repositionRequested"),Lg=ha("focusmanager.shifted"),v0=ha("slotcontainer.visibility"),s_=ha("system.external.element.scroll"),r_=ha("change.tab"),a_=ha("dismiss.tab"),Tm=ha("highlight"),Hg=ha("dehighlight"),ns=(t,s)=>{Iy(t,t.element,s,{})},bn=(t,s,a)=>{Iy(t,t.element,s,a)},Am=t=>{ns(t,ru())},rb=(t,s,a)=>{Iy(t,s,a,{})},Iy=(t,s,a,i)=>{const d={target:s,...i};t.getSystem().triggerEvent(a,s,d)},x0=(t,s,a,i)=>{const d={...i,target:s};t.getSystem().triggerEvent(a,s,d)},ef=(t,s,a,i)=>{t.getSystem().triggerEvent(a,s,i.event)},Er=t=>Is(t),c_=(t,s)=>({key:t,value:ol({abort:s})}),w0=(t,s)=>({key:t,value:ol({can:s})}),k0=t=>({key:t,value:ol({run:(s,a)=>{a.event.prevent()}})}),Rt=(t,s)=>({key:t,value:ol({run:s})}),Vg=(t,s,a)=>({key:t,value:ol({run:(i,d)=>{s.apply(void 0,[i,d].concat(a))}})}),zE=t=>s=>Rt(t,s),zm=t=>s=>({key:t,value:ol({run:(a,i)=>{Nu(a,i)&&s(a,i)}})}),OE=(t,s)=>Rt(t,(a,i)=>{a.getSystem().getByUid(s).each(d=>{ef(d,d.element,t,i)})}),Ug=(t,s,a)=>{const i=s.partUids[a];return OE(t,i)},_0=(t,s)=>Rt(t,(a,i)=>{const d=i.event,g=a.getSystem().getByDom(d.target).getOrThunk(()=>El(d.target,x=>a.getSystem().getByDom(x).toOptional(),Oe).getOr(a));s(a,g,i)}),yd=t=>Rt(t,(s,a)=>{a.cut()}),C0=t=>Rt(t,(s,a)=>{a.stop()}),jp=(t,s)=>zm(t)(s),Mr=zm(xi()),tf=zm(au()),S0=zm(nb()),Bu=zE(ru()),E0=(t,s,a)=>{const i=a.toString(),d=i.indexOf(")")+1,g=i.indexOf("("),p=i.substring(g+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:ab(p.slice(0,1).concat(p.slice(3)))}),t},ab=t=>ke(t,s=>_r(s,"/*")?s.substring(0,s.length-2):s),Wp=(t,s)=>{const a=t.toString(),i=a.indexOf(")")+1,d=a.indexOf("("),g=a.substring(d+1,i-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:ab(g)}),t},cb=(t,s)=>{const a=s.toString(),i=a.indexOf(")")+1,d=a.indexOf("("),g=a.substring(d+1,i-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:ab(g.slice(1))}),t},sl=t=>({classes:Vt(t.classes)?[]:t.classes,attributes:Vt(t.attributes)?{}:t.attributes,styles:Vt(t.styles)?{}:t.styles}),i_=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),ib=(t,s,a)=>Bu(i=>{a(i,t,s)}),T0=(t,s,a)=>S0((i,d)=>{a(i,t,s)}),Om=(t,s,a,i,d,g)=>{const p=Jc(t),x=kr(s,[km("config",t)]);return u_(p,x,s,a,i,d,g)},A0=(t,s,a,i,d,g)=>{const p=t,x=kr(s,[Ou("config",t)]);return u_(p,x,s,a,i,d,g)},l_=(t,s,a)=>E0((d,...g)=>{const p=[d].concat(g);return d.config({name:U(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+a)},x=>{const k=Array.prototype.slice.call(p,1);return s.apply(void 0,[d,x.config,x.state].concat(k))})},a,s),z0=t=>({key:t,value:void 0}),u_=(t,s,a,i,d,g,p)=>{const x=M=>hr(M,a)?M[a]():_.none(),k=Mo(d,(M,H)=>l_(a,M,H)),z={...Mo(g,(M,H)=>Wp(M,H)),...k,revoke:co(z0,a),config:M=>{const H=Lc(a+"-config",t,M);return{key:a,value:{config:H,me:z,configAsRaw:Ct(()=>Lc(a+"-config",t,M)),initialConfig:M,state:p}}},schema:U(s),exhibit:(M,H)=>ea(x(M),Kt(i,"exhibit"),(j,ee)=>ee(H,j.config,j.state)).getOrThunk(()=>sl({})),name:U(a),handlers:M=>x(M).map(H=>Kt(i,"events").getOr(()=>({}))(H.config,H.state)).getOr({})};return z},fi={init:()=>rl({readState:U("No State required")})},rl=t=>t,ao=t=>Is(t),Fy=Jc([Ot("fields"),Ot("name"),Ve("active",{}),Ve("apis",{}),Ve("state",fi),Ve("extra",{})]),Rc=t=>{const s=Lc("Creating behaviour: "+t.name,Fy,t);return Om(s.fields,s.name,s.active,s.apis,s.extra,s.state)},Ly=Jc([Ot("branchKey"),Ot("branches"),Ot("name"),Ve("active",{}),Ve("apis",{}),Ve("state",fi),Ve("extra",{})]),d_=t=>{const s=Lc("Creating behaviour: "+t.name,Ly,t);return A0(Ka(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},Br=U(void 0),Lf=(t,s)=>{const a=on(t,s);return a===void 0||a===""?[]:a.split(" ")},Hy=(t,s,a)=>{const d=Lf(t,s).concat([a]);return Oo(t,s,d.join(" ")),!0},DE=(t,s,a)=>{const i=st(Lf(t,s),d=>d!==a);return i.length>0?Oo(t,s,i.join(" ")):B(t,s),!1},Hf=t=>t.dom.classList!==void 0,Vy=t=>Lf(t,"class"),vd=(t,s)=>Hy(t,"class",s),f_=(t,s)=>DE(t,"class",s),O0=(t,s)=>vt(Vy(t),s)?f_(t,s):vd(t,s),Tr=(t,s)=>{Hf(t)?t.dom.classList.add(s):vd(t,s)},Zp=t=>{(Hf(t)?t.dom.classList:Vy(t)).length===0&&B(t,"class")},ra=(t,s)=>{Hf(t)?t.dom.classList.remove(s):f_(t,s),Zp(t)},m_=(t,s)=>{const a=Hf(t)?t.dom.classList.toggle(s):O0(t,s);return Zp(t),a},al=(t,s)=>Hf(t)&&t.dom.classList.contains(s),qp=(t,s)=>{Xe(s,a=>{Tr(t,a)})},cl=(t,s)=>{Xe(s,a=>{ra(t,a)})},RE=(t,s)=>{Xe(s,a=>{m_(t,a)})},NE=(t,s)=>re(s,a=>al(t,a)),ME=t=>{const s=t.dom.classList,a=new Array(s.length);for(let i=0;i<s.length;i++){const d=s.item(i);d!==null&&(a[i]=d)}return a},BE=t=>Hf(t)?ME(t):Vy(t),vc=(t,s,a,i,d)=>{const g=p=>p+"px";return{position:t,left:s.map(g),top:a.map(g),right:i.map(g),bottom:d.map(g)}},wi=t=>({...t,position:_.some(t.position)}),lb=(t,s)=>{or(t,wi(s))},Dm=t=>(ar(nr(t,"position"),"fixed")?_.none():hi(t)).orThunk(()=>{const i=Ae.fromTag("span");return $a(t).bind(d=>{Ic(d,i);const g=hi(i);return Yc(i),g})}),D0=t=>Dm(t).map(Oa).getOrThunk(()=>wr(0,0)),Gp=(t,s)=>{const a=t.element;Tr(a,s.transitionClass),ra(a,s.fadeOutClass),Tr(a,s.fadeInClass),s.onShow(t)},of=(t,s)=>{const a=t.element;Tr(a,s.transitionClass),ra(a,s.fadeInClass),Tr(a,s.fadeOutClass),s.onHide(t)},Kp=(t,s)=>t.y<s.bottom&&t.bottom>s.y,jg=(t,s)=>t.y>=s.y,Rm=(t,s)=>t.bottom<=s.bottom,nf=(t,s,a)=>({location:"top",leftX:s,topY:a.bounds.y-t.y}),Wg=(t,s,a)=>({location:"bottom",leftX:s,bottomY:t.bottom-a.bounds.bottom}),Zg=t=>t.box.x-t.win.x,PE=(t,s,a)=>{const i=s.win,d=s.box,g=Zg(s);return Ut(t,p=>{switch(p){case"bottom":return Rm(d,a.bounds)?_.none():_.some(Wg(i,g,a));case"top":return jg(d,a.bounds)?_.none():_.some(nf(i,g,a));default:return _.none()}}).getOr({location:"no-dock"})},R0=(t,s,a)=>re(t,i=>{switch(i){case"bottom":return Rm(s,a.bounds);case"top":return jg(s,a.bounds)}}),Uy=(t,s)=>{const a=s.optScrollEnv.fold(U(t.bounds.y),i=>i.scrollElmTop+(t.bounds.y-i.currentScrollTop));return wr(t.bounds.x,a)},g_=(t,s)=>{const a=s.optScrollEnv.fold(U(t.y),i=>t.y+i.currentScrollTop-i.scrollElmTop);return wr(t.x,a)},N0=(t,s,a)=>a.getInitialPos().map(i=>{const d=Uy(i,s);return{box:Nr(d.left,d.top,G(t),Xs(t)),location:i.location}}),jy=(t,s,a,i,d)=>{const g=g_(s,a),p=Nr(g.left,g.top,s.width,s.height);i.setInitialPos({style:_a(t),position:Ns(t,"position")||"static",bounds:p,location:d.location})},M0=(t,s,a,i,d)=>{i.getInitialPos().fold(()=>jy(t,s,a,i,d),()=>X)},B0=(t,s,a)=>a.getInitialPos().bind(i=>{var d;switch(a.clearInitialPos(),i.position){case"static":return _.some({morph:"static"});case"absolute":const g=Dm(t).getOr(es()),p=Lr(g),x=(d=g.dom.scrollTop)!==null&&d!==void 0?d:0;return _.some({morph:"absolute",positionCss:vc("absolute",Kt(i.style,"left").map(k=>s.x-p.x),Kt(i.style,"top").map(k=>s.y-p.y+x),Kt(i.style,"right").map(k=>p.right-s.right),Kt(i.style,"bottom").map(k=>p.bottom-s.bottom))});default:return _.none()}}),P0=(t,s,a)=>N0(t,s,a).filter(({box:i})=>R0(a.getModes(),i,s)).bind(({box:i})=>B0(t,i,a)),ub=t=>{switch(t.location){case"top":return _.some({morph:"fixed",positionCss:vc("fixed",_.some(t.leftX),_.some(t.topY),_.none(),_.none())});case"bottom":return _.some({morph:"fixed",positionCss:vc("fixed",_.some(t.leftX),_.none(),_.none(),_.some(t.bottomY))});default:return _.none()}},Wy=(t,s,a)=>{const i=Lr(t),d=Ca(),g=PE(a.getModes(),{win:d,box:i},s);return g.location==="top"||g.location==="bottom"?(jy(t,i,s,a,g),ub(g)):_.none()},mD=(t,s,a)=>P0(t,s,a).orThunk(()=>s.optScrollEnv.bind(i=>N0(t,s,a)).bind(({box:i,location:d})=>{const g=Ca(),p=Zg({win:g,box:i}),x=d==="top"?nf(g,p,s):Wg(g,p,s);return ub(x)})),db=(t,s,a)=>{const i=t.element;return ar(nr(i,"position"),"fixed")?mD(i,s,a):Wy(i,s,a)},Yp=(t,s,a)=>{const i=t.element;return N0(i,s,a).bind(({box:d})=>B0(i,d,a))},Nm=(t,s,a,i)=>{const d=Lr(t),g=Ca(),p=Zg({win:g,box:d}),x=i(g,p,s);return x.location==="bottom"||x.location==="top"?(M0(t,d,s,a,x),ub(x)):_.none()},$0=(t,s,a)=>{a.setDocked(!1),Xe(["left","right","top","bottom","position"],i=>Zn(t.element,i)),s.onUndocked(t)},I0=(t,s,a,i)=>{const d=i.position==="fixed";a.setDocked(d),lb(t.element,i),(d?s.onDocked:s.onUndocked)(t)},p_=(t,s,a,i,d=!1)=>{s.contextual.each(g=>{g.lazyContext(t).each(p=>{const x=Kp(p,i.bounds);x!==a.isVisible()&&(a.setVisible(x),d&&!x?(qp(t.element,[g.fadeOutClass]),g.onHide(t)):(x?Gp:of)(t,g))})})},F0=(t,s,a,i,d)=>{p_(t,s,a,i,!0),I0(t,s,a,d.positionCss)},qg=(t,s,a,i,d)=>{switch(d.morph){case"static":return $0(t,s,a);case"absolute":return I0(t,s,a,d.positionCss);case"fixed":return F0(t,s,a,i,d)}},$E=(t,s,a)=>{const i=s.lazyViewport(t);p_(t,s,a,i),db(t,i,a).each(d=>{qg(t,s,a,i,d)})},L0=(t,s,a)=>{const i=t.element;a.setDocked(!1);const d=s.lazyViewport(t);Yp(t,d,a).each(g=>{switch(g.morph){case"static":{$0(t,s,a);break}case"absolute":{I0(t,s,a,g.positionCss);break}}}),a.setVisible(!0),s.contextual.each(g=>{cl(i,[g.fadeInClass,g.fadeOutClass,g.transitionClass]),g.onShow(t)}),Mm(t,s,a)},Mm=(t,s,a)=>{t.getSystem().isConnected()&&$E(t,s,a)},Xp=(t,s,a)=>{a.isDocked()&&L0(t,s,a)},H0=t=>(s,a,i)=>{const d=a.lazyViewport(s);Nm(s.element,d,i,t).each(p=>{F0(s,a,i,d,p)})},Zy=H0(nf),V0=H0(Wg);var U0=Object.freeze({__proto__:null,refresh:Mm,reset:Xp,isDocked:(t,s,a)=>a.isDocked(),getModes:(t,s,a)=>a.getModes(),setModes:(t,s,a,i)=>a.setModes(i),forceDockToTop:Zy,forceDockToBottom:V0}),IE=Object.freeze({__proto__:null,events:(t,s)=>Er([jp(gd(),(a,i)=>{t.contextual.each(d=>{al(a.element,d.transitionClass)&&(cl(a.element,[d.transitionClass,d.fadeInClass]),(s.isVisible()?d.onShown:d.onHidden)(a)),i.stop()})}),Rt(Fg(),(a,i)=>{Mm(a,t,s)}),Rt(s_(),(a,i)=>{Mm(a,t,s)}),Rt(bd(),(a,i)=>{Xp(a,t,s)})])});const il=(t,s)=>{const i=(s||document).createElement("div");return i.innerHTML=t,mc(Ae.fromDom(i))},Pu=t=>t.dom.innerHTML,Bm=(t,s)=>{const i=ka(t).dom,d=Ae.fromDom(i.createDocumentFragment()),g=il(s,i);jd(d,g),Ia(t),Ic(t,d)},Gg=t=>{const s=Ae.fromTag("div"),a=Ae.fromDom(t.dom.cloneNode(!0));return Ic(s,a),Pu(s)},b_=(t,s)=>Ae.fromDom(t.dom.cloneNode(s)),mb=t=>b_(t,!1),qy=t=>b_(t,!0),y_=t=>{if(Qi(t))return"#shadow-root";{const s=mb(t);return Gg(s)}},Pm=t=>y_(t),Kg="unknown";var cu;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(cu||(cu={}));const Gy=nn({}),lc=(t,s)=>{const a=[],i=new Date().getTime();return{logEventCut:(d,g,p)=>{a.push({outcome:"cut",target:g,purpose:p})},logEventStopped:(d,g,p)=>{a.push({outcome:"stopped",target:g,purpose:p})},logNoParent:(d,g,p)=>{a.push({outcome:"no-parent",target:g,purpose:p})},logEventNoHandlers:(d,g)=>{a.push({outcome:"no-handlers-left",target:g})},logEventResponse:(d,g,p)=>{a.push({outcome:"response",purpose:p,target:g})},write:()=>{const d=new Date().getTime();vt(["mousemove","mouseover","mouseout",nb()],t)||console.log(t,{event:t,time:d-i,target:s.dom,sequence:ke(a,g=>vt(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+Pm(g.target)+")":g.outcome)})}}},j0=(t,s,a)=>{switch(Kt(Gy.get(),t).orThunk(()=>{const d=io(Gy.get());return Ut(d,g=>t.indexOf(g)>-1?_.some(Gy.get()[g]):_.none())}).getOr(cu.NORMAL)){case cu.NORMAL:return a($m());case cu.LOGGING:{const d=lc(t,s),g=a(d);return d.write(),g}case cu.STOP:return!0}},ki=["alloy/data/Fields","alloy/debugging/Debugging"],FE=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return K(s,a=>a.indexOf("alloy")>0&&!yo(ki,i=>a.indexOf(i)>-1)).getOr(Kg)}else return Kg},v_={logEventCut:X,logEventStopped:X,logNoParent:X,logEventNoHandlers:X,logEventResponse:X,write:X},Vf=(t,s,a)=>j0(t,s,a),$m=U(v_),Uf=U([Ot("menu"),Ot("selectedMenu")]),ll=U([Ot("item"),Ot("selectedItem")]);U(En(ll().concat(Uf())));const x_=U(En(ll())),gb=fd("initSize",[Ot("numColumns"),Ot("numRows")]),W0=()=>Bs("markers",x_()),Jp=()=>fd("markers",[Ot("backgroundMenu")].concat(Uf()).concat(ll())),Yg=t=>fd("markers",ke(t,Ot)),Im=(t,s,a)=>(FE(),La(s,s,a,Bg(i=>Kn.value((...d)=>i.apply(void 0,d))))),ks=t=>Im("onHandler",t,dd(X)),Wi=t=>Im("onKeyboardHandler",t,dd(_.none)),sf=t=>Im("onHandler",t,Xc()),Ky=t=>Im("onKeyboardHandler",t,Xc()),cr=(t,s)=>Ms(t,U(s)),Fm=t=>Ms(t,zt),Yy=U(gb);var LE=[kr("contextual",[Na("fadeInClass"),Na("fadeOutClass"),Na("transitionClass"),Li("lazyContext"),ks("onShow"),ks("onShown"),ks("onHide"),ks("onHidden")]),sa("lazyViewport",()=>({bounds:Ca(),optScrollEnv:_.none()})),w("modes",["top","bottom"],Do),ks("onDocked"),ks("onUndocked")],pb=Object.freeze({__proto__:null,init:t=>{const s=nn(!1),a=nn(!0),i=js(),d=nn(t.modes),g=()=>`docked:  ${s.get()}, visible: ${a.get()}, modes: ${d.get().join(",")}`;return rl({isDocked:s.get,setDocked:s.set,getInitialPos:i.get,setInitialPos:i.set,clearInitialPos:i.clear,isVisible:a.get,setVisible:a.set,getModes:d.get,setModes:d.set,readState:g})}});const Ar=Rc({fields:LE,name:"docking",active:IE,apis:U0,state:pb}),w_=(t,s,a)=>Ts(s,t.element)&&!Ts(s,a),VE=Er([w0(pd(),(t,s)=>{const a=s.event,i=a.originator,d=a.target;return w_(t,i,d)?(console.warn(pd()+` did not get interpreted by the desired target. 
Originator: `+Pm(i)+`
Target: `+Pm(d)+`
Check the `+pd()+" event handlers"),!1):!0})]);var k_=Object.freeze({__proto__:null,events:VE});const Xg=(t,s,a,i)=>{const d=t+s;return d>i?a:d<a?i:d},ul=(t,s,a)=>Math.min(Math.max(t,s),a),Lm=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Z0=0;const Vo=t=>{const a=new Date().getTime(),i=Math.floor(Lm()*1e9);return Z0++,t+"_"+i+Z0+String(a)},q0=U("alloy-id-"),UE=U("data-alloy-id"),__=q0(),G0=UE(),C_=(t,s)=>{const a=Vo(__+t);return S_(s,a),a},S_=(t,s)=>{Object.defineProperty(t.dom,G0,{value:s,writable:!0})},xd=t=>{const s=xn(t)?t.dom[G0]:null;return _.from(s)},hb=t=>Vo(t),Jg=zt,Xy=t=>{const s=d=>`The component must be in a context to execute: ${d}`+(t?`
`+Pm(t().element)+" is not in context.":""),a=d=>()=>{throw new Error(s(d))},i=d=>()=>{console.warn(s(d))};return{debugInfo:U("fake"),triggerEvent:i("triggerEvent"),triggerFocus:i("triggerFocus"),triggerEscape:i("triggerEscape"),broadcast:i("broadcast"),broadcastOn:i("broadcastOn"),broadcastEvent:i("broadcastEvent"),build:a("build"),buildOrPatch:a("buildOrPatch"),addToWorld:a("addToWorld"),removeFromWorld:a("removeFromWorld"),addToGui:a("addToGui"),removeFromGui:a("removeFromGui"),getByUid:a("getByUid"),getByDom:a("getByDom"),isConnected:Oe}},jE=Xy(),Tl=Vo("alloy-premade"),E_=t=>(Object.defineProperty(t.element.dom,Tl,{value:t.uid,writable:!0}),Qn(Tl,t)),K0=t=>Gn(t.dom,Tl),T_=t=>Kt(t,Tl),Jy=t=>cb((s,...a)=>t(s.getApis(),s,...a),t),WE=(t,s)=>{const a=ke(s,d=>kr(d.name(),[Ot("config"),Ve("state",fi)])),i=qr("component.behaviours",En(a),t.behaviours).fold(d=>{throw new Error(tu(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},zt);return{list:s,data:Mo(i,d=>{const g=d.map(p=>({config:p.config,state:p.state.init(p.config)}));return U(g)})}},Qy=t=>t.list,Y0=t=>t.data,X0=(t,s)=>{const a={};return Lo(t,(i,d)=>{Lo(i,(g,p)=>{const x=Kt(a,p).getOr([]);a[p]=x.concat([s(d,g)])})}),a},A_=(t,s,a,i)=>{const d={...s};Xe(a,z=>{d[z.name()]=z.exhibit(t,i)});const g=X0(d,(z,M)=>({name:z,modification:M})),p=z=>Nt(z,(M,H)=>({...H.modification,...M}),{}),x=Nt(g.classes,(z,M)=>M.modification.concat(z),[]),k=p(g.attributes),T=p(g.styles);return sl({classes:x,attributes:k,styles:T})},ZE=(t,s,a,i)=>{try{const d=Ke(a,(g,p)=>{const x=g[s],k=p[s],T=i.indexOf(x),z=i.indexOf(k);if(T===-1)throw new Error("The ordering for "+t+" does not have an entry for "+x+`.
Order specified: `+JSON.stringify(i,null,2));if(z===-1)throw new Error("The ordering for "+t+" does not have an entry for "+k+`.
Order specified: `+JSON.stringify(i,null,2));return T<z?-1:z<T?1:0});return Kn.value(d)}catch(d){return Kn.error([d])}},rf=(t,s)=>({handler:t,purpose:s}),z_=(t,s)=>({cHandler:t,purpose:s}),Qp=(t,s)=>z_(co.apply(void 0,[t.handler].concat(s)),t.purpose),eh=t=>t.cHandler,O_=(t,s)=>({name:t,handler:s}),ev=(t,s)=>{const a={};return Xe(t,i=>{a[i.name()]=i.handlers(s)}),a},J0=(t,s,a)=>{const i={...a,...ev(s,t)};return X0(i,O_)},tv=(t,s,a,i)=>{const d=J0(t,a,i);return KE(d,s)},qE=t=>{const s=Hp(t);return(a,i,...d)=>{const g=[a,i].concat(d);s.abort.apply(void 0,g)?i.stop():s.can.apply(void 0,g)&&s.run.apply(void 0,g)}},_i=(t,s)=>Kn.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(ke(s,a=>a.name),null,2)]),GE=(t,s,a)=>{const i=s[a];return i?ZE("Event: "+a,"name",t,i).map(d=>{const g=ke(d,p=>p.handler);return Pf(g)}):_i(a,t)},KE=(t,s)=>{const a=Ys(t,(i,d)=>(i.length===1?Kn.value(i[0].handler):GE(i,s,d)).map(p=>{const x=qE(p),k=i.length>1?st(s[d],T=>yo(i,z=>z.name===T)).join(" > "):i[0].name;return Qn(d,rf(x,k))}));return ji(a,{})},Hm="alloy.base.behaviour",Vm=En([La("dom","dom",Xc(),En([Ot("tag"),Ve("styles",{}),Ve("classes",[]),Ve("attributes",{}),Os("value"),Os("innerHtml")])),Ot("components"),Ot("uid"),Ve("events",{}),Ve("apis",{}),La("eventOrder","eventOrder",C({[ru()]:["disabling",Hm,"toggling","typeaheadevents"],[pd()]:[Hm,"focusing","keying"],[nb()]:[Hm,"disabling","toggling","representing","tooltipping"],[Qd()]:[Hm,"representing","streaming","invalidating"],[au()]:[Hm,"representing","item-events","toolbar-button-events","tooltipping"],[ma()]:["focusing",Hm,"item-type-events"],[nu()]:["focusing",Hm,"item-type-events"],[nl()]:["item-type-events","tooltipping"],[su()]:["receiving","reflecting","tooltipping"]}),Cl()),Os("domModification")]),jf=t=>qr("custom.definition",Vm,t),Q0=t=>({...t.dom,uid:t.uid,domChildren:ke(t.components,s=>s.element)}),yt=t=>t.domModification.fold(()=>sl({}),sl),ov=t=>t.events,Wf=t=>t.dom.value,Um=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},nv=(t,s,a)=>ta(t,s).map(d=>{if(a.exists(p=>!Ts(p,d))){const p=a.map(Rs).getOr("span"),x=Ae.fromTag(p);return Kl(d,x),x}else return d}),dl=(t,s,a)=>{a.fold(()=>Ic(t,s),i=>{Ts(i,s)||(Kl(i,s),Yc(i))})},ex=(t,s,a)=>{const i=ke(s,a),d=mc(t);return Xe(d.slice(i.length),Yc),i},tx=(t,s,a,i)=>{const d=ta(t,s),g=i(a,d),p=nv(t,s,d);return dl(t,g.element,p),g},Ci=(t,s,a)=>ex(t,s,(i,d)=>tx(t,d,i,a)),th=(t,s)=>ex(t,s,(a,i)=>{const d=ta(t,i);return dl(t,a,d),a}),D_=(t,s)=>{const a=io(t),i=io(s),d=be(i,a),g=bs(t,(p,x)=>!Gn(s,x)||p!==s[x]).t;return{toRemove:d,toSet:g}},R_=(t,s)=>{const{class:a,style:i,...d}=Q(s),{toSet:g,toRemove:p}=D_(t.attributes,d),x=()=>{Xe(p,Ne=>B(s,Ne)),Rr(s,g)},k=_a(s),{toSet:T,toRemove:z}=D_(t.styles,k),M=()=>{Xe(z,Ne=>Zn(s,Ne)),In(s,T)},H=BE(s),j=be(H,t.classes),ee=be(t.classes,H),ae=()=>{qp(s,ee),cl(s,j)},Fe=Ne=>{Bm(s,Ne)},pe=()=>{const Ne=t.domChildren;th(s,Ne)},De=()=>{const Ne=s,At=t.value.getOrUndefined();At!==Wf(Ne)&&Um(Ne,At??"")};return x(),ae(),M(),t.innerHtml.fold(pe,Fe),De(),s},YE=t=>{const s=Ae.fromTag(t.tag);Rr(s,t.attributes),qp(s,t.classes),In(s,t.styles),t.innerHtml.each(i=>Bm(s,i));const a=t.domChildren;return jd(s,a),t.value.each(i=>{Um(s,i)}),s},N_=(t,s)=>{try{const a=R_(t,s);return _.some(a)}catch{return _.none()}},XE=t=>t.innerHtml.isSome()&&t.domChildren.length>0,M_=(t,s)=>{const a=d=>Rs(d)===t.tag&&!XE(t)&&!K0(d),i=s.filter(a).bind(d=>N_(t,d)).getOrThunk(()=>YE(t));return S_(i,t.uid),i},JE=t=>{const s=Kt(t,"behaviours").getOr({});return V(io(s),a=>{const i=s[a];return to(i)?[i.me]:[]})},QE=(t,s)=>WE(t,s),sv=t=>{const s=JE(t);return QE(t,s)},rv=(t,s,a)=>{const i=Q0(t),d=yt(t),g={"alloy.base.modification":d},p=s.length>0?A_(a,g,s,i):d;return i_(i,p)},eT=(t,s,a)=>{const i={"alloy.base.behaviour":ov(t)};return tv(a,t.eventOrder,s,i).getOrDie()},B_=(t,s)=>{const a=()=>Ne,i=nn(jE),d=Xt(jf(t)),g=sv(t),p=Qy(g),x=Y0(g),k=rv(d,p,x),T=M_(k,s),z=eT(d,p,x),M=nn(d.components),H=At=>{i.set(At)},j=()=>{i.set(Xy(a))},ee=()=>{const At=mc(T),ht=V(At,Co=>i.get().getByDom(Co).fold(()=>[],Ee));M.set(ht)},ae=At=>{const ht=x;return(Qe(ht[At.name()])?ht[At.name()]:()=>{throw new Error("Could not find "+At.name()+" in "+JSON.stringify(t,null,2))})()},Fe=At=>Qe(x[At.name()]),pe=()=>d.apis,De=At=>x[At]().map(ht=>ht.state.readState()).getOr("not enabled"),Ne={uid:t.uid,getSystem:i.get,config:ae,hasConfigured:Fe,spec:t,readState:De,getApis:pe,connect:H,disconnect:j,element:T,syncComponents:ee,components:M.get,events:z};return Ne},tT=(t,s)=>{const a=Kt(t,"components").getOr([]);return s.fold(()=>ke(a,oi),i=>ke(a,(d,g)=>cv(d,ta(i,g))))},ox=(t,s)=>{const{events:a,...i}=Jg(t),d=tT(i,s),g={...i,events:{...k_,...a},components:d};return Kn.value(B_(g,s))},aa=t=>{const s=Ae.fromText(t);return nx({element:s})},nx=t=>{const s=Lc("external.component",Jc([Ot("element"),Os("uid")]),t),a=nn(Xy()),i=x=>{a.set(x)},d=()=>{a.set(Xy(()=>p))},g=s.uid.getOrThunk(()=>hb("external"));S_(s.element,g);const p={uid:g,getSystem:a.get,config:_.none,hasConfigured:Oe,connect:i,disconnect:d,getApis:()=>({}),element:s.element,spec:t,readState:U("No state"),syncComponents:X,components:U([]),events:{}};return E_(p)},P_=hb,av=t=>Gn(t,"uid"),cv=(t,s)=>T_(t).getOrThunk(()=>{const a=av(t)?t:{uid:P_(""),...t};return ox(a,s).getOrDie()}),oi=t=>cv(t,_.none()),Al=E_;var sx=(t,s,a,i,d)=>t(a,i)?_.some(a):Qe(d)&&d(a)?_.none():s(a,i,d);const rx=(t,s,a)=>{let i=t.dom;const d=Qe(a)?a:Oe;for(;i.parentNode;){i=i.parentNode;const g=Ae.fromDom(i);if(s(g))return _.some(g);if(d(g))break}return _.none()},$_=(t,s,a)=>sx((d,g)=>g(d),rx,t,s,a),ax=(t,s)=>{const a=t.dom;return a.parentNode?bb(Ae.fromDom(a.parentNode),i=>!Ts(t,i)&&s(i)):_.none()},bb=(t,s)=>{const a=d=>s(Ae.fromDom(d));return K(t.dom.childNodes,a).map(Ae.fromDom)},iv=(t,s)=>{const a=i=>{for(let d=0;d<i.childNodes.length;d++){const g=Ae.fromDom(i.childNodes[d]);if(s(g))return _.some(g);const p=a(i.childNodes[d]);if(p.isSome())return p}return _.none()};return a(t.dom)},I_=(t,s,a)=>$_(t,s,a).isSome(),Si=t=>Ac(t),jm=(t,s,a)=>rx(t,i=>Yr(i,s),a),wd=(t,s)=>ax(t,a=>Yr(a,s)),cx=(t,s)=>bb(t,a=>Yr(a,s)),Vr=(t,s)=>Ac(s,t),$u=(t,s,a)=>sx((d,g)=>Yr(d,g),jm,t,s,a),Wm="aria-controls",oT=t=>$_(t,a=>{if(!xn(a))return!1;const i=on(a,"id");return i!==void 0&&i.indexOf(Wm)>-1}).bind(a=>{const i=on(a,"id"),d=Xr(a);return Vr(d,`[${Wm}="${i}"]`)}),ix=()=>{const t=Vo(Wm);return{id:t,link:i=>{Oo(i,Wm,t)},unlink:i=>{B(i,Wm)}}},F_=(t,s)=>oT(s).exists(a=>Qg(t,a)),Qg=(t,s)=>I_(s,a=>Ts(a,t.element),Oe)||F_(t,s),xc=(t,s,a,i,d,g,p,x=!1)=>({x:t,y:s,bubble:a,direction:i,placement:d,restriction:g,label:`${p}-${d}`,alwaysFit:x}),Zf=J.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),nT=(t,s,a,i,d,g,p,x,k)=>t.fold(s,a,i,d,g,p,x,k),lx=(t,s,a,i)=>t.fold(s,s,i,i,s,i,a,a),sT=(t,s,a,i)=>t.fold(s,i,s,i,a,a,s,i),lv=Zf.southeast,ux=Zf.southwest,uv=Zf.northeast,Uo=Zf.northwest,yb=Zf.south,dx=Zf.north,L_=Zf.east,H_=Zf.west,rT=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Nc=(t,s)=>ut(["left","right","top","bottom"],a=>Kt(s,a).map(i=>rT(t,i))),aT=(t,s,a)=>{const i=(k,T)=>s[k].map(z=>{const M=k==="top"||k==="bottom",H=M?a.top:a.left,ee=(k==="left"||k==="top"?Math.max:Math.min)(z,T)+H;return M?ul(ee,t.y,t.bottom):ul(ee,t.x,t.right)}).getOr(T),d=i("left",t.x),g=i("top",t.y),p=i("right",t.right),x=i("bottom",t.bottom);return Nr(d,g,p-d,x-g)},Zm="layout",fx=t=>t.x,V_=(t,s)=>t.x+t.width/2-s.width/2,Uc=(t,s)=>t.x+t.width-s.width,qm=(t,s)=>t.y-s.height,qf=t=>t.y+t.height,U_=(t,s)=>t.y+t.height/2-s.height/2,cT=t=>t.x+t.width,iT=(t,s)=>t.x-s.width,Xa=(t,s,a)=>xc(fx(t),qf(t),a.southeast(),lv(),"southeast",Nc(t,{left:1,top:3}),Zm),ba=(t,s,a)=>xc(Uc(t,s),qf(t),a.southwest(),ux(),"southwest",Nc(t,{right:0,top:3}),Zm),Qs=(t,s,a)=>xc(fx(t),qm(t,s),a.northeast(),uv(),"northeast",Nc(t,{left:1,bottom:2}),Zm),jc=(t,s,a)=>xc(Uc(t,s),qm(t,s),a.northwest(),Uo(),"northwest",Nc(t,{right:0,bottom:2}),Zm),Ja=(t,s,a)=>xc(V_(t,s),qm(t,s),a.north(),dx(),"north",Nc(t,{bottom:2}),Zm),Qa=(t,s,a)=>xc(V_(t,s),qf(t),a.south(),yb(),"south",Nc(t,{top:3}),Zm),dv=(t,s,a)=>xc(cT(t),U_(t,s),a.east(),L_(),"east",Nc(t,{left:0}),Zm),fv=(t,s,a)=>xc(iT(t,s),U_(t,s),a.west(),H_(),"west",Nc(t,{right:1}),Zm),j_=()=>[Xa,ba,Qs,jc,Qa,Ja,dv,fv],W_=()=>[ba,Xa,jc,Qs,Qa,Ja,dv,fv],Z_=()=>[Qs,jc,Xa,ba,Ja,Qa],mv=()=>[jc,Qs,ba,Xa,Ja,Qa],Gm=()=>[Xa,ba,Qs,jc,Qa,Ja],gv=()=>[ba,Xa,jc,Qs,Qa,Ja],lT=(t,s)=>s.universal?t:st(t,a=>vt(s.channels,a));var uT=Object.freeze({__proto__:null,events:t=>Er([Rt(su(),(s,a)=>{const i=t.channels,d=io(i),g=a,p=lT(d,g);Xe(p,x=>{const k=i[x],T=k.schema,z=Lc("channel["+x+`] data
Receiver: `+Pm(s.element),T,g.data);k.onReceive(s,z)})})])}),dT=[Bs("channels",eu(Kn.value,Jc([sf("onReceive"),Ve("schema",Cl())])))];const Zi=Rc({fields:dT,name:"receiving",active:uT});var q_=Object.freeze({__proto__:null,exhibit:(t,s)=>sl({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const zl=(t,s=!1)=>t.dom.focus({preventScroll:s}),pv=t=>t.dom.blur(),vb=t=>{const s=Xr(t).dom;return t.dom===s.activeElement},kd=(t=el())=>_.from(t.dom.activeElement).map(Ae.fromDom),Ei=t=>kd(Xr(t)).filter(s=>t.dom.contains(s.dom)),Km=(t,s)=>{const a=Xr(s),i=kd(a).bind(g=>{const p=x=>Ts(g,x);return p(s)?_.some(s):iv(s,p)}),d=t(s);return i.each(g=>{kd(a).filter(p=>Ts(p,g)).fold(()=>{zl(g)},X)}),d},mx=J.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),hv=(t,s,a,i,d,g)=>{const p=s.rect,x=p.x-a,k=p.y-i,T=p.width,z=p.height,M=d-(x+T),H=g-(k+z),j=_.some(x),ee=_.some(k),ae=_.some(M),Fe=_.some(H),pe=_.none();return nT(s.direction,()=>vc(t,j,ee,pe,pe),()=>vc(t,pe,ee,ae,pe),()=>vc(t,j,pe,pe,Fe),()=>vc(t,pe,pe,ae,Fe),()=>vc(t,j,ee,pe,pe),()=>vc(t,j,pe,pe,Fe),()=>vc(t,j,ee,pe,pe),()=>vc(t,pe,ee,ae,pe))},G_=(t,s)=>t.fold(()=>{const a=s.rect;return vc("absolute",_.some(a.x),_.some(a.y),_.none(),_.none())},(a,i,d,g)=>hv("absolute",s,a,i,d,g),(a,i,d,g)=>hv("fixed",s,a,i,d,g)),Gf=(t,s)=>{const a=co(qd,s),i=t.fold(a,a,()=>{const p=zc();return qd(s).translate(-p.left,-p.top)}),d=oe(s),g=Bi(s);return Nr(i.left,i.top,d,g)},K_=(t,s)=>s.fold(()=>t.fold(Ca,Ca,Nr),a=>t.fold(U(a),U(a),()=>{const i=gx(t,a.x,a.y);return Nr(i.left,i.top,a.width,a.height)})),gx=(t,s,a)=>{const i=wr(s,a),d=()=>{const g=zc();return i.translate(-g.left,-g.top)};return t.fold(U(i),U(i),d)},Y_=(t,s,a,i)=>t.fold(s,a,i);mx.none;const xb=mx.relative,wb=mx.fixed,kb=(t,s)=>({anchorBox:t,origin:s}),fT=(t,s)=>kb(t,s),bv="data-alloy-placement",mT=(t,s)=>{Oo(t,bv,s)},X_=t=>oa(t,bv),gT=t=>B(t,bv),yv=J.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),J_=(t,s)=>{const{x:a,y:i,right:d,bottom:g}=s,{x:p,y:x,right:k,bottom:T,width:z,height:M}=t,H=p>=a&&p<=d,j=x>=i&&x<=g,ee=H&&j,ae=k<=d&&k>=a,Fe=T<=g&&T>=i,pe=ae&&Fe,De=Math.min(z,p>=a?d-p:k-a),Ne=Math.min(M,x>=i?g-x:T-i);return{originInBounds:ee,sizeInBounds:pe,visibleW:De,visibleH:Ne}},pT=(t,s)=>{const{x:a,y:i,right:d,bottom:g}=s,{x:p,y:x,width:k,height:T}=t,z=Math.max(a,d-k),M=Math.max(i,g-T),H=ul(p,a,z),j=ul(x,i,M),ee=Math.min(H+k,d)-H,ae=Math.min(j+T,g)-j;return Nr(H,j,ee,ae)},px=(t,s,a)=>{const i=U(s.bottom-a.y),d=U(a.bottom-s.y),g=lx(t,d,d,i),p=U(s.right-a.x),x=U(a.right-s.x);return{maxWidth:sT(t,x,x,p),maxHeight:g}},vv=(t,s,a,i)=>{const d=t.bubble,g=d.offset,p=aT(i,t.restriction,g),x=t.x+g.left,k=t.y+g.top,T=Nr(x,k,s,a),{originInBounds:z,sizeInBounds:M,visibleW:H,visibleH:j}=J_(T,p),ee=z&&M,ae=ee?T:pT(T,p),Fe=ae.width>0&&ae.height>0,{maxWidth:pe,maxHeight:De}=px(t.direction,ae,i),Ne={rect:ae,maxHeight:De,maxWidth:pe,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:k};return ee||t.alwaysFit?yv.fit(Ne):yv.nofit(Ne,H,j,Fe)},hT=(t,s,a,i,d,g)=>{const p=i.width,x=i.height,k=(z,M,H,j,ee)=>{const ae=z(a,i,d,t,g),Fe=vv(ae,p,x,g);return Fe.fold(U(Fe),(pe,De,Ne,At)=>(ee===At?Ne>j||De>H:!ee&&At)?Fe:yv.nofit(M,H,j,ee))};return Ue(s,(z,M)=>{const H=co(k,M);return z.fold(U(z),H)},yv.nofit({rect:a,maxHeight:i.height,maxWidth:i.width,direction:lv(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:a.y},-1,-1,!1)).fold(zt,zt)},Q_=Me,Ti=(t,s,a)=>Ud(t,s,Q_,a),hx=(t,s,a)=>hc(t,s,Q_,a),bx=$i,yx=["top","bottom","right","left"],xv="data-alloy-transition-timer",bT=(t,s)=>NE(t,s.classes),wv=(t,s,a)=>a.exists(i=>{const d=t.mode;return d==="all"?!0:i[d]!==s[d]}),e2=(t,s)=>{const a=i=>parseFloat(i).toFixed(3);return vn(s,(i,d)=>{const g=t[d].map(a),p=i.map(a);return!Pr(g,p)}).isSome()},vx=t=>{const s=g=>{const x=Ns(t,g).split(/\s*,\s*/);return st(x,ge)},a=g=>{if(Re(g)&&/^[\d.]+/.test(g)){const p=parseFloat(g);return _r(g,"ms")?p:p*1e3}else return 0},i=s("transition-delay"),d=s("transition-duration");return Ue(d,(g,p,x)=>{const k=a(i[x])+a(p);return Math.max(g,k)},0)},xx=(t,s)=>{const a=Ga(),i=Ga();let d;const g=T=>{var z;const M=(z=T.raw.pseudoElement)!==null&&z!==void 0?z:"";return Ts(T.target,t)&&le(M)&&vt(yx,T.raw.propertyName)},p=T=>{if(St(T)||g(T)){a.clear(),i.clear();const z=T==null?void 0:T.raw.type;(St(z)||z===gd())&&(clearTimeout(d),B(t,xv),cl(t,s.classes))}},x=Ti(t,n_(),T=>{g(T)&&(x.unbind(),a.set(Ti(t,gd(),p)),i.set(Ti(t,o_(),p)))}),k=vx(t);requestAnimationFrame(()=>{d=setTimeout(p,k+17),Oo(t,xv,d)})},t2=(t,s)=>{qp(t,s.classes),oa(t,xv).each(a=>{clearTimeout(parseInt(a,10)),B(t,xv)}),xx(t,s)},nh=(t,s,a,i,d,g)=>{const p=wv(i,d,g);if(p||bT(t,i)){Dt(t,"position",a.position);const x=Gf(s,t),k=G_(s,{...d,rect:x}),T=ut(yx,z=>k[z]);e2(a,T)&&(or(t,T),p&&t2(t,i),rc(t))}else cl(t,i.classes)},o2=t=>({width:oe(t),height:Bi(t)}),n2=(t,s,a,i)=>{Zn(s,"max-height"),Zn(s,"max-width");const d=o2(s);return hT(s,i.preference,t,d,a,i.bounds)},s2=(t,s)=>{const a=s.classes;cl(t,a.off),qp(t,a.on)},yT=(t,s,a)=>{const i=a.maxHeightFunction;i(t,s.maxHeight)},r2=(t,s,a)=>{const i=a.maxWidthFunction;i(t,s.maxWidth)},a2=(t,s,a)=>{const i=G_(a.origin,s);a.transition.each(d=>{nh(t,a.origin,i,d,s,a.lastPlacement)}),lb(t,i)},vT=(t,s)=>{mT(t,s.placement)},kv=(t,s)=>{Hd(t,Math.floor(s))},c2=U((t,s)=>{kv(t,s),In(t,{"overflow-x":"hidden","overflow-y":"auto"})}),sh=U((t,s)=>{kv(t,s)}),i2=(t,s,a)=>t[s]===void 0?a:t[s],wx=(t,s,a,i,d,g,p,x)=>{const k=i2(p,"maxHeightFunction",c2()),T=i2(p,"maxWidthFunction",X),z=t.anchorBox,M=t.origin,H={bounds:K_(M,g),origin:M,preference:i,maxHeightFunction:k,maxWidthFunction:T,lastPlacement:d,transition:x};return l2(z,s,a,H)},l2=(t,s,a,i)=>{const d=n2(t,s,a,i);return a2(s,d,i),vT(s,d),s2(s,d),yT(s,d,i),r2(s,d,i),{layout:d.layout,placement:d.placement}},xT=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Iu=(t,s,a,i=1)=>{const d=t*i,g=s*i,p=k=>Kt(a,k).getOr([]),x=(k,T,z)=>{const M=be(xT,z);return{offset:wr(k,T),classesOn:V(z,p),classesOff:V(M,p)}};return{southeast:()=>x(-t,s,["top","alignLeft"]),southwest:()=>x(t,s,["top","alignRight"]),south:()=>x(-t/2,s,["top","alignCentre"]),northeast:()=>x(-t,-s,["bottom","alignLeft"]),northwest:()=>x(t,-s,["bottom","alignRight"]),north:()=>x(-t/2,-s,["bottom","alignCentre"]),east:()=>x(t,-s/2,["valignCentre","left"]),west:()=>x(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>x(d,g,["top","alignLeft","inset"]),insetNorthwest:()=>x(-d,g,["top","alignRight","inset"]),insetNorth:()=>x(-d/2,g,["top","alignCentre","inset"]),insetSoutheast:()=>x(d,-g,["bottom","alignLeft","inset"]),insetSouthwest:()=>x(-d,-g,["bottom","alignRight","inset"]),insetSouth:()=>x(-d/2,-g,["bottom","alignCentre","inset"]),insetEast:()=>x(-d,-g/2,["valignCentre","right","inset"]),insetWest:()=>x(d,-g/2,["valignCentre","left","inset"])}},_v=()=>Iu(0,0,{}),Cv=zt,Wc=(t,s)=>a=>hD(a)==="rtl"?s:t,hD=t=>Ns(t,"direction")==="rtl"?"rtl":"ltr";var Ol;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Ol||(Ol={}));const kx="data-alloy-vertical-dir",wT=t=>I_(t,s=>xn(s)&&on(s,"data-alloy-vertical-dir")===Ol.BottomToTop),Ym=()=>kr("layouts",[Ot("onLtr"),Ot("onRtl"),Os("onBottomLtr"),Os("onBottomRtl")]),_b=(t,s,a,i,d,g,p)=>{const x=p.map(wT).getOr(!1),k=s.layouts.map(j=>j.onLtr(t)),T=s.layouts.map(j=>j.onRtl(t)),z=x?s.layouts.bind(j=>j.onBottomLtr.map(ee=>ee(t))).or(k).getOr(d):k.getOr(a),M=x?s.layouts.bind(j=>j.onBottomRtl.map(ee=>ee(t))).or(T).getOr(g):T.getOr(i);return Wc(z,M)(t)},kT=(t,s,a)=>{const i=s.hotspot,d=Gf(a,i.element),g=_b(t.element,s,Gm(),gv(),Z_(),mv(),_.some(s.hotspot.element));return _.some(Cv({anchorBox:d,bubble:s.bubble.getOr(_v()),overrides:s.overrides,layouts:g}))};var u2=[Ot("hotspot"),Os("bubble"),Ve("overrides",{}),Ym(),cr("placement",kT)];const _x=(t,s,a)=>{const i=gx(a,s.x,s.y),d=Nr(i.left,i.top,s.width,s.height),g=_b(t.element,s,j_(),W_(),j_(),W_(),_.none());return _.some(Cv({anchorBox:d,bubble:s.bubble,overrides:s.overrides,layouts:g}))};var d2=[Ot("x"),Ot("y"),Ve("height",0),Ve("width",0),Ve("bubble",_v()),Ve("overrides",{}),Ym(),cr("placement",_x)];const Sv=J.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Cb=t=>t.fold(zt,(s,a,i)=>s.translate(-a,-i)),f2=t=>t.fold(zt,zt),m2=t=>Ue(t,(s,a)=>s.translate(a.left,a.top),wr(0,0)),_T=t=>{const s=ke(t,Cb);return m2(s)},Ev=t=>{const s=ke(t,f2);return m2(s)},Tv=Sv.screen,CT=Sv.absolute,rh=(t,s,a)=>{const i=za(a.root).dom,d=g=>{const p=ka(g),x=ka(t.element);return Ts(p,x)};return _.from(i.frameElement).map(Ae.fromDom).filter(d).map(Oa)},g2=(t,s,a)=>{const i=ka(t.element),d=zc(i),g=rh(t,s,a).getOr(d);return CT(g,d.left,d.top)},Av=(t,s,a,i)=>{const d=Tv(wr(t,s));return _.some(ad(d,a,i))},Cx=(t,s,a,i,d)=>t.map(g=>{const p=[s,g.point],x=Y_(i,()=>Ev(p),()=>Ev(p),()=>_T(p)),k=Gd(x.left,x.top,g.width,g.height),T=a.showAbove?Z_():Gm(),z=a.showAbove?mv():gv(),M=_b(d,a,T,z,T,z,_.none());return Cv({anchorBox:k,bubble:a.bubble.getOr(_v()),overrides:a.overrides,layouts:M})}),zv=(t,s,a)=>{const i=g2(t,a,s);return s.node.filter(Ho).bind(d=>{const g=d.dom.getBoundingClientRect(),p=Av(g.left,g.top,g.width,g.height),x=s.node.getOr(t.element);return Cx(p,i,s,a,x)})};var ST=[Ot("node"),Ot("root"),Os("bubble"),Ym(),Ve("overrides",{}),Ve("showAbove",!1),cr("placement",zv)];const p2="\uFEFF",ep=" ",Sb={create:(t,s,a,i)=>({start:t,soffset:s,finish:a,foffset:i})},Xm=J.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Eb=(t,s,a,i)=>t.fold(s,a,i),b2=t=>t.fold(zt,zt,zt),y2=Xm.before,bD=Xm.on,ET=Xm.after,ah={before:y2,on:bD,after:ET,cata:Eb,getStart:b2},af=J.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),TT=t=>af.exact(t.start,t.soffset,t.finish,t.foffset),Sx=t=>t.match({domRange:s=>Ae.fromDom(s.startContainer),relative:(s,a)=>ah.getStart(s),exact:(s,a,i,d)=>s}),v2=af.domRange,x2=af.relative,w2=af.exact,Ex=t=>{const s=Sx(t);return za(s)},k2=Sb.create,Jm={domRange:v2,relative:x2,exact:w2,exactFromRange:TT,getWin:Ex,range:k2},_2=(t,s)=>{s.fold(a=>{t.setStartBefore(a.dom)},(a,i)=>{t.setStart(a.dom,i)},a=>{t.setStartAfter(a.dom)})},tp=(t,s)=>{s.fold(a=>{t.setEndBefore(a.dom)},(a,i)=>{t.setEnd(a.dom,i)},a=>{t.setEndAfter(a.dom)})},Qm=(t,s,a)=>{const i=t.document.createRange();return _2(i,s),tp(i,a),i},Tb=(t,s,a,i,d)=>{const g=t.document.createRange();return g.setStart(s.dom,a),g.setEnd(i.dom,d),g},ch=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),Ov=t=>{const s=t.getClientRects(),a=s.length>0?s[0]:t.getBoundingClientRect();return a.width>0||a.height>0?_.some(a).map(ch):_.none()},eg=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?_.some(s).map(ch):_.none()},Dl=J.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Tx=(t,s,a)=>s(Ae.fromDom(a.startContainer),a.startOffset,Ae.fromDom(a.endContainer),a.endOffset),AT=(t,s)=>s.match({domRange:a=>({ltr:U(a),rtl:_.none}),relative:(a,i)=>({ltr:Ct(()=>Qm(t,a,i)),rtl:Ct(()=>_.some(Qm(t,i,a)))}),exact:(a,i,d,g)=>({ltr:Ct(()=>Tb(t,a,i,d,g)),rtl:Ct(()=>_.some(Tb(t,d,g,a,i)))})}),ih=(t,s)=>{const a=s.ltr();return a.collapsed?s.rtl().filter(d=>d.collapsed===!1).map(d=>Dl.rtl(Ae.fromDom(d.endContainer),d.endOffset,Ae.fromDom(d.startContainer),d.startOffset)).getOrThunk(()=>Tx(t,Dl.ltr,a)):Tx(t,Dl.ltr,a)},C2=(t,s)=>{const a=AT(t,s);return ih(t,a)},lh=(t,s)=>C2(t,s).match({ltr:(i,d,g,p)=>{const x=t.document.createRange();return x.setStart(i.dom,d),x.setEnd(g.dom,p),x},rtl:(i,d,g,p)=>{const x=t.document.createRange();return x.setStart(g.dom,p),x.setEnd(i.dom,d),x}});Dl.ltr,Dl.rtl;const uh=(t,s,a)=>st(yl(t,a),s),Mc=(t,s)=>sd(s,t),Dv=(t,s,a,i)=>{const g=ka(t).dom.createRange();return g.setStart(t.dom,s),g.setEnd(a.dom,i),g},Ab=(t,s,a,i)=>{const d=Dv(t,s,a,i),g=Ts(t,a)&&s===i;return d.collapsed&&!g},Rv=t=>_.from(t.getSelection()),S2=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),a=t.getRangeAt(t.rangeCount-1);return _.some(Sb.create(Ae.fromDom(s.startContainer),s.startOffset,Ae.fromDom(a.endContainer),a.endOffset))}else return _.none()},Ax=t=>{if(t.anchorNode===null||t.focusNode===null)return S2(t);{const s=Ae.fromDom(t.anchorNode),a=Ae.fromDom(t.focusNode);return Ab(s,t.anchorOffset,a,t.focusOffset)?_.some(Sb.create(s,t.anchorOffset,a,t.focusOffset)):S2(t)}},Nv=t=>Rv(t).filter(s=>s.rangeCount>0).bind(Ax),Va=(t,s)=>{const a=lh(t,s);return Ov(a)},Mv=(t,s)=>{const a=lh(t,s);return eg(a)},E2=((t,s)=>{const a=g=>{if(!t(g))throw new Error("Can only get "+s+" value of a "+s+" node");return i(g).getOr("")},i=g=>t(g)?_.from(g.dom.nodeValue):_.none();return{get:a,getOption:i,set:(g,p)=>{if(!t(g))throw new Error("Can only set raw "+s+" value of a "+s+" node");g.dom.nodeValue=p}}})(ds,"text"),zx=t=>E2.get(t),Kf=(t,s)=>({element:t,offset:s}),zb=(t,s)=>{const a=mc(t);if(a.length===0)return Kf(t,s);if(s<a.length)return Kf(a[s],0);{const i=a[a.length-1],d=ds(i)?zx(i).length:mc(i).length;return Kf(i,d)}},dh=(t,s)=>ds(t)?Kf(t,s):zb(t,s),Bv=t=>t.foffset!==void 0,Pv=(t,s)=>s.getSelection.getOrThunk(()=>()=>Nv(t))().map(i=>{if(Bv(i)){const d=dh(i.start,i.soffset),g=dh(i.finish,i.foffset);return Jm.range(d.element,d.offset,g.element,g.offset)}else return i}),tg=(t,s,a)=>{const i=za(s.root).dom,d=g2(t,a,s),g=Pv(i,s).bind(k=>{if(Bv(k))return Mv(i,Jm.exactFromRange(k)).orThunk(()=>{const z=Ae.fromText(p2);Kl(k.start,z);const M=Va(i,Jm.exact(z,0,z,1));return Yc(z),M}).bind(z=>Av(z.left,z.top,z.width,z.height));{const T=Mo(k,M=>M.dom.getBoundingClientRect()),z={left:Math.min(T.firstCell.left,T.lastCell.left),right:Math.max(T.firstCell.right,T.lastCell.right),top:Math.min(T.firstCell.top,T.lastCell.top),bottom:Math.max(T.firstCell.bottom,T.lastCell.bottom)};return Av(z.left,z.top,z.right-z.left,z.bottom-z.top)}}),x=Pv(i,s).bind(k=>Bv(k)?xn(k.start)?_.some(k.start):fc(k.start):_.some(k.firstCell)).getOr(t.element);return Cx(g,d,s,a,x)};var zT=[Os("getSelection"),Ot("root"),Os("bubble"),Ym(),Ve("overrides",{}),Ve("showAbove",!1),cr("placement",tg)];const fl="link-layout",_d=t=>t.x+t.width,Ox=(t,s)=>t.x-s.width,T2=(t,s)=>t.y-s.height+t.height,A2=t=>t.y,Dx=(t,s,a)=>xc(_d(t),A2(t),a.southeast(),lv(),"southeast",Nc(t,{left:0,top:2}),fl),Rx=(t,s,a)=>xc(Ox(t,s),A2(t),a.southwest(),ux(),"southwest",Nc(t,{right:1,top:2}),fl),z2=(t,s,a)=>xc(_d(t),T2(t,s),a.northeast(),uv(),"northeast",Nc(t,{left:0,bottom:3}),fl),O2=(t,s,a)=>xc(Ox(t,s),T2(t,s),a.northwest(),Uo(),"northwest",Nc(t,{right:1,bottom:3}),fl),qi=()=>[Dx,Rx,z2,O2],op=()=>[Rx,Dx,O2,z2],Nx=(t,s,a)=>{const i=Gf(a,s.item.element),d=_b(t.element,s,qi(),op(),qi(),op(),_.none());return _.some(Cv({anchorBox:i,bubble:_v(),overrides:s.overrides,layouts:d}))};var og=[Ot("item"),Ym(),Ve("overrides",{}),cr("placement",Nx)],Gi=Ka("type",{selection:zT,node:ST,hotspot:u2,submenu:og,makeshift:d2});const ml=[Hi("classes",Do),Ui("mode","all",["all","layout","placement"])],Zc=[Ve("useFixed",Oe),Os("getBounds")],iu=[Bs("anchor",Gi),kr("transition",ml)],$v=()=>{const t=document.documentElement;return wb(0,0,t.clientWidth,t.clientHeight)},lu=t=>{const s=Oa(t.element),a=t.element.dom.getBoundingClientRect();return xb(s.left,s.top,a.width,a.height)},np=(t,s,a,i,d,g)=>{const p=fT(s.anchorBox,t);return wx(p,i.element,s.bubble,s.layouts,d,a,s.overrides,g)},OT=(t,s,a,i,d)=>{const g=_.none();Mx(t,s,a,i,d,g)},Mx=(t,s,a,i,d,g)=>{const p=Lc("placement.info",En(iu),d),x=p.anchor,k=i.element,T=a.get(i.uid);Km(()=>{Dt(k,"position","fixed");const z=nr(k,"visibility");Dt(k,"visibility","hidden");const M=s.useFixed()?$v():lu(t);x.placement(t,x,M).each(H=>{const j=g.orThunk(()=>s.getBounds.map(gn)),ee=np(M,H,j,i,T,p.transition);a.set(i.uid,ee)}),z.fold(()=>{Zn(k,"visibility")},H=>{Dt(k,"visibility",H)}),nr(k,"left").isNone()&&nr(k,"top").isNone()&&nr(k,"right").isNone()&&nr(k,"bottom").isNone()&&ar(nr(k,"position"),"fixed")&&Zn(k,"position")},k)};var D2=Object.freeze({__proto__:null,position:OT,positionWithinBounds:Mx,getMode:(t,s,a)=>s.useFixed()?"fixed":"absolute",reset:(t,s,a,i)=>{const d=i.element;Xe(["position","left","right","top","bottom"],g=>Zn(d,g)),gT(d),a.clear(i.uid)}}),Fv=Object.freeze({__proto__:null,init:()=>{let t={};return rl({readState:()=>t,clear:d=>{to(d)?delete t[d]:t={}},set:(d,g)=>{t[d]=g},get:d=>Kt(t,d)})}});const ni=Rc({fields:Zc,name:"positioning",active:q_,apis:D2,state:Fv}),fh=t=>t.getSystem().isConnected(),mh=t=>{ns(t,au());const s=t.components();Xe(s,mh)},Ob=t=>{const s=t.components();Xe(s,Ob),ns(t,xi())},Bx=(t,s)=>{t.getSystem().addToWorld(s),Ho(t.element)&&Ob(s)},Db=t=>{mh(t),t.getSystem().removeFromWorld(t)},Rb=(t,s)=>{Ic(t.element,s.element)},sp=t=>{Xe(t.components(),s=>Yc(s.element)),Ia(t.element),t.syncComponents()},Px=(t,s,a)=>{const i=t.components();sp(t);const d=a(s),g=be(i,d);Xe(g,p=>{mh(p),t.getSystem().removeFromWorld(p)}),Xe(d,p=>{fh(p)?Rb(t,p):(t.getSystem().addToWorld(p),Rb(t,p),Ho(t.element)&&Ob(p))}),t.syncComponents()},Lv=(t,s,a)=>{const i=t.components(),d=V(s,x=>T_(x).toArray());Xe(i,x=>{vt(d,x)||Db(x)});const g=a(s),p=be(i,g);Xe(p,x=>{fh(x)&&Db(x)}),Xe(g,x=>{fh(x)||Bx(t,x)}),t.syncComponents()},Fu=(t,s)=>{R2(t,s,Ic)},R2=(t,s,a)=>{t.getSystem().addToWorld(s),a(t.element,s.element),Ho(t.element)&&Ob(s),t.syncComponents()},N2=t=>{mh(t),Yc(t.element),t.getSystem().removeFromWorld(t)},Yf=t=>{const s=$a(t.element).bind(a=>t.getSystem().getByDom(a).toOptional());N2(t),s.each(a=>{a.syncComponents()})},Rl=t=>{const s=t.components();Xe(s,N2),Ia(t.element),t.syncComponents()},Nb=(t,s)=>{ng(t,s,Ic)},rp=(t,s)=>{ng(t,s,zf)},ng=(t,s,a)=>{a(t,s.element);const i=mc(s.element);Xe(i,d=>{s.getByDom(d).each(Ob)})},$x=t=>{const s=mc(t.element);Xe(s,a=>{t.getByDom(a).each(mh)}),Yc(t.element)},Hv=(t,s,a,i)=>{a.get().each(p=>{Rl(t)});const d=s.getAttachPoint(t);Fu(d,t);const g=t.getSystem().build(i);return Fu(t,g),a.set(g),g},M2=(t,s,a,i)=>{const d=Hv(t,s,a,i);return s.onOpen(t,d),d},NT=(t,s,a,i)=>a.get().map(()=>Hv(t,s,a,i)),MT=(t,s,a,i,d)=>{Fx(t,s),M2(t,s,a,i),d(),Uv(t,s)},ap=(t,s,a)=>{a.get().each(i=>{Rl(t),Yf(t),s.onClose(t,i),a.clear()})},Ix=(t,s,a)=>a.isOpen(),gh=(t,s,a,i)=>Ix(t,s,a)&&a.get().exists(d=>s.isPartOf(t,d,i)),Mb=(t,s,a)=>a.get(),BT=(t,s,a,i)=>{nr(t.element,s).fold(()=>{B(t.element,a)},d=>{Oo(t.element,a,d)}),Dt(t.element,s,i)},Vv=(t,s,a)=>{oa(t.element,a).fold(()=>Zn(t.element,s),i=>Dt(t.element,s,i))},Fx=(t,s,a)=>{const i=s.getAttachPoint(t);Dt(t.element,"position",ni.getMode(i)),BT(t,"visibility",s.cloakVisibilityAttr,"hidden")},Lx=t=>yo(["top","left","right","bottom"],s=>nr(t,s).isSome()),Uv=(t,s,a)=>{Lx(t.element)||Zn(t.element,"position"),Vv(t,"visibility",s.cloakVisibilityAttr)};var Hx=Object.freeze({__proto__:null,cloak:Fx,decloak:Uv,open:M2,openWhileCloaked:MT,close:ap,isOpen:Ix,isPartOf:gh,getState:Mb,setContent:NT}),jv=Object.freeze({__proto__:null,events:(t,s)=>Er([Rt(ob(),(a,i)=>{ap(a,t,s)})])}),Wv=[ks("onOpen"),ks("onClose"),Ot("isPartOf"),Ot("getAttachPoint"),Ve("cloakVisibilityAttr","data-precloak-visibility")],qv=Object.freeze({__proto__:null,init:()=>{const t=js(),s=U("not-implemented");return rl({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Ss=Rc({fields:Wv,name:"sandboxing",active:jv,apis:Hx,state:qv}),lf=U("dismiss.popups"),cp=U("reposition.popups"),Gv=U("mouse.released"),Kv=Jc([Ve("isExtraPart",Oe),kr("fireEventInstead",[Ve("event",Em())])]),sg=t=>{const s=Lc("Dismissal",Kv,t);return{[lf()]:{schema:Jc([Ot("target")]),onReceive:(a,i)=>{Ss.isOpen(a)&&(Ss.isPartOf(a,i.target)||s.isExtraPart(a,i.target)||s.fireEventInstead.fold(()=>Ss.close(a),g=>ns(a,g.event)))}}}},Yv=Jc([kr("fireEventInstead",[Ve("event",y0())]),Li("doReposition")]),Vx=t=>{const s=Lc("Reposition",Yv,t);return{[cp()]:{onReceive:a=>{Ss.isOpen(a)&&s.fireEventInstead.fold(()=>s.doReposition(a),i=>ns(a,i.event))}}}},Ux=(t,s,a)=>{s.store.manager.onLoad(t,s,a)},jx=(t,s,a)=>{s.store.manager.onUnload(t,s,a)};var Bb=Object.freeze({__proto__:null,onLoad:Ux,onUnload:jx,setValue:(t,s,a,i)=>{s.store.manager.setValue(t,s,a,i)},getValue:(t,s,a)=>s.store.manager.getValue(t,s,a),getState:(t,s,a)=>a}),Xv=Object.freeze({__proto__:null,events:(t,s)=>{const a=t.resetOnDom?[Mr((i,d)=>{Ux(i,t,s)}),tf((i,d)=>{jx(i,t,s)})]:[T0(t,s,Ux)];return Er(a)}});const Jv=()=>{const t=nn(null),s=()=>({mode:"memory",value:t.get()}),a=()=>t.get()===null,i=()=>{t.set(null)};return rl({set:t.set,get:t.get,isNotSet:a,clear:i,readState:s})},Zx=()=>rl({readState:X}),P2=()=>{const t=nn({}),s=nn({});return rl({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:p=>Kt(t.get(),p).orThunk(()=>Kt(s.get(),p)),update:p=>{const x=t.get(),k=s.get(),T={},z={};Xe(p,M=>{T[M.value]=M,Kt(M,"meta").each(H=>{Kt(H,"text").each(j=>{z[j]=M})})}),t.set({...x,...T}),s.set({...k,...z})},clear:()=>{t.set({}),s.set({})}})};var Qv=Object.freeze({__proto__:null,memory:Jv,dataset:P2,manual:Zx,init:t=>t.store.manager.state(t)});const $2=(t,s,a,i)=>{const d=s.store;a.update([i]),d.setValue(t,i),s.onSetValue(t,i)},uu=(t,s,a)=>{const i=s.store,d=i.getDataKey(t);return a.lookup(d).getOrThunk(()=>i.getFallbackEntry(d))},wc=(t,s,a)=>{s.store.initialValue.each(d=>{$2(t,s,a,d)})},Qf=(t,s,a)=>{a.clear()};var qx=[Os("initialValue"),Ot("getFallbackEntry"),Ot("getDataKey"),Ot("setValue"),cr("manager",{setValue:$2,getValue:uu,onLoad:wc,onUnload:Qf,state:P2})];const PT=(t,s,a)=>s.store.getValue(t),e1=(t,s,a,i)=>{s.store.setValue(t,i),s.onSetValue(t,i)},Gx=(t,s,a)=>{s.store.initialValue.each(i=>{s.store.setValue(t,i)})};var hh=[Ot("getValue"),Ve("setValue",X),Os("initialValue"),cr("manager",{setValue:e1,getValue:PT,onLoad:Gx,onUnload:X,state:fi.init})];const I2=(t,s,a,i)=>{a.set(i),s.onSetValue(t,i)},$T=(t,s,a)=>a.get(),yD=(t,s,a)=>{s.store.initialValue.each(i=>{a.isNotSet()&&a.set(i)})},IT=(t,s,a)=>{a.clear()};var F2=[Os("initialValue"),cr("manager",{setValue:I2,getValue:$T,onLoad:yD,onUnload:IT,state:Jv})],L2=[Vi("store",{mode:"memory"},Ka("mode",{memory:F2,manual:hh,dataset:qx})),ks("onSetValue"),Ve("resetOnDom",!1)];const $o=Rc({fields:L2,name:"representing",active:Xv,apis:Bb,extra:{setValueFrom:(t,s)=>{const a=$o.getValue(s);$o.setValue(t,a)}},state:Qv}),kc=(t,s)=>A(t,{},ke(s,a=>m0(a.name(),"Cannot configure "+a.name()+" for "+t)).concat([Ms("dump",zt)])),Pb=t=>t.dump,_c=(t,s)=>({...ao(s),...t.dump}),du={field:kc,augment:_c,get:Pb},Kx="placeholder",lp=J.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),$b=t=>Gn(t,"uiType"),up=(t,s,a,i)=>t.exists(d=>d!==a.owner)?lp.single(!0,U(a)):Kt(i,a.name).fold(()=>{throw new Error("Unknown placeholder component: "+a.name+`
Known: [`+io(i)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(a,null,2))},d=>d.replace()),Ib=(t,s,a,i)=>$b(a)&&a.uiType===Kx?up(t,s,a,i):lp.single(!1,U(a)),H2=(t,s,a,i)=>Ib(t,s,a,i).fold((g,p)=>{const x=$b(a)?p(s,a.config,a.validated):p(s),k=Kt(x,"components").getOr([]),T=V(k,z=>H2(t,s,z,i));return[{...x,components:T}]},(g,p)=>{if($b(a)){const x=p(s,a.config,a.validated);return a.validated.preprocess.getOr(zt)(x)}else return p(s)}),FT=(t,s,a,i)=>V(a,d=>H2(t,s,d,i)),LT=(t,s)=>{let a=!1;const i=()=>a,d=()=>{if(a)throw new Error("Trying to use the same placeholder more than once: "+t);return a=!0,s},g=()=>s.fold((p,x)=>p,(p,x)=>p);return{name:U(t),required:g,used:i,replace:d}},bh=(t,s,a,i)=>{const d=Mo(i,(p,x)=>LT(x,p)),g=FT(t,s,a,d);return Lo(d,p=>{if(p.used()===!1&&p.required())throw new Error("Placeholder: "+p.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),g},dp=lp.single,Yx=lp.multiple,Xx=U(Kx),gl=J.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),uf=Ve("factory",{sketch:zt}),t1=Ve("schema",[]),Lu=Ot("name"),o1=La("pname","pname",ss(t=>"<alloy."+Vo(t.name)+">"),Cl()),HT=Ms("schema",()=>[Os("preprocess")]),n1=Ve("defaults",U({})),s1=Ve("overrides",U({})),VT=En([uf,t1,Lu,o1,n1,s1]),UT=En([uf,t1,Lu,n1,s1]),jT=En([uf,t1,Lu,o1,n1,s1]),WT=En([uf,HT,Lu,Ot("unit"),o1,n1,s1]),r1=t=>t.fold(_.some,_.none,_.some,_.some),V2=t=>{const s=a=>a.name;return t.fold(s,s,s,s)},ZT=t=>t.fold(zt,zt,zt,zt),a1=(t,s)=>a=>{const i=Lc("Converting part type",s,a);return t(i)},qc=a1(gl.required,VT),fu=a1(gl.external,UT),Nl=a1(gl.optional,jT),c1=a1(gl.group,WT),Fb=U("entirety");var vD=Object.freeze({__proto__:null,required:qc,external:fu,optional:Nl,group:c1,asNamedPart:r1,name:V2,asCommon:ZT,original:Fb});const Lb=(t,s,a,i)=>br(s.defaults(t,a,i),a,{uid:t.partUids[s.name]},s.overrides(t,a,i)),qT=(t,s,a)=>{const i={},d={};return Xe(a,g=>{g.fold(p=>{i[p.pname]=dp(!0,(x,k,T)=>p.factory.sketch(Lb(x,p,k,T)))},p=>{const x=s.parts[p.name];d[p.name]=U(p.factory.sketch(Lb(s,p,x[Fb()]),x))},p=>{i[p.pname]=dp(!1,(x,k,T)=>p.factory.sketch(Lb(x,p,k,T)))},p=>{i[p.pname]=Yx(!0,(x,k,T)=>{const z=x[p.name];return ke(z,M=>p.factory.sketch(br(p.defaults(x,M,T),M,p.overrides(x,M))))})})}),{internals:U(i),externals:U(d)}},U2=(t,s)=>{const a={};return Xe(s,i=>{r1(i).each(d=>{const g=j2(t,d.pname);a[d.name]=p=>{const x=Lc("Part: "+d.name+" in "+t,En(d.schema),p);return{...g,config:p,validated:x}}})}),a},j2=(t,s)=>({uiType:Xx(),owner:t,name:s}),W2=(t,s,a)=>({uiType:Xx(),owner:t,name:s,config:a,validated:{}}),GT=t=>V(t,s=>s.fold(_.none,_.some,_.none,_.none).map(a=>fd(a.name,a.schema.concat([Fm(Fb())]))).toArray()),Z2=t=>ke(t,V2),i1=(t,s,a)=>qT(t,s,a),q2=(t,s,a)=>bh(_.some(t),s,s.components,a),eo=(t,s,a)=>{const i=s.partUids[a];return t.getSystem().getByUid(i).toOptional()},Ml=(t,s,a)=>eo(t,s,a).getOrDie("Could not find part: "+a),G2=(t,s,a)=>{const i={},d=s.partUids,g=t.getSystem();return Xe(a,p=>{i[p]=U(g.getByUid(d[p]))}),i},Jx=(t,s)=>{const a=t.getSystem();return Mo(s.partUids,(i,d)=>U(a.getByUid(i)))},Hb=t=>io(t.partUids),fp=(t,s,a)=>{const i={},d=s.partUids,g=t.getSystem();return Xe(a,p=>{i[p]=U(g.getByUid(d[p]).getOrDie())}),i},Qx=(t,s)=>{const a=Z2(s);return Is(ke(a,i=>({key:i,value:t+"-"+i})))},Vb=t=>La("partUids","partUids",vm(s=>Qx(s.uid,t)),Cl());var K2=Object.freeze({__proto__:null,generate:U2,generateOne:W2,schemas:GT,names:Z2,substitutes:i1,components:q2,defaultUids:Qx,defaultUidsSchema:Vb,getAllParts:Jx,getAllPartNames:Hb,getPart:eo,getPartOrDie:Ml,getParts:G2,getPartsOrDie:fp});const KT=(t,s)=>(t.length>0?[fd("parts",t)]:[]).concat([Ot("uid"),Ve("dom",{}),Ve("components",[]),Fm("originalSpec"),Ve("debug.sketcher",{})]).concat(s),ew=(t,s,a,i,d)=>{const g=KT(i,d);return Lc(t+" [SpecSchema]",Jc(g.concat(s)),a)},Ub=(t,s,a,i)=>{const d=X2(i),g=ew(t,s,d,[],[]);return a(g,d)},rg=(t,s,a,i,d)=>{const g=X2(d),p=GT(a),x=Vb(a),k=ew(t,s,g,p,[x]),T=i1(t,k,a),z=q2(t,k,T.internals());return i(k,z,g,T.externals())},Y2=t=>Gn(t,"uid"),X2=t=>Y2(t)?t:{...t,uid:hb("uid")},YT=t=>t.uid!==void 0,tw=Jc([Ot("name"),Ot("factory"),Ot("configFields"),Ve("apis",{}),Ve("extraApis",{})]),XT=Jc([Ot("name"),Ot("factory"),Ot("configFields"),Ot("partFields"),Ve("apis",{}),Ve("extraApis",{})]),pl=t=>{const s=Lc("Sketcher for "+t.name,tw,t),a=g=>Ub(s.name,s.configFields,s.factory,g),i=Mo(s.apis,Jy),d=Mo(s.extraApis,(g,p)=>Wp(g,p));return{name:s.name,configFields:s.configFields,sketch:a,...i,...d}},mi=t=>{const s=Lc("Sketcher for "+t.name,XT,t),a=p=>rg(s.name,s.configFields,s.partFields,s.factory,p),i=U2(s.name,s.partFields),d=Mo(s.apis,Jy),g=Mo(s.extraApis,(p,x)=>Wp(p,x));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:a,parts:i,...d,...g}},yh=t=>ua("input")(t)&&on(t,"type")!=="radio"||ua("textarea")(t);var JT=Object.freeze({__proto__:null,getCurrent:(t,s,a)=>s.find(t)});const ow=[Ot("find")],Es=Rc({fields:ow,name:"composing",apis:JT}),QT=["input","button","textarea","select"],eA=(t,s,a)=>{(s.disabled()?jb:nw)(t,s)},J2=(t,s)=>s.useNative===!0&&vt(QT,Rs(t.element)),wD=t=>ii(t.element,"disabled"),df=t=>{Oo(t.element,"disabled","disabled")},l1=t=>{B(t.element,"disabled")},tA=t=>on(t.element,"aria-disabled")==="true",oA=t=>{Oo(t.element,"aria-disabled","true")},Q2=t=>{Oo(t.element,"aria-disabled","false")},jb=(t,s,a)=>{s.disableClass.each(d=>{Tr(t.element,d)}),(J2(t,s)?df:oA)(t),s.onDisabled(t)},nw=(t,s,a)=>{s.disableClass.each(d=>{ra(t.element,d)}),(J2(t,s)?l1:Q2)(t),s.onEnabled(t)},eC=(t,s)=>J2(t,s)?wD(t):tA(t);var vh=Object.freeze({__proto__:null,enable:nw,disable:jb,isDisabled:eC,onLoad:eA,set:(t,s,a,i)=>{(i?jb:nw)(t,s)}}),tC=Object.freeze({__proto__:null,exhibit:(t,s)=>sl({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>Er([c_(ru(),(a,i)=>eC(a,t)),T0(t,s,eA)])}),nA=[sa("disabled",Oe),Ve("useNative",!0),Os("disableClass"),ks("onDisabled"),ks("onEnabled")];const l=Rc({fields:nA,name:"disabling",active:tC,apis:vh}),f=(t,s,a,i)=>{const d=Mc(t.element,"."+s.highlightClass);Xe(d,g=>{yo(i,x=>Ts(x.element,g))||(ra(g,s.highlightClass),t.getSystem().getByDom(g).each(x=>{s.onDehighlight(t,x),ns(x,Hg())}))})},h=(t,s,a)=>f(t,s,a,[]),y=(t,s,a,i)=>{Ce(t,s,a,i)&&(ra(i.element,s.highlightClass),s.onDehighlight(t,i),ns(i,Hg()))},S=(t,s,a,i)=>{f(t,s,a,[i]),Ce(t,s,a,i)||(Tr(i.element,s.highlightClass),s.onHighlight(t,i),ns(i,Tm()))},O=(t,s,a)=>{Ao(t,s).each(i=>{S(t,s,a,i)})},I=(t,s,a)=>{_o(t,s).each(i=>{S(t,s,a,i)})},Z=(t,s,a,i)=>{no(t,s,a,i).fold(d=>{throw d},d=>{S(t,s,a,d)})},se=(t,s,a,i)=>{const d=uo(t,s);K(d,i).each(p=>{S(t,s,a,p)})},Ce=(t,s,a,i)=>al(i.element,s.highlightClass),Ye=(t,s,a)=>Vr(t.element,"."+s.highlightClass).bind(i=>t.getSystem().getByDom(i).toOptional()),no=(t,s,a,i)=>{const d=Mc(t.element,"."+s.itemClass);return _.from(d[i]).fold(()=>Kn.error(new Error("No element found with index "+i)),t.getSystem().getByDom)},Ao=(t,s,a)=>Vr(t.element,"."+s.itemClass).bind(i=>t.getSystem().getByDom(i).toOptional()),_o=(t,s,a)=>{const i=Mc(t.element,"."+s.itemClass);return(i.length>0?_.some(i[i.length-1]):_.none()).bind(g=>t.getSystem().getByDom(g).toOptional())},go=(t,s,a,i)=>{const d=Mc(t.element,"."+s.itemClass);return te(d,p=>al(p,s.highlightClass)).bind(p=>{const x=Xg(p,i,0,d.length-1);return t.getSystem().getByDom(d[x]).toOptional()})},Xo=(t,s,a)=>go(t,s,a,-1),qt=(t,s,a)=>go(t,s,a,1),uo=(t,s,a)=>{const i=Mc(t.element,"."+s.itemClass);return $r(ke(i,d=>t.getSystem().getByDom(d).toOptional()))};var zn=Object.freeze({__proto__:null,dehighlightAll:h,dehighlight:y,highlight:S,highlightFirst:O,highlightLast:I,highlightAt:Z,highlightBy:se,isHighlighted:Ce,getHighlighted:Ye,getFirst:Ao,getLast:_o,getPrevious:Xo,getNext:qt,getCandidates:uo}),Mn=[Ot("highlightClass"),Ot("itemClass"),ks("onHighlight"),ks("onDehighlight")];const rn=Rc({fields:Mn,name:"highlighting",apis:zn}),Gr=[8],er=[9],ya=[13],Bl=[27],Gc=[32],mp=[37],gp=[38],Gs=[39],Cc=[40],Ai=(t,s,a)=>{const i=de(t.slice(0,s)),d=de(t.slice(s+1));return K(i.concat(d),a)},Hu=(t,s,a)=>{const i=de(t.slice(0,s));return K(i,a)},Pl=(t,s,a)=>{const i=t.slice(0,s),d=t.slice(s+1);return K(d.concat(i),a)},xh=(t,s,a)=>{const i=t.slice(s+1);return K(i,a)},Xn=t=>s=>{const a=s.raw;return vt(t,a.which)},$l=t=>s=>re(t,a=>a(s)),Vu=t=>t.raw.shiftKey===!0,ff=t=>t.raw.ctrlKey===!0,ec=We(Vu),Ds=(t,s)=>({matches:t,classification:s}),rw=(t,s)=>K(t,i=>i.matches(s)).map(i=>i.classification),aw=(t,s,a)=>{s.exists(d=>a.exists(g=>Ts(g,d)))||bn(t,Lg(),{prevFocus:s,newFocus:a})},u1=()=>{const t=a=>Ei(a.element);return{get:t,set:(a,i)=>{const d=t(a);a.getSystem().triggerFocus(i,a.element);const g=t(a);aw(a,d,g)}}},oC=()=>{const t=a=>rn.getHighlighted(a).map(i=>i.element);return{get:t,set:(a,i)=>{const d=t(a);a.getSystem().getByDom(i).fold(X,p=>{rn.highlight(a,p)});const g=t(a);aw(a,d,g)}}};var em;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(em||(em={}));const pp=(t,s,a,i,d)=>{const g=()=>t.concat([Ve("focusManager",u1()),Vi("focusInside","onFocus",Bg(T=>vt(["onFocus","onEnterOrSpace","onApi"],T)?Kn.value(T):Kn.error("Invalid value for focusInside"))),cr("handler",k),cr("state",s),cr("sendFocusIn",d)]),p=(T,z,M,H,j)=>{const ee=M(T,z,H,j);return rw(ee,z.event).bind(ae=>ae(T,z,H,j))},k={schema:g,processKey:p,toEvents:(T,z)=>{const M=T.focusInside!==em.OnFocusMode?_.none():d(T).map(ee=>Rt(pd(),(ae,Fe)=>{ee(ae,T,z),Fe.stop()})),H=(ee,ae)=>{const Fe=Xn(Gc.concat(ya))(ae.event);T.focusInside===em.OnEnterOrSpaceMode&&Fe&&Nu(ee,ae)&&d(T).each(pe=>{pe(ee,T,z),ae.stop()})},j=[Rt(Mu(),(ee,ae)=>{p(ee,ae,a,T,z).fold(()=>{H(ee,ae)},Fe=>{ae.stop()})}),Rt(eb(),(ee,ae)=>{p(ee,ae,i,T,z).each(Fe=>{ae.stop()})})];return Er(M.toArray().concat(j))}};return k},wh=t=>{const s=[Os("onEscape"),Os("onEnter"),Ve("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ve("firstTabstop",0),Ve("useTabstopAt",Me),Os("visibilitySelector")].concat([t]),a=(pe,De)=>{const Ne=pe.visibilitySelector.bind(At=>$u(De,At)).getOr(De);return Xs(Ne)>0},i=(pe,De)=>{const Ne=Mc(pe.element,De.selector),At=st(Ne,ht=>a(De,ht));return _.from(At[De.firstTabstop])},d=(pe,De)=>De.focusManager.get(pe).bind(Ne=>$u(Ne,De.selector)),g=(pe,De)=>a(pe,De)&&pe.useTabstopAt(De),p=(pe,De,Ne)=>{i(pe,De).each(At=>{De.focusManager.set(pe,At)})},x=(pe,De,Ne,At,ht)=>ht(De,Ne,Co=>g(At,Co)).fold(()=>At.cyclic?_.some(!0):_.none(),Co=>(At.focusManager.set(pe,Co),_.some(!0))),k=(pe,De,Ne,At)=>{const ht=Mc(pe.element,Ne.selector);return d(pe,Ne).bind(Co=>te(ht,co(Ts,Co)).bind(_t=>x(pe,ht,_t,Ne,At)))},T=(pe,De,Ne)=>{const At=Ne.cyclic?Ai:Hu;return k(pe,De,Ne,At)},z=(pe,De,Ne)=>{const At=Ne.cyclic?Pl:xh;return k(pe,De,Ne,At)},M=pe=>$c(pe).bind(vl).exists(De=>Ts(De,pe)),H=(pe,De,Ne)=>d(pe,Ne).filter(At=>!Ne.useTabstopAt(At)).bind(At=>(M(At)?T:z)(pe,De,Ne)),j=(pe,De,Ne)=>Ne.onEnter.bind(At=>At(pe,De)),ee=(pe,De,Ne)=>Ne.onEscape.bind(At=>At(pe,De)),ae=U([Ds($l([Vu,Xn(er)]),T),Ds(Xn(er),z),Ds($l([ec,Xn(ya)]),j)]),Fe=U([Ds(Xn(Bl),ee),Ds(Xn(er),H)]);return pp(s,fi.init,ae,Fe,()=>_.some(p))};var oF=wh(Ms("cyclic",Oe)),nF=wh(Ms("cyclic",Me));const cw=(t,s,a)=>(rb(t,a,ru()),_.some(!0)),d1=(t,s,a)=>yh(a)&&Xn(Gc)(s.event)?_.none():cw(t,s,a),Wb=(t,s)=>_.some(!0),sA=[Ve("execute",d1),Ve("useSpace",!1),Ve("useEnter",!0),Ve("useControlEnter",!1),Ve("useDown",!1)],CD=(t,s,a)=>a.execute(t,s,t.element),SD=(t,s,a,i)=>{const d=a.useSpace&&!yh(t.element)?Gc:[],g=a.useEnter?ya:[],p=a.useDown?Cc:[],x=d.concat(g).concat(p);return[Ds(Xn(x),CD)].concat(a.useControlEnter?[Ds($l([ff,Xn(ya)]),CD)]:[])},sF=(t,s,a,i)=>a.useSpace&&!yh(t.element)?[Ds(Xn(Gc),Wb)]:[];var ED=pp(sA,fi.init,SD,sF,()=>_.none());const rA=()=>{const t=js();return rl({readState:()=>t.get().map(d=>({numRows:String(d.numRows),numColumns:String(d.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(d,g)=>{t.set({numRows:d,numColumns:g})},getNumRows:()=>t.get().map(d=>d.numRows),getNumColumns:()=>t.get().map(d=>d.numColumns)})};var rF=Object.freeze({__proto__:null,flatgrid:rA,init:t=>t.state(t)});const TD=t=>(s,a,i,d)=>{const g=t(s.element);return iw(g,s,a,i,d)},aA=(t,s)=>{const a=Wc(t,s);return TD(a)},cA=(t,s)=>{const a=Wc(s,t);return TD(a)},iA=t=>(s,a,i,d)=>iw(t,s,a,i,d),iw=(t,s,a,i,d)=>i.focusManager.get(s).bind(p=>t(s.element,p,i,d)).map(p=>(i.focusManager.set(s,p),!0)),nC=iA,AD=iA,lA=iA,zD=t=>t.offsetWidth<=0&&t.offsetHeight<=0,OD=t=>!zD(t.dom),aF=(t,s)=>te(t,s).map(a=>({index:a,candidates:t})),Uu=(t,s,a)=>{const i=p=>Ts(p,s),d=Mc(t,a),g=st(d,OD);return aF(g,i)},DD=(t,s)=>te(t,a=>Ts(s,a)),RD=(t,s,a,i)=>{const d=Math.floor(s/a),g=s%a;return i(d,g).bind(p=>{const x=p.row*a+p.column;return x>=0&&x<t.length?_.some(t[x]):_.none()})},ND=(t,s,a,i,d)=>RD(t,s,i,(g,p)=>{const k=g===a-1?t.length-g*i:i,T=Xg(p,d,0,k-1);return _.some({row:g,column:T})}),MD=(t,s,a,i,d)=>RD(t,s,i,(g,p)=>{const x=Xg(g,d,0,a-1),T=x===a-1?t.length-x*i:i,z=ul(p,0,T-1);return _.some({row:x,column:z})}),cF=(t,s,a,i)=>ND(t,s,a,i,1),f1=(t,s,a,i)=>ND(t,s,a,i,-1),uA=(t,s,a,i)=>MD(t,s,a,i,-1),iF=(t,s,a,i)=>MD(t,s,a,i,1),dA=[Ot("selector"),Ve("execute",d1),Wi("onEscape"),Ve("captureTab",!1),Yy()],sC=(t,s,a)=>{Vr(t.element,s.selector).each(i=>{s.focusManager.set(t,i)})},fA=(t,s)=>s.focusManager.get(t).bind(a=>$u(a,s.selector)),lF=(t,s,a,i)=>fA(t,a).bind(d=>a.execute(t,s,d)),rC=t=>(s,a,i,d)=>Uu(s,a,i.selector).bind(g=>t(g.candidates,g.index,d.getNumRows().getOr(i.initSize.numRows),d.getNumColumns().getOr(i.initSize.numColumns))),BD=(t,s,a)=>a.captureTab?_.some(!0):_.none(),uF=(t,s,a)=>a.onEscape(t,s),PD=rC(f1),$D=rC(cF),dF=rC(uA),ID=rC(iF),aC=U([Ds(Xn(mp),aA(PD,$D)),Ds(Xn(Gs),cA(PD,$D)),Ds(Xn(gp),nC(dF)),Ds(Xn(Cc),AD(ID)),Ds($l([Vu,Xn(er)]),BD),Ds($l([ec,Xn(er)]),BD),Ds(Xn(Gc.concat(ya)),lF)]),fF=U([Ds(Xn(Bl),uF),Ds(Xn(Gc),Wb)]);var mF=pp(dA,rA,aC,fF,()=>_.some(sC));const FD=(t,s,a,i,d)=>{const g=x=>Rs(x)==="button"&&on(x,"disabled")==="disabled",p=(x,k,T)=>d(x,k,i,0,T.length-1,T[k],z=>g(T[z])?p(x,z,T):_.from(T[z]));return Uu(t,a,s).bind(x=>{const k=x.index,T=x.candidates;return p(k,k,T)})},LD=(t,s,a,i)=>FD(t,s,a,i,(d,g,p,x,k,T,z)=>{const M=ul(g+p,x,k);return M===d?_.from(T):z(M)}),hp=(t,s,a,i)=>FD(t,s,a,i,(d,g,p,x,k,T,z)=>{const M=Xg(g,p,x,k);return M===d?_.none():z(M)}),HD=[Ot("selector"),Ve("getInitial",_.none),Ve("execute",d1),Wi("onEscape"),Ve("executeOnMove",!1),Ve("allowVertical",!0),Ve("allowHorizontal",!0),Ve("cycles",!0)],gF=(t,s)=>s.focusManager.get(t).bind(a=>$u(a,s.selector)),lw=(t,s,a)=>gF(t,a).bind(i=>a.execute(t,s,i)),pF=(t,s,a)=>{s.getInitial(t).orThunk(()=>Vr(t.element,s.selector)).each(i=>{s.focusManager.set(t,i)})},mA=(t,s,a)=>(a.cycles?hp:LD)(t,a.selector,s,-1),gA=(t,s,a)=>(a.cycles?hp:LD)(t,a.selector,s,1),pA=t=>(s,a,i,d)=>t(s,a,i,d).bind(()=>i.executeOnMove?lw(s,a,i):_.some(!0)),VD=(t,s,a)=>a.onEscape(t,s),UD=(t,s,a,i)=>{const d=[...a.allowHorizontal?mp:[]].concat(a.allowVertical?gp:[]),g=[...a.allowHorizontal?Gs:[]].concat(a.allowVertical?Cc:[]);return[Ds(Xn(d),pA(aA(mA,gA))),Ds(Xn(g),pA(cA(mA,gA))),Ds(Xn(ya),lw),Ds(Xn(Gc),lw)]},hF=U([Ds(Xn(Gc),Wb),Ds(Xn(Bl),VD)]);var bF=pp(HD,fi.init,UD,hF,()=>_.some(pF));const cC=(t,s,a)=>_.from(t[s]).bind(i=>_.from(i[a]).map(d=>({rowIndex:s,columnIndex:a,cell:d}))),iC=(t,s,a,i)=>{const g=t[s].length,p=Xg(a,i,0,g-1);return cC(t,s,p)},jD=(t,s,a,i)=>{const d=Xg(a,i,0,t.length-1),g=t[d].length,p=ul(s,0,g-1);return cC(t,d,p)},uw=(t,s,a,i)=>{const g=t[s].length,p=ul(a+i,0,g-1);return cC(t,s,p)},WD=(t,s,a,i)=>{const d=ul(a+i,0,t.length-1),g=t[d].length,p=ul(s,0,g-1);return cC(t,d,p)},ZD=(t,s,a)=>iC(t,s,a,1),hl=(t,s,a)=>iC(t,s,a,-1),yF=(t,s,a)=>jD(t,a,s,-1),qD=(t,s,a)=>jD(t,a,s,1),GD=(t,s,a)=>uw(t,s,a,-1),vF=(t,s,a)=>uw(t,s,a,1),KD=(t,s,a)=>WD(t,a,s,-1),YD=(t,s,a)=>WD(t,a,s,1),xF=[fd("selectors",[Ot("row"),Ot("cell")]),Ve("cycles",!0),Ve("previousSelector",_.none),Ve("execute",d1)],wF=(t,s,a)=>{s.previousSelector(t).orThunk(()=>{const d=s.selectors;return Vr(t.element,d.cell)}).each(d=>{s.focusManager.set(t,d)})},kF=(t,s,a)=>Ei(t.element).bind(i=>a.execute(t,s,i)),_F=(t,s)=>ke(t,a=>Mc(a,s.selectors.cell)),dw=(t,s)=>(a,i,d)=>{const g=d.cycles?t:s;return $u(i,d.selectors.row).bind(p=>{const x=Mc(p,d.selectors.cell);return DD(x,i).bind(k=>{const T=Mc(a,d.selectors.row);return DD(T,p).bind(z=>{const M=_F(T,d);return g(M,z,k).map(H=>H.cell)})})})},XD=dw(hl,GD),JD=dw(ZD,vF),QD=dw(yF,KD),eR=dw(qD,YD),tR=U([Ds(Xn(mp),aA(XD,JD)),Ds(Xn(Gs),cA(XD,JD)),Ds(Xn(gp),nC(QD)),Ds(Xn(Cc),AD(eR)),Ds(Xn(Gc.concat(ya)),kF)]),CF=U([Ds(Xn(Gc),Wb)]);var SF=pp(xF,fi.init,tR,CF,()=>_.some(wF));const EF=[Ot("selector"),Ve("execute",d1),Ve("moveOnTab",!1)],oR=(t,s,a)=>a.focusManager.get(t).bind(i=>a.execute(t,s,i)),nR=(t,s,a)=>{Vr(t.element,s.selector).each(i=>{s.focusManager.set(t,i)})},hA=(t,s,a)=>hp(t,a.selector,s,-1),bp=(t,s,a)=>hp(t,a.selector,s,1),sR=(t,s,a,i)=>a.moveOnTab?lA(hA)(t,s,a,i):_.none(),rR=(t,s,a,i)=>a.moveOnTab?lA(bp)(t,s,a,i):_.none(),aR=U([Ds(Xn(gp),lA(hA)),Ds(Xn(Cc),lA(bp)),Ds($l([Vu,Xn(er)]),sR),Ds($l([ec,Xn(er)]),rR),Ds(Xn(ya),oR),Ds(Xn(Gc),oR)]),TF=U([Ds(Xn(Gc),Wb)]);var m1=pp(EF,fi.init,aR,TF,()=>_.some(nR));const AF=[Wi("onSpace"),Wi("onEnter"),Wi("onShiftEnter"),Wi("onLeft"),Wi("onRight"),Wi("onTab"),Wi("onShiftTab"),Wi("onUp"),Wi("onDown"),Wi("onEscape"),Ve("stopSpaceKeyup",!1),Os("focusIn")],zF=(t,s,a)=>[Ds(Xn(Gc),a.onSpace),Ds($l([ec,Xn(ya)]),a.onEnter),Ds($l([Vu,Xn(ya)]),a.onShiftEnter),Ds($l([Vu,Xn(er)]),a.onShiftTab),Ds($l([ec,Xn(er)]),a.onTab),Ds(Xn(gp),a.onUp),Ds(Xn(Cc),a.onDown),Ds(Xn(mp),a.onLeft),Ds(Xn(Gs),a.onRight),Ds(Xn(Gc),a.onSpace)],cR=(t,s,a)=>[...a.stopSpaceKeyup?[Ds(Xn(Gc),Wb)]:[],Ds(Xn(Bl),a.onEscape)];var OF=pp(AF,fi.init,zF,cR,t=>t.focusIn);const DF=oF.schema(),RF=nF.schema(),iR=bF.schema(),bA=mF.schema(),yA=SF.schema(),NF=ED.schema(),kh=m1.schema(),lR=OF.schema();var uR=Object.freeze({__proto__:null,acyclic:DF,cyclic:RF,flow:iR,flatgrid:bA,matrix:yA,execution:NF,menu:kh,special:lR});const MF=t=>hr(t,"setGridSize"),pn=d_({branchKey:"mode",branches:uR,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,a)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},i=>{i(t,s,a)})},setGridSize:(t,s,a,i,d)=>{MF(a)?a.setGridSize(i,d):console.error("Layout does not support setGridSize")}},state:rF}),g1=(t,s)=>{Km(()=>{Px(t,s,()=>ke(s,t.getSystem().build))},t.element)},p1=(t,s)=>{Km(()=>{Lv(t,s,()=>Ci(t.element,s,t.getSystem().buildOrPatch))},t.element)},dR=(t,s,a,i)=>{Db(s);const d=tx(t.element,a,i,t.getSystem().buildOrPatch);Bx(t,d),t.syncComponents()},fw=(t,s,a)=>{const i=t.getSystem().build(a);R2(t,i,s)},_h=(t,s,a,i)=>{Yf(s),fw(t,(d,g)=>Eg(d,g,a),i)},Ch=(t,s,a,i)=>(s.reuseDom?p1:g1)(t,i),BF=(t,s,a,i)=>{fw(t,Ic,i)},PF=(t,s,a,i)=>{fw(t,Yl,i)},fR=(t,s,a,i)=>{const d=mf(t);K(d,p=>Ts(i.element,p.element)).each(Yf)},mf=(t,s)=>t.components(),lC=(t,s,a,i,d)=>{const g=mf(t);return _.from(g[i]).map(p=>(d.fold(()=>Yf(p),x=>{(s.reuseDom?dR:_h)(t,p,i,x)}),p))};var mR=Object.freeze({__proto__:null,append:BF,prepend:PF,remove:fR,replaceAt:lC,replaceBy:(t,s,a,i,d)=>{const g=mf(t);return te(g,i).bind(p=>lC(t,s,a,p,d))},set:Ch,contents:mf});const Fn=Rc({fields:[pa("reuseDom",!0)],name:"replacing",apis:mR}),gR=(t,s)=>{const a=Er(s);return Rc({fields:[Ot("enabled")],name:t,active:{events:U(a)}})},Jn=(t,s)=>{const a=gR(t,s);return{key:t,value:{config:{},me:a,configAsRaw:U({}),initialConfig:{},state:fi}}},vA=(t,s)=>{s.ignore||(zl(t.element),s.onFocus(t))};var $F=Object.freeze({__proto__:null,focus:vA,blur:(t,s)=>{s.ignore||pv(t.element)},isFocused:t=>vb(t.element)}),uC=Object.freeze({__proto__:null,exhibit:(t,s)=>{const a=s.ignore?{}:{attributes:{tabindex:"-1"}};return sl(a)},events:t=>Er([Rt(pd(),(s,a)=>{vA(s,t),a.stop()})].concat(t.stopMousedown?[Rt(ma(),(s,a)=>{a.event.prevent()})]:[]))}),hR=[ks("onFocus"),Ve("stopMousedown",!1),Ve("ignore",!1)];const Bn=Rc({fields:hR,name:"focusing",active:uC,apis:$F}),bR=t=>({init:()=>{const a=nn(t);return{get:()=>a.get(),set:x=>a.set(x),clear:()=>a.set(t),readState:()=>a.get()}}}),yR=(t,s,a)=>{const i=s.aria;i.update(t,i,a.get())},vR=(t,s,a)=>{s.toggleClass.each(i=>{a.get()?Tr(t.element,i):ra(t.element,i)})},h1=(t,s,a,i)=>{const d=a.get();a.set(i),vR(t,s,a),yR(t,s,a),d!==i&&s.onToggled(t,i)},xR=(t,s,a)=>{h1(t,s,a,!a.get())},wA=(t,s,a)=>{h1(t,s,a,!0)},IF=(t,s,a)=>{h1(t,s,a,!1)},FF=(t,s,a)=>a.get(),wR=(t,s,a)=>{h1(t,s,a,s.selected)};var LF=Object.freeze({__proto__:null,onLoad:wR,toggle:xR,isOn:FF,on:wA,off:IF,set:h1}),VF=Object.freeze({__proto__:null,exhibit:()=>sl({}),events:(t,s)=>{const a=ib(t,s,xR),i=T0(t,s,wR);return Er(he([t.toggleOnExecute?[a]:[],[i]]))}});const kR=(t,s,a)=>{Oo(t.element,"aria-pressed",a),s.syncWithExpanded&&b1(t,s,a)},mw=(t,s,a)=>{Oo(t.element,"aria-selected",a)},UF=(t,s,a)=>{Oo(t.element,"aria-checked",a)},b1=(t,s,a)=>{Oo(t.element,"aria-expanded",a)};var kA=[Ve("selected",!1),Os("toggleClass"),Ve("toggleOnExecute",!0),ks("onToggled"),Vi("aria",{mode:"none"},Ka("mode",{pressed:[Ve("syncWithExpanded",!1),cr("update",kR)],checked:[cr("update",UF)],expanded:[cr("update",b1)],selected:[cr("update",mw)],none:[cr("update",X)]}))];const rs=Rc({fields:kA,name:"toggling",active:VF,apis:LF,state:bR(!1)}),_A=()=>{const t=(s,a)=>{a.stop(),Am(s)};return[Rt(Ig(),t),Rt(hd(),t),yd(nu()),yd(ma())]},dC=t=>{const s=a=>Bu((i,d)=>{a(i),d.stop()});return Er(he([t.map(s).toArray(),_A()]))},_R="alloy.item-hover",CA="alloy.item-focus",CR="alloy.item-toggled",SA=t=>{(Ei(t.element).isNone()||Bn.isFocused(t))&&(Bn.isFocused(t)||Bn.focus(t),bn(t,_R,{item:t}))},SR=t=>{bn(t,CA,{item:t})},jF=(t,s)=>{bn(t,CR,{item:t,state:s})},EA=U(_R),fC=U(CA),TA=U(CR),AA=t=>t.role.fold(()=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),zt),WF=(t,s)=>({aria:{mode:s?"selected":"checked"},...os(t,(a,i)=>i!=="exclusive"),onToggled:(a,i)=>{Qe(t.onToggled)&&t.onToggled(a,i),jF(a,i)}}),ZF=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:AA(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:du.augment(t.itemBehaviours,[t.toggling.fold(rs.revoke,s=>rs.config(WF(s,t.role.exists(a=>a==="option")))),Bn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{SR(s)}}),pn.config({mode:"execution"}),$o.config({store:{mode:"memory",initialValue:t.data}}),Jn("item-type-events",[..._A(),Rt(nl(),SA),Rt(tb(),Bn.focus)])]),components:t.components,eventOrder:t.eventOrder}),qF=[Ot("data"),Ot("components"),Ot("dom"),Ve("hasSubmenu",!1),Os("toggling"),Os("role"),du.field("itemBehaviours",[rs,Bn,pn,$o]),Ve("ignoreFocus",!1),Ve("domModification",{}),cr("builder",ZF),Ve("eventOrder",{})],GF=t=>({dom:t.dom,components:t.components,events:Er([C0(tb())])}),ER=[Ot("dom"),Ot("components"),cr("builder",GF)],mC=U("item-widget"),zA=U([qc({name:"widget",overrides:t=>({behaviours:ao([$o.config({store:{mode:"manual",getValue:s=>t.data,setValue:X}})])})})]),KF=t=>{const s=i1(mC(),t,zA()),a=q2(mC(),t,s.internals()),i=g=>eo(g,t,"widget").map(p=>(pn.focusIn(p),p)),d=(g,p)=>yh(p.event.target)?_.none():(t.autofocus&&p.setSource(g.element),_.none());return{dom:t.dom,components:a,domModification:t.domModification,events:Er([Bu((g,p)=>{i(g).each(x=>{p.stop()})}),Rt(nl(),SA),Rt(tb(),(g,p)=>{t.autofocus?i(g):Bn.focus(g)})]),behaviours:du.augment(t.widgetBehaviours,[$o.config({store:{mode:"memory",initialValue:t.data}}),Bn.config({ignore:t.ignoreFocus,onFocus:g=>{SR(g)}}),pn.config({mode:"special",focusIn:t.autofocus?g=>{i(g)}:Br(),onLeft:d,onRight:d,onEscape:(g,p)=>!Bn.isFocused(g)&&!t.autofocus?(Bn.focus(g),_.some(!0)):(t.autofocus&&p.setSource(g.element),_.none())})])}},YF=[Ot("uid"),Ot("data"),Ot("components"),Ot("dom"),Ve("autofocus",!1),Ve("ignoreFocus",!1),du.field("widgetBehaviours",[$o,Bn,pn]),Ve("domModification",{}),Vb(zA()),cr("builder",KF)],XF=Ka("type",{widget:YF,item:qF,separator:ER}),JF=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),QF=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),TR=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),e6=U([c1({factory:{sketch:t=>{const s=Lc("menu.spec item",XF,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>Gn(s,"uid")?s:{...s,uid:hb("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),t6=U([Ha("role"),Ot("value"),Ot("items"),Ot("dom"),Ot("components"),Ve("eventOrder",{}),kc("menuBehaviours",[rn,$o,Es,pn]),Vi("movement",{mode:"menu",moveOnTab:!0},Ka("mode",{grid:[Yy(),cr("config",JF)],matrix:[cr("config",QF),Ot("rowSelector"),Ve("previousSelector",_.none)],menu:[Ve("moveOnTab",!0),cr("config",TR)]})),W0(),Ve("fakeFocus",!1),Ve("focusManager",u1()),ks("onHighlight"),ks("onDehighlight"),Ve("showMenuRole",!0)]),AR=U("alloy.menu-focus"),o6=(t,s)=>{const a=Mc(t.element,'[role="menuitemradio"][aria-checked="true"]');Xe(a,i=>{Ts(i,s.element)||t.getSystem().getByDom(i).each(d=>{rs.off(d)})})},n6=(t,s,a,i)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:_c(t.menuBehaviours,[rn.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),$o.config({store:{mode:"memory",initialValue:t.value}}),Es.config({find:_.some}),pn.config(t.movement.config(t,t.movement))]),events:Er([Rt(fC(),(d,g)=>{const p=g.event;d.getSystem().getByDom(p.target).each(x=>{rn.highlight(d,x),g.stop(),bn(d,AR(),{menu:d,item:x})})}),Rt(EA(),(d,g)=>{const p=g.event.item;rn.highlight(d,p)}),Rt(TA(),(d,g)=>{const{item:p,state:x}=g.event;x&&on(p.element,"role")==="menuitemradio"&&o6(d,p)})]),components:s,eventOrder:t.eventOrder,...t.showMenuRole?{domModification:{attributes:{role:t.role.getOr("menu")}}}:{}}),Cd=mi({name:"Menu",configFields:t6(),partFields:e6(),factory:n6}),s6=t=>Hn(t,(s,a)=>({k:s,v:a})),zR=(t,s,a,i)=>Kt(a,i).bind(d=>Kt(t,d).bind(g=>{const p=zR(t,s,a,g);return _.some([g].concat(p))})).getOr([]),Zb=(t,s)=>{const a={};Lo(t,(p,x)=>{Xe(p,k=>{a[k]=x})});const i=s,d=s6(s),g=Mo(d,(p,x)=>[x].concat(zR(a,i,d,x)));return Mo(a,p=>Kt(g,p).getOr([p]))},OR=()=>{const t=nn({}),s=nn({}),a=nn({}),i=js(),d=nn({}),g=()=>{t.set({}),s.set({}),a.set({}),i.clear()},p=()=>i.get().isNone(),x=(ht,Co)=>{s.set({...s.get(),[ht]:{type:"prepared",menu:Co}})},k=(ht,Co,Io,_t)=>{i.set(ht),t.set(Io),s.set(Co),d.set(_t);const Yo=Zb(_t,Io);a.set(Yo)},T=ht=>vn(t.get(),(Co,Io)=>Co===ht),z=(ht,Co,Io)=>ae(ht).bind(_t=>T(ht).bind(Yo=>Co(Yo).map(wo=>({triggeredMenu:_t,triggeringItem:wo,triggeringPath:Io})))),M=(ht,Co)=>{const Io=st(pe(ht).toArray(),_t=>ae(_t).isSome());return Kt(a.get(),ht).bind(_t=>{const Yo=de(Io.concat(_t)),wo=V(Yo,(tn,fs)=>z(tn,Co,Yo.slice(0,fs+1)).fold(()=>ar(i.get(),tn)?[]:[_.none()],Dr=>[_.some(Dr)]));return ys(wo)})},H=ht=>Kt(t.get(),ht).map(Co=>{const Io=Kt(a.get(),ht).getOr([]);return[Co].concat(Io)}),j=ht=>Kt(a.get(),ht).bind(Co=>Co.length>1?_.some(Co.slice(1)):_.none()),ee=ht=>Kt(a.get(),ht),ae=ht=>Fe(ht).bind(DR),Fe=ht=>Kt(s.get(),ht),pe=ht=>Kt(t.get(),ht);return{setMenuBuilt:x,setContents:k,expand:H,refresh:ee,collapse:j,lookupMenu:Fe,lookupItem:pe,otherMenus:ht=>{const Co=d.get();return be(io(Co),ht)},getPrimary:()=>i.get().bind(ae),getMenus:()=>s.get(),clear:g,isClear:p,getTriggeringPath:M}},DR=t=>t.type==="prepared"?_.some(t.menu):_.none(),yp={init:OR,extractPreparedMenu:DR},RR=Vo("tiered-menu-item-highlight"),NR=Vo("tiered-menu-item-dehighlight");var Ea;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(Ea||(Ea={}));const MR=(t,s)=>{const a=js(),i=(Yt,Eo,Pn)=>Mo(Pn,(An,mn)=>{const qn=()=>Cd.sketch({...An,value:mn,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(pr,Hs)=>{bn(pr,RR,{menuComp:pr,itemComp:Hs})},onDehighlight:(pr,Hs)=>{bn(pr,NR,{menuComp:pr,itemComp:Hs})},focusManager:t.fakeFocus?oC():u1()});return mn===Eo?{type:"prepared",menu:Yt.getSystem().build(qn())}:{type:"notbuilt",nbMenu:qn}}),d=yp.init(),g=Yt=>{const Eo=i(Yt,t.data.primary,t.data.menus),Pn=k();return d.setContents(t.data.primary,Eo,t.data.expansions,Pn),d.getPrimary()},p=Yt=>$o.getValue(Yt).value,x=(Yt,Eo,Pn)=>Ut(Eo,An=>{if(!An.getSystem().isConnected())return _.none();const mn=rn.getCandidates(An);return K(mn,qn=>p(qn)===Pn)}),k=Yt=>Mo(t.data.menus,(Eo,Pn)=>V(Eo.items,An=>An.type==="separator"?[]:[An.data.value])),T=rn.highlight,z=(Yt,Eo)=>{T(Yt,Eo),rn.getHighlighted(Eo).orThunk(()=>rn.getFirst(Eo)).each(Pn=>{t.fakeFocus?rn.highlight(Eo,Pn):rb(Yt,Pn.element,tb())})},M=(Yt,Eo)=>$r(ke(Eo,Pn=>Yt.lookupMenu(Pn).bind(An=>An.type==="prepared"?_.some(An.menu):_.none()))),H=(Yt,Eo,Pn)=>{const An=M(Eo,Eo.otherMenus(Pn));Xe(An,mn=>{cl(mn.element,[t.markers.backgroundMenu]),t.stayInDom||Fn.remove(Yt,mn)})},j=Yt=>a.get().getOrThunk(()=>{const Eo={},Pn=Mc(Yt.element,`.${t.markers.item}`),An=st(Pn,mn=>on(mn,"aria-haspopup")==="true");return Xe(An,mn=>{Yt.getSystem().getByDom(mn).each(qn=>{const pr=p(qn);Eo[pr]=qn})}),a.set(Eo),Eo}),ee=(Yt,Eo)=>{const Pn=j(Yt);Lo(Pn,(An,mn)=>{const qn=vt(Eo,mn);Oo(An.element,"aria-expanded",qn)})},ae=(Yt,Eo,Pn)=>_.from(Pn[0]).bind(An=>Eo.lookupMenu(An).bind(mn=>{if(mn.type==="notbuilt")return _.none();{const qn=mn.menu,pr=M(Eo,Pn.slice(1));return Xe(pr,Hs=>{Tr(Hs.element,t.markers.backgroundMenu)}),Ho(qn.element)||Fn.append(Yt,Al(qn)),cl(qn.element,[t.markers.backgroundMenu]),z(Yt,qn),H(Yt,Eo,Pn),_.some(qn)}}));let Fe;(function(Yt){Yt[Yt.HighlightSubmenu=0]="HighlightSubmenu",Yt[Yt.HighlightParent=1]="HighlightParent"})(Fe||(Fe={}));const pe=(Yt,Eo,Pn)=>{if(Pn.type==="notbuilt"){const An=Yt.getSystem().build(Pn.nbMenu());return d.setMenuBuilt(Eo,An),An}else return Pn.menu},De=(Yt,Eo,Pn=Fe.HighlightSubmenu)=>{if(Eo.hasConfigured(l)&&l.isDisabled(Eo))return _.some(Eo);{const An=p(Eo);return d.expand(An).bind(mn=>(ee(Yt,mn),_.from(mn[0]).bind(qn=>d.lookupMenu(qn).bind(pr=>{const Hs=pe(Yt,qn,pr);return Ho(Hs.element)||Fn.append(Yt,Al(Hs)),t.onOpenSubmenu(Yt,Eo,Hs,de(mn)),Pn===Fe.HighlightSubmenu?(rn.highlightFirst(Hs),ae(Yt,d,mn)):(rn.dehighlightAll(Hs),_.some(Eo))}))))}},Ne=(Yt,Eo)=>{const Pn=p(Eo);return d.collapse(Pn).bind(An=>(ee(Yt,An),ae(Yt,d,An).map(mn=>(t.onCollapseMenu(Yt,Eo,mn),mn))))},At=(Yt,Eo)=>{const Pn=p(Eo);return d.refresh(Pn).bind(An=>(ee(Yt,An),ae(Yt,d,An)))},ht=(Yt,Eo)=>yh(Eo.element)?_.none():De(Yt,Eo,Fe.HighlightSubmenu),Co=(Yt,Eo)=>yh(Eo.element)?_.none():Ne(Yt,Eo),Io=(Yt,Eo)=>Ne(Yt,Eo).orThunk(()=>t.onEscape(Yt,Eo).map(()=>Yt)),_t=Yt=>(Eo,Pn)=>$u(Pn.getSource(),`.${t.markers.item}`).bind(An=>Eo.getSystem().getByDom(An).toOptional().bind(mn=>Yt(Eo,mn).map(Me))),Yo=Er([Rt(AR(),(Yt,Eo)=>{const Pn=Eo.event.item;d.lookupItem(p(Pn)).each(()=>{const An=Eo.event.menu;rn.highlight(Yt,An);const mn=p(Eo.event.item);d.refresh(mn).each(qn=>H(Yt,d,qn))})}),Bu((Yt,Eo)=>{const Pn=Eo.event.target;Yt.getSystem().getByDom(Pn).each(An=>{p(An).indexOf("collapse-item")===0&&Ne(Yt,An),De(Yt,An,Fe.HighlightSubmenu).fold(()=>{t.onExecute(Yt,An)},X)})}),Mr((Yt,Eo)=>{g(Yt).each(Pn=>{Fn.append(Yt,Al(Pn)),t.onOpenMenu(Yt,Pn),t.highlightOnOpen===Ea.HighlightMenuAndItem?z(Yt,Pn):t.highlightOnOpen===Ea.HighlightJustMenu&&T(Yt,Pn)})}),Rt(RR,(Yt,Eo)=>{t.onHighlightItem(Yt,Eo.event.menuComp,Eo.event.itemComp)}),Rt(NR,(Yt,Eo)=>{t.onDehighlightItem(Yt,Eo.event.menuComp,Eo.event.itemComp)}),...t.navigateOnHover?[Rt(EA(),(Yt,Eo)=>{const Pn=Eo.event.item;At(Yt,Pn),De(Yt,Pn,Fe.HighlightParent),t.onHover(Yt,Pn)})]:[]]),wo=Yt=>rn.getHighlighted(Yt).bind(rn.getHighlighted),tn=Yt=>{wo(Yt).each(Eo=>{Ne(Yt,Eo)})},fs=Yt=>{d.getPrimary().each(Eo=>{z(Yt,Eo)})},Dr=Yt=>_.from(Yt.components()[0]).filter(Eo=>on(Eo.element,"role")==="menu"),Jo={collapseMenu:tn,highlightPrimary:fs,repositionMenus:Yt=>{d.getPrimary().bind(Pn=>wo(Yt).bind(An=>{const mn=p(An),qn=jr(d.getMenus()),pr=$r(ke(qn,yp.extractPreparedMenu));return d.getTriggeringPath(mn,Hs=>x(Yt,pr,Hs))}).map(An=>({primary:Pn,triggeringPath:An}))).fold(()=>{Dr(Yt).each(Pn=>{t.onRepositionMenu(Yt,Pn,[])})},({primary:Pn,triggeringPath:An})=>{t.onRepositionMenu(Yt,Pn,An)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:_c(t.tmenuBehaviours,[pn.config({mode:"special",onRight:_t(ht),onLeft:_t(Co),onEscape:_t(Io),focusIn:(Yt,Eo)=>{d.getPrimary().each(Pn=>{rb(Yt,Pn.element,tb())})}}),rn.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Es.config({find:Yt=>rn.getHighlighted(Yt)}),Fn.config({})]),eventOrder:t.eventOrder,apis:Jo,events:Yo}},BR=U("collapse-item"),PR=(t,s,a)=>({primary:t,menus:s,expansions:a}),r6=(t,s)=>({primary:t,menus:Qn(t,s),expansions:{}}),gC=t=>({value:Vo(BR()),meta:{text:t}}),Sh=pl({name:"TieredMenu",configFields:[Ky("onExecute"),Ky("onEscape"),sf("onOpenMenu"),sf("onOpenSubmenu"),ks("onRepositionMenu"),ks("onCollapseMenu"),Ve("highlightOnOpen",Ea.HighlightMenuAndItem),fd("data",[Ot("primary"),Ot("menus"),Ot("expansions")]),Ve("fakeFocus",!1),ks("onHighlightItem"),ks("onDehighlightItem"),ks("onHover"),Jp(),Ot("dom"),Ve("navigateOnHover",!0),Ve("stayInDom",!1),kc("tmenuBehaviours",[pn,rn,Es,Fn]),Ve("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:MR,extraApis:{tieredData:PR,singleData:r6,collapseItem:gC}}),a6=(t,s,a,i,d)=>{const g=()=>t.lazySink(s),p=i.type==="horizontal"?{layouts:{onLtr:()=>Gm(),onRtl:()=>gv()}}:{},x=T=>T.length===2,k=T=>x(T)?p:{};return Sh.sketch({dom:{tag:"div"},data:i.data,markers:i.menu.markers,highlightOnOpen:i.menu.highlightOnOpen,fakeFocus:i.menu.fakeFocus,onEscape:()=>(Ss.close(s),t.onEscape.map(T=>T(s)),_.some(!0)),onExecute:()=>_.some(!0),onOpenMenu:(T,z)=>{ni.positionWithinBounds(g().getOrDie(),z,a,d())},onOpenSubmenu:(T,z,M,H)=>{const j=g().getOrDie();ni.position(j,M,{anchor:{type:"submenu",item:z,...k(H)}})},onRepositionMenu:(T,z,M)=>{const H=g().getOrDie();ni.positionWithinBounds(H,z,a,d()),Xe(M,j=>{const ee=k(j.triggeringPath);ni.position(H,j.triggeredMenu,{anchor:{type:"submenu",item:j.triggeringItem,...ee}})})}})},c6=(t,s)=>{const a=(H,j)=>t.getRelated(H).exists(ae=>Qg(ae,j)),i=(H,j)=>{Ss.setContent(H,j)},d=(H,j,ee)=>{const ae=_.none;g(H,j,ee,ae)},g=(H,j,ee,ae)=>{const Fe=t.lazySink(H).getOrDie();Ss.openWhileCloaked(H,j,()=>ni.positionWithinBounds(Fe,H,ee,ae())),$o.setValue(H,_.some({mode:"position",config:ee,getBounds:ae}))},p=(H,j,ee)=>{x(H,j,ee,_.none)},x=(H,j,ee,ae)=>{const Fe=a6(t,H,j,ee,ae);Ss.open(H,Fe),$o.setValue(H,_.some({mode:"menu",menu:Fe}))},k=H=>{Ss.isOpen(H)&&($o.setValue(H,_.none()),Ss.close(H))},T=H=>Ss.getState(H),z=H=>{Ss.isOpen(H)&&$o.getValue(H).each(j=>{switch(j.mode){case"menu":Ss.getState(H).each(Sh.repositionMenus);break;case"position":const ee=t.lazySink(H).getOrDie();ni.positionWithinBounds(ee,H,j.config,j.getBounds());break}})},M={setContent:i,showAt:d,showWithinBounds:g,showMenuAt:p,showMenuWithinBounds:x,hide:k,getContent:T,reposition:z,isOpen:Ss.isOpen};return{uid:t.uid,dom:t.dom,behaviours:_c(t.inlineBehaviours,[Ss.config({isPartOf:(H,j,ee)=>Qg(j,ee)||a(H,ee),getAttachPoint:H=>t.lazySink(H).getOrDie(),onOpen:H=>{t.onShow(H)},onClose:H=>{t.onHide(H)}}),$o.config({store:{mode:"memory",initialValue:_.none()}}),Zi.config({channels:{...sg({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(H=>({fireEventInstead:{event:H.event}})).getOr({})}),...Vx({...t.fireRepositionEventInstead.map(H=>({fireEventInstead:{event:H.event}})).getOr({}),doReposition:z})}})]),eventOrder:t.eventOrder,apis:M}},Ur=pl({name:"InlineView",configFields:[Ot("lazySink"),ks("onShow"),ks("onHide"),Du("onEscape"),kc("inlineBehaviours",[Ss,$o,Zi]),kr("fireDismissalEventInstead",[Ve("event",Em())]),kr("fireRepositionEventInstead",[Ve("event",y0())]),Ve("getRelated",_.none),Ve("isExtraPart",Oe),Ve("eventOrder",_.none)],factory:c6,apis:{showAt:(t,s,a,i)=>{t.showAt(s,a,i)},showWithinBounds:(t,s,a,i,d)=>{t.showWithinBounds(s,a,i,d)},showMenuAt:(t,s,a,i)=>{t.showMenuAt(s,a,i)},showMenuWithinBounds:(t,s,a,i,d)=>{t.showMenuWithinBounds(s,a,i,d)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,a)=>{t.setContent(s,a)},reposition:(t,s)=>{t.reposition(s)}}});var y1=tinymce.util.Tools.resolve("tinymce.util.Delay"),qb=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$R=tinymce.util.Tools.resolve("tinymce.EditorManager"),Gb=tinymce.util.Tools.resolve("tinymce.Env"),Sd;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Sd||(Sd={}));var Kb;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(Kb||(Kb={}));const xr=t=>s=>s.options.get(t),gw=t=>s=>_.from(t(s)),IR=t=>{const s=Gb.deviceType.isPhone(),a=Gb.deviceType.isTablet()||s,i=t.options.register,d=p=>Re(p)||p===!1,g=p=>Re(p)||nt(p);i("skin",{processor:p=>Re(p)||p===!1,default:"oxide"}),i("skin_url",{processor:"string"}),i("height",{processor:g,default:Math.max(t.getElement().offsetHeight,400)}),i("width",{processor:g,default:qb.DOM.getStyle(t.getElement(),"width")}),i("min_height",{processor:"number",default:100}),i("min_width",{processor:"number"}),i("max_height",{processor:"number"}),i("max_width",{processor:"number"}),i("style_formats",{processor:"object[]"}),i("style_formats_merge",{processor:"boolean",default:!1}),i("style_formats_autohide",{processor:"boolean",default:!1}),i("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),i("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),i("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),i("font_size_input_default_unit",{processor:"string",default:"pt"}),i("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),i("content_langs",{processor:"object[]"}),i("removed_menuitems",{processor:"string",default:""}),i("menubar",{processor:p=>Re(p)||Ft(p),default:!s}),i("menu",{processor:"object",default:{}}),i("toolbar",{processor:p=>Ft(p)||Re(p)||po(p)?{value:p,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),He(9,p=>{i("toolbar"+(p+1),{processor:"string"})}),i("toolbar_mode",{processor:"string",default:a?"scrolling":"floating"}),i("toolbar_groups",{processor:"object",default:{}}),i("toolbar_location",{processor:"string",default:Kb.auto}),i("toolbar_persist",{processor:"boolean",default:!1}),i("toolbar_sticky",{processor:"boolean",default:t.inline}),i("toolbar_sticky_offset",{processor:"number",default:0}),i("fixed_toolbar_container",{processor:"string",default:""}),i("fixed_toolbar_container_target",{processor:"object"}),i("ui_mode",{processor:"string",default:"combined"}),i("file_picker_callback",{processor:"function"}),i("file_picker_validator_handler",{processor:"function"}),i("file_picker_types",{processor:"string"}),i("typeahead_urls",{processor:"boolean",default:!0}),i("anchor_top",{processor:d,default:"#top"}),i("anchor_bottom",{processor:d,default:"#bottom"}),i("draggable_modal",{processor:"boolean",default:!1}),i("statusbar",{processor:"boolean",default:!0}),i("elementpath",{processor:"boolean",default:!0}),i("branding",{processor:"boolean",default:!0}),i("promotion",{processor:"boolean",default:!0}),i("resize",{processor:p=>p==="both"||Ft(p),default:!Gb.deviceType.isTouch()}),i("sidebar_show",{processor:"string"}),i("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),i("default_font_stack",{processor:"string[]",default:[]})},FR=xr("readonly"),pw=xr("height"),OA=xr("width"),Yb=gw(xr("min_width")),v1=gw(xr("min_height")),hw=gw(xr("max_width")),pC=gw(xr("max_height")),LR=gw(xr("style_formats")),HR=xr("style_formats_merge"),VR=xr("style_formats_autohide"),UR=xr("content_langs"),hC=xr("removed_menuitems"),Xb=xr("toolbar_mode"),DA=xr("toolbar_groups"),bw=xr("toolbar_location"),i6=xr("fixed_toolbar_container"),jR=xr("fixed_toolbar_container_target"),WR=xr("toolbar_persist"),ZR=xr("toolbar_sticky_offset"),qR=xr("menubar"),yw=xr("toolbar"),GR=xr("file_picker_callback"),KR=xr("file_picker_validator_handler"),bC=xr("font_size_input_default_unit"),RA=xr("file_picker_types"),NA=xr("typeahead_urls"),YR=xr("anchor_top"),yC=xr("anchor_bottom"),XR=xr("draggable_modal"),JR=xr("statusbar"),QR=xr("elementpath"),MA=xr("branding"),eN=xr("resize"),BA=xr("paste_as_text"),vC=xr("sidebar_show"),tN=xr("promotion"),vw=xr("help_accessibility"),oN=xr("default_font_stack"),PA=t=>t.options.get("skin")===!1,xC=t=>t.options.get("menubar")!==!1,$A=t=>{const s=t.options.get("skin_url");if(PA(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const a=t.options.get("skin");return $R.baseURL+"/skins/ui/"+a}},wC=t=>_.from(t.options.get("skin_url")),nN=t=>t.options.get("line_height_formats").split(" "),xw=t=>{const s=yw(t),a=Re(s),i=po(s)&&s.length>0;return!ww(t)&&(i||a||s===!0)},IA=t=>{const s=He(9,i=>t.options.get("toolbar"+(i+1))),a=st(s,Re);return Qo(a.length>0,a)},ww=t=>IA(t).fold(()=>{const s=yw(t);return Be(s,Re)&&s.length>0},Me),kw=t=>bw(t)===Kb.bottom,Eh=t=>{var s;if(!t.inline)return _.none();const a=(s=i6(t))!==null&&s!==void 0?s:"";if(a.length>0)return Vr(es(),a);const i=jR(t);return to(i)?_.some(Ae.fromDom(i)):_.none()},x1=t=>t.inline&&Eh(t).isSome(),FA=t=>Eh(t).getOrThunk(()=>gc(Xr(Ae.fromDom(t.getElement())))),_w=t=>t.inline&&!xC(t)&&!xw(t)&&!ww(t),Jb=t=>(t.options.get("toolbar_sticky")||t.inline)&&!x1(t)&&!_w(t),Th=t=>!x1(t)&&t.options.get("ui_mode")==="split",sN=t=>{const s=t.options.get("menu");return Mo(s,a=>({...a,items:a.items}))};var rN=Object.freeze({__proto__:null,get ToolbarMode(){return Sd},get ToolbarLocation(){return Kb},register:IR,getSkinUrl:$A,getSkinUrlOption:wC,isReadOnly:FR,isSkinDisabled:PA,getHeightOption:pw,getWidthOption:OA,getMinWidthOption:Yb,getMinHeightOption:v1,getMaxWidthOption:hw,getMaxHeightOption:pC,getUserStyleFormats:LR,shouldMergeStyleFormats:HR,shouldAutoHideStyleFormats:VR,getLineHeightFormats:nN,getContentLanguages:UR,getRemovedMenuItems:hC,isMenubarEnabled:xC,isMultipleToolbars:ww,isToolbarEnabled:xw,isToolbarPersist:WR,getMultipleToolbarsOption:IA,getUiContainer:FA,useFixedContainer:x1,isSplitUiMode:Th,getToolbarMode:Xb,isDraggableModal:XR,isDistractionFree:_w,isStickyToolbar:Jb,getStickyToolbarOffset:ZR,getToolbarLocation:bw,isToolbarLocationBottom:kw,getToolbarGroups:DA,getMenus:sN,getMenubar:qR,getToolbar:yw,getFilePickerCallback:GR,getFilePickerTypes:RA,useTypeaheadUrls:NA,getAnchorTop:YR,getAnchorBottom:yC,getFilePickerValidatorHandler:KR,getFontSizeInputDefaultUnit:bC,useStatusBar:JR,useElementPath:QR,promotionEnabled:tN,useBranding:MA,getResize:eN,getPasteAsText:BA,getSidebarShow:vC,useHelpAccessibility:vw,getDefaultFontStack:oN});const l6=["visible","hidden","clip"],LA=t=>ir(t).length>0&&!vt(l6,t),HA=t=>{if(Za(t)){const s=Ns(t,"overflow-x"),a=Ns(t,"overflow-y");return LA(s)||LA(a)}else return!1},VA=t=>t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen(),u6=(t,s)=>{const a=uh(s,HA),i=a.length===0?fe(s).map($e).map(d=>uh(d,HA)).getOr([]):a;return ho(i).map(d=>({element:d,others:i.slice(1),isFullscreen:()=>VA(t)}))},vp=(t,s)=>Th(t)?u6(t,s):_.none(),Qb=t=>{const s=[...ke(t.others,Lr),Ca()];return t.isFullscreen()?Ca():zg(Lr(t.element),s)},si=pl({name:"Button",factory:t=>{const s=dC(t.action),a=t.dom.tag,i=g=>Kt(t.dom,"attributes").bind(p=>Kt(p,g)),d=()=>{if(a==="button"){const g=i("type").getOr("button"),p=i("role").map(x=>({role:x})).getOr({});return{type:g,...p}}else return{role:t.role.getOr(i("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:du.augment(t.buttonBehaviours,[Bn.config({}),pn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},configFields:[Ve("uid",void 0),Ot("dom"),Ve("components",[]),du.field("buttonBehaviours",[Bn,pn]),Os("action"),Os("role"),Ve("eventOrder",{})]}),d6=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return Ue(s,(a,i)=>i.name==="class"?a:{...a,[i.name]:i.value},{})},UA=t=>Array.prototype.slice.call(t.dom.classList,0),tm=t=>{const s=Ae.fromHtml(t),a=mc(s),i=d6(s),d=UA(s),g=a.length===0?{}:{innerHtml:Pu(s)};return{tag:Rs(s),classes:d,attributes:i,...g}},Ls=t=>{const s=YT(t)&&hr(t,"uid")?t.uid:hb("memento");return{get:g=>g.getSystem().getByUid(s).getOrDie(),getOpt:g=>g.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var f6=Object.freeze({__proto__:null,exhibit:(t,s)=>sl({attributes:Is([{key:s.tabAttr,value:"true"}])})}),m6=[Ve("tabAttr","data-alloy-tabstop")];const zr=Rc({fields:m6,name:"tabstopping",active:f6}),cN=Vo("tooltip.exclusive"),Cw=Vo("tooltip.show"),Sw=Vo("tooltip.hide"),Ew=Vo("tooltip.immediateHide"),Tw=Vo("tooltip.immediateShow"),iN=(t,s,a)=>{t.getSystem().broadcastOn([cN],{})};var g6=Object.freeze({__proto__:null,hideAllExclusive:iN,immediateOpenClose:(t,s,a,i)=>ns(t,i?Tw:Ew),isEnabled:(t,s,a)=>a.isEnabled(),setComponents:(t,s,a,i)=>{a.getTooltip().each(d=>{d.getSystem().isConnected()&&Fn.set(d,i)})},setEnabled:(t,s,a,i)=>a.setEnabled(i)}),jA=Object.freeze({__proto__:null,events:(t,s)=>{const a=p=>{s.getTooltip().each(x=>{x.getSystem().isConnected()&&(Yf(x),t.onHide(p,x),s.clearTooltip())}),s.clearTimer()},i=p=>{if(!s.isShowing()&&s.isEnabled()){iN(p);const x=t.lazySink(p).getOrDie(),k=p.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Er(t.mode==="normal"?[Rt(nl(),T=>{ns(p,Cw)}),Rt($f(),T=>{ns(p,Sw)})]:[]),behaviours:ao([Fn.config({})])});s.setTooltip(k),Fu(x,k),t.onShow(p,k),ni.position(x,k,{anchor:t.anchor(p)})}},d=p=>{s.getTooltip().each(x=>{const k=t.lazySink(p).getOrDie();ni.position(k,x,{anchor:t.anchor(p)})})},g=()=>{switch(t.mode){case"normal":return[Rt(md(),p=>{ns(p,Tw)}),Rt(Sm(),p=>{ns(p,Ew)}),Rt(nl(),p=>{ns(p,Cw)}),Rt($f(),p=>{ns(p,Sw)})];case"follow-highlight":return[Rt(Tm(),(p,x)=>{ns(p,Cw)}),Rt(Hg(),p=>{ns(p,Sw)})];case"children-normal":return[Rt(md(),(p,x)=>{Ei(p.element).each(k=>{Yr(x.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{ns(p,Tw)},T=>{s.isShowing()&&(t.onShow(p,T),d(p))})})}),Rt(Sm(),p=>{Ei(p.element).fold(()=>{ns(p,Ew)},X)}),Rt(nl(),p=>{Vr(p.element,"[data-mce-tooltip]:hover").each(x=>{s.getTooltip().fold(()=>{ns(p,Cw)},k=>{s.isShowing()&&(t.onShow(p,k),d(p))})})}),Rt($f(),p=>{Vr(p.element,"[data-mce-tooltip]:hover").fold(()=>{ns(p,Sw)},X)})];default:return[Rt(md(),(p,x)=>{Ei(p.element).each(k=>{Yr(x.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{ns(p,Tw)},T=>{s.isShowing()&&(t.onShow(p,T),d(p))})})}),Rt(Sm(),p=>{Ei(p.element).fold(()=>{ns(p,Ew)},X)})]}};return Er(he([[S0(p=>{t.onSetup(p)}),Rt(Cw,p=>{s.resetTimer(()=>{i(p)},t.delayForShow())}),Rt(Sw,p=>{s.resetTimer(()=>{a(p)},t.delayForHide())}),Rt(Tw,p=>{s.resetTimer(()=>{i(p)},0)}),Rt(Ew,p=>{s.resetTimer(()=>{a(p)},0)}),Rt(su(),(p,x)=>{const k=x;k.universal||vt(k.channels,cN)&&a(p)}),tf(p=>{a(p)})],g()]))}}),p6=[Ot("lazySink"),Ot("tooltipDom"),Ve("exclusive",!0),Ve("tooltipComponents",[]),sa("delayForShow",U(300)),sa("delayForHide",U(300)),sa("onSetup",X),Ui("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),Ve("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:U([Qa,Ja,Xa,Qs,ba,jc]),onRtl:U([Qa,Ja,Xa,Qs,ba,jc])},bubble:Iu(0,-2,{})})),ks("onHide"),ks("onShow")],h6=Object.freeze({__proto__:null,init:()=>{const t=nn(!0),s=js(),a=js(),i=()=>{s.on(clearTimeout)},d=(p,x)=>{i(),s.set(setTimeout(p,x))},g=U("not-implemented");return rl({getTooltip:a.get,isShowing:a.isSet,setTooltip:a.set,clearTooltip:a.clear,clearTimer:i,resetTimer:d,readState:g,isEnabled:()=>t.get(),setEnabled:p=>t.set(p)})}});const va=Rc({fields:p6,name:"tooltipping",active:jA,state:h6,apis:g6}),{entries:lN,setPrototypeOf:uN,isFrozen:b6,getPrototypeOf:y6,getOwnPropertyDescriptor:v6}=Object;let{freeze:mu,seal:Ed,create:x6}=Object,{apply:WA,construct:ZA}=typeof Reflect<"u"&&Reflect;WA||(WA=function(s,a,i){return s.apply(a,i)}),mu||(mu=function(s){return s}),Ed||(Ed=function(s){return s}),ZA||(ZA=function(s,a){return new s(...a)});const w6=gf(Array.prototype.forEach),k6=gf(Array.prototype.pop),Aw=gf(Array.prototype.push),_C=gf(String.prototype.toLowerCase),qA=gf(String.prototype.toString),_6=gf(String.prototype.match),om=gf(String.prototype.replace),C6=gf(String.prototype.indexOf),S6=gf(String.prototype.trim),Td=gf(RegExp.prototype.test),Ah=GA(TypeError);function gf(t){return function(s){for(var a=arguments.length,i=new Array(a>1?a-1:0),d=1;d<a;d++)i[d-1]=arguments[d];return WA(t,s,i)}}function GA(t){return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return ZA(t,a)}}function fr(t,s,a){var i;a=(i=a)!==null&&i!==void 0?i:_C,uN&&uN(t,null);let d=s.length;for(;d--;){let g=s[d];if(typeof g=="string"){const p=a(g);p!==g&&(b6(s)||(s[d]=p),g=p)}t[g]=!0}return t}function w1(t){const s=x6(null);for(const[a,i]of lN(t))s[a]=i;return s}function CC(t,s){for(;t!==null;){const i=v6(t,s);if(i){if(i.get)return gf(i.get);if(typeof i.value=="function")return gf(i.value)}t=y6(t)}function a(i){return console.warn("fallback value for",i),null}return a}const KA=mu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),YA=mu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zw=mu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),XA=mu(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),SC=mu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),JA=mu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ow=mu(["#text"]),QA=mu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),pf=mu(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),EC=mu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),TC=mu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),E6=Ed(/\{\{[\w\W]*|[\w\W]*\}\}/gm),T6=Ed(/<%[\w\W]*|[\w\W]*%>/gm),A6=Ed(/\${[\w\W]*}/gm),Dw=Ed(/^data-[\-\w.\u00B7-\uFFFF]/),z6=Ed(/^aria-[\-\w]+$/),e4=Ed(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),t4=Ed(/^(?:\w+script|data):/i),O6=Ed(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),AC=Ed(/^html$/i);var zC=Object.freeze({__proto__:null,MUSTACHE_EXPR:E6,ERB_EXPR:T6,TMPLIT_EXPR:A6,DATA_ATTR:Dw,ARIA_ATTR:z6,IS_ALLOWED_URI:e4,IS_SCRIPT_OR_DATA:t4,ATTR_WHITESPACE:O6,DOCTYPE_NAME:AC});const D6=()=>typeof window>"u"?null:window,dN=function(s,a){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let i=null;const d="data-tt-policy-suffix";a&&a.hasAttribute(d)&&(i=a.getAttribute(d));const g="dompurify"+(i?"#"+i:"");try{return s.createPolicy(g,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+g+" could not be created."),null}};function o4(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D6();const s=_s=>o4(_s);if(s.version="3.0.5",s.removed=[],!t||!t.document||t.document.nodeType!==9)return s.isSupported=!1,s;const a=t.document,i=a.currentScript;let{document:d}=t;const{DocumentFragment:g,HTMLTemplateElement:p,Node:x,Element:k,NodeFilter:T,NamedNodeMap:z=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:M,DOMParser:H,trustedTypes:j}=t,ee=k.prototype,ae=CC(ee,"cloneNode"),Fe=CC(ee,"nextSibling"),pe=CC(ee,"childNodes"),De=CC(ee,"parentNode");if(typeof p=="function"){const _s=d.createElement("template");_s.content&&_s.content.ownerDocument&&(d=_s.content.ownerDocument)}let Ne,At="";const{implementation:ht,createNodeIterator:Co,createDocumentFragment:Io,getElementsByTagName:_t}=d,{importNode:Yo}=a;let wo={};s.isSupported=typeof lN=="function"&&typeof De=="function"&&ht&&ht.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:tn,ERB_EXPR:fs,TMPLIT_EXPR:Dr,DATA_ATTR:$s,ARIA_ATTR:Jo,IS_SCRIPT_OR_DATA:Yt,ATTR_WHITESPACE:Eo}=zC;let{IS_ALLOWED_URI:Pn}=zC,An=null;const mn=fr({},[...KA,...YA,...zw,...SC,...Ow]);let qn=null;const pr=fr({},[...QA,...pf,...EC,...TC]);let Hs=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ni=null,od=null,fm=!0,pi=!0,nd=!1,Ld=!0,Ul=!1,yg=!1,Ay=!1,uD=!1,f0=!1,wE=!1,XI=!1,$q=!0,Iq=!1;const iG="user-content-";let xZ=!0,dD=!1,kE={},_E=null;const Fq=fr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Lq=null;const Hq=fr({},["audio","video","img","source","image","track"]);let wZ=null;const Vq=fr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),JI="http://www.w3.org/1998/Math/MathML",QI="http://www.w3.org/2000/svg",zy="http://www.w3.org/1999/xhtml";let CE=zy,kZ=!1,_Z=null;const lG=fr({},[JI,QI,zy],qA);let e_;const uG=["application/xhtml+xml","text/html"],dG="text/html";let jl,SE=null;const fG=d.createElement("form"),Uq=function(gt){return gt instanceof RegExp||gt instanceof Function},CZ=function(gt){if(!(SE&&SE===gt)){if((!gt||typeof gt!="object")&&(gt={}),gt=w1(gt),e_=uG.indexOf(gt.PARSER_MEDIA_TYPE)===-1?e_=dG:e_=gt.PARSER_MEDIA_TYPE,jl=e_==="application/xhtml+xml"?qA:_C,An="ALLOWED_TAGS"in gt?fr({},gt.ALLOWED_TAGS,jl):mn,qn="ALLOWED_ATTR"in gt?fr({},gt.ALLOWED_ATTR,jl):pr,_Z="ALLOWED_NAMESPACES"in gt?fr({},gt.ALLOWED_NAMESPACES,qA):lG,wZ="ADD_URI_SAFE_ATTR"in gt?fr(w1(Vq),gt.ADD_URI_SAFE_ATTR,jl):Vq,Lq="ADD_DATA_URI_TAGS"in gt?fr(w1(Hq),gt.ADD_DATA_URI_TAGS,jl):Hq,_E="FORBID_CONTENTS"in gt?fr({},gt.FORBID_CONTENTS,jl):Fq,Ni="FORBID_TAGS"in gt?fr({},gt.FORBID_TAGS,jl):{},od="FORBID_ATTR"in gt?fr({},gt.FORBID_ATTR,jl):{},kE="USE_PROFILES"in gt?gt.USE_PROFILES:!1,fm=gt.ALLOW_ARIA_ATTR!==!1,pi=gt.ALLOW_DATA_ATTR!==!1,nd=gt.ALLOW_UNKNOWN_PROTOCOLS||!1,Ld=gt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ul=gt.SAFE_FOR_TEMPLATES||!1,yg=gt.WHOLE_DOCUMENT||!1,f0=gt.RETURN_DOM||!1,wE=gt.RETURN_DOM_FRAGMENT||!1,XI=gt.RETURN_TRUSTED_TYPE||!1,uD=gt.FORCE_BODY||!1,$q=gt.SANITIZE_DOM!==!1,Iq=gt.SANITIZE_NAMED_PROPS||!1,xZ=gt.KEEP_CONTENT!==!1,dD=gt.IN_PLACE||!1,Pn=gt.ALLOWED_URI_REGEXP||e4,CE=gt.NAMESPACE||zy,Hs=gt.CUSTOM_ELEMENT_HANDLING||{},gt.CUSTOM_ELEMENT_HANDLING&&Uq(gt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Hs.tagNameCheck=gt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),gt.CUSTOM_ELEMENT_HANDLING&&Uq(gt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Hs.attributeNameCheck=gt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),gt.CUSTOM_ELEMENT_HANDLING&&typeof gt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Hs.allowCustomizedBuiltInElements=gt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ul&&(pi=!1),wE&&(f0=!0),kE&&(An=fr({},[...Ow]),qn=[],kE.html===!0&&(fr(An,KA),fr(qn,QA)),kE.svg===!0&&(fr(An,YA),fr(qn,pf),fr(qn,TC)),kE.svgFilters===!0&&(fr(An,zw),fr(qn,pf),fr(qn,TC)),kE.mathMl===!0&&(fr(An,SC),fr(qn,EC),fr(qn,TC))),gt.ADD_TAGS&&(An===mn&&(An=w1(An)),fr(An,gt.ADD_TAGS,jl)),gt.ADD_ATTR&&(qn===pr&&(qn=w1(qn)),fr(qn,gt.ADD_ATTR,jl)),gt.ADD_URI_SAFE_ATTR&&fr(wZ,gt.ADD_URI_SAFE_ATTR,jl),gt.FORBID_CONTENTS&&(_E===Fq&&(_E=w1(_E)),fr(_E,gt.FORBID_CONTENTS,jl)),xZ&&(An["#text"]=!0),yg&&fr(An,["html","head","body"]),An.table&&(fr(An,["tbody"]),delete Ni.tbody),gt.TRUSTED_TYPES_POLICY){if(typeof gt.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ah('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof gt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ah('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ne=gt.TRUSTED_TYPES_POLICY,At=Ne.createHTML("")}else Ne===void 0&&(Ne=dN(j,i)),Ne!==null&&typeof At=="string"&&(At=Ne.createHTML(""));mu&&mu(gt),SE=gt}},jq=fr({},["mi","mo","mn","ms","mtext"]),Wq=fr({},["foreignobject","desc","title","annotation-xml"]),mG=fr({},["title","style","font","a","script"]),eF=fr({},YA);fr(eF,zw),fr(eF,XA);const SZ=fr({},SC);fr(SZ,JA);const gG=function(gt){let cn=De(gt);(!cn||!cn.tagName)&&(cn={namespaceURI:CE,tagName:"template"});const jn=_C(gt.tagName),nc=_C(cn.tagName);return _Z[gt.namespaceURI]?gt.namespaceURI===QI?cn.namespaceURI===zy?jn==="svg":cn.namespaceURI===JI?jn==="svg"&&(nc==="annotation-xml"||jq[nc]):!!eF[jn]:gt.namespaceURI===JI?cn.namespaceURI===zy?jn==="math":cn.namespaceURI===QI?jn==="math"&&Wq[nc]:!!SZ[jn]:gt.namespaceURI===zy?cn.namespaceURI===QI&&!Wq[nc]||cn.namespaceURI===JI&&!jq[nc]?!1:!SZ[jn]&&(mG[jn]||!eF[jn]):!!(e_==="application/xhtml+xml"&&_Z[gt.namespaceURI]):!1},t_=function(gt){Aw(s.removed,{element:gt});try{gt.parentNode.removeChild(gt)}catch{gt.remove()}},fD=function(gt,cn){try{Aw(s.removed,{attribute:cn.getAttributeNode(gt),from:cn})}catch{Aw(s.removed,{attribute:null,from:cn})}if(cn.removeAttribute(gt),gt==="is"&&!qn[gt])if(f0||wE)try{t_(cn)}catch{}else try{cn.setAttribute(gt,"")}catch{}},Zq=function(gt){let cn,jn;if(uD)gt="<remove></remove>"+gt;else{const vg=_6(gt,/^[\r\n\t ]+/);jn=vg&&vg[0]}e_==="application/xhtml+xml"&&CE===zy&&(gt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+gt+"</body></html>");const nc=Ne?Ne.createHTML(gt):gt;if(CE===zy)try{cn=new H().parseFromString(nc,e_)}catch{}if(!cn||!cn.documentElement){cn=ht.createDocument(CE,"template",null);try{cn.documentElement.innerHTML=kZ?At:nc}catch{}}const Wl=cn.body||cn.documentElement;return gt&&jn&&Wl.insertBefore(d.createTextNode(jn),Wl.childNodes[0]||null),CE===zy?_t.call(cn,yg?"html":"body")[0]:yg?cn.documentElement:Wl},qq=function(gt){return Co.call(gt.ownerDocument||gt,gt,T.SHOW_ELEMENT|T.SHOW_COMMENT|T.SHOW_TEXT,null,!1)},pG=function(gt){return gt instanceof M&&(typeof gt.nodeName!="string"||typeof gt.textContent!="string"||typeof gt.removeChild!="function"||!(gt.attributes instanceof z)||typeof gt.removeAttribute!="function"||typeof gt.setAttribute!="function"||typeof gt.namespaceURI!="string"||typeof gt.insertBefore!="function"||typeof gt.hasChildNodes!="function")},tF=function(gt){return typeof x=="object"?gt instanceof x:gt&&typeof gt=="object"&&typeof gt.nodeType=="number"&&typeof gt.nodeName=="string"},Oy=function(gt,cn,jn){wo[gt]&&w6(wo[gt],nc=>{nc.call(s,cn,jn,SE)})},Gq=function(gt){let cn;if(Oy("beforeSanitizeElements",gt,null),pG(gt))return t_(gt),!0;const jn=jl(gt.nodeName);if(Oy("uponSanitizeElement",gt,{tagName:jn,allowedTags:An}),gt.hasChildNodes()&&!tF(gt.firstElementChild)&&(!tF(gt.content)||!tF(gt.content.firstElementChild))&&Td(/<[/\w]/g,gt.innerHTML)&&Td(/<[/\w]/g,gt.textContent))return t_(gt),!0;if(!An[jn]||Ni[jn]){if(!Ni[jn]&&Yq(jn)&&(Hs.tagNameCheck instanceof RegExp&&Td(Hs.tagNameCheck,jn)||Hs.tagNameCheck instanceof Function&&Hs.tagNameCheck(jn)))return!1;if(xZ&&!_E[jn]){const nc=De(gt)||gt.parentNode,Wl=pe(gt)||gt.childNodes;if(Wl&&nc){const vg=Wl.length;for(let ai=vg-1;ai>=0;--ai)nc.insertBefore(ae(Wl[ai],!0),Fe(gt))}}return t_(gt),!0}return gt instanceof k&&!gG(gt)||(jn==="noscript"||jn==="noembed"||jn==="noframes")&&Td(/<\/no(script|embed|frames)/i,gt.innerHTML)?(t_(gt),!0):(Ul&&gt.nodeType===3&&(cn=gt.textContent,cn=om(cn,tn," "),cn=om(cn,fs," "),cn=om(cn,Dr," "),gt.textContent!==cn&&(Aw(s.removed,{element:gt.cloneNode()}),gt.textContent=cn)),Oy("afterSanitizeElements",gt,null),!1)},Kq=function(gt,cn,jn){if($q&&(cn==="id"||cn==="name")&&(jn in d||jn in fG))return!1;if(!(pi&&!od[cn]&&Td($s,cn))){if(!(fm&&Td(Jo,cn))){if(!qn[cn]||od[cn]){if(!(Yq(gt)&&(Hs.tagNameCheck instanceof RegExp&&Td(Hs.tagNameCheck,gt)||Hs.tagNameCheck instanceof Function&&Hs.tagNameCheck(gt))&&(Hs.attributeNameCheck instanceof RegExp&&Td(Hs.attributeNameCheck,cn)||Hs.attributeNameCheck instanceof Function&&Hs.attributeNameCheck(cn))||cn==="is"&&Hs.allowCustomizedBuiltInElements&&(Hs.tagNameCheck instanceof RegExp&&Td(Hs.tagNameCheck,jn)||Hs.tagNameCheck instanceof Function&&Hs.tagNameCheck(jn))))return!1}else if(!wZ[cn]){if(!Td(Pn,om(jn,Eo,""))){if(!((cn==="src"||cn==="xlink:href"||cn==="href")&&gt!=="script"&&C6(jn,"data:")===0&&Lq[gt])){if(!(nd&&!Td(Yt,om(jn,Eo,"")))){if(jn)return!1}}}}}}return!0},Yq=function(gt){return gt.indexOf("-")>0},Xq=function(gt){let cn,jn,nc,Wl;Oy("beforeSanitizeAttributes",gt,null);const{attributes:vg}=gt;if(!vg)return;const ai={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:qn};for(Wl=vg.length;Wl--;){cn=vg[Wl];const{name:xg,namespaceURI:EZ}=cn;jn=xg==="value"?cn.value:S6(cn.value);const bG=jn;if(nc=jl(xg),ai.attrName=nc,ai.attrValue=jn,ai.keepAttr=!0,ai.forceKeepAttr=void 0,Oy("uponSanitizeAttribute",gt,ai),jn=ai.attrValue,ai.forceKeepAttr)continue;if(!ai.keepAttr){fD(xg,gt);continue}if(!Ld&&Td(/\/>/i,jn)){fD(xg,gt);continue}Ul&&(jn=om(jn,tn," "),jn=om(jn,fs," "),jn=om(jn,Dr," "));const Jq=jl(gt.nodeName);if(!Kq(Jq,nc,jn)){fD(xg,gt);continue}if(Iq&&(nc==="id"||nc==="name")&&(fD(xg,gt),jn=iG+jn),Ne&&typeof j=="object"&&typeof j.getAttributeType=="function"&&!EZ)switch(j.getAttributeType(Jq,nc)){case"TrustedHTML":{jn=Ne.createHTML(jn);break}case"TrustedScriptURL":{jn=Ne.createScriptURL(jn);break}}if(jn!==bG)try{EZ?gt.setAttributeNS(EZ,xg,jn):gt.setAttribute(xg,jn)}catch{fD(xg,gt)}}Oy("afterSanitizeAttributes",gt,null)},hG=function _s(gt){let cn;const jn=qq(gt);for(Oy("beforeSanitizeShadowDOM",gt,null);cn=jn.nextNode();)Oy("uponSanitizeShadowNode",cn,null),!Gq(cn)&&(cn.content instanceof g&&_s(cn.content),Xq(cn));Oy("afterSanitizeShadowDOM",gt,null)};return s.sanitize=function(_s){let gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},cn,jn,nc,Wl;if(kZ=!_s,kZ&&(_s="<!-->"),typeof _s!="string"&&!tF(_s))if(typeof _s.toString=="function"){if(_s=_s.toString(),typeof _s!="string")throw Ah("dirty is not a string, aborting")}else throw Ah("toString is not a function");if(!s.isSupported)return _s;if(Ay||CZ(gt),s.removed=[],typeof _s=="string"&&(dD=!1),dD){if(_s.nodeName){const xg=jl(_s.nodeName);if(!An[xg]||Ni[xg])throw Ah("root node is forbidden and cannot be sanitized in-place")}}else if(_s instanceof x)cn=Zq("<!---->"),jn=cn.ownerDocument.importNode(_s,!0),jn.nodeType===1&&jn.nodeName==="BODY"||jn.nodeName==="HTML"?cn=jn:cn.appendChild(jn);else{if(!f0&&!Ul&&!yg&&_s.indexOf("<")===-1)return Ne&&XI?Ne.createHTML(_s):_s;if(cn=Zq(_s),!cn)return f0?null:XI?At:""}cn&&uD&&t_(cn.firstChild);const vg=qq(dD?_s:cn);for(;nc=vg.nextNode();)Gq(nc)||(nc.content instanceof g&&hG(nc.content),Xq(nc));if(dD)return _s;if(f0){if(wE)for(Wl=Io.call(cn.ownerDocument);cn.firstChild;)Wl.appendChild(cn.firstChild);else Wl=cn;return(qn.shadowroot||qn.shadowrootmode)&&(Wl=Yo.call(a,Wl,!0)),Wl}let ai=yg?cn.outerHTML:cn.innerHTML;return yg&&An["!doctype"]&&cn.ownerDocument&&cn.ownerDocument.doctype&&cn.ownerDocument.doctype.name&&Td(AC,cn.ownerDocument.doctype.name)&&(ai="<!DOCTYPE "+cn.ownerDocument.doctype.name+`>
`+ai),Ul&&(ai=om(ai,tn," "),ai=om(ai,fs," "),ai=om(ai,Dr," ")),Ne&&XI?Ne.createHTML(ai):ai},s.setConfig=function(_s){CZ(_s),Ay=!0},s.clearConfig=function(){SE=null,Ay=!1},s.isValidAttribute=function(_s,gt,cn){SE||CZ({});const jn=jl(_s),nc=jl(gt);return Kq(jn,nc,cn)},s.addHook=function(_s,gt){typeof gt=="function"&&(wo[_s]=wo[_s]||[],Aw(wo[_s],gt))},s.removeHook=function(_s){if(wo[_s])return k6(wo[_s])},s.removeHooks=function(_s){wo[_s]&&(wo[_s]=[])},s.removeAllHooks=function(){wo={}},s}var R6=o4();const n4=t=>R6().sanitize(t);var ju=tinymce.util.Tools.resolve("tinymce.util.I18n");const N6={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},fN="temporary-placeholder",s4=t=>()=>Kt(t,fN).getOr("!not found!"),r4=(t,s)=>{const a=t.toLowerCase();if(ju.isRtl()){const i=Ro(a,"-rtl");return Gn(s,i)?i:a}else return a},mN=(t,s)=>Kt(s,r4(t,s)),a4=(t,s)=>{const a=s();return mN(t,a).getOrThunk(s4(a))},gN=(t,s,a)=>{const i=s();return mN(t,i).or(a).getOrThunk(s4(i))},M6=t=>ju.isRtl()?Gn(N6,t):!1,OC=()=>Jn("add-focusable",[Mr(t=>{cx(t.element,"svg").each(s=>Oo(s,"focusable","false"))})]),k1=(t,s,a,i)=>{var d,g;const p=M6(s)?["tox-icon--flip"]:[],x=Kt(a,r4(s,a)).or(i).getOrThunk(s4(a));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(p),innerHtml:x},behaviours:ao([...(g=t.behaviours)!==null&&g!==void 0?g:[],OC()])}},Wu=(t,s,a,i=_.none())=>k1(s,t,a(),i),B6=(t,s,a)=>{const i=a(),d=K(t,g=>Gn(i,r4(g,i)));return k1(s,d.getOr(fN),i,_.none())},P6={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},c4=pl({name:"Notification",factory:t=>{const s=Vo("notification-text"),a=Ls({dom:tm(`<p id=${s}>${n4(t.backstageProvider.translate(t.text))}</p>`),behaviours:ao([Fn.config({})])}),i=ee=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${ee}%`}}}),d=ee=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${ee}%`}}),g=Ls({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},d(0)],behaviours:ao([Fn.config({})])}),k={updateProgress:(ee,ae)=>{ee.getSystem().isConnected()&&g.getOpt(ee).each(Fe=>{Fn.set(Fe,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(ae)]},d(ae)])})},updateText:(ee,ae)=>{if(ee.getSystem().isConnected()){const Fe=a.get(ee);Fn.set(Fe,[aa(ae)])}}},T=he([t.icon.toArray(),t.level.toArray(),t.level.bind(ee=>_.from(P6[ee])).toArray()]),z=Ls(si.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":t.backstageProvider.translate("Close")}},components:[Wu("close",{tag:"span",classes:["tox-icon"]},t.iconProvider)],buttonBehaviours:ao([zr.config({}),va.config({...t.backstageProvider.tooltips.getConfig({tooltipText:t.backstageProvider.translate("Close")})})]),action:ee=>{t.onAction(ee)}})),M=B6(T,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),H={dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:ao([Fn.config({})])},j=[M,H];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:t.level.map(ee=>["tox-notification","tox-notification--in",`tox-notification--${ee}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:ao([zr.config({}),Bn.config({}),pn.config({mode:"special",onEscape:ee=>(t.onAction(ee),_.some(!0))})]),components:j.concat(t.progress?[g.asSpec()]:[]).concat([z.asSpec()]),apis:k}},configFields:[Os("level"),Ot("progress"),Os("icon"),Ot("onAction"),Ot("text"),Ot("iconProvider"),Ot("backstageProvider")],apis:{updateProgress:(t,s,a)=>{t.updateProgress(s,a)},updateText:(t,s,a)=>{t.updateText(s,a)}}});var I6=(t,s,a,i)=>{const d=s.backstage.shared,g=()=>Ae.fromDom(t.queryCommandValue("ToggleView")===""?t.getContentAreaContainer():t.getContainer()),p=()=>{const M=Lr(g());return _.some(M)},x=M=>{p().each(H=>{Xe(M,j=>{Zn(j.element,"width"),G(j.element)>H.width&&Dt(j.element,"width",H.width+"px")})})};return{open:(M,H,j)=>{const ee=()=>{const De=Co=>{Fn.remove(Co,ae),Fe()},Ne=(Co,Io)=>{mc(Co.element).length===0?At(Co,Io):ht(Co,Io)},At=(Co,Io)=>{Ur.hide(Co),i.clear(),Io&&t.focus()},ht=(Co,Io)=>{Io&&pn.focusIn(Co)};i.on(Co=>{H();const Io=j();De(Co),Ne(Co,Io)})},ae=oi(c4.sketch({text:M.text,level:vt(["success","error","warning","warn","info"],M.type)?M.type:void 0,progress:M.progressBar===!0,icon:M.icon,onAction:ee,iconProvider:d.providers.icons,backstageProvider:d.providers}));if(i.isSet()){const De=Al(ae);i.on(Ne=>{Fn.append(Ne,De),Ur.reposition(Ne),Ar.refresh(Ne),x(Ne.components())})}else{const De=oi(Ur.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:d.getSink,fireDismissalEventInstead:{},...d.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ao([pn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Fn.config({}),...Jb(t)&&!d.header.isPositionedAtTop()?[]:[Ar.config({contextual:{lazyContext:()=>_.some(Lr(g())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Co=>vp(t,Co.element).map(_t=>({bounds:Qb(_t),optScrollEnv:_.some({currentScrollTop:_t.element.dom.scrollTop,scrollElmTop:Oa(_t.element).top})})).getOrThunk(()=>({bounds:Ca(),optScrollEnv:_.none()}))})]])})),Ne=Al(ae),At={maxHeightFunction:sh()},ht={...d.anchors.banner(),overrides:At};i.set(De),a.add(De),Ur.showWithinBounds(De,Ne,{anchor:ht},p)}nt(M.timeout)&&M.timeout>0&&y1.setEditorTimeout(t,()=>{ee()},M.timeout);const Fe=()=>{i.on(De=>{Ur.reposition(De),Ar.refresh(De),x(De.components())})};return{close:ee,reposition:Fe,text:De=>{c4.updateText(ae,De)},settings:M,getEl:()=>ae.element.dom,progressBar:{value:De=>{c4.updateProgress(ae,De)}}}},close:M=>{M.close()},getArgs:M=>M.settings}};const pN={setup:(t,s)=>{const a=(d,g)=>{bn(d,Mu(),{raw:g})},i=()=>t.getMenu().bind(rn.getHighlighted);s.on("keydown",d=>{const g=d.which;t.isActive()&&(t.isMenuOpen()?g===13?(i().each(Am),d.preventDefault()):g===40?(i().fold(()=>{t.getMenu().each(rn.highlightFirst)},p=>{a(p,d)}),d.preventDefault(),d.stopImmediatePropagation()):(g===37||g===38||g===39)&&i().each(p=>{a(p,d),d.preventDefault(),d.stopImmediatePropagation()}):(g===13||g===38||g===40)&&t.cancelIfNecessary())}),s.on("NodeChange",()=>{t.isActive()&&!t.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&t.cancelIfNecessary()})}};var DC;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(DC||(DC={}));var hf=DC;const i4="tox-menu-nav__js",RC="tox-collection__item",NC="tox-swatch",l4={normal:i4,color:NC},MC="tox-collection__item--enabled",hN="tox-collection__group-heading",u4="tox-collection__item-icon",BC="tox-collection__item-label",L6="tox-collection__item-accessory",PC="tox-collection__item-caret",H6="tox-collection__item-checkmark",zh="tox-collection__item--active",d4="tox-collection__item-container",ey="tox-collection__item-container--column",bN="tox-collection__item-container--row",f4="tox-collection__item-container--align-right",$C="tox-collection__item-container--align-left",V6="tox-collection__item-container--valign-top",yN="tox-collection__item-container--valign-middle",vN="tox-collection__item-container--valign-bottom",m4=t=>Kt(l4,t).getOr(i4),g4=t=>t==="color"?"tox-swatches":"tox-menu",IC=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:g4(t),tieredMenu:"tox-tiered-menu"}),ty=t=>{const s=IC(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:m4(t)}},xN=(t,s,a)=>{const i=IC(a);return{tag:"div",classes:he([[i.menu,`tox-menu-${s}-column`],t?[i.hasIcons]:[]])}},wN=[Cd.parts.items({})],Rw=(t,s,a)=>{const i=IC(a);return{dom:{tag:"div",classes:he([[i.tieredMenu]])},markers:ty(a)}},p4=U([Os("data"),Ve("inputAttributes",{}),Ve("inputStyles",{}),Ve("tag","input"),Ve("inputClasses",[]),ks("onSetValue"),Ve("styles",{}),Ve("eventOrder",{}),kc("inputBehaviours",[$o,Bn]),Ve("selectOnFocus",!0)]),kN=t=>ao([Bn.config({onFocus:t.selectOnFocus?s=>{const a=s.element,i=Wf(a);a.dom.setSelectionRange(0,i.length)}:X})]),_N=t=>({...kN(t),..._c(t.inputBehaviours,[$o.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>Wf(s.element),setValue:(s,a)=>{Wf(s.element)!==a&&Um(s.element,a)}},onSetValue:t.onSetValue})])}),CN=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),U6=(t,s)=>({uid:t.uid,dom:CN(t),components:[],behaviours:_N(t),eventOrder:t.eventOrder}),oy=pl({name:"Input",configFields:p4(),factory:U6}),SN=Vo("refetch-trigger-event"),h4=Vo("redirect-menu-item-interaction"),_1="tox-menu__searcher",Nw=t=>Vr(t.element,`.${_1}`).bind(s=>t.getSystem().getByDom(s).toOptional()),EN=Nw,j6=(t,s)=>{$o.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},TN=t=>{const s=$o.getValue(t),a=t.element.dom.selectionStart,i=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:a,selectionEnd:i}},W6=(t,s)=>{oa(s.element,"id").each(a=>Oo(t.element,"aria-activedescendant",a))},Z6=t=>{const s=(d,g)=>(g.cut(),_.none()),a=(d,g)=>{const p={interactionEvent:g.event,eventType:g.event.raw.type};return bn(d,h4,p),_.some(!0)},i="searcher-events";return{dom:{tag:"div",classes:[RC]},components:[oy.sketch({inputClasses:[_1,"tox-textfield"],inputAttributes:{...t.placeholder.map(d=>({placeholder:t.i18n(d)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:ao([Jn(i,[Rt(Qd(),d=>{ns(d,SN)}),Rt(Mu(),(d,g)=>{g.event.raw.key==="Escape"&&g.stop()})]),pn.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:a,onEscape:a,onUp:a,onDown:a})]),eventOrder:{keydown:[i,pn.name()]}})]}},ny="tox-collection--results__js",AN=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:Vo("aria-item-search-result-id"),"aria-selected":"false"}}}:t},FC=(t,s)=>a=>{const i=Zt(a,s);return ke(i,d=>({dom:t,components:d}))},q6=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Cd.parts.items({preprocess:t!=="auto"?FC({tag:"div",classes:["tox-swatches__row"]},t):zt})]}]}),zN=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Cd.parts.items({preprocess:FC({tag:"div",classes:["tox-collection__group"]},t)})]}),b4=(t,s)=>{const a=[];let i=[];return Xe(t,(d,g)=>{s(d,g)?(i.length>0&&a.push(i),i=[],(Gn(d.dom,"innerHtml")||d.components&&d.components.length>0)&&i.push(d)):i.push(d)}),i.length>0&&a.push(i),ke(a,d=>({dom:{tag:"div",classes:["tox-collection__group"]},components:d}))},y4=(t,s,a)=>Cd.parts.items({preprocess:i=>{const d=ke(i,a);return t!=="auto"&&t>1?FC({tag:"div",classes:["tox-collection__group"]},t)(d):b4(d,(g,p)=>s[p].type==="separator")}}),v4=(t,s,a=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[y4(t,s,zt)]}),ON=(t,s,a=!0)=>{const i=Vo("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",ny].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:i}},components:[y4(t,s,AN)]}},DN=(t,s,a)=>{const i=Vo("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Z6({i18n:ju.translate,placeholder:a.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],ny],attributes:{id:i}},components:[y4(t,s,AN)]}]}},RN=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Cd.parts.items({preprocess:a=>b4(a,(i,d)=>t[d].type==="separator")})]}),LC=t=>yo(t,s=>"icon"in s&&s.icon!==void 0),xp=t=>(console.error(tu(t)),console.log(t),_.none()),G6=(t,s,a,i,d)=>{const g=RN(a);return{value:t,dom:g.dom,components:g.components,items:a}},x4=(t,s,a,i,d)=>{const g=()=>d.menuType!=="searchable"?v4(i,a):d.searchMode.searchMode==="search-with-field"?DN(i,a,d.searchMode):ON(i,a);if(d.menuType==="color"){const p=q6(i);return{value:t,dom:p.dom,components:p.components,items:a}}else if(d.menuType==="normal"&&i==="auto"){const p=v4(i,a);return{value:t,dom:p.dom,components:p.components,items:a}}else if(d.menuType==="normal"||d.menuType==="searchable"){const p=g();return{value:t,dom:p.dom,components:p.components,items:a}}else if(d.menuType==="listpreview"&&i!=="auto"){const p=zN(i);return{value:t,dom:p.dom,components:p.components,items:a}}else return{value:t,dom:xN(s,i,d.menuType),components:wN,items:a}},Ma=Na("type"),HC=Na("name"),w4=Na("label"),wp=Na("text"),NN=Na("title"),MN=Na("icon"),Mw=Na("value"),K6=Li("fetch"),Y6=Li("getSubmenuItems"),Oh=Li("onAction"),BN=Li("onItemAction"),sy=sa("onSetup",()=>X),X6=Ha("name"),kp=Ha("text"),J6=Ha("role"),Ad=Ha("icon"),C1=Ha("tooltip"),VC=Ha("label"),UC=Ha("shortcut"),Q6=Du("select"),jC=pa("active",!1),eL=pa("borderless",!1),zd=pa("enabled",!0),S1=pa("primary",!1),PN=t=>Ve("columns",t),k4=Ve("meta",{}),_4=sa("onAction",X),ry=t=>Vc("type",t),C4=t=>La("name","name",ss(()=>Vo(`${t}-name`)),Do),tL=t=>La("value","value",ss(()=>Vo(`${t}-value`)),Cl()),S4=En([Ma,kp]),$N=t=>qr("separatormenuitem",S4,t),oL=En([ry("autocompleteitem"),jC,zd,k4,Mw,kp,Ad]),nL=t=>qr("Autocompleter.Separator",S4,t),sL=t=>qr("Autocompleter.Item",oL,t),zi=[zd,C1,Ad,kp,sy],nm=En([Ma,Oh,UC].concat(zi)),IN=t=>qr("toolbarbutton",nm,t),Bw=[jC].concat(zi),E4=En(Bw.concat([Ma,Oh,UC])),FN=t=>qr("ToggleButton",E4,t),LN=[sa("predicate",Oe),Ui("scope","node",["node","editor"]),Ui("position","selection",["node","selection","line"])],Pw=zi.concat([ry("contextformbutton"),S1,Oh,Ms("original",zt)]),WC=Bw.concat([ry("contextformbutton"),S1,Oh,Ms("original",zt)]),T4=zi.concat([ry("contextformbutton")]),rL=Bw.concat([ry("contextformtogglebutton")]),sm=Ka("type",{contextformbutton:Pw,contextformtogglebutton:WC}),aL=En([ry("contextform"),sa("initValue",U("")),VC,Hi("commands",sm),Ou("launch",Ka("type",{contextformbutton:T4,contextformtogglebutton:rL}))].concat(LN)),cL=t=>qr("ContextForm",aL,t),Od=En([ry("contexttoolbar"),Na("items")].concat(LN)),$w=t=>qr("ContextToolbar",Od,t),bf=[Ma,Na("src"),Ha("alt"),w("classes",[],Do)],iL=En(bf),mr=[Ma,wp,X6,w("classes",["tox-collection__item-label"],Do)],E1=En(mr),Iw=Ra(()=>Xd("type",{cardimage:iL,cardtext:E1,cardcontainer:HN})),HN=En([Ma,Vc("direction","horizontal"),Vc("align","left"),Vc("valign","middle"),Hi("items",Iw)]),Dh=[zd,kp,J6,UC,tL("menuitem"),k4],A4=En([Ma,VC,Hi("items",Iw),sy,_4].concat(Dh)),lL=t=>qr("cardmenuitem",A4,t),z4=En([Ma,jC,Ad].concat(Dh)),uL=t=>qr("choicemenuitem",z4,t),O4=[Ma,Na("fancytype"),_4],VN=[Ve("initData",{})].concat(O4),D4=[Du("select"),A("initData",{},[pa("allowCustomColors",!0),Vc("storageKey","default"),Ru("colors",Cl())])].concat(O4),UN=Ka("fancytype",{inserttable:VN,colorswatch:D4}),ZC=t=>qr("fancymenuitem",UN,t),dL=En([Ma,sy,_4,Ad].concat(Dh)),fL=t=>qr("menuitem",dL,t),mL=En([Ma,Y6,sy,Ad].concat(Dh)),gL=t=>qr("nestedmenuitem",mL,t),pL=En([Ma,Ad,jC,sy,Oh].concat(Dh)),jN=t=>qr("togglemenuitem",pL,t),R4=(t,s,a)=>{const i=Mc(t.element,"."+a);if(i.length>0){const d=te(i,g=>{const p=g.dom.getBoundingClientRect().top,x=i[0].dom.getBoundingClientRect().top;return Math.abs(p-x)>s}).getOr(i.length);return _.some({numColumns:d,numRows:Math.ceil(i.length/d)})}else return _.none()},WN=(t,s)=>ao([Jn(t,s)]),T1={namedEvents:WN,unnamedEvents:t=>WN(Vo("unnamed-events"),t)},bL=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),ZN="silver.readonly",qN=En([By("readonly")]),A1=(t,s)=>{const i=t.mainUi.outerContainer.element,d=[t.mainUi.mothership,...t.uiMotherships];s&&Xe(d,g=>{g.broadcastOn([lf()],{target:i})}),Xe(d,g=>{g.broadcastOn([ZN],{readonly:s})})},N4=(t,s)=>{t.on("init",()=>{t.mode.isReadOnly()&&A1(s,!0)}),t.on("SwitchMode",()=>A1(s,t.mode.isReadOnly())),FR(t)&&t.mode.set("readonly")},Sc=()=>Zi.config({channels:{[ZN]:{schema:qN,onReceive:(t,s)=>{l.set(t,s.readonly)}}}}),yf={item:t=>l.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>l.config({disabled:t}),splitButton:t=>l.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>l.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Fw=(t,s)=>{const a=t.getApi(s);return i=>{i(a)}},Oi=(t,s)=>Mr(a=>{Fw(t,a)(d=>{const g=t.onSetup(d);Qe(g)&&s.set(g)})}),Rh=(t,s)=>tf(a=>Fw(t,a)(s.get())),M4=(t,s)=>Bu((a,i)=>{Fw(t,a)(t.onAction),!t.triggersSubmenu&&s===hf.CLOSE_ON_EXECUTE&&(a.getSystem().isConnected()&&ns(a,ob()),i.stop())}),GN={[ru()]:["disabling","alloy.base.behaviour","toggling","item-events"]},ay=$r,z1=(t,s,a,i)=>{const d=nn(X);return{type:"item",dom:s.dom,components:ay(s.optComponents),data:t.data,eventOrder:GN,hasSubmenu:t.triggersSubmenu,itemBehaviours:ao([Jn("item-events",[M4(t,a),Oi(t,d),Rh(t,d)]),yf.item(()=>!t.enabled||i.isDisabled()),Sc(),Fn.config({})].concat(t.itemBehaviours))}},cy=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),qC=t=>{const s=Gb.os.isMacOS()||Gb.os.isiOS(),d=s?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},g=t.split("+"),p=ke(g,x=>{const k=x.toLowerCase().trim();return Gn(d,k)?d[k]:x});return s?p.join(""):p.join("+")},GC=(t,s,a=[u4])=>Wu(t,{tag:"div",classes:a},s),KN=t=>({dom:{tag:"div",classes:[BC]},components:[aa(ju.translate(t))]}),YN=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),yL=(t,s)=>({dom:{tag:"div",classes:[BC]},components:[{dom:{tag:t.tag,styles:t.styles},components:[aa(ju.translate(s))]}]}),vL=t=>({dom:{tag:"div",classes:[L6]},components:[aa(qC(t))]}),XN=t=>GC("checkmark",t,[H6]),JN=t=>GC("chevron-right",t,[PC]),QN=t=>GC("chevron-down",t,[PC]),eM=(t,s)=>{const a=t.direction==="vertical"?ey:bN,i=t.align==="left"?$C:f4;return{dom:{tag:"div",classes:[d4,a,i,(()=>{switch(t.valign){case"top":return V6;case"middle":return yN;case"bottom":return vN}})()]},components:s}},xL=(t,s,a)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:a.getOr("")}}}),wL=(t,s,a)=>{const i="custom",d="remove",g=t.value,p=t.iconContent.map(T=>gN(T,s.icons,a)),x=t.ariaLabel.map(T=>({"aria-label":s.translate(T),"data-mce-name":T})).getOr({});return{dom:(()=>{const T=NC,z=p.getOr(""),M={tag:"div",attributes:x,classes:[T]};return g===i?{...M,tag:"button",classes:[...M.classes,"tox-swatches__picker-btn"],innerHtml:z}:g===d?{...M,classes:[...M.classes,"tox-swatch--remove"],innerHtml:z}:to(g)?{...M,attributes:{...M.attributes,"data-mce-color":g},styles:{"background-color":g},innerHtml:z}:M})(),optComponents:[]}},tM=t=>{const s=t.map(a=>({attributes:{id:Vo("menu-item"),"aria-label":ju.translate(a)}})).getOr({});return{tag:"div",classes:[i4,RC],...s}},O1=(t,s,a,i)=>{const d={tag:"div",classes:[u4]},g=H=>Wu(H,d,s.icons,i),p=()=>_.some({dom:d}),x=a?t.iconContent.map(g).orThunk(p):_.none(),k=t.checkMark,T=_.from(t.meta).fold(()=>KN,H=>Gn(H,"style")?co(yL,H.style):KN),z=t.htmlContent.fold(()=>t.textContent.map(T),H=>_.some(YN(H,[BC])));return{dom:tM(t.ariaLabel),optComponents:[x,z,t.shortcutContent.map(vL),k,t.caret]}},Lw=(t,s,a,i=_.none())=>t.presets==="color"?wL(t,s,i):O1(t,s,a,i),B4=(t,s,a)=>Kt(t,"tooltipWorker").map(i=>[va.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:d=>({type:"submenu",item:d,overrides:{maxHeightFunction:sh}}),mode:"follow-highlight",onShow:(d,g)=>{i(p=>{va.setComponents(d,[nx({element:Ae.fromDom(p)})])})}})]).getOrThunk(()=>a.map(i=>[va.config({...s.providers.tooltips.getConfig({tooltipText:i}),mode:"follow-highlight"})]).getOr([])),oM=t=>qb.DOM.encode(t),P4=(t,s)=>{const a=ju.translate(t),i=oM(a);if(s.length>0){const d=new RegExp(bL(s),"gi");return i.replace(d,g=>`<span class="tox-autocompleter-highlight">${g}</span>`)}else return i},nM=(t,s,a,i,d,g,p,x=!0)=>{const k=Lw({presets:i,textContent:_.none(),htmlContent:a?t.text.map(z=>P4(z,s)):_.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:_.none(),checkMark:_.none(),caret:_.none(),value:t.value},p.providers,x,t.icon),T=t.text.filter(z=>!a&&z!=="");return z1({data:cy(t),enabled:t.enabled,getApi:U({}),onAction:z=>d(t.value,t.meta),onSetup:U(X),triggersSubmenu:!1,itemBehaviours:B4(t,p,T)},k,g,p.providers)},KC=(t,s)=>ke(t,a=>{switch(a.type){case"cardcontainer":return eM(a,KC(a.items,s));case"cardimage":return xL(a.src,a.classes,a.alt);case"cardtext":const d=a.name.exists(g=>vt(s.cardText.highlightOn,g))?_.from(s.cardText.matchText).getOr(""):"";return YN(P4(a.text,d),a.classes)}}),$4=(t,s,a,i)=>{const d=p=>({isEnabled:()=>!l.isDisabled(p),setEnabled:x=>{l.set(p,!x),Xe(Mc(p.element,"*"),k=>{p.getSystem().getByDom(k).each(T=>{T.hasConfigured(l)&&l.set(T,!x)})})}}),g={dom:tM(t.label),optComponents:[_.some({dom:{tag:"div",classes:[d4,bN]},components:KC(t.items,i)})]};return z1({data:cy({text:_.none(),...t}),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:_.from(i.itemBehaviours).getOr([])},g,s,a.providers)},I4=(t,s,a,i,d,g,p,x=!0)=>{const k=M=>({setActive:H=>{rs.set(M,H)},isActive:()=>rs.isOn(M),isEnabled:()=>!l.isDisabled(M),setEnabled:H=>l.set(M,!H)}),T=Lw({presets:a,textContent:s?t.text:_.none(),htmlContent:_.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:_.none(),checkMark:s?_.some(XN(p.icons)):_.none(),caret:_.none(),value:t.value},p,x),z=t.text.filter(U(!s)).map(M=>va.config(p.tooltips.getConfig({tooltipText:p.translate(M)})));return br(z1({data:cy(t),enabled:t.enabled,getApi:k,onAction:M=>i(t.value),onSetup:M=>(M.setActive(d),X),triggersSubmenu:!1,itemBehaviours:[...z.toArray()]},T,g,p),{toggling:{toggleClass:MC,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},F4=U2(mC(),zA()),sM=t=>({value:cM(t)}),L4=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,rM=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,aM=t=>L4.test(t)||rM.test(t),cM=t=>xo(t,"#").toUpperCase(),iM=t=>aM(t)?_.some({value:cM(t)}):_.none(),lM=t=>({value:t.value.replace(L4,(a,i,d,g)=>i+i+d+d+g+g)}),uM=t=>{const s=lM(t),a=rM.exec(s.value);return a===null?["FFFFFF","FF","FF","FF"]:a},H4=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},Hw=t=>{const s=H4(t.red)+H4(t.green)+H4(t.blue);return sM(s)},dM=Math.min,fM=Math.max,YC=Math.round,kL=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,_L=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,iy=(t,s,a,i)=>({red:t,green:s,blue:a,alpha:i}),V4=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},mM=t=>{let s,a,i;const d=(t.hue||0)%360;let g=t.saturation/100,p=t.value/100;if(g=fM(0,dM(g,1)),p=fM(0,dM(p,1)),g===0)return s=a=i=YC(255*p),iy(s,a,i,1);const x=d/60,k=p*g,T=k*(1-Math.abs(x%2-1)),z=p-k;switch(Math.floor(x)){case 0:s=k,a=T,i=0;break;case 1:s=T,a=k,i=0;break;case 2:s=0,a=k,i=T;break;case 3:s=0,a=T,i=k;break;case 4:s=T,a=0,i=k;break;case 5:s=k,a=0,i=T;break;default:s=a=i=0}return s=YC(255*(s+z)),a=YC(255*(a+z)),i=YC(255*(i+z)),iy(s,a,i,1)},Vw=t=>{const s=uM(t),a=parseInt(s[1],16),i=parseInt(s[2],16),d=parseInt(s[3],16);return iy(a,i,d,1)},U4=(t,s,a,i)=>{const d=parseInt(t,10),g=parseInt(s,10),p=parseInt(a,10),x=parseFloat(i);return iy(d,g,p,x)},j4=t=>{const s=kL.exec(t);if(s!==null)return _.some(U4(s[1],s[2],s[3],"1"));const a=_L.exec(t);return a!==null?_.some(U4(a[1],a[2],a[3],a[4])):_.none()},gM=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,pM=iy(255,0,0,1),CL=t=>{t.dispatch("SkinLoaded")},SL=(t,s)=>{t.dispatch("SkinLoadError",s)},XC=t=>{t.dispatch("ResizeEditor")},JC=(t,s)=>{t.dispatch("ResizeContent",s)},EL=(t,s)=>{t.dispatch("ScrollContent",s)},hM=(t,s)=>{t.dispatch("TextColorChange",s)},TL=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},AL=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),zL=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},OL=(t,s)=>{t.dispatch("StylesTextUpdate",s)},W4=(t,s)=>{t.dispatch("AlignTextUpdate",s)},bM=(t,s)=>{t.dispatch("FontSizeTextUpdate",s)},yM=(t,s)=>{t.dispatch("FontSizeInputTextUpdate",s)},DL=(t,s)=>{t.dispatch("BlocksTextUpdate",s)},vM=(t,s)=>{t.dispatch("FontFamilyTextUpdate",s)},RL=t=>{t.dispatch("ToggleSidebar")},NL=t=>{t.dispatch("ToggleView")},QC=(t,s)=>()=>{t(),s()},Ki=t=>ly(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),ML=(t,s)=>a=>{const i=Ga(),d=()=>{a.setActive(t.formatter.match(s));const g=t.formatter.formatChanged(s,a.setActive);i.set(g)};return t.initialized?d():t.once("init",d),()=>{t.off("init",d),i.clear()}},eS=(t,s)=>a=>{const i=Ki(t)(a),d=ML(t,s)(a);return()=>{i(),d()}},ly=(t,s,a)=>i=>{const d=()=>a(i),g=()=>{a(i),t.on(s,d)};return t.initialized?g():t.once("init",g),()=>{t.off("init",g),t.off(s,d)}},xM=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},gu=(t,s)=>()=>t.execCommand(s);var uy=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const Uw={},Z4=(t,s=10)=>{const a=uy.getItem(t),i=Re(a)?JSON.parse(a):[],g=(T=>s-T.length<0?T.slice(0,s):T)(i),p=T=>{ye(g,T).each(x),g.unshift(T),g.length>s&&g.pop(),uy.setItem(t,JSON.stringify(g))},x=T=>{g.splice(T,1)};return{add:p,state:()=>g.slice(0)}},tS=t=>Kt(Uw,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,a=uy.getItem(s);if(St(a)){const d=uy.getItem("tinymce-custom-colors");uy.setItem(s,to(d)?d:"[]")}const i=Z4(s,10);return Uw[t]=i,i}),wM=t=>ke(tS(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),kM=(t,s)=>{tS(t).add(s)},jw=(t,s,a)=>({hue:t,saturation:s,value:a}),Ww=t=>{let s=0,a=0,i=0;const d=t.red/255,g=t.green/255,p=t.blue/255,x=Math.min(d,Math.min(g,p)),k=Math.max(d,Math.max(g,p));if(x===k)return i=x,jw(0,0,i*100);const T=d===x?g-p:p===x?d-g:p-d;return s=d===x?3:p===x?1:5,s=60*(s-T/(k-x)),a=(k-x)/k,i=k,jw(Math.round(s),Math.round(a*100),Math.round(i*100))},q4=t=>Ww(Vw(t)),Zw=t=>Hw(mM(t)),_M=t=>iM(t).orThunk(()=>j4(t).map(Hw)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const a=s.getContext("2d");a.clearRect(0,0,s.width,s.height),a.fillStyle="#FFFFFF",a.fillStyle=t,a.fillRect(0,0,1,1);const i=a.getImageData(0,0,1,1).data,d=i[0],g=i[1],p=i[2],x=i[3];return Hw(iy(d,g,p,x))}),G4="forecolor",K4="hilitecolor",BL=5,PL=t=>{const s=[];for(let a=0;a<t.length;a+=2)s.push({text:t[a+1],value:"#"+_M(t[a]).value,icon:"checkmark",type:"choiceitem"});return s},ag=t=>s=>s.options.get(t),Y4="#000000",$L=t=>{const s=t.options.register,a=d=>Be(d,Re)?{value:PL(d),valid:!0}:{valid:!1,message:"Must be an array of strings."},i=d=>nt(d)&&d>0?{value:d,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:a,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_background",{processor:a}),s("color_map_foreground",{processor:a}),s("color_cols",{processor:i,default:X4(t)}),s("color_cols_foreground",{processor:i,default:CM(t,G4)}),s("color_cols_background",{processor:i,default:CM(t,K4)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:Y4}),s("color_default_background",{processor:"string",default:Y4})},oS=(t,s)=>s===G4&&t.options.isSet("color_map_foreground")?ag("color_map_foreground")(t):s===K4&&t.options.isSet("color_map_background")?ag("color_map_background")(t):ag("color_map")(t),X4=(t,s="default")=>Math.max(BL,Math.ceil(Math.sqrt(oS(t,s).length))),CM=(t,s)=>{const a=ag("color_cols")(t),i=X4(t,s);return a===X4(t)?i:a},SM=(t,s="default")=>Math.round(s===G4?ag("color_cols_foreground")(t):s===K4?ag("color_cols_background")(t):ag("color_cols")(t)),EM=ag("custom_colors"),IL=ag("color_default_foreground"),TM=ag("color_default_background"),FL="rgba(0, 0, 0, 0)",LL=t=>j4(t).exists(s=>s.alpha!==0),cg=t=>El(t,s=>{if(xn(s)){const a=Ns(s,"background-color");return Qo(LL(a),a)}else return _.none()}).getOr(FL),AM=(t,s)=>{const a=Ae.fromDom(t.selection.getStart()),i=s==="hilitecolor"?cg(a):Ns(a,"color");return j4(i).map(d=>"#"+Hw(d).value)},HL=(t,s,a)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:a}),t.nodeChanged()})},J4=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},Bc=t=>{t.addCommand("mceApplyTextcolor",(s,a)=>{HL(t,s,a)}),t.addCommand("mceRemoveTextcolor",s=>{J4(t,s)})},zM=t=>{const s="choiceitem",a={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[a,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[a]},Q4=(t,s,a,i)=>{a==="custom"?BM(t)(g=>{g.each(p=>{kM(s,p),t.execCommand("mceApplyTextcolor",s,p),i(p)})},AM(t,s).getOr(Y4)):a==="remove"?(i(""),t.execCommand("mceRemoveTextcolor",s)):(i(a),t.execCommand("mceApplyTextcolor",s,a))},e3=(t,s,a)=>t.concat(wM(s).concat(zM(a))),OM=(t,s,a)=>i=>{i(e3(t,s,a))},t3=(t,s,a)=>{const i=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(i,a)},DM=(t,s)=>{t.setTooltip(s)},RM=(t,s)=>a=>{const i=AM(t,s);return ar(i,a.toUpperCase())},o3=(t,s,a)=>{if(le(a))return s==="forecolor"?"Text color":"Background color";const i=s==="forecolor"?"Text color {0}":"Background color {0}",d=e3(oS(t,s),s,!1),g=K(d,p=>p.value===a).getOr({text:""}).text;return t.translate([i,t.translate(g)])},NM=(t,s,a,i)=>{t.ui.registry.addSplitButton(s,{tooltip:o3(t,a,i.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:RM(t,a),columns:SM(t,a),fetch:OM(oS(t,a),a,EM(t)),onAction:d=>{Q4(t,a,i.get(),X)},onItemAction:(d,g)=>{Q4(t,a,g,p=>{i.set(p),hM(t,{name:s,color:p})})},onSetup:d=>{t3(d,s,i.get());const g=p=>{p.name===s&&(t3(d,p.name,p.color),DM(d,o3(t,a,p.color)))};return t.on("TextColorChange",g),QC(Ki(t)(d),()=>{t.off("TextColorChange",g)})}})},MM=(t,s,a,i,d)=>{t.ui.registry.addNestedMenuItem(s,{text:i,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:g=>(DM(g,o3(t,a,d.get())),t3(g,s,d.get()),Ki(t)(g)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:RM(t,a),initData:{storageKey:a},onAction:g=>{Q4(t,a,g.value,p=>{d.set(p),hM(t,{name:s,color:p})})}}]})},BM=t=>(s,a)=>{let i=!1;const d=x=>{const T=x.getData().colorpicker;i?(s(_.from(T)),x.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",T]))},g=(x,k)=>{k.name==="hex-valid"&&(i=k.value)},p={colorpicker:a};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onAction:g,onSubmit:d,onClose:X,onCancel:()=>{s(_.none())}})},VL=t=>{Bc(t);const s=IL(t),a=TM(t),i=nn(s),d=nn(a);NM(t,"forecolor","forecolor",i),NM(t,"backcolor","hilitecolor",d),MM(t,"forecolor","forecolor","Text color",i),MM(t,"backcolor","hilitecolor","Background color",d)},n3=(t,s,a,i,d,g,p,x)=>{const k=LC(s),z=UL(s,a,i,d!=="color"?"normal":"color",g,p,x);return x4(t,k,z,i,{menuType:d})},UL=(t,s,a,i,d,g,p)=>$r(ke(t,x=>x.type==="choiceitem"?uL(x).fold(xp,k=>_.some(I4(k,a===1,i,s,g(k.value),d,p,LC(t)))):_.none())),nS=(t,s)=>{const a=ty(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+a.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:d=>s==="color"?Vr(d.element,"[aria-checked=true]"):_.none()}},jL=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${NC}`:`.${RC}`}},WL=(t,s)=>{const a=ZL(t,s),i=s.colorinput.getColorCols(t.initData.storageKey),d="color",p={...n3(Vo("menu-value"),a,x=>{t.onAction({value:x})},i,d,hf.CLOSE_ON_EXECUTE,t.select.getOr(Oe),s.shared.providers),markers:ty(d),movement:nS(i,d),showMenuRole:!1};return{type:"widget",data:{value:Vo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[F4.widget(Cd.sketch(p))]}},ZL=(t,s)=>{const a=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>e3(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,a),i=>i.concat(zM(a)))},PM=Vo("cell-over"),$M=Vo("cell-execute"),qL=t=>(s,a)=>t.shared.providers.translate(["{0} columns, {1} rows",a,s]),GL=(t,s,a)=>{const i=p=>bn(p,PM,{row:t,col:s}),d=p=>bn(p,$M,{row:t,col:s}),g=(p,x)=>{x.stop(),d(p)};return oi({dom:{tag:"div",attributes:{role:"button","aria-label":a}},behaviours:ao([Jn("insert-table-picker-cell",[Rt(nl(),Bn.focus),Rt(ru(),d),Rt(Ig(),g),Rt(hd(),g)]),rs.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Bn.config({onFocus:i})])})},KL=(t,s,a)=>{const i=[];for(let d=0;d<s;d++){const g=[];for(let p=0;p<a;p++){const x=t(d+1,p+1);g.push(GL(d,p,x))}i.push(g)}return i},YL=(t,s,a,i,d)=>{for(let g=0;g<i;g++)for(let p=0;p<d;p++)rs.set(t[g][p],g<=s&&p<=a)},XL=t=>V(t,s=>ke(s,Al)),s3=(t,s)=>aa(`${s}x${t}`),IM={inserttable:(t,s)=>{const d=qL(s),g=KL(d,10,10),p=s3(0,0),x=Ls({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[p],behaviours:ao([Fn.config({})])});return{type:"widget",data:{value:Vo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[F4.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:XL(g).concat(x.asSpec()),behaviours:ao([Jn("insert-table-picker",[Mr(k=>{Fn.set(x.get(k),[p])}),_0(PM,(k,T,z)=>{const{row:M,col:H}=z.event;YL(g,M,H,10,10),Fn.set(x.get(k),[s3(M+1,H+1)])}),_0($M,(k,T,z)=>{const{row:M,col:H}=z.event;ns(k,ob()),t.onAction({numRows:M+1,numColumns:H+1})})]),pn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:WL},JL=(t,s)=>Kt(IM,t.fancytype).map(a=>a(t,s)),QL=(t,s,a,i=!0,d=!1)=>{const g=d?QN(a.icons):JN(a.icons),p=k=>({isEnabled:()=>!l.isDisabled(k),setEnabled:T=>l.set(k,!T),setIconFill:(T,z)=>{Vr(k.element,`svg path[class="${T}"], rect[class="${T}"]`).each(M=>{Oo(M,"fill",z)})},setTooltip:T=>{const z=a.translate(T);Oo(k.element,"aria-label",z)}}),x=Lw({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:_.none(),ariaLabel:t.text,caret:_.some(g),checkMark:_.none(),shortcutContent:t.shortcut},a,i);return z1({data:cy(t),getApi:p,enabled:t.enabled,onAction:X,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},x,s,a)},e8=(t,s,a,i=!0)=>{const d=p=>({isEnabled:()=>!l.isDisabled(p),setEnabled:x=>l.set(p,!x)}),g=Lw({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:_.none(),ariaLabel:t.text,caret:_.none(),checkMark:_.none(),shortcutContent:t.shortcut},a,i);return z1({data:cy(t),getApi:d,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,s,a)},FM=t=>({type:"separator",dom:{tag:"div",classes:[RC,hN]},components:t.text.map(aa).toArray()}),t8=(t,s,a,i=!0)=>{const d=p=>({setActive:x=>{rs.set(p,x)},isActive:()=>rs.isOn(p),isEnabled:()=>!l.isDisabled(p),setEnabled:x=>l.set(p,!x)}),g=Lw({iconContent:t.icon,textContent:t.text,htmlContent:_.none(),ariaLabel:t.text,checkMark:_.some(XN(a.icons)),caret:_.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},a,i);return br(z1({data:cy(t),enabled:t.enabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,s,a),{toggling:{toggleClass:MC,toggleOnExecute:!1,selected:t.active},role:t.role.getOrUndefined()})},o8=nM,LM=FM,n8=e8,HM=QL,s8=t8,VM=JL,r8=$4;var c8=Object.freeze({__proto__:null,getCoupled:(t,s,a,i)=>a.getOrCreate(t,s,i),getExistingCoupled:(t,s,a,i)=>a.getExisting(t,s,i)}),i8=[Bs("others",eu(Kn.value,Cl()))],l8=Object.freeze({__proto__:null,init:()=>{const t={},s=(g,p)=>{if(io(g.others).length===0)throw new Error("Cannot find any known coupled components");return Kt(t,p)},a=(g,p,x)=>s(p,x).getOrThunk(()=>{const T=Kt(p.others,x).getOrDie("No information found for coupled component: "+x)(g),z=g.getSystem().build(T);return t[x]=z,z}),i=(g,p,x)=>s(p,x).orThunk(()=>(Kt(p.others,x).getOrDie("No information found for coupled component: "+x),_.none())),d=U({});return rl({readState:d,getExisting:i,getOrCreate:a})}});const Ta=Rc({fields:i8,name:"coupling",apis:c8,state:l8}),r3=t=>{let s=_.none(),a=[];const i=T=>r3(z=>{d(M=>{z(T(M))})}),d=T=>{p()?k(T):a.push(T)},g=T=>{p()||(s=_.some(T),x(a),a=[])},p=()=>s.isSome(),x=T=>{Xe(T,k)},k=T=>{s.each(z=>{setTimeout(()=>{T(z)},0)})};return t(g),{get:d,map:i,isReady:p}},u8={nu:r3,pure:t=>r3(s=>{s(t)})},d8=t=>{setTimeout(()=>{throw t},0)},D1=t=>{const s=k=>{t().then(k,d8)};return{map:k=>D1(()=>t().then(k)),bind:k=>D1(()=>t().then(T=>k(T).toPromise())),anonBind:k=>D1(()=>t().then(()=>k.toPromise())),toLazy:()=>u8.nu(s),toCached:()=>{let k=null;return D1(()=>(k===null&&(k=t()),k))},toPromise:t,get:s}},ri={nu:t=>D1(()=>new Promise(t)),pure:t=>D1(()=>Promise.resolve(t))},UM=U("sink"),jM=U(Nl({name:UM(),overrides:U({dom:{tag:"div"},behaviours:ao([ni.config({useFixed:Me})]),events:Er([yd(Mu()),yd(ma()),yd(Ig())])})})),WM=(t,s)=>{const a=t.getHotspot(s).getOr(s),i="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(()=>({type:i,hotspot:a,overrides:d}),g=>({type:i,hotspot:a,overrides:d,layouts:g}))},f8=(t,s,a)=>{const i=t.fetch;return i(a).map(s)},m8=(t,s,a,i,d,g,p)=>{const x=f8(t,s,i),k=c3(i,t);return x.map(T=>T.bind(z=>{const M=z.menus[z.primary];return _.from(M).each(H=>{t.listRole.each(j=>{H.role=j})}),_.from(Sh.sketch({...g.menu(),uid:hb(""),data:z,highlightOnOpen:p,onOpenMenu:(H,j)=>{const ee=k().getOrDie();ni.position(ee,j,{anchor:a}),Ss.decloak(d)},onOpenSubmenu:(H,j,ee)=>{const ae=k().getOrDie();ni.position(ae,ee,{anchor:{type:"submenu",item:j}}),Ss.decloak(d)},onRepositionMenu:(H,j,ee)=>{const ae=k().getOrDie();ni.position(ae,j,{anchor:a}),Xe(ee,Fe=>{ni.position(ae,Fe.triggeredMenu,{anchor:{type:"submenu",item:Fe.triggeringItem}})})},onEscape:()=>(Bn.focus(i),Ss.close(d),_.some(!0))}))}))},R1=(t,s,a,i,d,g,p)=>{const x=WM(t,a);return m8(t,s,x,a,i,d,p).map(T=>(T.fold(()=>{Ss.isOpen(i)&&Ss.close(i)},z=>{Ss.cloak(i),Ss.open(i,z),g(i)}),i))},g8=(t,s,a,i,d,g,p)=>(Ss.close(i),ri.pure(i)),a3=(t,s,a,i,d,g)=>{const p=Ta.getCoupled(a,"sandbox");return(Ss.isOpen(p)?g8:R1)(t,s,a,p,i,d,g)},p8=(t,s,a)=>{const i=Es.getCurrent(s).getOr(s),d=G(t.element);a?Dt(i.element,"min-width",d+"px"):bu(i.element,d)},c3=(t,s)=>t.getSystem().getByUid(s.uid+"-"+UM()).map(a=>()=>Kn.value(a)).getOrThunk(()=>s.lazySink.fold(()=>()=>Kn.error(new Error("No internal sink is specified, nor could an external sink be found")),a=>()=>a(t))),i3=t=>{Ss.getState(t).each(s=>{Sh.repositionMenus(s)})},l3=(t,s,a)=>{const i=ix(),d=(x,k)=>{const T=WM(t,s);i.link(s.element),t.matchWidth&&p8(T.hotspot,k,t.useMinWidth),t.onOpen(T,x,k),a!==void 0&&a.onOpen!==void 0&&a.onOpen(x,k)},g=(x,k)=>{i.unlink(s.element),p().getOr(k).element.dom.dispatchEvent(new window.FocusEvent("focusout")),a!==void 0&&a.onClose!==void 0&&a.onClose(x,k)},p=c3(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:i.id}},behaviours:du.augment(t.sandboxBehaviours,[$o.config({store:{mode:"memory",initialValue:s}}),Ss.config({onOpen:d,onClose:g,isPartOf:(x,k,T)=>Qg(k,T)||Qg(s,T),getAttachPoint:()=>p().getOrDie()}),Es.config({find:x=>Ss.getState(x).bind(k=>Es.getCurrent(k))}),Zi.config({channels:{...sg({isExtraPart:Oe}),...Vx({doReposition:i3})}})])}},ZM=t=>{const s=Ta.getCoupled(t,"sandbox");i3(s)},sS=()=>[Ve("sandboxClasses",[]),du.field("sandboxBehaviours",[Es,Zi,Ss,$o])],h8=U([Ot("dom"),Ot("fetch"),ks("onOpen"),Wi("onExecute"),Ve("getHotspot",_.some),Ve("getAnchorOverrides",U({})),Ym(),kc("dropdownBehaviours",[rs,Ta,pn,Bn]),Ot("toggleClass"),Ve("eventOrder",{}),Os("lazySink"),Ve("matchWidth",!1),Ve("useMinWidth",!1),Os("role"),Os("listRole")].concat(sS())),b8=U([fu({schema:[Jp(),Ve("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),jM()]),y8=(t,s,a,i)=>{const d=z=>Kt(t.dom,"attributes").bind(M=>Kt(M,z)),g=z=>{Ss.getState(z).each(M=>{Sh.highlightPrimary(M)})},p=(z,M,H)=>a3(t,zt,z,i,M,H),x=z=>{p(z,g,Ea.HighlightMenuAndItem).get(X)},k={expand:z=>{rs.isOn(z)||p(z,X,Ea.HighlightNone).get(X)},open:z=>{rs.isOn(z)||p(z,X,Ea.HighlightMenuAndItem).get(X)},refetch:z=>Ta.getExistingCoupled(z,"sandbox").fold(()=>p(z,X,Ea.HighlightMenuAndItem).map(X),H=>R1(t,zt,z,H,i,X,Ea.HighlightMenuAndItem).map(X)),isOpen:rs.isOn,close:z=>{rs.isOn(z)&&p(z,X,Ea.HighlightMenuAndItem).get(X)},repositionMenus:z=>{rs.isOn(z)&&ZM(z)}},T=(z,M)=>(Am(z),_.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:_c(t.dropdownBehaviours,[rs.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ta.config({others:{sandbox:z=>l3(t,z,{onOpen:()=>rs.on(z),onClose:()=>rs.off(z)})}}),pn.config({mode:"special",onSpace:T,onEnter:T,onDown:(z,M)=>{if(Dd.isOpen(z)){const H=Ta.getCoupled(z,"sandbox");g(H)}else Dd.open(z);return _.some(!0)},onEscape:(z,M)=>Dd.isOpen(z)?(Dd.close(z),_.some(!0)):_.none()}),Bn.config({})]),events:dC(_.some(x)),eventOrder:{...t.eventOrder,[ru()]:["disabling","toggling","alloy.base.behaviour"]},apis:k,domModification:{attributes:{"aria-haspopup":t.listRole.getOr("true"),...t.role.fold(()=>({}),z=>({role:z})),...t.dom.tag==="button"?{type:d("type").getOr("button")}:{}}}}},Dd=mi({name:"Dropdown",configFields:h8(),partFields:b8(),factory:y8,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),v8=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},x8=t=>{const s=$o.getValue(t),a=Nw(t).map(TN);Dd.refetch(s).get(()=>{const i=Ta.getCoupled(s,"sandbox");a.each(d=>Nw(i).each(g=>j6(g,d)))})},rS=(t,s)=>{w8(t).each(a=>{x0(t,a.element,s.event.eventType,s.event.interactionEvent)})},w8=t=>Ss.getState(t).bind(rn.getHighlighted).bind(rn.getHighlighted),aS=t=>al(t.element,ny)?_.some(t.element):Vr(t.element,"."+ny),qM=(t,s,a)=>{EN(t).each(i=>{W6(i,a),aS(s).each(g=>{oa(g,"id").each(p=>Oo(i.element,"aria-controls",p))})}),Oo(a.element,"aria-selected","true")},k8=(t,s,a)=>{Oo(a.element,"aria-selected","false")},_8=t=>{EN(t).each(s=>Bn.focus(s))},C8=t=>Ta.getExistingCoupled(t,"sandbox").bind(Nw).map(TN).map(a=>a.fetchPattern).getOr("");var u3;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(u3||(u3={}));const cS=(t,s,a,i,d)=>{const g=a.shared.providers,p=x=>d?{...x,shortcut:_.none(),icon:x.text.isSome()?_.none():x.icon}:x;switch(t.type){case"menuitem":return fL(t).fold(xp,x=>_.some(n8(p(x),s,g,i)));case"nestedmenuitem":return gL(t).fold(xp,x=>_.some(HM(p(x),s,g,i,d)));case"togglemenuitem":return jN(t).fold(xp,x=>_.some(s8(p(x),s,g,i)));case"separator":return $N(t).fold(xp,x=>_.some(LM(x)));case"fancymenuitem":return ZC(t).fold(xp,x=>VM(x,a));default:return console.error("Unknown item in general menu",t),_.none()}},N1=(t,s,a,i,d,g,p)=>{const x=i===1,k=!x||LC(t);return $r(ke(t,T=>{switch(T.type){case"separator":return nL(T).fold(xp,z=>_.some(LM(z)));case"cardmenuitem":return lL(T).fold(xp,z=>_.some(r8({...z,onAction:M=>{z.onAction(M),a(z.value,z.meta)}},d,g,{itemBehaviours:B4(z.meta,g,_.none()),cardText:{matchText:s,highlightOn:p}})));case"autocompleteitem":default:return sL(T).fold(xp,z=>_.some(o8(z,s,x,"normal",a,d,g,k)))}}))},d3=(t,s,a,i,d,g)=>{const p=LC(s),x=$r(ke(s,z=>{const M=j=>d?!Gn(j,"text"):p,H=j=>cS(j,a,i,M(j),d);return z.type==="nestedmenuitem"&&z.getSubmenuItems().length<=0?H({...z,enabled:!1}):H(z)})),k=v8(g);return(d?G6:x4)(t,p,x,1,k)},iS=t=>Sh.singleData(t.value,t),S8=(t,s,a,i)=>{const d=nS(s,i),g=ty(i);return{data:iS({...t,movement:d,menuBehaviours:T1.unnamedEvents(s!=="auto"?[]:[Mr((p,x)=>{R4(p,4,g.item).each(({numColumns:k,numRows:T})=>{pn.setGridSize(p,T,k)})})])}),menu:{markers:ty(i),fakeFocus:a===u3.ContentFocus}}},E8=t=>Sb.create(Ae.fromDom(t.startContainer),t.startOffset,Ae.fromDom(t.endContainer),t.endOffset),T8={register:(t,s)=>{const a=Vo("autocompleter"),i=nn(!1),d=nn(!1),g=js(),p=oi(Ur.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:a}},components:[],fireDismissalEventInstead:{},inlineBehaviours:ao([Jn("dismissAutocompleter",[Rt(Em(),()=>M()),Rt(Tm(),(pe,De)=>{oa(De.event.target,"id").each(Ne=>Oo(Ae.fromDom(t.getBody()),"aria-activedescendant",Ne))})])]),lazySink:s.getSink})),x=()=>Ur.isOpen(p),k=d.get,T=()=>{if(x()){Ur.hide(p),t.dom.remove(a,!1);const pe=Ae.fromDom(t.getBody());oa(pe,"aria-owns").filter(De=>De===a).each(()=>{B(pe,"aria-owns"),B(pe,"aria-activedescendant")})}},z=()=>Ur.getContent(p).bind(pe=>xt(pe.components(),0)),M=()=>t.execCommand("mceAutocompleterClose"),H=pe=>{const De=Ut(pe,Ne=>_.from(Ne.columns)).getOr(1);return V(pe,Ne=>{const At=Ne.items;return N1(At,Ne.matchText,(ht,Co)=>{const Io={hide:()=>M(),reload:_t=>{T(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:_t})}};t.execCommand("mceAutocompleterRefreshActiveRange"),g.get().each(_t=>{i.set(!0),Ne.onAction(Io,_t,ht,Co),i.set(!1)})},De,hf.BUBBLE_TO_SANDBOX,s,Ne.highlightOn)})},j=(pe,De)=>{const Ne=Ut(pe,At=>_.from(At.columns)).getOr(1);Ur.showMenuAt(p,{anchor:{type:"selection",getSelection:()=>g.get().map(E8),root:Ae.fromDom(t.getBody())}},S8(x4("autocompleter-value",!0,De,Ne,{menuType:"normal"}),Ne,u3.ContentFocus,"normal")),z().each(rn.highlightFirst)},ee=pe=>{const De=H(pe);De.length>0?(j(pe,De),Oo(Ae.fromDom(t.getBody()),"aria-owns",a),t.inline||ae()):T()},ae=()=>{t.dom.get(a)&&t.dom.remove(a,!1);const pe=t.getDoc().documentElement,De=t.selection.getNode(),Ne=qy(p.element);In(Ne,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${De.offsetTop}px`,left:`${De.offsetLeft}px`}),t.dom.add(pe,Ne.dom),Vr(Ne,'[role="menu"]').each(At=>{Zn(At,"position"),Zn(At,"max-height")})};t.on("AutocompleterStart",({lookupData:pe})=>{d.set(!0),i.set(!1),ee(pe)}),t.on("AutocompleterUpdate",({lookupData:pe})=>ee(pe)),t.on("AutocompleterUpdateActiveRange",({range:pe})=>g.set(pe)),t.on("AutocompleterEnd",()=>{T(),d.set(!1),i.set(!1),g.clear()});const Fe={cancelIfNecessary:M,isMenuOpen:x,isActive:k,isProcessingAction:i.get,getMenu:z};pN.setup(Fe,t)}},qw=(t,s,a)=>$u(t,s,a).isSome(),GM=(t,s)=>{let a=null;return{cancel:()=>{a!==null&&(clearTimeout(a),a=null)},schedule:(...g)=>{a=setTimeout(()=>{t.apply(null,g),a=null},s)}}},KM=5,A8=400,YM=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?_.none():_.some(s.touches[0])},z8=(t,s)=>{const a=Math.abs(t.clientX-s.x),i=Math.abs(t.clientY-s.y);return a>KM||i>KM},O8=t=>{const s=js(),a=nn(!1),i=GM(T=>{t.triggerEvent(ei(),T),a.set(!0)},A8),d=T=>(YM(T).each(z=>{i.cancel();const M={x:z.clientX,y:z.clientY,target:T.target};i.schedule(T),a.set(!1),s.set(M)}),_.none()),g=T=>(i.cancel(),YM(T).each(z=>{s.on(M=>{z8(z,M)&&s.clear()})}),_.none()),p=T=>{i.cancel();const z=M=>Ts(M.target,T.target);return s.get().filter(z).map(M=>a.get()?(T.prevent(),!1):t.triggerEvent(hd(),T))},x=Is([{key:nu(),value:d},{key:zs(),value:g},{key:vr(),value:p}]);return{fireIfReady:(T,z)=>Kt(x,z).bind(M=>M(T))}},XM=t=>t.raw.which===Gr[0]&&!vt(["input","textarea"],Rs(t.target))&&!qw(t.target,'[contenteditable="true"]'),M1=(t,s)=>{const a={stopBackspace:!0,...s},i=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=O8(a),g=ke(i.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),j=>Ti(t,j,ee=>{d.fireIfReady(ee,j).each(Fe=>{Fe&&ee.kill()}),a.triggerEvent(j,ee)&&ee.kill()})),p=js(),x=Ti(t,"paste",j=>{d.fireIfReady(j,"paste").each(ae=>{ae&&j.kill()}),a.triggerEvent("paste",j)&&j.kill(),p.set(setTimeout(()=>{a.triggerEvent(Ff(),j)},0))}),k=Ti(t,"keydown",j=>{a.triggerEvent("keydown",j)?j.kill():a.stopBackspace&&XM(j)&&j.prevent()}),T=Ti(t,"focusin",j=>{a.triggerEvent("focusin",j)&&j.kill()}),z=js(),M=Ti(t,"focusout",j=>{a.triggerEvent("focusout",j)&&j.kill(),z.set(setTimeout(()=>{a.triggerEvent(Sm(),j)},0))});return{unbind:()=>{Xe(g,j=>{j.unbind()}),k.unbind(),T.unbind(),M.unbind(),x.unbind(),p.on(clearTimeout),z.on(clearTimeout)}}},Nh=(t,s)=>{const a=Kt(t,"target").getOr(s);return nn(a)},D8=(t,s)=>{const a=nn(!1),i=nn(!1);return{stop:()=>{a.set(!0)},cut:()=>{i.set(!0)},isStopped:a.get,isCut:i.get,event:t,setSource:s.set,getSource:s.get}},JM=t=>{const s=nn(!1);return{stop:()=>{s.set(!0)},cut:X,isStopped:s.get,isCut:Oe,event:t,setSource:ie("Cannot set source of a broadcasted event"),getSource:ie("Cannot get source of a broadcasted event")}},B1=J.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),Gw=(t,s,a,i,d,g)=>{const p=t(s,i),x=D8(a,d);return p.fold(()=>(g.logEventNoHandlers(s,i),B1.complete()),k=>{const T=k.descHandler;return eh(T)(x),x.isStopped()?(g.logEventStopped(s,k.element,T.purpose),B1.stopped()):x.isCut()?(g.logEventCut(s,k.element,T.purpose),B1.complete()):$a(k.element).fold(()=>(g.logNoParent(s,k.element,T.purpose),B1.complete()),M=>(g.logEventResponse(s,k.element,T.purpose),B1.resume(M)))})},QM=(t,s,a,i,d,g)=>Gw(t,s,a,i,d,g).fold(Me,p=>QM(t,s,a,p,d,g),Oe),Kw=(t,s,a,i,d)=>{const g=Nh(a,i);return Gw(t,s,a,i,g,d)},Yw=(t,s,a)=>{const i=JM(s);return Xe(t,d=>{const g=d.descHandler;eh(g)(i)}),i.isStopped()},R8=(t,s,a,i)=>e5(t,s,a,a.target,i),e5=(t,s,a,i,d)=>{const g=Nh(a,i);return QM(t,s,a,i,g,d)},N8=(t,s)=>({element:t,descHandler:s}),M8=(t,s)=>({id:t,descHandler:s}),B8=()=>{const t={},s=(p,x,k)=>{Lo(k,(T,z)=>{const M=t[z]!==void 0?t[z]:{};M[x]=Qp(T,p),t[z]=M})},a=(p,x)=>xd(x).bind(k=>Kt(p,k)).map(k=>N8(x,k));return{registerId:s,unregisterId:p=>{Lo(t,(x,k)=>{Gn(x,p)&&delete x[p]})},filterByType:p=>Kt(t,p).map(x=>Ys(x,(k,T)=>M8(T,k))).getOr([]),find:(p,x,k)=>Kt(t,x).bind(T=>El(k,z=>a(T,z),p))}},P8=()=>{const t=B8(),s={},a=T=>{const z=T.element;return xd(z).getOrThunk(()=>C_("uid-",T.element))},i=(T,z)=>{const M=s[z];if(M===T)g(T);else throw new Error('The tagId "'+z+'" is already used by: '+Pm(M.element)+`
Cannot use it for: `+Pm(T.element)+`
The conflicting element is`+(Ho(M.element)?" ":" not ")+"already in the DOM")},d=T=>{const z=a(T);hr(s,z)&&i(T,z);const M=[T];t.registerId(M,z,T.events),s[z]=T},g=T=>{xd(T.element).each(z=>{delete s[z],t.unregisterId(z)})};return{find:(T,z,M)=>t.find(T,z,M),filter:T=>t.filterByType(T),register:d,unregister:g,getById:T=>Kt(s,T)}},rm=pl({name:"Container",factory:t=>{const{attributes:s,...a}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...a},components:t.components,behaviours:Pb(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[Ve("components",[]),kc("containerBehaviours",[]),Ve("events",{}),Ve("domModification",{}),Ve("eventOrder",{})]}),Xw=t=>{const s=pe=>$a(t.element).fold(Me,De=>Ts(pe,De)),a=P8(),i=(pe,De)=>a.find(s,pe,De),d=M1(t.element,{triggerEvent:(pe,De)=>Vf(pe,De.target,Ne=>R8(i,pe,De,Ne))}),g={debugInfo:U("real"),triggerEvent:(pe,De,Ne)=>{Vf(pe,De,At=>e5(i,pe,Ne,De,At))},triggerFocus:(pe,De)=>{xd(pe).fold(()=>{zl(pe)},Ne=>{Vf(pd(),pe,At=>(Kw(i,pd(),{originator:De,kill:X,prevent:X,target:pe},pe,At),!1))})},triggerEscape:(pe,De)=>{g.triggerEvent("keydown",pe.element,De.event)},getByUid:pe=>ae(pe),getByDom:pe=>Fe(pe),build:oi,buildOrPatch:cv,addToGui:pe=>{k(pe)},removeFromGui:pe=>{T(pe)},addToWorld:pe=>{p(pe)},removeFromWorld:pe=>{x(pe)},broadcast:pe=>{H(pe)},broadcastOn:(pe,De)=>{j(pe,De)},broadcastEvent:(pe,De)=>{ee(pe,De)},isConnected:Me},p=pe=>{pe.connect(g),ds(pe.element)||(a.register(pe),Xe(pe.components(),p),g.triggerEvent(nb(),pe.element,{target:pe.element}))},x=pe=>{ds(pe.element)||(Xe(pe.components(),x),a.unregister(pe)),pe.disconnect()},k=pe=>{Fu(t,pe)},T=pe=>{Yf(pe)},z=()=>{d.unbind(),Yc(t.element)},M=pe=>{const De=a.filter(su());Xe(De,Ne=>{const At=Ne.descHandler;eh(At)(pe)})},H=pe=>{M({universal:!0,data:pe})},j=(pe,De)=>{M({universal:!1,channels:pe,data:De})},ee=(pe,De)=>{const Ne=a.filter(pe);return Yw(Ne,De)},ae=pe=>a.getById(pe).fold(()=>Kn.error(new Error('Could not find component with uid: "'+pe+'" in system.')),Kn.value),Fe=pe=>{const De=xd(pe).getOr("not found");return ae(De)};return p(t),{root:t,element:t.element,destroy:z,add:k,remove:T,getByUid:ae,getByDom:Fe,addToWorld:p,removeFromWorld:x,broadcast:H,broadcastOn:j,broadcastEvent:ee}},$8=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:ke(t.items,s.interpreter)}),I8=U([Ve("prefix","form-field"),kc("fieldBehaviours",[Es,$o])]),F8=U([Nl({schema:[Ot("dom")],name:"label"}),Nl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Ot("text")],name:"aria-descriptor"}),qc({factory:{sketch:t=>{const s=Un(t,["factory"]);return t.factory.sketch(s)}},schema:[Ot("factory")],name:"field"})]),t5=(t,s,a,i)=>{const d=_c(t.fieldBehaviours,[Es.config({find:x=>eo(x,t,"field")}),$o.config({store:{mode:"manual",getValue:x=>Es.getCurrent(x).bind($o.getValue),setValue:(x,k)=>{Es.getCurrent(x).each(T=>{$o.setValue(T,k)})}}})]),g=Er([Mr((x,k)=>{const T=G2(x,t,["label","field","aria-descriptor"]);T.field().each(z=>{const M=Vo(t.prefix);T.label().each(H=>{Oo(H.element,"for",M),Oo(z.element,"id",M)}),T["aria-descriptor"]().each(H=>{const j=Vo(t.prefix);Oo(H.element,"id",j),Oo(z.element,"aria-describedby",j)})})})]),p={getField:x=>eo(x,t,"field"),getLabel:x=>eo(x,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:d,events:g,apis:p}},tr=mi({name:"FormField",configFields:I8(),partFields:F8(),factory:t5,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var L8=tinymce.util.Tools.resolve("tinymce.html.Entities");const Jw=(t,s,a,i)=>{const d=H8(t,s,a,i);return tr.sketch(d)},o5=(t,s)=>Jw(t,s,[],[]),H8=(t,s,a,i)=>({dom:n5(a),components:t.toArray().concat([s]),fieldBehaviours:ao(i)}),V8=()=>n5([]),n5=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),Mh=(t,s)=>tr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[aa(s.translate(t))]}),Il=Vo("form-component-change"),P1=Vo("form-close"),_p=Vo("form-cancel"),ig=Vo("form-action"),Qw=Vo("form-submit"),m3=Vo("form-block"),g3=Vo("form-unblock"),s5=Vo("form-tabchange"),p3=Vo("form-resize"),$1=(t,s,a)=>{const i=t.label.map(j=>Mh(j,s)),d=s.icons(),g=j=>{var ee;return(ee=d[j])!==null&&ee!==void 0?ee:j},p=j=>(ee,ae)=>{$u(ae.event.target,"[data-collection-item-value]").each(Fe=>{j(ee,ae,Fe,on(Fe,"data-collection-item-value"))})},x=(j,ee)=>{const ae=ke(ee,De=>{const Ne=ju.translate(De.text),At=t.columns===1?`<div class="tox-collection__item-label">${Ne}</div>`:"",ht=`<div class="tox-collection__item-icon">${g(De.icon)}</div>`,Co={_:" "," - ":" ","-":" "},Io=Ne.replace(/\_| \- |\-/g,Yo=>Co[Yo]),_t=s.isDisabled()?" tox-collection__item--state-disabled":"";return`<div data-mce-tooltip="${Io}" class="tox-collection__item${_t}" tabindex="-1" data-collection-item-value="${L8.encodeAllRaw(De.value)}" aria-label="${Io}">${ht}${At}</div>`}),Fe=t.columns!=="auto"&&t.columns>1?Zt(ae,t.columns):[ae],pe=ke(Fe,De=>`<div class="tox-collection__group">${De.join("")}</div>`);Bm(j.element,pe.join(""))},k=p((j,ee,ae,Fe)=>{ee.stop(),s.isDisabled()||bn(j,ig,{name:t.name,value:Fe})}),T=[Rt(nl(),p((j,ee,ae)=>{zl(ae)})),Rt(Ig(),k),Rt(hd(),k),Rt(md(),p((j,ee,ae)=>{Vr(j.element,"."+zh).each(Fe=>{ra(Fe,zh)}),Tr(ae,zh)})),Rt(Jd(),p(j=>{Vr(j.element,"."+zh).each(ee=>{ra(ee,zh),pv(ee)})})),Bu(p((j,ee,ae,Fe)=>{bn(j,ig,{name:t.name,value:Fe})}))],z=(j,ee)=>ke(Mc(j.element,".tox-collection__item"),ee),M=tr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:zt},behaviours:ao([l.config({disabled:s.isDisabled,onDisabled:j=>{z(j,ee=>{Tr(ee,"tox-collection__item--state-disabled"),Oo(ee,"aria-disabled",!0)})},onEnabled:j=>{z(j,ee=>{ra(ee,"tox-collection__item--state-disabled"),B(ee,"aria-disabled")})}}),Sc(),Fn.config({}),va.config({...s.tooltips.getConfig({tooltipText:"",onShow:j=>{Vr(j.element,"."+zh+"[data-mce-tooltip]").each(ee=>{oa(ee,"data-mce-tooltip").each(ae=>{va.setComponents(j,s.tooltips.getComponents({tooltipText:ae}))})})}}),mode:"children-keyboard-focus",anchor:j=>({type:"node",node:Vr(j.element,"."+zh).orThunk(()=>Si(".tox-collection__item")),root:j.element,layouts:{onLtr:U([Qa,Ja,Xa,Qs,ba,jc]),onRtl:U([Qa,Ja,Xa,Qs,ba,jc])},bubble:Iu(0,-2,{})})}),$o.config({store:{mode:"memory",initialValue:a.getOr([])},onSetValue:(j,ee)=>{x(j,ee),t.columns==="auto"&&R4(j,5,"tox-collection__item").each(({numRows:ae,numColumns:Fe})=>{pn.setGridSize(j,ae,Fe)}),ns(j,p3)}}),zr.config({}),pn.config(jL(t.columns,"normal")),Jn("collection-events",T)]),eventOrder:{[ru()]:["disabling","alloy.base.behaviour","collection-events"],[md()]:["collection-events","tooltipping"]}});return Jw(i,M,["tox-form__group--collection"],[])},U8=["input","textarea"],r5=t=>{const s=Rs(t);return vt(U8,s)},a5=(t,s)=>{const a=s.getRoot(t).getOr(t.element);ra(a,s.invalidClass),s.notify.each(i=>{r5(t.element)&&Oo(t.element,"aria-invalid",!1),i.getContainer(t).each(d=>{Bm(d,i.validHtml)}),i.onValid(t)})},ek=(t,s,a,i)=>{const d=s.getRoot(t).getOr(t.element);Tr(d,s.invalidClass),s.notify.each(g=>{r5(t.element)&&Oo(t.element,"aria-invalid",!0),g.getContainer(t).each(p=>{Bm(p,i)}),g.onInvalid(t,i)})},Zu=(t,s,a)=>s.validator.fold(()=>ri.pure(Kn.value(!0)),i=>i.validate(t)),tk=(t,s,a)=>(s.notify.each(i=>{i.onValidate(t)}),Zu(t,s).map(i=>t.getSystem().isConnected()?i.fold(d=>(ek(t,s,a,d),Kn.error(d)),d=>(a5(t,s),Kn.value(d))):Kn.error("No longer in system")));var W8=Object.freeze({__proto__:null,markValid:a5,markInvalid:ek,query:Zu,run:tk,isInvalid:(t,s)=>{const a=s.getRoot(t).getOr(t.element);return al(a,s.invalidClass)}}),Z8=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(a=>Er([Rt(a.onEvent,i=>{tk(i,t,s).get(zt)})].concat(a.validateOnLoad?[Mr(i=>{tk(i,t,s).get(X)})]:[]))).getOr({})}),q8=[Ot("invalidClass"),Ve("getRoot",_.none),kr("notify",[Ve("aria","alert"),Ve("getContainer",_.none),Ve("validHtml",""),ks("onValid"),ks("onInvalid"),ks("onValidate")]),kr("validator",[Ot("validate"),Ve("onEvent","input"),Ve("validateOnLoad",!0)])];const am=Rc({fields:q8,name:"invalidating",active:Z8,apis:W8,extra:{validation:t=>s=>{const a=$o.getValue(s);return ri.pure(t(a))}}});var K8=Object.freeze({__proto__:null,events:()=>Er([c_(p0(),Me)]),exhibit:()=>sl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const I1=Rc({fields:[],name:"unselecting",active:K8}),Y8=(t,s)=>Dd.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:ao([yf.button(s.providers.isDisabled),Sc(),I1.config({}),zr.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:a=>ri.nu(i=>t.fetch(i)).map(i=>_.from(iS(br(n3(Vo("menu-value"),i,d=>{t.onItemAction(a,d)},t.columns,t.presets,hf.CLOSE_ON_EXECUTE,Oe,s.providers),{movement:nS(t.columns,t.presets)})))),parts:{menu:Rw(!1,1,t.presets)}}),h3=Vo("color-input-change"),b3=Vo("color-swatch-change"),y3=Vo("color-picker-cancel"),X8=(t,s,a,i)=>{const d=tr.parts.field({factory:oy,inputClasses:["tox-textfield"],data:i,onSetValue:T=>am.run(T).get(X),inputBehaviours:ao([l.config({disabled:s.providers.isDisabled}),Sc(),zr.config({}),am.config({invalidClass:"tox-textbox-field-invalid",getRoot:T=>fc(T.element),notify:{onValid:T=>{const z=$o.getValue(T);bn(T,h3,{color:z})}},validator:{validateOnLoad:!1,validate:T=>{const z=$o.getValue(T);if(z.length===0)return ri.pure(Kn.value(!0));{const M=Ae.fromTag("span");Dt(M,"background-color",z);const H=nr(M,"background-color").fold(()=>Kn.error("blah"),j=>Kn.value(z));return ri.pure(H)}}}})]),selectOnFocus:!1}),g=t.label.map(T=>Mh(T,s.providers)),p=(T,z)=>{bn(T,b3,{value:z})},x=(T,z)=>{k.getOpt(T).each(M=>{z==="custom"?a.colorPicker(H=>{H.fold(()=>ns(M,y3),j=>{p(M,j),kM(t.storageKey,j)})},"#ffffff"):z==="remove"?p(M,""):p(M,z)})},k=Ls(Y8({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[ba,Xa,Qa],onLtr:()=>[Xa,ba,Qa]},components:[],fetch:OM(a.getColors(t.storageKey),t.storageKey,a.hasCustomColors()),columns:a.getColorCols(t.storageKey),presets:"color",onItemAction:x},s));return tr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:g.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[d,k.asSpec()]}]),fieldBehaviours:ao([Jn("form-field-events",[Rt(h3,(T,z)=>{k.getOpt(T).each(M=>{Dt(M.element,"background-color",z.event.color)}),bn(T,Il,{name:t.name})}),Rt(b3,(T,z)=>{tr.getField(T).each(M=>{$o.setValue(M,z.event.value),Es.getCurrent(T).each(Bn.focus)})}),Rt(y3,(T,z)=>{tr.getField(T).each(M=>{Es.getCurrent(T).each(Bn.focus)})})])])})},J8=Nl({schema:[Ot("dom")],name:"label"}),Bh=t=>Nl({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),i=>({events:Er([Vg(nu(),(d,g,p)=>i(d,p),[s]),Vg(ma(),(d,g,p)=>i(d,p),[s]),Vg(Vp(),(d,g,p)=>{p.mouseIsDown.get()&&i(d,p)},[s])])}))}),Q8=Bh("top-left"),e7=Bh("top"),t7=Bh("top-right"),v3=Bh("right"),o7=Bh("bottom-right"),n7=Bh("bottom"),c5=Bh("bottom-left"),s7=Bh("left"),r7=qc({name:"thumb",defaults:U({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:Er([Ug(nu(),t,"spectrum"),Ug(zs(),t,"spectrum"),Ug(vr(),t,"spectrum"),Ug(ma(),t,"spectrum"),Ug(Vp(),t,"spectrum"),Ug(If(),t,"spectrum")])})}),lS=t=>Vu(t.event),a7=qc({schema:[Ms("mouseIsDown",()=>nn(!1))],name:"spectrum",overrides:t=>{const a=t.model.manager,i=(d,g)=>a.getValueFromEvent(g).map(p=>a.setValueFrom(d,t,p));return{behaviours:ao([pn.config({mode:"special",onLeft:(d,g)=>a.onLeft(d,t,lS(g)),onRight:(d,g)=>a.onRight(d,t,lS(g)),onUp:(d,g)=>a.onUp(d,t,lS(g)),onDown:(d,g)=>a.onDown(d,t,lS(g))}),zr.config({}),Bn.config({})]),events:Er([Rt(nu(),i),Rt(zs(),i),Rt(ma(),i),Rt(Vp(),(d,g)=>{t.mouseIsDown.get()&&i(d,g)})])}}});var c7=[J8,s7,v3,e7,n7,Q8,t7,c5,o7,r7,a7];const ok=U("slider.change.value"),i5=t=>t.type.indexOf("touch")!==-1,uS=t=>{const s=t.event.raw;if(i5(s)){const a=s;return a.touches!==void 0&&a.touches.length===1?_.some(a.touches[0]).map(i=>wr(i.clientX,i.clientY)):_.none()}else{const a=s;return a.clientX!==void 0?_.some(a).map(i=>wr(i.clientX,i.clientY)):_.none()}},i7="top",l7="right",u7="bottom",d7="left",dy=t=>t.model.minX,fy=t=>t.model.minY,nk=t=>t.model.minX-1,sk=t=>t.model.minY-1,Ph=t=>t.model.maxX,Cp=t=>t.model.maxY,dS=t=>t.model.maxX+1,rk=t=>t.model.maxY+1,l5=(t,s,a)=>s(t)-a(t),x3=t=>l5(t,Ph,dy),w3=t=>l5(t,Cp,fy),u5=t=>x3(t)/2,fS=t=>w3(t)/2,qu=(t,s)=>s?t.stepSize*t.speedMultiplier:t.stepSize,d5=t=>t.snapToGrid,F1=t=>t.snapStart,f5=t=>t.rounded,L1=(t,s)=>t[s+"-edge"]!==void 0,m5=t=>L1(t,d7),g5=t=>L1(t,l7),p5=t=>L1(t,i7),k3=t=>L1(t,u7),Sp=t=>t.model.value.get(),lg=(t,s)=>({x:t,y:s}),Gu=(t,s)=>{bn(t,ok(),{value:s})},_3=(t,s)=>{Gu(t,lg(nk(s),sk(s)))},f7=(t,s)=>{Gu(t,sk(s))},Ku=(t,s)=>{Gu(t,lg(u5(s),sk(s)))},m7=(t,s)=>{Gu(t,lg(dS(s),sk(s)))},g7=(t,s)=>{Gu(t,dS(s))},h5=(t,s)=>{Gu(t,lg(dS(s),fS(s)))},b5=(t,s)=>{Gu(t,lg(dS(s),rk(s)))},p7=(t,s)=>{Gu(t,rk(s))},h7=(t,s)=>{Gu(t,lg(u5(s),rk(s)))},b7=(t,s)=>{Gu(t,lg(nk(s),rk(s)))},y7=(t,s)=>{Gu(t,nk(s))},v7=(t,s)=>{Gu(t,lg(nk(s),fS(s)))},C3=(t,s,a,i)=>t<s?t:t>a?a:t===s?s-1:Math.max(s,t-i),S3=(t,s,a,i)=>t>a?t:t<s?s:t===a?a+1:Math.min(a,t+i),E3=(t,s,a)=>Math.max(s,Math.min(a,t)),x7=(t,s,a,i,d)=>d.fold(()=>{const g=t-s,p=Math.round(g/i)*i;return E3(s+p,s-1,a+1)},g=>{const p=(t-g)%i,x=Math.round(p/i),k=Math.floor((t-g)/i),T=Math.floor((a-g)/i),z=Math.min(T,k+x),M=g+z*i;return Math.max(g,M)}),w7=(t,s,a)=>Math.min(a,Math.max(t,s))-s,y5=t=>{const{min:s,max:a,range:i,value:d,step:g,snap:p,snapStart:x,rounded:k,hasMinEdge:T,hasMaxEdge:z,minBound:M,maxBound:H,screenRange:j}=t,ee=T?s-1:s,ae=z?a+1:a;if(d<M)return ee;if(d>H)return ae;{const Fe=w7(d,M,H),pe=E3(Fe/j*i+s,ee,ae);return p&&pe>=s&&pe<=a?x7(pe,s,a,g,x):k?Math.round(pe):pe}},T3=t=>{const{min:s,max:a,range:i,value:d,hasMinEdge:g,hasMaxEdge:p,maxBound:x,maxOffset:k,centerMinEdge:T,centerMaxEdge:z}=t;return d<s?g?0:T:d>a?p?x:z:(d-s)/i*k},ak="top",A3="right",z3="bottom",mS="left",v5="width",O3="height",ug=t=>t.element.dom.getBoundingClientRect(),Yu=(t,s)=>t[s],Ep=t=>{const s=ug(t);return Yu(s,mS)},D3=t=>{const s=ug(t);return Yu(s,A3)},ck=t=>{const s=ug(t);return Yu(s,ak)},R3=t=>{const s=ug(t);return Yu(s,z3)},x5=t=>{const s=ug(t);return Yu(s,v5)},w5=t=>{const s=ug(t);return Yu(s,O3)},ik=(t,s,a)=>(t+s)/2-a,k5=(t,s)=>{const a=ug(t),i=ug(s),d=Yu(a,mS),g=Yu(a,A3),p=Yu(i,mS);return ik(d,g,p)},_5=(t,s)=>{const a=ug(t),i=ug(s),d=Yu(a,ak),g=Yu(a,z3),p=Yu(i,ak);return ik(d,g,p)},lk=(t,s)=>{bn(t,ok(),{value:s})},gS=(t,s,a)=>{const i={min:dy(s),max:Ph(s),range:x3(s),value:a,step:qu(s),snap:d5(s),snapStart:F1(s),rounded:f5(s),hasMinEdge:m5(s),hasMaxEdge:g5(s),minBound:Ep(t),maxBound:D3(t),screenRange:x5(t)};return y5(i)},N3=(t,s,a)=>{const i=gS(t,s,a);return lk(t,i),i},C5=(t,s)=>{const a=dy(s);lk(t,a)},bl=(t,s)=>{const a=Ph(s);lk(t,a)},S5=(t,s,a,i)=>{const g=(t>0?S3:C3)(Sp(a),dy(a),Ph(a),qu(a,i));return lk(s,g),_.some(g)},E5=t=>(s,a,i)=>S5(t,s,a,i).map(Me),k7=t=>uS(t).map(a=>a.left),T5=(t,s,a,i,d)=>{const p=x5(t),x=i.bind(z=>_.some(k5(z,t))).getOr(0),k=d.bind(z=>_.some(k5(z,t))).getOr(p),T={min:dy(s),max:Ph(s),range:x3(s),value:a,hasMinEdge:m5(s),hasMaxEdge:g5(s),minBound:Ep(t),minOffset:0,maxBound:D3(t),maxOffset:p,centerMinEdge:x,centerMaxEdge:k};return T3(T)},M3=(t,s,a,i,d,g)=>{const p=T5(s,g,a,i,d);return Ep(s)-Ep(t)+p},_7=(t,s,a,i)=>{const d=Sp(a),g=M3(t,i.getSpectrum(t),d,i.getLeftEdge(t),i.getRightEdge(t),a),p=G(s.element)/2;Dt(s.element,"left",g-p+"px")},C7=E5(-1),A5=E5(1),dg=_.none,B3=_.none,z5={"top-left":_.none(),top:_.none(),"top-right":_.none(),right:_.some(g7),"bottom-right":_.none(),bottom:_.none(),"bottom-left":_.none(),left:_.some(y7)};var pS=Object.freeze({__proto__:null,setValueFrom:N3,setToMin:C5,setToMax:bl,findValueOfOffset:gS,getValueFromEvent:k7,findPositionOfValue:M3,setPositionFromValue:_7,onLeft:C7,onRight:A5,onUp:dg,onDown:B3,edgeActions:z5});const H1=(t,s)=>{bn(t,ok(),{value:s})},P3=(t,s,a)=>{const i={min:fy(s),max:Cp(s),range:w3(s),value:a,step:qu(s),snap:d5(s),snapStart:F1(s),rounded:f5(s),hasMinEdge:p5(s),hasMaxEdge:k3(s),minBound:ck(t),maxBound:R3(t),screenRange:w5(t)};return y5(i)},S7=(t,s,a)=>{const i=P3(t,s,a);return H1(t,i),i},E7=(t,s)=>{const a=fy(s);H1(t,a)},T7=(t,s)=>{const a=Cp(s);H1(t,a)},A7=(t,s,a,i)=>{const g=(t>0?S3:C3)(Sp(a),fy(a),Cp(a),qu(a,i));return H1(s,g),_.some(g)},O5=t=>(s,a,i)=>A7(t,s,a,i).map(Me),z7=t=>uS(t).map(a=>a.top),D5=(t,s,a,i,d)=>{const p=w5(t),x=i.bind(z=>_.some(_5(z,t))).getOr(0),k=d.bind(z=>_.some(_5(z,t))).getOr(p),T={min:fy(s),max:Cp(s),range:w3(s),value:a,hasMinEdge:p5(s),hasMaxEdge:k3(s),minBound:ck(t),minOffset:0,maxBound:R3(t),maxOffset:p,centerMinEdge:x,centerMaxEdge:k};return T3(T)},$3=(t,s,a,i,d,g)=>{const p=D5(s,g,a,i,d);return ck(s)-ck(t)+p},fg=(t,s,a,i)=>{const d=Sp(a),g=$3(t,i.getSpectrum(t),d,i.getTopEdge(t),i.getBottomEdge(t),a),p=Xs(s.element)/2;Dt(s.element,"top",g-p+"px")},hS=_.none,O7=_.none,D7=O5(-1),R5=O5(1),N5={"top-left":_.none(),top:_.some(f7),"top-right":_.none(),right:_.none(),"bottom-right":_.none(),bottom:_.some(p7),"bottom-left":_.none(),left:_.none()};var I3=Object.freeze({__proto__:null,setValueFrom:S7,setToMin:E7,setToMax:T7,findValueOfOffset:P3,getValueFromEvent:z7,findPositionOfValue:$3,setPositionFromValue:fg,onLeft:hS,onRight:O7,onUp:D7,onDown:R5,edgeActions:N5});const my=(t,s)=>{bn(t,ok(),{value:s})},$h=(t,s)=>({x:t,y:s}),uk=(t,s,a)=>{const i=gS(t,s,a.left),d=P3(t,s,a.top),g=$h(i,d);return my(t,g),g},M5=(t,s,a,i,d)=>{const g=t>0?S3:C3,p=s?Sp(i).x:g(Sp(i).x,dy(i),Ph(i),qu(i,d)),x=s?g(Sp(i).y,fy(i),Cp(i),qu(i,d)):Sp(i).y;return my(a,$h(p,x)),_.some(p)},dk=(t,s)=>(a,i,d)=>M5(t,s,a,i,d).map(Me),B5=(t,s)=>{const a=dy(s),i=fy(s);my(t,$h(a,i))},P5=(t,s)=>{const a=Ph(s),i=Cp(s);my(t,$h(a,i))},R7=t=>uS(t),N7=(t,s,a,i)=>{const d=Sp(a),g=M3(t,i.getSpectrum(t),d.x,i.getLeftEdge(t),i.getRightEdge(t),a),p=$3(t,i.getSpectrum(t),d.y,i.getTopEdge(t),i.getBottomEdge(t),a),x=G(s.element)/2,k=Xs(s.element)/2;Dt(s.element,"left",g-x+"px"),Dt(s.element,"top",p-k+"px")},M7=dk(-1,!1),B7=dk(1,!1),P7=dk(-1,!0),$5=dk(1,!0),I5={"top-left":_.some(_3),top:_.some(Ku),"top-right":_.some(m7),right:_.some(h5),"bottom-right":_.some(b5),bottom:_.some(h7),"bottom-left":_.some(b7),left:_.some(v7)};var $7=Object.freeze({__proto__:null,setValueFrom:uk,setToMin:B5,setToMax:P5,getValueFromEvent:R7,setPositionFromValue:N7,onLeft:M7,onRight:B7,onUp:P7,onDown:$5,edgeActions:I5});const F5=[Ve("stepSize",1),Ve("speedMultiplier",10),Ve("onChange",X),Ve("onChoose",X),Ve("onInit",X),Ve("onDragStart",X),Ve("onDragEnd",X),Ve("snapToGrid",!1),Ve("rounded",!0),Os("snapStart"),Bs("model",Ka("mode",{x:[Ve("minX",0),Ve("maxX",100),Ms("value",t=>nn(t.mode.minX)),Ot("getInitialValue"),cr("manager",pS)],y:[Ve("minY",0),Ve("maxY",100),Ms("value",t=>nn(t.mode.minY)),Ot("getInitialValue"),cr("manager",I3)],xy:[Ve("minX",0),Ve("maxX",100),Ve("minY",0),Ve("maxY",100),Ms("value",t=>nn({x:t.mode.minX,y:t.mode.minY})),Ot("getInitialValue"),cr("manager",$7)]})),kc("sliderBehaviours",[pn,$o]),Ms("mouseIsDown",()=>nn(!1))],Rd=mi({name:"Slider",configFields:F5,partFields:c7,factory:(t,s,a,i)=>{const d=ht=>Ml(ht,t,"thumb"),g=ht=>Ml(ht,t,"spectrum"),p=ht=>eo(ht,t,"left-edge"),x=ht=>eo(ht,t,"right-edge"),k=ht=>eo(ht,t,"top-edge"),T=ht=>eo(ht,t,"bottom-edge"),z=t.model,M=z.manager,H=(ht,Co)=>{M.setPositionFromValue(ht,Co,t,{getLeftEdge:p,getRightEdge:x,getTopEdge:k,getBottomEdge:T,getSpectrum:g})},j=(ht,Co)=>{z.value.set(Co);const Io=d(ht);H(ht,Io)},ee=(ht,Co)=>{j(ht,Co);const Io=d(ht);return t.onChange(ht,Io,Co),_.some(!0)},ae=ht=>{M.setToMin(ht,t)},Fe=ht=>{M.setToMax(ht,t)},pe=ht=>{const Co=()=>{eo(ht,t,"thumb").each(_t=>{const Yo=z.value.get();t.onChoose(ht,_t,Yo)})},Io=t.mouseIsDown.get();t.mouseIsDown.set(!1),Io&&Co()},De=(ht,Co)=>{Co.stop(),t.mouseIsDown.set(!0),t.onDragStart(ht,d(ht))},Ne=(ht,Co)=>{Co.stop(),t.onDragEnd(ht,d(ht)),pe(ht)},At=ht=>{eo(ht,t,"spectrum").map(pn.focusIn)};return{uid:t.uid,dom:t.dom,components:s,behaviours:_c(t.sliderBehaviours,[pn.config({mode:"special",focusIn:At}),$o.config({store:{mode:"manual",getValue:ht=>z.value.get(),setValue:j}}),Zi.config({channels:{[Gv()]:{onReceive:pe}}})]),events:Er([Rt(ok(),(ht,Co)=>{ee(ht,Co.event.value)}),Mr((ht,Co)=>{const Io=z.getInitialValue();z.value.set(Io);const _t=d(ht);H(ht,_t);const Yo=g(ht);t.onInit(ht,_t,Yo,z.value.get())}),Rt(nu(),De),Rt(vr(),Ne),Rt(ma(),(ht,Co)=>{At(ht),De(ht,Co)}),Rt(If(),Ne)]),apis:{resetToMin:ae,resetToMax:Fe,setValue:j,refresh:H},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,a)=>{t.setValue(s,a)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),gy=Vo("rgb-hex-update"),L5=Vo("slider-update"),F3=Vo("palette-update"),I7=(t,s)=>{const a=Rd.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),i=Rd.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return Rd.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:U(0)},components:[a,i],sliderBehaviours:ao([Bn.config({})]),onChange:(d,g,p)=>{Oo(d.element,"aria-valuenow",Math.floor(360-p*3.6)),bn(d,L5,{value:p})}})},H5="form",F7=[kc("formBehaviours",[$o])],V5=t=>"<alloy.field."+t+">",U5=t=>{const s=(()=>{const g=[];return{field:(x,k)=>(g.push(x),W2(H5,V5(x),k)),record:U(g)}})(),a=t(s),i=s.record(),d=ke(i,g=>qc({name:g,pname:V5(g)}));return rg(H5,F7,d,j5,a)},L7=(t,s)=>t.fold(()=>Kn.error(s),Kn.value),j5=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:_c(t.formBehaviours,[$o.config({store:{mode:"manual",getValue:a=>{const i=Jx(a,t);return Mo(i,(d,g)=>d().bind(p=>{const x=Es.getCurrent(p);return L7(x,new Error(`Cannot find a current component to extract the value from for form part '${g}': `+Pm(p.element)))}).map($o.getValue))},setValue:(a,i)=>{Lo(i,(d,g)=>{eo(a,t,g).each(p=>{Es.getCurrent(p).each(x=>{$o.setValue(x,d)})})})}}})]),apis:{getField:(a,i)=>eo(a,t,i).bind(Es.getCurrent)}}),Ih={getField:Jy((t,s,a)=>t.getField(s,a)),sketch:U5},mg=Vo("valid-input"),bS=Vo("invalid-input"),L3=Vo("validating-input"),yS="colorcustom.rgb.",H3={isEnabled:Me,setEnabled:X,immediatelyShow:X,immediatelyHide:X},W5=(t,s,a,i,d,g)=>{const p=(ae,Fe)=>{const pe=Fe.get();ae!==pe.isEnabled()&&(pe.setEnabled(ae),ae?pe.immediatelyShow():pe.immediatelyHide())},x=(ae,Fe,pe)=>am.config({invalidClass:s("invalid"),notify:{onValidate:De=>{bn(De,L3,{type:ae})},onValid:De=>{p(!1,pe),bn(De,mg,{type:ae,value:$o.getValue(De)})},onInvalid:De=>{p(!0,pe),bn(De,bS,{type:ae,value:$o.getValue(De)})}},validator:{validate:De=>{const Ne=$o.getValue(De),At=Fe(Ne)?Kn.value(!0):Kn.error(t("aria.input.invalid"));return ri.pure(At)},validateOnLoad:!1}}),k=(ae,Fe,pe,De,Ne)=>{const At=nn(H3),ht=t(yS+"range"),Co=tr.parts.label({dom:{tag:"label",attributes:{"aria-label":De}},components:[aa(pe)]}),Io=tr.parts.field({data:Ne,factory:oy,inputAttributes:{type:"text",...Fe==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:ao([x(Fe,ae,At),zr.config({}),va.config({...d({tooltipText:"",onSetup:$s=>{At.set({isEnabled:()=>va.isEnabled($s),setEnabled:Jo=>va.setEnabled($s,Jo),immediatelyShow:()=>va.immediateOpenClose($s,!0),immediatelyHide:()=>va.immediateOpenClose($s,!1)}),va.setEnabled($s,!1)},onShow:($s,Jo)=>{va.setComponents($s,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[aa(t(Fe==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:$s=>{am.isInvalid($s)&&am.run($s).get(X)}}),_t=Vo("aria-invalid"),Yo=Ls(g("invalid",_.some(_t),"warning")),wo=Ls({dom:{tag:"div",classes:[s("invalid-icon")]},components:[Yo.asSpec()]}),tn=[Co,Io,wo.asSpec()],fs=Fe!=="hex"?[tr.parts["aria-descriptor"]({text:ht})]:[],Dr=tn.concat(fs);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:Dr}},T=(ae,Fe)=>{const pe=Hw(Fe);return Ih.getField(ae,"hex").each(De=>{Bn.isFocused(De)||$o.setValue(ae,{hex:pe.value})}),pe},z=(ae,Fe)=>{const pe=Fe.red,De=Fe.green,Ne=Fe.blue;$o.setValue(ae,{red:pe,green:De,blue:Ne})},M=Ls({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),H=(ae,Fe)=>{M.getOpt(ae).each(pe=>{Dt(pe.element,"background-color","#"+Fe.value)})};return pl({factory:()=>{const ae={red:nn(_.some(255)),green:nn(_.some(255)),blue:nn(_.some(255)),hex:nn(_.some("ffffff"))},Fe=(Jo,Yt)=>{const Eo=Vw(Yt);z(Jo,Eo),At(Eo)},pe=Jo=>ae[Jo].get(),De=(Jo,Yt)=>{ae[Jo].set(Yt)},Ne=()=>pe("red").bind(Jo=>pe("green").bind(Yt=>pe("blue").map(Eo=>iy(Jo,Yt,Eo,1)))),At=Jo=>{const Yt=Jo.red,Eo=Jo.green,Pn=Jo.blue;De("red",_.some(Yt)),De("green",_.some(Eo)),De("blue",_.some(Pn))},ht=(Jo,Yt)=>{const Eo=Yt.event;Eo.type!=="hex"?De(Eo.type,_.none()):i(Jo)},Co=(Jo,Yt)=>{a(Jo);const Eo=sM(Yt);De("hex",_.some(Eo.value));const Pn=Vw(Eo);z(Jo,Pn),At(Pn),bn(Jo,gy,{hex:Eo}),H(Jo,Eo)},Io=(Jo,Yt,Eo)=>{const Pn=parseInt(Eo,10);De(Yt,_.some(Pn)),Ne().each(An=>{const mn=T(Jo,An);bn(Jo,gy,{hex:mn}),H(Jo,mn)})},_t=Jo=>Jo.type==="hex",Yo=(Jo,Yt)=>{const Eo=Yt.event;_t(Eo)?Co(Jo,Eo.value):Io(Jo,Eo.type,Eo.value)},wo=Jo=>({label:t(yS+Jo+".label"),description:t(yS+Jo+".description")}),tn=wo("red"),fs=wo("green"),Dr=wo("blue"),$s=wo("hex");return br(Ih.sketch(Jo=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Jo.field("red",tr.sketch(k(V4,"red",tn.label,tn.description,255))),Jo.field("green",tr.sketch(k(V4,"green",fs.label,fs.description,255))),Jo.field("blue",tr.sketch(k(V4,"blue",Dr.label,Dr.description,255))),Jo.field("hex",tr.sketch(k(aM,"hex",$s.label,$s.description,"ffffff"))),M.asSpec()],formBehaviours:ao([am.config({invalidClass:s("form-invalid")}),Jn("rgb-form-events",[Rt(mg,Yo),Rt(bS,ht),Rt(L3,ht)])])})),{apis:{updateHex:(Jo,Yt)=>{$o.setValue(Jo,{hex:Yt.value}),Fe(Jo,Yt),H(Jo,Yt)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(ae,Fe,pe)=>{ae.updateHex(Fe,pe)}},extraApis:{}})},vS=(t,s)=>{const a=Rd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),i=Rd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),d=(T,z)=>{const{width:M,height:H}=T,j=T.getContext("2d");if(j===null)return;j.fillStyle=z,j.fillRect(0,0,M,H);const ee=j.createLinearGradient(0,0,M,0);ee.addColorStop(0,"rgba(255,255,255,1)"),ee.addColorStop(1,"rgba(255,255,255,0)"),j.fillStyle=ee,j.fillRect(0,0,M,H);const ae=j.createLinearGradient(0,0,0,H);ae.addColorStop(0,"rgba(0,0,0,0)"),ae.addColorStop(1,"rgba(0,0,0,1)"),j.fillStyle=ae,j.fillRect(0,0,M,H)},g=(T,z)=>{const M=T.components()[0].element.dom,H=jw(z,100,100),j=mM(H);d(M,gM(j))},p=(T,z)=>{const M=Ww(Vw(z));Rd.setValue(T,{x:M.saturation,y:100-M.value}),Oo(T.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",M.saturation,M.value]))};return pl({factory:T=>{const z=U({x:0,y:0}),M=(ee,ae,Fe)=>{nt(Fe)||Oo(ee.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Math.floor(Fe.x),Math.floor(100-Fe.y)])),bn(ee,F3,{value:Fe})},H=(ee,ae,Fe,pe)=>{d(Fe.element.dom,gM(pM))},j=ao([Es.config({find:_.some}),Bn.config({})]);return Rd.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":t(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:z},rounded:!1,components:[a,i],onChange:M,onInit:H,sliderBehaviours:j})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(T,z,M)=>{g(z,M)},setThumb:(T,z,M)=>{p(z,M)}},extraApis:{}})},Z5=(t,s,a,i)=>{const d=p=>{const x=W5(t,s,p.onValidHex,p.onInvalidHex,a,i),k=vS(t,s),T=_t=>(100-_t)/100*360,z=_t=>100-_t/360*100,M={paletteRgba:nn(pM),paletteHue:nn(0)},H=Ls(I7(t,s)),j=Ls(k.sketch({})),ee=Ls(x.sketch({})),ae=(_t,Yo,wo)=>{j.getOpt(_t).each(tn=>{k.setHue(tn,wo)})},Fe=(_t,Yo)=>{ee.getOpt(_t).each(wo=>{x.updateHex(wo,Yo)})},pe=(_t,Yo,wo)=>{H.getOpt(_t).each(tn=>{Rd.setValue(tn,z(wo))})},De=(_t,Yo)=>{j.getOpt(_t).each(wo=>{k.setThumb(wo,Yo)})},Ne=(_t,Yo)=>{const wo=Vw(_t);M.paletteRgba.set(wo),M.paletteHue.set(Yo)},At=(_t,Yo,wo,tn)=>{Ne(Yo,wo),Xe(tn,fs=>{fs(_t,Yo,wo)})},ht=()=>{const _t=[Fe];return(Yo,wo)=>{const tn=wo.event.value,fs=M.paletteHue.get(),Dr=jw(fs,tn.x,100-tn.y),$s=Zw(Dr);At(Yo,$s,fs,_t)}},Co=()=>{const _t=[ae,Fe];return(Yo,wo)=>{const tn=T(wo.event.value),fs=M.paletteRgba.get(),Dr=Ww(fs),$s=jw(tn,Dr.saturation,Dr.value),Jo=Zw($s);At(Yo,Jo,tn,_t)}},Io=()=>{const _t=[ae,pe,De];return(Yo,wo)=>{const tn=wo.event.hex,fs=q4(tn);At(Yo,tn,fs.hue,_t)}};return{uid:p.uid,dom:p.dom,components:[j.asSpec(),H.asSpec(),ee.asSpec()],behaviours:ao([Jn("colour-picker-events",[Rt(gy,Io()),Rt(F3,ht()),Rt(L5,Co())]),Es.config({find:_t=>ee.getOpt(_t)}),pn.config({mode:"acyclic"})])}};return pl({name:"ColourPicker",configFields:[Ot("dom"),Ve("onValidHex",X),Ve("onInvalidHex",X)],factory:d})},vf={self:()=>Es.config({find:_.some}),memento:t=>Es.config({find:t.getOpt}),childAt:t=>Es.config({find:s=>ta(s.element,t).bind(a=>s.getSystem().getByDom(a).toOptional())})},V7=En([Ve("preprocess",zt),Ve("postprocess",zt)]),U7=(t,s)=>{const a=Lc("RepresentingConfigs.memento processors",V7,s);return $o.config({store:{mode:"manual",getValue:i=>{const d=t.get(i),g=$o.getValue(d);return a.postprocess(g)},setValue:(i,d)=>{const g=a.preprocess(d),p=t.get(i);$o.setValue(p,g)}}})},Fh=(t,s,a)=>$o.config({store:{mode:"manual",...t.map(i=>({initialValue:i})).getOr({}),getValue:s,setValue:a}}),V3=(t,s,a)=>Fh(t,i=>s(i.element),(i,d)=>a(i.element,d)),j7=t=>V3(t,Pu,Bm),xS=t=>$o.config({store:{mode:"memory",initialValue:t}}),W7={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},wS=t=>s=>Re(s)?t.translate(W7[s]):t.translate(s),Z7=(t,s,a)=>{const i=T=>"tox-"+T,d=(T,z,M=T,H=T)=>Wu(M,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+T],attributes:{title:s.translate(H),"aria-live":"polite",...z.fold(()=>({}),j=>({id:j}))}},s.icons),g=Z5(wS(s),i,s.tooltips.getConfig,d),p=T=>{bn(T,ig,{name:"hex-valid",value:!0})},x=T=>{bn(T,ig,{name:"hex-valid",value:!1})},k=Ls(g.sketch({dom:{tag:"div",classes:[i("color-picker-container")],attributes:{role:"presentation"}},onValidHex:p,onInvalidHex:x}));return{dom:{tag:"div"},components:[k.asSpec()],behaviours:ao([Fh(a,T=>{const z=k.get(T);return Es.getCurrent(z).bind(j=>$o.getValue(j).hex).map(j=>"#"+xo(j,"#")).getOr("")},(T,z)=>{const M=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,H=_.from(M.exec(z)).bind(ae=>xt(ae,1)),j=k.get(T);Es.getCurrent(j).fold(()=>{console.log("Can not find form")},ae=>{$o.setValue(ae,{hex:H.getOr("")}),Ih.getField(ae,"hex").each(Fe=>{ns(Fe,Qd())})})}),vf.self()])}};var q7=tinymce.util.Tools.resolve("tinymce.Resource");const U3=t=>Gn(t,"init"),q5=t=>{const s=js(),a=Ls({dom:{tag:t.tag}}),i=js(),d=!U3(t)&&t.onFocus.isSome()?[Bn.config({onFocus:g=>{t.onFocus.each(p=>{p(g.element.dom)})}}),zr.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ao([Jn("custom-editor-events",[Mr(g=>{a.getOpt(g).each(p=>{(U3(t)?t.init(p.element.dom):q7.load(t.scriptId,t.scriptUrl).then(x=>x(p.element.dom,t.settings))).then(x=>{i.on(k=>{x.setValue(k)}),i.clear(),s.set(x)})})})]),Fh(_.none(),()=>s.get().fold(()=>i.get().getOr(""),g=>g.getValue()),(g,p)=>{s.get().fold(()=>i.set(p),x=>x.setValue(p))}),vf.self()].concat(d)),components:[a.asSpec()]}};var Tp=tinymce.util.Tools.resolve("tinymce.util.Tools");const G7=(t,s)=>{const a=Tp.explode(s.getOption("images_file_types")),i=d=>yo(a,g=>_r(d.name.toLowerCase(),`.${g.toLowerCase()}`));return st(Je(t),i)},j3=(t,s,a)=>{const i=(H,j)=>{j.stop()},d=H=>(j,ee)=>{Xe(H,ae=>{ae(j,ee)})},g=(H,j)=>{var ee;if(!l.isDisabled(H)){const ae=j.event.raw;x(H,(ee=ae.dataTransfer)===null||ee===void 0?void 0:ee.files)}},p=(H,j)=>{const ee=j.event.raw.target;x(H,ee.files)},x=(H,j)=>{j&&($o.setValue(H,G7(j,s)),bn(H,Il,{name:t.name}))},k=Ls({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ao([Jn("input-file-events",[yd(Ig()),yd(hd())])])}),T=H=>({uid:H.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ao([xS(a.getOr([])),vf.self(),l.config({}),rs.config({toggleClass:"dragenter",toggleOnExecute:!1}),Jn("dropzone-events",[Rt("dragenter",d([i,rs.toggle])),Rt("dragleave",d([i,rs.toggle])),Rt("dragover",i),Rt("drop",d([i,g])),Rt(Up(),p)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[aa(s.translate("Drop an image here"))]},si.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[aa(s.translate("Browse for an image")),k.asSpec()],action:j=>{k.get(j).element.dom.click()},buttonBehaviours:ao([zr.config({}),yf.button(s.isDisabled),Sc()])})]}]}),z=t.label.map(H=>Mh(H,s)),M=tr.parts.field({factory:{sketch:T}});return Jw(z,M,["tox-form__group--stretched"],[])},K7=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:ke(t.items,s.interpreter)}),G5=(t,s)=>{let a=null,i=null;return{cancel:()=>{So(a)||(clearTimeout(a),a=null,i=null)},throttle:(...p)=>{i=p,So(a)&&(a=setTimeout(()=>{const x=i;a=null,i=null,t.apply(null,x)},s))}}},Y7=(t,s)=>{let a=null;return{cancel:()=>{So(a)||(clearTimeout(a),a=null)},throttle:(...g)=>{So(a)&&(a=setTimeout(()=>{a=null,t.apply(null,g)},s))}}},W3=(t,s)=>{let a=null;const i=()=>{So(a)||(clearTimeout(a),a=null)};return{cancel:i,throttle:(...g)=>{i(),a=setTimeout(()=>{a=null,t.apply(null,g)},s)}}},Z3=Vo("alloy-fake-before-tabstop"),kS=Vo("alloy-fake-after-tabstop"),q3=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:ao([Bn.config({ignore:!0}),zr.config({})])}),K5=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[q3([Z3]),s,q3([kS])],behaviours:ao([vf.childAt(1)])}),Y5=(t,s)=>{bn(t,Mu(),{raw:{which:9,shiftKey:s}})},X7=(t,s)=>{const a=s.element;al(a,Z3)?Y5(t,!0):al(a,kS)&&Y5(t,!1)},fk=t=>qw(t,["."+Z3,"."+kS].join(","),Oe),mk=Vo("update-dialog"),X5=Vo("update-title"),G3=Vo("update-body"),J5=Vo("update-footer"),Q5=Vo("body-send-message"),_S=Vo("dialog-focus-shifted"),K3=ts().browser,gk=K3.isSafari(),J7=K3.isFirefox(),eB=gk||J7,Q7=K3.isChromium(),eH=({scrollTop:t,scrollHeight:s,clientHeight:a})=>Math.ceil(t)+a>=s,CS=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),tH=(t,s)=>{const a=t.body;return _.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!Q7&&!gk||to(a)&&(a.scrollTop!==0||Math.abs(a.scrollHeight-a.clientHeight)>1))?a:t.documentElement)},tB=(t,s,a)=>{const i=t.dom;_.from(i.contentDocument).fold(a,d=>{let g=0;const p=tH(d,s).map(k=>(g=k.scrollTop,k)).forall(eH),x=()=>{const k=i.contentWindow;to(k)&&(p?CS(k,"bottom"):!p&&eB&&g!==0&&CS(k,g))};gk&&i.addEventListener("load",x,{once:!0}),d.open(),d.write(s),d.close(),gk||x()})},pk=Qo(eB,gk?500:200).map(t=>G5(tB,t)),Y3=(t,s)=>{const a=nn(t.getOr(""));return{getValue:i=>a.get(),setValue:(i,d)=>{if(a.get()!==d){const g=i.element,p=()=>Oo(g,"srcdoc",d);s?pk.fold(U(tB),x=>x.throttle)(g,d,p):p()}a.set(d)}}},oH=(t,s,a)=>{const i="tox-dialog__iframe",d=t.transparent?[]:[`${i}--opaque`],g=t.border?["tox-navobj-bordered"]:[],p={...t.label.map(M=>({title:M})).getOr({}),...a.map(M=>({srcdoc:M})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},x=Y3(a,t.streamContent),k=t.label.map(M=>Mh(M,s)),T=M=>K5(_.from(g),{uid:M.uid,dom:{tag:"iframe",attributes:p,classes:[i,...d]},behaviours:ao([zr.config({}),Bn.config({}),Fh(a,x.getValue,x.setValue),Zi.config({channels:{[_S]:{onReceive:(H,j)=>{j.newFocus.each(ee=>{fc(H.element).each(ae=>{(Ts(H.element,ee)?Tr:ra)(ae,"tox-navobj-bordered-focus")})})}}}})])}),z=tr.parts.field({factory:{sketch:T}});return Jw(k,z,["tox-form__group--stretched"],[])},nH=t=>new Promise((s,a)=>{const i=()=>{g(),s(t)},d=[Ti(t,"load",i),Ti(t,"error",()=>{g(),a("Unable to load data from image: "+t.dom.src)})],g=()=>Xe(d,p=>p.unbind());t.dom.complete&&i()}),X3=(t,s,a,i,d)=>{const g=a*d,p=i*d,x=Math.max(0,t/2-g/2),k=Math.max(0,s/2-p/2);return{left:x.toString()+"px",top:k.toString()+"px",width:g.toString()+"px",height:p.toString()+"px"}},sH=(t,s,a)=>{const i=G(t),d=Xs(t);return Math.min(i/s,d/a,1)},J3=(t,s)=>{const a=nn(s.getOr({url:""})),i=Ls({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(k=>({src:k.url})).getOr({})}}),d=Ls({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[i.asSpec()]}),g=(k,T)=>{const z={url:T.url};T.zoom.each(H=>z.zoom=H),T.cachedWidth.each(H=>z.cachedWidth=H),T.cachedHeight.each(H=>z.cachedHeight=H),a.set(z);const M=()=>{const{cachedWidth:H,cachedHeight:j,zoom:ee}=z;if(!Vt(H)&&!Vt(j)){if(Vt(ee)){const Fe=sH(k.element,H,j);z.zoom=Fe}const ae=X3(G(k.element),Xs(k.element),H,j,z.zoom);d.getOpt(k).each(Fe=>{In(Fe.element,ae)})}};i.getOpt(k).each(H=>{const j=H.element;T.url!==on(j,"src")&&(Oo(j,"src",T.url),ra(k.element,"tox-imagepreview__loaded")),M(),nH(j).then(ee=>{k.getSystem().isConnected()&&(Tr(k.element,"tox-imagepreview__loaded"),z.cachedWidth=ee.dom.naturalWidth,z.cachedHeight=ee.dom.naturalHeight,M())})})},p={};t.height.each(k=>p.height=k);const x=s.map(k=>({url:k.url,zoom:_.from(k.zoom),cachedWidth:_.from(k.cachedWidth),cachedHeight:_.from(k.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:p,attributes:{role:"presentation"}},components:[d.asSpec()],behaviours:ao([vf.self(),Fh(x,()=>a.get(),g)])}},oB=(t,s,a)=>{const i="tox-label",d=t.align==="center"?[`${i}--center`]:[],g=t.align==="end"?[`${i}--end`]:[],p=Ls({dom:{tag:"label",classes:[i,...d,...g]},components:[aa(s.providers.translate(t.label))]}),x=ke(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[p.asSpec(),...x],behaviours:ao([vf.self(),Fn.config({}),j7(_.none()),pn.config({mode:"acyclic"}),Jn("label",[Mr(k=>{t.for.each(T=>{a(T).each(z=>{p.getOpt(k).each(M=>{var H;const j=(H=on(z.element,"id"))!==null&&H!==void 0?H:Vo("form-field");Oo(z.element,"id",j),Oo(M.element,"for",j)})})})})])])}},nB=Vo("toolbar.button.execute"),rH=t=>Bu((s,a)=>{Fw(t,s)(i=>{bn(s,nB,{buttonApi:i}),t.onAction(i)})}),Lh=Vo("common-button-display-events"),Q3={[ru()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[xi()]:["toolbar-button-events",Lh],[au()]:["toolbar-button-events","dropdown-events","tooltipping"],[ma()]:["focusing","alloy.base.behaviour",Lh]},ez=t=>Dt(t.element,"width",Ns(t.element,"width")),tz=(t,s,a)=>Wu(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:a},s),SS=(t,s)=>tz(t,s,[]),Hh=(t,s)=>tz(t,s,[Fn.config({})]),oz=(t,s,a)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[aa(a.translate(t))],behaviours:ao([Fn.config({})])}),Xu=Vo("update-menu-text"),Vh=Vo("update-menu-icon"),nz=(t,s,a,i)=>{const d=nn(X),g=t.text.map(ae=>Ls(oz(ae,s,a.providers))),p=t.icon.map(ae=>Ls(Hh(ae,a.providers.icons))),x=(ae,Fe)=>{const pe=$o.getValue(ae);return Bn.focus(pe),bn(pe,"keydown",{raw:Fe.event.raw}),Dd.close(pe),_.some(!0)},k=t.role.fold(()=>({}),ae=>({role:ae})),T=_.from(t.listRole).map(ae=>({listRole:ae})).getOr({}),z=t.ariaLabel.fold(()=>({}),ae=>({"aria-label":a.providers.translate(ae)})),M=Wu("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},a.providers.icons),H=Vo("common-button-display-events"),j="dropdown-events";return Ls(Dd.sketch({...t.uid?{uid:t.uid}:{},...k,...T,dom:{tag:"button",classes:[s,`${s}--select`].concat(ke(t.classes,ae=>`${s}--${ae}`)),attributes:{...z,...to(i)?{"data-mce-name":i}:{}}},components:ay([p.map(ae=>ae.asSpec()),g.map(ae=>ae.asSpec()),_.some(M)]),matchWidth:!0,useMinWidth:!0,onOpen:(ae,Fe,pe)=>{t.searchable&&_8(pe)},dropdownBehaviours:ao([...t.dropdownBehaviours,yf.button(()=>t.disabled||a.providers.isDisabled()),Sc(),I1.config({}),Fn.config({}),...t.tooltip.map(ae=>va.config(a.providers.tooltips.getConfig({tooltipText:a.providers.translate(ae)}))).toArray(),Jn(j,[Oi(t,d),Rh(t,d)]),Jn(H,[Mr((ae,Fe)=>t.listRole==="listbox"?X:ez(ae))]),Jn("menubutton-update-display-text",[Rt(Xu,(ae,Fe)=>{g.bind(pe=>pe.getOpt(ae)).each(pe=>{Fn.set(pe,[aa(a.providers.translate(Fe.event.text))])})}),Rt(Vh,(ae,Fe)=>{p.bind(pe=>pe.getOpt(ae)).each(pe=>{Fn.set(pe,[Hh(Fe.event.icon,a.providers.icons)])})})])]),eventOrder:br(Q3,{[ma()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[xi()]:["toolbar-button-events",va.name(),j,H]}),sandboxBehaviours:ao([pn.config({mode:"special",onLeft:x,onRight:x}),Jn("dropdown-sandbox-events",[Rt(SN,(ae,Fe)=>{x8(ae),Fe.stop()}),Rt(h4,(ae,Fe)=>{rS(ae,Fe),Fe.stop()})])]),lazySink:a.getSink,toggleClass:`${s}--active`,parts:{menu:{...Rw(!1,t.columns,t.presets),fakeFocus:t.searchable,...t.listRole==="listbox"?{}:{onHighlightItem:qM,onCollapseMenu:(ae,Fe,pe)=>{rn.getHighlighted(pe).each(De=>{qM(ae,pe,De)})},onDehighlightItem:k8}}},getAnchorOverrides:()=>({maxHeightFunction:(ae,Fe)=>{c2()(ae,Fe-10)}}),fetch:ae=>ri.nu(co(t.fetch,ae))})).asSpec()},aH=t=>Re(t),sB=t=>t.type==="separator",rB=t=>Gn(t,"getSubmenuItems"),cH={type:"separator"},aB=(t,s)=>{const a=Ue(t,(i,d)=>aH(d)?d===""?i:d==="|"?i.length>0&&!sB(i[i.length-1])?i.concat([cH]):i:Gn(s,d.toLowerCase())?i.concat([s[d.toLowerCase()]]):i:i.concat([d]),[]);return a.length>0&&sB(a[a.length-1])&&a.pop(),a},iH=(t,s)=>{const a=t.getSubmenuItems(),i=ES(a,s),d=br(i.menus,{[t.value]:i.items}),g=br(i.expansions,{[t.value]:t.value});return{item:t,menus:d,expansions:g}},lH=t=>{const s=Kt(t,"value").getOrThunk(()=>Vo("generated-menu-item"));return br({value:s},t)},ES=(t,s)=>{const a=aB(Re(t)?t.split(" "):t,s);return Nt(a,(i,d)=>{if(rB(d)){const g=lH(d),p=iH(g,s);return{menus:br(i.menus,p.menus),items:[p.item,...i.items],expansions:br(i.expansions,p.expansions)}}else return{...i,items:[d,...i.items]}},{menus:{},expansions:{},items:[]})},uH=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),dH=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),V1=(t,s,a,i)=>{const d=Vo("primary-menu"),g=ES(t,a.shared.providers.menuItems());if(g.items.length===0)return _.none();const p=uH(i),x=d3(d,g.items,s,a,i.isHorizontalMenu,p),k=dH(i),T=Mo(g.menus,(M,H)=>d3(H,M,s,a,!1,k)),z=br(T,Qn(d,x));return _.from(Sh.tieredData(d,z,g.expansions))},U1=t=>!Gn(t,"items"),cB="data-value",sz=(t,s,a,i,d)=>ke(a,g=>U1(g)?{type:"togglemenuitem",...d?{}:{role:"option"},text:g.text,value:g.value,active:g.value===i,onAction:()=>{$o.setValue(t,g.value),bn(t,Il,{name:s}),Bn.focus(t)}}:{type:"nestedmenuitem",text:g.text,getSubmenuItems:()=>sz(t,s,g.items,i,d)}),rz=(t,s)=>Ut(t,a=>U1(a)?Qo(a.value===s,a):rz(a.items,s)),iB=(t,s,a)=>{const i=yo(t.items,T=>!U1(T)),d=s.shared.providers,g=a.bind(T=>rz(t.items,T)).orThunk(()=>ho(t.items).filter(U1)),p=t.label.map(T=>Mh(T,d)),x=tr.parts.field({dom:{},factory:{sketch:T=>nz({uid:T.uid,text:g.map(z=>z.text),icon:_.none(),tooltip:_.none(),role:Qo(!i,"combobox"),...i?{}:{listRole:"listbox"},ariaLabel:t.label,fetch:(z,M)=>{const H=sz(z,t.name,t.items,$o.getValue(z),i);M(V1(H,hf.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:_.none()}))},onSetup:U(X),getApi:U({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[zr.config({}),Fh(g.map(z=>z.value),z=>on(z.element,cB),(z,M)=>{rz(t.items,M).each(H=>{Oo(z.element,cB,H.value),bn(z,Xu,{text:H.text})})})]},"tox-listbox",s.shared)}}),k={dom:{tag:"div",classes:["tox-listboxfield"]},components:[x]};return tr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:he([p.toArray(),[k]]),fieldBehaviours:ao([l.config({disabled:U(!t.enabled),onDisabled:T=>{tr.getField(T).each(l.disable)},onEnabled:T=>{tr.getField(T).each(l.enable)}})])})},fH=(t,s)=>({dom:{tag:"div",classes:t.classes},components:ke(t.items,s.shared.interpreter)}),mH=(t,s)=>{const a=ke(t.options,d=>({dom:{tag:"option",value:d.value,innerHtml:d.text}})),i=t.data.map(d=>Qn("initialValue",d)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:a,behaviours:_c(t.selectBehaviours,[Bn.config({}),$o.config({store:{mode:"manual",getValue:d=>Wf(d.element),setValue:(d,g)=>{const p=ho(t.options);K(t.options,k=>k.value===g).isSome()?Um(d.element,g):d.element.dom.selectedIndex===-1&&g===""&&p.each(k=>Um(d.element,k.value))},...i}})])}},gH=pl({name:"HtmlSelect",configFields:[Ot("options"),kc("selectBehaviours",[Bn,$o]),Ve("selectClasses",[]),Ve("selectAttributes",{}),Os("data")],factory:mH}),pH=(t,s,a)=>{const i=ke(t.items,k=>({text:s.translate(k.text),value:k.value})),d=t.label.map(k=>Mh(k,s)),g=tr.parts.field({dom:{},...a.map(k=>({data:k})).getOr({}),selectAttributes:{size:t.size},options:i,factory:gH,selectBehaviours:ao([l.config({disabled:()=>!t.enabled||s.isDisabled()}),zr.config({}),Jn("selectbox-change",[Rt(Up(),(k,T)=>{bn(k,Il,{name:t.name})})])])}),p=t.size>1?_.none():_.some(Wu("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),x={dom:{tag:"div",classes:["tox-selectfield"]},components:he([[g],p.toArray()])};return tr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:he([d.toArray(),[x]]),fieldBehaviours:ao([l.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:k=>{tr.getField(k).each(l.disable)},onEnabled:k=>{tr.getField(k).each(l.enable)}}),Sc()])})},hH=U([Ve("field1Name","field1"),Ve("field2Name","field2"),sf("onLockedChange"),Yg(["lockClass"]),Ve("locked",!1),du.field("coupledFieldBehaviours",[Es,$o])]),lB=(t,s,a)=>eo(t,s,a).bind(Es.getCurrent),uB=(t,s)=>qc({factory:tr,name:t,overrides:a=>({fieldBehaviours:ao([Jn("coupled-input-behaviour",[Rt(Qd(),i=>{lB(i,a,s).each(d=>{eo(i,a,"lock").each(g=>{rs.isOn(g)&&a.onLockedChange(i,d,g)})})})])])})}),bH=U([uB("field1","field2"),uB("field2","field1"),qc({factory:si,schema:[Ot("dom")],name:"lock",overrides:t=>({buttonBehaviours:ao([rs.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),dB=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,behaviours:du.augment(t.coupledFieldBehaviours,[Es.config({find:_.some}),$o.config({store:{mode:"manual",getValue:d=>{const g=fp(d,t,["field1","field2"]);return{[t.field1Name]:$o.getValue(g.field1()),[t.field2Name]:$o.getValue(g.field2())}},setValue:(d,g)=>{const p=fp(d,t,["field1","field2"]);hr(g,t.field1Name)&&$o.setValue(p.field1(),g[t.field1Name]),hr(g,t.field2Name)&&$o.setValue(p.field2(),g[t.field2Name])}}})]),apis:{getField1:d=>eo(d,t,"field1"),getField2:d=>eo(d,t,"field2"),getLock:d=>eo(d,t,"lock")}}),Ju=mi({name:"FormCoupledInputs",configFields:hH(),partFields:bH(),factory:dB,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),yH=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},a=d=>d in s?s[d]:1;let i=t.value.toFixed(a(t.unit));return i.indexOf(".")!==-1&&(i=i.replace(/\.?0*$/,"")),i+t.unit},az=t=>{const a=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(a!==null){const i=parseFloat(a[1]),d=a[2];return Kn.value({value:i,unit:d})}else return Kn.error(t)},cz=(t,s)=>{const a={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},i=d=>Gn(a,d);return t.unit===s?_.some(t.value):i(t.unit)&&i(s)?a[t.unit]===a[s]?_.some(t.value):_.some(t.value/a[t.unit]*a[s]):_.none()},iz=t=>_.none(),vH=(t,s)=>a=>cz(a,s).map(i=>({value:i*t,unit:s})),xH=(t,s)=>{const a=az(t).toOptional(),i=az(s).toOptional();return ea(a,i,(d,g)=>cz(d,g.unit).map(p=>g.value/p).map(p=>vH(p,g.unit)).getOr(iz)).getOr(iz)},fB=(t,s)=>{let a=iz;const i=Vo("ratio-event"),d=j=>Wu(j,{tag:"span",classes:["tox-icon","tox-lock-icon__"+j]},s.icons),g=t.label.getOr("Constrain proportions"),p=s.translate(g),x=Ju.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":p,"data-mce-name":g}},components:[d("lock"),d("unlock")],buttonBehaviours:ao([l.config({disabled:()=>!t.enabled||s.isDisabled()}),Sc(),zr.config({}),va.config(s.tooltips.getConfig({tooltipText:p}))])}),k=j=>({dom:{tag:"div",classes:["tox-form__group"]},components:j}),T=j=>tr.parts.field({factory:oy,inputClasses:["tox-textfield"],inputBehaviours:ao([l.config({disabled:()=>!t.enabled||s.isDisabled()}),Sc(),zr.config({}),Jn("size-input-events",[Rt(md(),(ee,ae)=>{bn(ee,i,{isField1:j})}),Rt(Up(),(ee,ae)=>{bn(ee,Il,{name:t.name})})])]),selectOnFocus:!1}),z=j=>({dom:{tag:"label",classes:["tox-label"]},components:[aa(s.translate(j))]}),M=Ju.parts.field1(k([tr.parts.label(z("Width")),T(!0)])),H=Ju.parts.field2(k([tr.parts.label(z("Height")),T(!1)]));return Ju.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[M,H,k([z(ep),x])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(j,ee,ae)=>{az($o.getValue(j)).each(Fe=>{a(Fe).each(pe=>{$o.setValue(ee,yH(pe))})})},coupledFieldBehaviours:ao([l.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:j=>{Ju.getField1(j).bind(tr.getField).each(l.disable),Ju.getField2(j).bind(tr.getField).each(l.disable),Ju.getLock(j).each(l.disable)},onEnabled:j=>{Ju.getField1(j).bind(tr.getField).each(l.enable),Ju.getField2(j).bind(tr.getField).each(l.enable),Ju.getLock(j).each(l.enable)}}),Sc(),Jn("size-input-events2",[Rt(i,(j,ee)=>{const ae=ee.event.isField1,Fe=ae?Ju.getField1(j):Ju.getField2(j),pe=ae?Ju.getField2(j):Ju.getField1(j),De=Fe.map($o.getValue).getOr(""),Ne=pe.map($o.getValue).getOr("");a=xH(De,Ne)})])])})},mB=(t,s,a)=>{const i=Rd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[aa(s.translate(t.label))]}),d=Rd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),g=Rd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Rd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:U(a.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[i,d,g],sliderBehaviours:ao([vf.self(),Bn.config({})]),onChoose:(p,x,k)=>{bn(p,Il,{name:t.name,value:k})},onChange:(p,x,k)=>{bn(p,Il,{name:t.name,value:k})}})},gB=(t,s)=>{const a=x=>({dom:{tag:"th",innerHtml:s.translate(x)}}),i=x=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:ke(x,a)}]}),d=x=>({dom:{tag:"td",innerHtml:s.translate(x)}}),g=x=>({dom:{tag:"tr"},components:ke(x,d)}),p=x=>({dom:{tag:"tbody"},components:ke(x,g)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[i(t.header),p(t.cells)],behaviours:ao([zr.config({}),Bn.config({})])}},hk=(t,s)=>{const a=t.label.map(j=>Mh(j,s)),i=[l.config({disabled:()=>t.disabled||s.isDisabled()}),Sc(),pn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:j=>(ns(j,Qw),_.some(!0))}),Jn("textfield-change",[Rt(Qd(),(j,ee)=>{bn(j,Il,{name:t.name})}),Rt(Ff(),(j,ee)=>{bn(j,Il,{name:t.name})})]),zr.config({})],d=t.validation.map(j=>am.config({getRoot:ee=>fc(ee.element),invalidClass:"tox-invalid",validator:{validate:ee=>{const ae=$o.getValue(ee),Fe=j.validator(ae);return ri.pure(Fe===!0?Kn.value(ae):Kn.error(Fe))},validateOnLoad:j.validateOnLoad}})).toArray(),g=t.placeholder.fold(U({}),j=>({placeholder:s.translate(j)})),p=t.inputMode.fold(U({}),j=>({inputmode:j})),x={...g,...p,"data-mce-name":t.name},k=tr.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(j=>({data:j})).getOr({}),inputAttributes:x,inputClasses:[t.classname],inputBehaviours:ao(he([i,d])),selectOnFocus:!1,factory:oy}),T=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[k]}:k,M=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),H=[l.config({disabled:()=>t.disabled||s.isDisabled(),onDisabled:j=>{tr.getField(j).each(l.disable)},onEnabled:j=>{tr.getField(j).each(l.enable)}}),Sc()];return Jw(a,T,M,H)},wH=(t,s,a)=>hk({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:_.none(),maximized:t.maximized,data:a},s),kH=(t,s,a)=>hk({name:t.name,multiline:!0,label:t.label,inputMode:_.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:_.none(),maximized:t.maximized,data:a},s),bk=(t,s)=>s.getAnimationRoot.fold(()=>t.element,a=>a(t)),Ap=t=>t.dimension.property,Uh=(t,s)=>t.dimension.getDimension(s),TS=(t,s)=>{const a=bk(t,s);cl(a,[s.shrinkingClass,s.growingClass])},lz=(t,s)=>{ra(t.element,s.openClass),Tr(t.element,s.closedClass),Dt(t.element,Ap(s),"0px"),rc(t.element)},uz=(t,s)=>{ra(t.element,s.closedClass),Tr(t.element,s.openClass),Zn(t.element,Ap(s))},dz=(t,s,a,i)=>{a.setCollapsed(),Dt(t.element,Ap(s),Uh(s,t.element)),TS(t,s),lz(t,s),s.onStartShrink(t),s.onShrunk(t)},pB=(t,s,a,i)=>{const d=i.getOrThunk(()=>Uh(s,t.element));a.setCollapsed(),Dt(t.element,Ap(s),d),rc(t.element);const g=bk(t,s);ra(g,s.growingClass),Tr(g,s.shrinkingClass),lz(t,s),s.onStartShrink(t)},hB=(t,s,a)=>{const i=Uh(s,t.element);(i==="0px"?dz:pB)(t,s,a,_.some(i))},bB=(t,s,a)=>{const i=bk(t,s),d=al(i,s.shrinkingClass),g=Uh(s,t.element);uz(t,s);const p=Uh(s,t.element);(d?()=>{Dt(t.element,Ap(s),g),rc(t.element)}:()=>{lz(t,s)})(),ra(i,s.shrinkingClass),Tr(i,s.growingClass),uz(t,s),Dt(t.element,Ap(s),p),a.setExpanded(),s.onStartGrow(t)},yB=(t,s,a)=>{if(a.isExpanded()){Zn(t.element,Ap(s));const i=Uh(s,t.element);Dt(t.element,Ap(s),i)}},_H=(t,s,a)=>{a.isExpanded()||bB(t,s,a)},CH=(t,s,a)=>{a.isExpanded()&&hB(t,s,a)},Ln=(t,s,a)=>{a.isExpanded()&&dz(t,s,a)},yk=(t,s,a)=>a.isExpanded(),vB=(t,s,a)=>a.isCollapsed(),fz=(t,s,a)=>{const i=bk(t,s);return al(i,s.growingClass)===!0},mz=(t,s,a)=>{const i=bk(t,s);return al(i,s.shrinkingClass)===!0};var vk=Object.freeze({__proto__:null,refresh:yB,grow:_H,shrink:CH,immediateShrink:Ln,hasGrown:yk,hasShrunk:vB,isGrowing:fz,isShrinking:mz,isTransitioning:(t,s,a)=>fz(t,s)||mz(t,s),toggleGrow:(t,s,a)=>{(a.isExpanded()?hB:bB)(t,s,a)},disableTransitions:TS,immediateGrow:(t,s,a)=>{a.isExpanded()||(uz(t,s),Dt(t.element,Ap(s),Uh(s,t.element)),TS(t,s),a.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),AH=Object.freeze({__proto__:null,exhibit:(t,s,a)=>{const i=s.expanded;return sl(i?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:Qn(s.dimension.property,"0px")})},events:(t,s)=>Er([jp(gd(),(a,i)=>{i.event.raw.propertyName===t.dimension.property&&(TS(a,t),s.isExpanded()&&Zn(a.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(a))})])}),zH=[Ot("closedClass"),Ot("openClass"),Ot("shrinkingClass"),Ot("growingClass"),Os("getAnimationRoot"),ks("onShrunk"),ks("onStartShrink"),ks("onGrown"),ks("onStartGrow"),Ve("expanded",!1),Bs("dimension",Ka("property",{width:[cr("property","width"),cr("getDimension",t=>G(t)+"px")],height:[cr("property","height"),cr("getDimension",t=>Xs(t)+"px")]}))],xB=Object.freeze({__proto__:null,init:t=>{const s=nn(t.expanded),a=()=>"expanded: "+s.get();return rl({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:co(s.set,!1),setExpanded:co(s.set,!0),readState:a})}});const Yi=Rc({fields:zH,name:"sliding",active:AH,apis:vk,state:xB}),gz=t=>({isEnabled:()=>!l.isDisabled(t),setEnabled:s=>l.set(t,!s),setActive:s=>{const a=t.element;s?(Tr(a,"tox-tbtn--enabled"),Oo(a,"aria-pressed",!0)):(ra(a,"tox-tbtn--enabled"),B(a,"aria-pressed"))},isActive:()=>al(t.element,"tox-tbtn--enabled"),setText:s=>{bn(t,Xu,{text:s})},setIcon:s=>bn(t,Vh,{icon:s})}),xk=(t,s,a,i,d=!0,g)=>nz({text:t.text,icon:t.icon,tooltip:t.tooltip,ariaLabel:t.tooltip,searchable:t.search.isSome(),role:i,fetch:(p,x)=>{const k={pattern:t.search.isSome()?C8(p):""};t.fetch(T=>{x(V1(T,hf.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:t.search}))},k,gz(p))},onSetup:t.onSetup,getApi:gz,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...d?[zr.config({})]:[]]},s,a.shared,g),OH=(t,s,a)=>{const i=g=>p=>{const x=!p.isActive();p.setActive(x),g.storage.set(x),a.shared.getSink().each(k=>{s().getOpt(k).each(T=>{zl(T.element),bn(T,ig,{name:g.name,value:g.storage.get()})})})},d=g=>p=>{p.setActive(g.storage.get())};return g=>{g(ke(t,p=>{const x=p.text.fold(()=>({}),k=>({text:k}));return{type:p.type,active:!1,...x,onAction:i(p),onSetup:d(p)}}))}},wB=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":t}},components:[aa(t)]}),kB=Vo("leaf-label-event-id"),pz=({leaf:t,onLeafAction:s,visible:a,treeId:i,selectedId:d,backstage:g})=>{const p=t.menu.map(k=>xk(k,"tox-mbtn",g,_.none(),a)),x=[wB(t.title)];return p.each(k=>x.push(k)),si.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(a?["tox-tree--leaf__label--visible"]:[])},components:x,role:"treeitem",action:k=>{s(t.id),k.getSystem().broadcastOn([`update-active-item-${i}`],{value:t.id})},eventOrder:{[Mu()]:[kB,"keying"]},buttonBehaviours:ao([...a?[zr.config({})]:[],rs.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Zi.config({channels:{[`update-active-item-${i}`]:{onReceive:(k,T)=>{(T.value===t.id?rs.on:rs.off)(k)}}}}),Jn(kB,[Mr((k,T)=>{d.each(z=>{(z===t.id?rs.on:rs.off)(k)})}),Rt(Mu(),(k,T)=>{const z=T.event.raw.code==="ArrowLeft",M=T.event.raw.code==="ArrowRight";z?(jm(k.element,".tox-tree--directory").each(H=>{k.getSystem().getByDom(H).each(j=>{cx(H,".tox-tree--directory__label").each(ee=>{j.getSystem().getByDom(ee).each(Bn.focus)})})}),T.stop()):M&&T.stop()})])])})},DH=(t,s,a)=>Wu(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:a},s),RH=(t,s)=>DH(t,s,[]),_B=Vo("directory-label-event-id"),NH=({directory:t,visible:s,noChildren:a,backstage:i})=>{const d=t.menu.map(x=>xk(x,"tox-mbtn",i,_.none())),g=[{dom:{tag:"div",classes:["tox-chevron"]},components:[RH("chevron-right",i.shared.providers.icons)]},wB(t.title)];d.each(x=>{g.push(x)});const p=x=>{jm(x.element,".tox-tree--directory").each(k=>{x.getSystem().getByDom(k).each(T=>{const z=!rs.isOn(T);rs.toggle(T),bn(x,"expand-tree-node",{expanded:z,node:t.id})})})};return si.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:g,action:p,eventOrder:{[Mu()]:[_B,"keying"]},buttonBehaviours:ao([...s?[zr.config({})]:[],Jn(_B,[Rt(Mu(),(x,k)=>{const T=k.event.raw.code==="ArrowRight",z=k.event.raw.code==="ArrowLeft";T&&a&&k.stop(),(T||z)&&jm(x.element,".tox-tree--directory").each(M=>{x.getSystem().getByDom(M).each(H=>{!rs.isOn(H)&&T||rs.isOn(H)&&z?(p(x),k.stop()):z&&!rs.isOn(H)&&(jm(H.element,".tox-tree--directory").each(j=>{cx(j,".tox-tree--directory__label").each(ee=>{H.getSystem().getByDom(ee).each(Bn.focus)})}),k.stop())})})})])])})},MH=({children:t,onLeafAction:s,visible:a,treeId:i,expandedIds:d,selectedId:g,backstage:p})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(x=>x.type==="leaf"?pz({leaf:x,selectedId:g,onLeafAction:s,visible:a,treeId:i,backstage:p}):hz({directory:x,expandedIds:d,selectedId:g,onLeafAction:s,labelTabstopping:a,treeId:i,backstage:p})),behaviours:ao([Yi.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:a}),Fn.config({})])}),CB=Vo("directory-event-id"),hz=({directory:t,onLeafAction:s,labelTabstopping:a,treeId:i,backstage:d,expandedIds:g,selectedId:p})=>{const{children:x}=t,k=nn(g),T=M=>x.map(H=>H.type==="leaf"?pz({leaf:H,selectedId:p,onLeafAction:s,visible:M,treeId:i,backstage:d}):hz({directory:H,expandedIds:k.get(),selectedId:p,onLeafAction:s,labelTabstopping:M,treeId:i,backstage:d})),z=g.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[NH({directory:t,visible:a,noChildren:t.children.length===0,backstage:d}),MH({children:x,expandedIds:g,selectedId:p,onLeafAction:s,visible:z,treeId:i,backstage:d})],behaviours:ao([Jn(CB,[Mr((M,H)=>{rs.set(M,z)}),Rt("expand-tree-node",(M,H)=>{const{expanded:j,node:ee}=H.event;k.set(j?[...k.get(),ee]:k.get().filter(ae=>ae!==ee))})]),rs.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(M,H)=>{const j=M.components()[1],ee=T(H);H?Yi.grow(j):Yi.shrink(j),Fn.set(j,ee)}})])}},BH=Vo("tree-event-id"),PH=(t,s)=>{const a=t.onLeafAction.getOr(X),i=t.onToggleExpand.getOr(X),d=t.defaultExpandedIds,g=nn(d),p=nn(t.defaultSelectedId),x=Vo("tree-id"),k=(T,z)=>t.items.map(M=>M.type==="leaf"?pz({leaf:M,selectedId:T,onLeafAction:a,visible:!0,treeId:x,backstage:s}):hz({directory:M,selectedId:T,onLeafAction:a,expandedIds:z,labelTabstopping:!0,treeId:x,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:k(p.get(),g.get()),behaviours:ao([pn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Jn(BH,[Rt("expand-tree-node",(T,z)=>{const{expanded:M,node:H}=z.event;g.set(M?[...g.get(),H]:g.get().filter(j=>j!==H)),i(g.get(),{expanded:M,node:H})})]),Zi.config({channels:{[`update-active-item-${x}`]:{onReceive:(T,z)=>{p.set(_.some(z.value)),Fn.set(T,k(_.some(z.value),g.get()))}}}}),Fn.config({})])}};var $H=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.stream.streams.setup(t,s);return Er([Rt(t.event,i),tf(()=>s.cancel())].concat(t.cancelEvent.map(d=>[Rt(d,()=>s.cancel())]).getOr([])))}});const SB=t=>{const s=nn(null);return rl({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:g=>{s.set(g)},cancel:()=>{const g=s.get();g!==null&&g.cancel()}})};var IH=Object.freeze({__proto__:null,throttle:SB,init:t=>t.stream.streams.state(t)});const FH=(t,s)=>{const a=t.stream,i=W3(t.onStream,a.delay);return s.setTimer(i),(d,g)=>{i.throttle(d,g),a.stopEvent&&g.stop()}};var LH=[Bs("stream",Ka("mode",{throttle:[Ot("delay"),Ve("stopEvent",!0),cr("streams",{setup:FH,state:SB})]})),Ve("event","input"),Os("cancelEvent"),sf("onStream")];const bz=Rc({fields:LH,name:"streaming",active:$H,state:IH}),wk=(t,s,a)=>{const i=$o.getValue(a);$o.setValue(s,i),TB(s)},EB=(t,s)=>{const a=t.element,i=Wf(a),d=a.dom;on(a,"type")!=="number"&&s(d,i)},TB=t=>{EB(t,(s,a)=>s.setSelectionRange(a.length,a.length))},HH=(t,s)=>{EB(t,(a,i)=>a.setSelectionRange(s,i.length))},VH=(t,s,a)=>{if(t.selectsOver){const i=$o.getValue(s),d=t.getDisplayText(i),g=$o.getValue(a);return t.getDisplayText(g).indexOf(d)===0?_.some(()=>{wk(t,s,a),HH(s,d.length)}):_.none()}else return _.none()},yz=U("alloy.typeahead.itemexecute"),UH=(t,s,a,i)=>{const d=(M,H,j)=>{t.previewing.set(!1);const ee=Ta.getCoupled(M,"sandbox");if(Ss.isOpen(ee))Es.getCurrent(ee).each(ae=>{rn.getHighlighted(ae).fold(()=>{j(ae)},()=>{ef(ee,ae.element,"keydown",H)})});else{const ae=Fe=>{Es.getCurrent(Fe).each(j)};R1(t,p(M),M,ee,i,ae,Ea.HighlightMenuAndItem).get(X)}},g=kN(t),p=M=>H=>H.map(j=>{const ee=jr(j.menus),ae=V(ee,pe=>st(pe.items,De=>De.type==="item"));return $o.getState(M).update(ke(ae,pe=>pe.data)),j}),x=M=>Es.getCurrent(M),k="typeaheadevents",T=[Bn.config({}),$o.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:M=>Wf(M.element),getFallbackEntry:M=>({value:M,meta:{}}),setValue:(M,H)=>{Um(M.element,t.model.getDisplayText(H))},...t.initialData.map(M=>Qn("initialValue",M)).getOr({})}}),bz.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(M,H)=>{const j=Ta.getCoupled(M,"sandbox");if(Bn.isFocused(M)&&Wf(M.element).length>=t.minChars){const ae=x(j).bind(pe=>rn.getHighlighted(pe).map($o.getValue));t.previewing.set(!0);const Fe=pe=>{x(j).each(De=>{ae.fold(()=>{t.model.selectsOver&&rn.highlightFirst(De)},Ne=>{rn.highlightBy(De,At=>$o.getValue(At).value===Ne.value),rn.getHighlighted(De).orThunk(()=>(rn.highlightFirst(De),_.none()))})})};R1(t,p(M),M,j,i,Fe,Ea.HighlightJustMenu).get(X)}},cancelEvent:h0()}),pn.config({mode:"special",onDown:(M,H)=>(d(M,H,rn.highlightFirst),_.some(!0)),onEscape:M=>{const H=Ta.getCoupled(M,"sandbox");return Ss.isOpen(H)?(Ss.close(H),_.some(!0)):_.none()},onUp:(M,H)=>(d(M,H,rn.highlightLast),_.some(!0)),onEnter:M=>{const H=Ta.getCoupled(M,"sandbox"),j=Ss.isOpen(H);if(j&&!t.previewing.get())return x(H).bind(ee=>rn.getHighlighted(ee)).map(ee=>(bn(M,yz(),{item:ee}),!0));{const ee=$o.getValue(M);return ns(M,h0()),t.onExecute(H,M,ee),j&&Ss.close(H),_.some(!0)}}}),rs.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ta.config({others:{sandbox:M=>l3(t,M,{onOpen:()=>rs.on(M),onClose:()=>{t.lazyTypeaheadComp.get().each(H=>B(H.element,"aria-activedescendant")),rs.off(M)}})}}),Jn(k,[Mr(M=>{t.lazyTypeaheadComp.set(_.some(M))}),tf(M=>{t.lazyTypeaheadComp.set(_.none())}),Bu(M=>{const H=X;a3(t,p(M),M,i,H,Ea.HighlightMenuAndItem).get(X)}),Rt(yz(),(M,H)=>{const j=Ta.getCoupled(M,"sandbox");wk(t.model,M,H.event.item),ns(M,h0()),t.onItemExecute(M,j,H.event.item,$o.getValue(M)),Ss.close(j),TB(M)})].concat(t.dismissOnBlur?[Rt(Sm(),M=>{const H=Ta.getCoupled(M,"sandbox");Ei(H.element).isNone()&&Ss.close(H)})]:[]))],z={[au()]:[$o.name(),bz.name(),k],...t.eventOrder};return{uid:t.uid,dom:CN(br(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...g,..._c(t.typeaheadBehaviours,T)},eventOrder:z}},AB=U([Os("lazySink"),Ot("fetch"),Ve("minChars",5),Ve("responseTime",1e3),ks("onOpen"),Ve("getHotspot",_.some),Ve("getAnchorOverrides",U({})),Ve("layouts",_.none()),Ve("eventOrder",{}),A("model",{},[Ve("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),Ve("selectsOver",!0),Ve("populateFromBrowse",!0)]),ks("onSetValue"),Wi("onExecute"),ks("onItemExecute"),Ve("inputClasses",[]),Ve("inputAttributes",{}),Ve("inputStyles",{}),Ve("matchWidth",!0),Ve("useMinWidth",!1),Ve("dismissOnBlur",!0),Yg(["openClass"]),Os("initialData"),Os("listRole"),kc("typeaheadBehaviours",[Bn,$o,bz,pn,rs,Ta]),Ms("lazyTypeaheadComp",()=>nn(_.none)),Ms("previewing",()=>nn(!0))].concat(p4()).concat(sS())),jH=U([fu({schema:[Jp()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,a,i)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(d=>{VH(t.model,d,i).fold(()=>{t.model.selectsOver?(rn.dehighlight(a,i),t.previewing.set(!0)):t.previewing.set(!1)},g=>{g(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(d=>{t.model.populateFromBrowse&&wk(t.model,d,i),oa(i.element,"id").each(g=>Oo(d.element,"aria-activedescendant",g))})},onExecute:(s,a)=>t.lazyTypeaheadComp.get().map(i=>(bn(i,yz(),{item:a}),!0)),onHover:(s,a)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(i=>{t.model.populateFromBrowse&&wk(t.model,i,a)})}})})]),zB=mi({name:"Typeahead",configFields:AB(),partFields:jH(),factory:UH}),xf=t=>({...t,toCached:()=>xf(t.toCached()),bindFuture:k=>xf(t.bind(T=>T.fold(z=>ri.pure(Kn.error(z)),z=>k(z)))),bindResult:k=>xf(t.map(T=>T.bind(k))),mapResult:k=>xf(t.map(T=>T.map(k))),mapError:k=>xf(t.map(T=>T.mapError(k))),foldResult:(k,T)=>t.map(z=>z.fold(k,T)),withTimeout:(k,T)=>xf(ri.nu(z=>{let M=!1;const H=setTimeout(()=>{M=!0,z(Kn.error(T()))},k);t.get(j=>{M||(clearTimeout(H),z(j))})}))}),vz=t=>xf(ri.nu(t)),xz=t=>xf(ri.pure(Kn.value(t))),qH={nu:vz,wrap:xf,pure:xz,value:xz,error:t=>xf(ri.pure(Kn.error(t))),fromResult:t=>xf(ri.pure(t)),fromFuture:t=>xf(t.map(Kn.value)),fromPromise:t=>vz(s=>{t.then(a=>{s(Kn.value(a))},a=>{s(Kn.error(a))})})},kk=(t,s,a=[],i,d,g,p)=>{const x=s.fold(()=>({}),z=>({action:z})),k={buttonBehaviours:ao([yf.button(()=>!t.enabled||p.isDisabled()),Sc(),zr.config({}),...g.map(z=>va.config(p.tooltips.getConfig({tooltipText:p.translate(z)}))).toArray(),Jn("button press",[k0("click")])].concat(a)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...x},T=br(k,{dom:i});return br(T,{components:d})},GH=(t,s,a,i=[],d)=>{const g=t.tooltip.map(T=>({"aria-label":a.translate(T)})).getOr({}),p={tag:"button",classes:["tox-tbtn"],attributes:{...g,"data-mce-name":d}},x=t.icon.map(T=>SS(T,a.icons)),k=ay([x]);return kk(t,s,i,p,k,t.tooltip,a)},wz=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},wf=(t,s,a,i=[],d=[])=>{const g=a.translate(t.text),p=t.icon.map(j=>SS(j,a.icons)),x=[p.getOrThunk(()=>aa(g))],k=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),M={tag:"button",classes:[...wz(k),...p.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...d],attributes:{"aria-label":g,"data-mce-name":t.text}},H=t.icon.map(U(g));return kk(t,s,i,M,x,H,a)},_k=(t,s,a,i=[],d=[])=>{const g=wf(t,_.some(s),a,i,d);return si.sketch(g)},Ck=(t,s)=>a=>{s==="custom"?bn(a,ig,{name:t,value:{}}):s==="submit"?ns(a,Qw):s==="cancel"?ns(a,_p):console.error("Unknown button type: ",s)},KH=(t,s)=>s==="menu",kz=(t,s)=>s==="custom"||s==="cancel"||s==="submit",YH=(t,s)=>s==="togglebutton",_z=(t,s,a)=>{var i,d;const g=t.icon.map(Ne=>Hh(Ne,s.icons)).map(Ls),p=Ne=>{bn(Ne,ig,{name:t.name,value:{setIcon:At=>{g.map(ht=>ht.getOpt(Ne).each(Co=>{Fn.set(Co,[Hh(At,s.icons)])}))}}})},x=t.buttonType.getOr(t.primary?"primary":"secondary"),k={...t,name:(i=t.name)!==null&&i!==void 0?i:"",primary:x==="primary",tooltip:t.tooltip,enabled:(d=t.enabled)!==null&&d!==void 0?d:!1,borderless:!1},T=k.tooltip.or(t.text).map(Ne=>({"aria-label":s.translate(Ne)})).getOr({}),z=wz(x??"secondary"),M=t.icon.isSome()&&t.text.isSome(),H={tag:"button",classes:[...z.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...M?["tox-button--icon-and-text"]:[]],attributes:{...T,...to(a)?{"data-mce-name":a}:{}}},j=[],ee=s.translate(t.text.getOr("")),ae=aa(ee),pe=[...ay([g.map(Ne=>Ne.asSpec())]),...t.text.isSome()?[ae]:[]],De=kk(k,_.some(p),j,H,pe,t.tooltip,s);return si.sketch(De)},Sk=(t,s,a)=>{if(KH(t,s)){const i=()=>p,d=t,g={...t,type:"menubutton",search:_.none(),onSetup:x=>(x.setEnabled(t.enabled),X),fetch:OH(d.items,i,a)},p=Ls(xk(g,"tox-tbtn",a,_.none(),!0,t.text.or(t.tooltip).getOrUndefined()));return p.asSpec()}else if(kz(t,s)){const i=Ck(t.name,s),d={...t,borderless:!1};return _k(d,i,a.shared.providers,[])}else{if(YH(t,s))return _z(t,a.shared.providers,t.text.or(t.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},Cz=(t,s)=>{const a=Ck(t.name,"custom");return o5(_.none(),tr.parts.field({factory:si,...wf(t,_.some(a),s,[xS(""),vf.self()])}))},XH={type:"separator"},JH=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:X}),AS=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:X}),QH=t=>ke(t,JH),e9=(t,s)=>st(s,a=>a.type===t),zS=(t,s)=>QH(e9(t,s)),t9=t=>zS("header",t.targets),o9=t=>zS("anchor",t.targets),DB=t=>_.from(t.anchorTop).map(s=>AS("<top>",s)).toArray(),RB=t=>_.from(t.anchorBottom).map(s=>AS("<bottom>",s)).toArray(),n9=t=>ke(t,s=>AS(s,s)),s9=t=>Ue(t,(s,a)=>s.length===0||a.length===0?s.concat(a):s.concat(XH,a),[]),Sz=(t,s)=>{const a=t.toLowerCase();return st(s,i=>{var d;const g=i.meta!==void 0&&i.meta.text!==void 0?i.meta.text:i.text,p=(d=i.value)!==null&&d!==void 0?d:"";return Vn(g.toLowerCase(),a)||Vn(p.toLowerCase(),a)})},r9=(t,s,a)=>{var i,d;const g=$o.getValue(s),p=(d=(i=g==null?void 0:g.meta)===null||i===void 0?void 0:i.text)!==null&&d!==void 0?d:g.value;return a.getLinkInformation().fold(()=>[],k=>{const T=Sz(p,n9(a.getHistory(t)));return t==="file"?s9([T,Sz(p,t9(k)),Sz(p,he([DB(k),o9(k),RB(k)]))]):T})},Ez=Vo("aria-invalid"),cm=(t,s,a,i)=>{const d=s.shared.providers,g=De=>{const Ne=$o.getValue(De);a.addToHistory(Ne.value,t.filetype)},p={...i.map(De=>({initialData:De})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":Ez,type:"url"},minChars:0,responseTime:0,fetch:De=>{const Ne=r9(t.filetype,De,a),At=V1(Ne,hf.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:_.none()});return ri.pure(At)},getHotspot:De=>ee.getOpt(De),onSetValue:(De,Ne)=>{De.hasConfigured(am)&&am.run(De).get(X)},typeaheadBehaviours:ao([...a.getValidationHandler().map(De=>am.config({getRoot:Ne=>fc(Ne.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Ne,At)=>{z.getOpt(Ne).each(ht=>{Oo(ht.element,"title",d.translate(At))})}},validator:{validate:Ne=>{const At=$o.getValue(Ne);return qH.nu(ht=>{De({type:t.filetype,url:At.value},Co=>{if(Co.status==="invalid"){const Io=Kn.error(Co.message);ht(Io)}else{const Io=Kn.value(Co.message);ht(Io)}})})},validateOnLoad:!1}})).toArray(),l.config({disabled:()=>!t.enabled||d.isDisabled()}),zr.config({}),Jn("urlinput-events",[Rt(Qd(),De=>{const Ne=Wf(De.element),At=Ne.trim();At!==Ne&&Um(De.element,At),t.filetype==="file"&&bn(De,Il,{name:t.name})}),Rt(Up(),De=>{bn(De,Il,{name:t.name}),g(De)}),Rt(Ff(),De=>{bn(De,Il,{name:t.name}),g(De)})])]),eventOrder:{[Qd()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:De=>De.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:Rw(!1,1,"normal")},onExecute:(De,Ne,At)=>{bn(Ne,Qw,{})},onItemExecute:(De,Ne,At,ht)=>{g(De),bn(De,Il,{name:t.name})}},x=tr.parts.field({...p,factory:zB}),k=t.label.map(De=>Mh(De,d)),z=Ls(((De,Ne,At=De,ht=De)=>Wu(At,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+De],attributes:{title:d.translate(ht),"aria-live":"polite",...Ne.fold(()=>({}),Co=>({id:Co}))}},d.icons))("invalid",_.some(Ez),"warning")),M=Ls({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[z.asSpec()]}),H=a.getUrlPicker(t.filetype),j=Vo("browser.url.event"),ee=Ls({dom:{tag:"div",classes:["tox-control-wrap"]},components:[x,M.asSpec()],behaviours:ao([l.config({disabled:()=>!t.enabled||d.isDisabled()})])}),ae=Ls(_k({name:t.name,icon:_.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:_.none(),borderless:!0},De=>ns(De,j),d,[],["tox-browse-url"])),Fe=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:he([[ee.asSpec()],H.map(()=>ae.asSpec()).toArray()])}),pe=De=>{Es.getCurrent(De).each(Ne=>{const At=$o.getValue(Ne),ht={fieldname:t.name,...At};H.each(Co=>{Co(ht).get(Io=>{$o.setValue(Ne,Io),bn(De,Il,{name:t.name})})})})};return tr.sketch({dom:V8(),components:k.toArray().concat([Fe()]),fieldBehaviours:ao([l.config({disabled:()=>!t.enabled||d.isDisabled(),onDisabled:De=>{tr.getField(De).each(l.disable),ae.getOpt(De).each(l.disable)},onEnabled:De=>{tr.getField(De).each(l.enable),ae.getOpt(De).each(l.enable)}}),Sc(),Jn("url-input-events",[Rt(j,pe)])])})},Tz=(t,s)=>{const a=a4(t.icon,s.icons);return rm.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:a},components:t.url?[si.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:a,attributes:{title:s.translate(t.iconTooltip)}},action:i=>bn(i,ig,{name:"alert-banner",value:t.url}),buttonBehaviours:ao([OC()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},a9=(t,s)=>{t.dom.checked=s},c9=t=>t.dom.checked,i9=(t,s,a)=>{const i=k=>(k.element.dom.click(),_.some(!0)),d=tr.parts.field({factory:{sketch:zt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ao([vf.self(),l.config({disabled:()=>!t.enabled||s.isDisabled(),onDisabled:k=>{fc(k.element).each(T=>Tr(T,"tox-checkbox--disabled"))},onEnabled:k=>{fc(k.element).each(T=>ra(T,"tox-checkbox--disabled"))}}),zr.config({}),Bn.config({}),V3(a,c9,a9),pn.config({mode:"special",onEnter:i,onSpace:i,stopSpaceKeyup:!0}),Jn("checkbox-events",[Rt(Up(),(k,T)=>{bn(k,Il,{name:t.name})})])])}),g=tr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[aa(s.translate(t.label))],behaviours:ao([I1.config({})])}),p=k=>Wu(k==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+k]},s.icons),x=Ls({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[p("checked"),p("unchecked")]});return tr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,x.asSpec(),g],fieldBehaviours:ao([l.config({disabled:()=>!t.enabled||s.isDisabled()}),Sc()])})},l9=(t,s)=>{const a=["tox-form__group",...t.stretched?["tox-form__group--stretched"]:[]],i=Jn("htmlpanel",[Mr(d=>{t.onInit(d.element.dom)})]);return t.presets==="presentation"?rm.sketch({dom:{tag:"div",classes:a,innerHtml:t.html},containerBehaviours:ao([va.config({...s.tooltips.getConfig({tooltipText:"",onShow:d=>{Vr(d.element,"[data-mce-tooltip]:hover").orThunk(()=>Ei(d.element)).each(g=>{oa(g,"data-mce-tooltip").each(p=>{va.setComponents(d,s.tooltips.getComponents({tooltipText:p}))})})}}),mode:"children-normal",anchor:d=>({type:"node",node:Vr(d.element,"[data-mce-tooltip]:hover").orThunk(()=>Ei(d.element).filter(g=>oa(g,"data-mce-tooltip").isSome())),root:d.element,layouts:{onLtr:U([Qa,Ja,Xa,Qs,ba,jc]),onRtl:U([Qa,Ja,Xa,Qs,ba,jc])},bubble:Iu(0,-2,{})})}),i])}):rm.sketch({dom:{tag:"div",classes:a,innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:ao([zr.config({}),Bn.config({}),i])})},Ec=t=>(s,a,i,d,g)=>Kt(a,"name").fold(()=>t(a,d,_.none(),g),p=>s.field(p,t(a,d,Kt(i,p),g))),NB=t=>(s,a,i,d,g)=>{const p=br(a,{source:"dynamic"});return Ec(t)(s,p,i,d,g)},MB={bar:Ec((t,s)=>$8(t,s.shared)),collection:Ec((t,s,a)=>$1(t,s.shared.providers,a)),alertbanner:Ec((t,s)=>Tz(t,s.shared.providers)),input:Ec((t,s,a)=>wH(t,s.shared.providers,a)),textarea:Ec((t,s,a)=>kH(t,s.shared.providers,a)),label:Ec((t,s,a,i)=>oB(t,s.shared,i)),iframe:NB((t,s,a)=>oH(t,s.shared.providers,a)),button:Ec((t,s)=>Cz(t,s.shared.providers)),checkbox:Ec((t,s,a)=>i9(t,s.shared.providers,a)),colorinput:Ec((t,s,a)=>X8(t,s.shared,s.colorinput,a)),colorpicker:Ec((t,s,a)=>Z7(t,s.shared.providers,a)),dropzone:Ec((t,s,a)=>j3(t,s.shared.providers,a)),grid:Ec((t,s)=>K7(t,s.shared)),listbox:Ec((t,s,a)=>iB(t,s,a)),selectbox:Ec((t,s,a)=>pH(t,s.shared.providers,a)),sizeinput:Ec((t,s)=>fB(t,s.shared.providers)),slider:Ec((t,s,a)=>mB(t,s.shared.providers,a)),urlinput:Ec((t,s,a)=>cm(t,s,s.urlinput,a)),customeditor:Ec(q5),htmlpanel:Ec((t,s)=>l9(t,s.shared.providers)),imagepreview:Ec((t,s,a)=>J3(t,a)),table:Ec((t,s)=>gB(t,s.shared.providers)),tree:Ec((t,s)=>PH(t,s)),panel:Ec((t,s)=>fH(t,s))},dq={field:(t,s)=>s,record:U([])},u9=(t,s,a,i,d)=>{const g=br(i,{shared:{interpreter:p=>Kc(t,p,a,g,d)}});return Kc(t,s,a,g,d)},Kc=(t,s,a,i,d)=>Kt(MB,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),g=>g(t,s,a,i,d)),OS=(t,s,a,i)=>Kc(dq,t,s,a,i),jh="layout-inset",j1=t=>t.x,BB=(t,s)=>t.x+t.width/2-s.width/2,Az=(t,s)=>t.x+t.width-s.width,zz=t=>t.y,Oz=(t,s)=>t.y+t.height-s.height,PB=(t,s)=>t.y+t.height/2-s.height/2,DS=(t,s,a)=>xc(Az(t,s),Oz(t,s),a.insetSouthwest(),Uo(),"southwest",Nc(t,{right:0,bottom:3}),jh),RS=(t,s,a)=>xc(j1(t),Oz(t,s),a.insetSoutheast(),uv(),"southeast",Nc(t,{left:1,bottom:3}),jh),Ek=(t,s,a)=>xc(Az(t,s),zz(t),a.insetNorthwest(),ux(),"northwest",Nc(t,{right:0,top:2}),jh),W1=(t,s,a)=>xc(j1(t),zz(t),a.insetNortheast(),lv(),"northeast",Nc(t,{left:1,top:2}),jh),pu=(t,s,a)=>xc(BB(t,s),zz(t),a.insetNorth(),yb(),"north",Nc(t,{top:2}),jh),Z1=(t,s,a)=>xc(BB(t,s),Oz(t,s),a.insetSouth(),dx(),"south",Nc(t,{bottom:3}),jh),Dz=(t,s,a)=>xc(Az(t,s),PB(t,s),a.insetEast(),H_(),"east",Nc(t,{right:0}),jh),$B=(t,s,a)=>xc(j1(t),PB(t,s),a.insetWest(),L_(),"west",Nc(t,{left:1}),jh),IB=t=>{switch(t){case"north":return pu;case"northeast":return W1;case"northwest":return Ek;case"south":return Z1;case"southeast":return RS;case"southwest":return DS;case"east":return Dz;case"west":return $B}},FB=(t,s,a,i,d)=>X_(i).map(IB).getOr(pu)(t,s,a,i,d),d9=t=>{switch(t){case"north":return Z1;case"northeast":return RS;case"northwest":return DS;case"south":return pu;case"southeast":return W1;case"southwest":return Ek;case"east":return $B;case"west":return Dz}},LB=(t,s,a,i,d)=>X_(i).map(d9).getOr(pu)(t,s,a,i,d),NS={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},fq=(t,s,a)=>{const d={maxHeightFunction:sh()},g=()=>({type:"node",root:gc(Xr(t())),node:_.from(t()),bubble:Iu(12,12,NS),layouts:{onRtl:()=>[W1],onLtr:()=>[Ek]},overrides:d}),p=()=>({type:"hotspot",hotspot:s(),bubble:Iu(-12,12,NS),layouts:{onRtl:()=>[Xa,ba,Qa],onLtr:()=>[ba,Xa,Qa]},overrides:d});return()=>a()?g():p()},f9=(t,s,a,i)=>{const g={maxHeightFunction:sh()},p=()=>({type:"node",root:gc(Xr(s())),node:_.from(s()),bubble:Iu(12,12,NS),layouts:{onRtl:()=>[pu],onLtr:()=>[pu]},overrides:g}),x=()=>t?{type:"node",root:gc(Xr(s())),node:_.from(s()),bubble:Iu(0,-Bi(s()),NS),layouts:{onRtl:()=>[Ja],onLtr:()=>[Ja]},overrides:g}:{type:"hotspot",hotspot:a(),bubble:Iu(0,0,NS),layouts:{onRtl:()=>[Ja],onLtr:()=>[Ja]},overrides:g};return()=>i()?p():x()},m9=(t,s,a)=>{const i=()=>({type:"node",root:gc(Xr(t())),node:_.from(t()),layouts:{onRtl:()=>[pu],onLtr:()=>[pu]}}),d=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Qa],onLtr:()=>[Qa]}});return()=>a()?i():d()},g9=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const a=t.selection.getRng(),i=t.model.table.getSelectedCells();if(i.length>1){const d=i[0],g=i[i.length-1],p={firstCell:Ae.fromDom(d),lastCell:Ae.fromDom(g)};return _.some(p)}return _.some(Jm.range(Ae.fromDom(a.startContainer),a.startOffset,Ae.fromDom(a.endContainer),a.endOffset))}}),HB=t=>s=>({type:"node",root:t(),node:s}),Rz=(t,s,a,i)=>{const d=x1(t),g=()=>Ae.fromDom(t.getBody()),p=()=>Ae.fromDom(t.getContentAreaContainer()),x=()=>d||!i();return{inlineDialog:fq(p,s,x),inlineBottomDialog:f9(t.inline,p,a,x),banner:m9(p,s,x),cursor:g9(t,g),node:HB(g)}},p9=t=>(s,a)=>{BM(t)(s,a)},h9=t=>()=>EM(t),VB=t=>s=>oS(t,s),b9=t=>s=>SM(t,s),y9=t=>({colorPicker:p9(t),hasCustomColors:h9(t),getColors:VB(t),getColorCols:b9(t)}),v9=t=>()=>XR(t),x9=t=>({isDraggableModal:v9(t)}),Nz=t=>{const s=nn(kw(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},Mz=t=>hr(t,"items"),UB=t=>hr(t,"format"),jB=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],w9=t=>Gn(t,"items"),k9=t=>Gn(t,"block"),WB=t=>Gn(t,"inline"),_9=t=>Gn(t,"selector"),Tk=t=>Ue(t,(s,a)=>{if(w9(a)){const i=Tk(a.items);return{customFormats:s.customFormats.concat(i.customFormats),formats:s.formats.concat([{title:a.title,items:i.formats}])}}else if(WB(a)||k9(a)||_9(a)){const d=`custom-${Re(a.name)?a.name:a.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:d,format:a}]),formats:s.formats.concat([{title:a.title,format:d,icon:a.icon}])}}else return{...s,formats:s.formats.concat(a)}},{customFormats:[],formats:[]}),C9=(t,s)=>{const a=Tk(s),i=d=>{Xe(d,g=>{t.formatter.has(g.name)||t.formatter.register(g.name,g.format)})};return t.formatter?i(a.customFormats):t.on("init",()=>{i(a.customFormats)}),a.formats},Ak=t=>LR(t).map(s=>{const a=C9(t,s);return HR(t)?jB.concat(a):a}).getOr(jB),S9=t=>{const s=io(t);return s.length===1&&vt(s,"title")},MS=(t,s,a)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:a(t.format)}),q1=(t,s,a,i)=>{const d=k=>MS(k,a,i),g=k=>{const T=x(k.items);return{...k,type:"submenu",getStyleItems:U(T)}},p=k=>{const T=Re(k.name)?k.name:Vo(k.title),z=`custom-${T}`,M={...k,type:"formatter",format:z,isSelected:a(z),getStylePreview:i(z)};return t.formatter.register(T,M),M},x=k=>ke(k,T=>Mz(T)?g(T):UB(T)?d(T):S9(T)?{...T,type:"separator"}:p(T));return x(s)},ZB=t=>{const s=x=>()=>t.formatter.match(x),a=x=>()=>{const k=t.formatter.get(x);return k!==void 0?_.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(x))}):_.none()},i=nn([]),d=nn([]),g=nn(!1);return t.on("PreInit",x=>{const k=Ak(t),T=q1(t,k,s,a);i.set(T)}),t.on("addStyleModifications",x=>{const k=q1(t,x.items,s,a);d.set(k),g.set(x.replace)}),{getData:()=>{const x=g.get()?[]:i.get(),k=d.get();return x.concat(k)}}},E9=t=>{let i=0;const d=()=>i>0,g=x=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[aa(x.tooltipText)]}];return{getConfig:x=>({delayForShow:()=>d()?60:300,delayForHide:U(300),exclusive:!0,lazySink:t,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:g(x),onShow:(k,T)=>{i++,x.onShow&&x.onShow(k,T)},onHide:(k,T)=>{i--,x.onHide&&x.onHide(k,T)},onSetup:x.onSetup}),getComponents:g}},qB=t=>to(t)&&t.nodeType===1,GB=Tp.trim,Bz=t=>s=>!!(qB(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),T9=Bz("true"),Pz=Bz("false"),zk=(t,s,a,i,d)=>({type:t,title:s,url:a,level:i,attach:d}),A9=t=>{let s=t;for(;s=s.parentNode;){const a=s.contentEditable;if(a&&a!=="inherit")return T9(s)}return!1},z9=(t,s)=>ke(Mc(Ae.fromDom(s),t),a=>a.dom),py=t=>t.innerText||t.textContent,KB=t=>t.id?t.id:Vo("h"),O9=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,YB=t=>O9(t)&&PS(t),BS=t=>t&&/^(H[1-6])$/.test(t.nodeName),PS=t=>A9(t)&&!Pz(t),D9=t=>BS(t)&&PS(t),R9=t=>BS(t)?parseInt(t.nodeName.substr(1),10):0,N9=t=>{var s;const a=KB(t),i=()=>{t.id=a};return zk("header",(s=py(t))!==null&&s!==void 0?s:"","#"+a,R9(t),i)},$z=t=>{const s=t.id||t.name,a=py(t);return zk("anchor",a||"#"+s,"#"+s,0,X)},M9=t=>ke(st(t,D9),N9),B9=t=>ke(st(t,YB),$z),P9=t=>z9("h1,h2,h3,h4,h5,h6,a:not([href])",t),$9=t=>GB(t.title).length>0,I9={find:t=>{const s=P9(t);return st(M9(s).concat(B9(s)),$9)}},$S="tinymce-url-history",Iz=5,XB=t=>Re(t)&&/^https?/.test(t),Ok=t=>po(t)&&t.length<=Iz&&re(t,XB),JB=t=>Pt(t)&&vn(t,s=>!Ok(s)).isNone(),QB=()=>{const t=uy.getItem($S);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(a){if(a instanceof SyntaxError)return console.log("Local storage "+$S+" was not valid JSON",a),{};throw a}return JB(s)?s:(console.log("Local storage "+$S+" was not valid format",s),{})},Fz=t=>{if(!JB(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));uy.setItem($S,JSON.stringify(t))},eP=t=>{const s=QB();return Kt(s,t).getOr([])},F9=(t,s)=>{if(!XB(t))return;const a=QB(),i=Kt(a,s).getOr([]),d=st(i,g=>g!==t);a[s]=[t].concat(d).slice(0,Iz),Fz(a)},tP=t=>!!t,L9=t=>Mo(Tp.makeMap(t,/[, ]/),tP),Lz=t=>_.from(GR(t)),H9=t=>{const s=_.from(RA(t)).filter(tP).map(L9);return Lz(t).fold(Oe,a=>s.fold(Me,i=>io(i).length>0?i:!1))},V9=(t,s)=>{const a=H9(t);return Ft(a)?a?Lz(t):_.none():a[s]?Lz(t):_.none()},U9=(t,s)=>V9(t,s).map(a=>i=>ri.nu(d=>{const g=(x,k)=>{if(!Re(x))throw new Error("Expected value to be string");if(k!==void 0&&!Pt(k))throw new Error("Expected meta to be a object");d({value:x,meta:k})},p={filetype:s,fieldname:i.fieldname,..._.from(i.meta).getOr({})};a.call(t,g,i.value,p)})),oP=t=>_.from(t).filter(Re).getOrUndefined(),j9=t=>NA(t)?_.some({targets:I9.find(t.getBody()),anchorTop:oP(YR(t)),anchorBottom:oP(yC(t))}):_.none(),gq=t=>_.from(KR(t)),W9=t=>({getHistory:eP,addToHistory:F9,getLinkInformation:()=>j9(t),getValidationHandler:()=>gq(t),getUrlPicker:s=>U9(t,s)}),nP=(t,s,a,i)=>{const d=nn(!1),g=Nz(s),p={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:ju.translate,isDisabled:()=>s.mode.isReadOnly()||!s.ui.isEnabled(),getOption:s.options.get,tooltips:E9(t.dialog)},x=W9(s),k=ZB(s),T=y9(s),z=x9(s),M=()=>d.get(),H=pe=>d.set(pe),j={shared:{providers:p,anchors:Rz(s,a,i,g.isPositionedAtTop),header:g},urlinput:x,styles:k,colorinput:T,dialog:z,isContextMenuOpen:M,setContextMenuState:H},ee=pe=>_.none(),ae={...j,shared:{...j.shared,interpreter:pe=>OS(pe,{},ae,ee),getSink:t.popup}},Fe={...j,shared:{...j.shared,interpreter:pe=>OS(pe,{},Fe,ee),getSink:t.dialog}};return{popup:ae,dialog:Fe}},sP=(t,s,a)=>{const i=(_t,Yo)=>{Xe([s,...a],wo=>{wo.broadcastEvent(_t,Yo)})},d=(_t,Yo)=>{Xe([s,...a],wo=>{wo.broadcastOn([_t],Yo)})},g=_t=>d(lf(),{target:_t.target}),p=el(),x=Ti(p,"touchstart",g),k=Ti(p,"touchmove",_t=>i(sb(),_t)),T=Ti(p,"touchend",_t=>i(b0(),_t)),z=Ti(p,"mousedown",g),M=Ti(p,"mouseup",_t=>{_t.raw.button===0&&d(Gv(),{target:_t.target})}),H=_t=>d(lf(),{target:Ae.fromDom(_t.target)}),j=_t=>{_t.button===0&&d(Gv(),{target:Ae.fromDom(_t.target)})},ee=()=>{Xe(t.editorManager.get(),_t=>{t!==_t&&_t.dispatch("DismissPopups",{relatedTarget:t})})},ae=_t=>i(Fg(),bx(_t)),Fe=_t=>{d(cp(),{}),i(bd(),bx(_t))},pe=Xr(Ae.fromDom(t.getElement())),De=hx(pe,"scroll",_t=>{requestAnimationFrame(()=>{const Yo=t.getContainer();if(Yo!=null){const tn=vp(t,s.element).map(fs=>[fs.element,...fs.others]).getOr([]);yo(tn,fs=>Ts(fs,_t.target))&&(t.dispatch("ElementScroll",{target:_t.target.dom}),i(s_(),_t))}})}),Ne=()=>d(cp(),{}),At=_t=>{_t.state&&d(lf(),{target:Ae.fromDom(t.getContainer())})},ht=_t=>{d(lf(),{target:Ae.fromDom(_t.relatedTarget.getContainer())})},Co=_t=>t.dispatch("focusin",_t),Io=_t=>t.dispatch("focusout",_t);t.on("PostRender",()=>{t.on("click",H),t.on("tap",H),t.on("mouseup",j),t.on("mousedown",ee),t.on("ScrollWindow",ae),t.on("ResizeWindow",Fe),t.on("ResizeEditor",Ne),t.on("AfterProgressState",At),t.on("DismissPopups",ht),Xe([s,...a],_t=>{_t.element.dom.addEventListener("focusin",Co),_t.element.dom.addEventListener("focusout",Io)})}),t.on("remove",()=>{t.off("click",H),t.off("tap",H),t.off("mouseup",j),t.off("mousedown",ee),t.off("ScrollWindow",ae),t.off("ResizeWindow",Fe),t.off("ResizeEditor",Ne),t.off("AfterProgressState",At),t.off("DismissPopups",ht),Xe([s,...a],_t=>{_t.element.dom.removeEventListener("focusin",Co),_t.element.dom.removeEventListener("focusout",Io)}),z.unbind(),x.unbind(),k.unbind(),T.unbind(),M.unbind(),De.unbind()}),t.on("detach",()=>{Xe([s,...a],$x),Xe([s,...a],_t=>_t.destroy())})},tc=K2,im=vD,Z9=U([Ve("shell",!1),Ot("makeItem"),Ve("setupItem",X),du.field("listBehaviours",[Fn])]),q9=Nl({name:"items",overrides:()=>({behaviours:ao([Fn.config({})])})}),G9=U([q9]),K9=U("CustomList"),Y9=(t,s,a,i)=>{const d=(x,k)=>{p(x).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},T=>{const z=Fn.contents(T),M=k.length,H=M-z.length,j=H>0?He(H,()=>t.makeItem()):[],ee=z.slice(M);Xe(ee,Fe=>Fn.remove(T,Fe)),Xe(j,Fe=>Fn.append(T,Fe));const ae=Fn.contents(T);Xe(ae,(Fe,pe)=>{t.setupItem(x,Fe,k[pe],pe)})})},g=t.shell?{behaviours:[Fn.config({})],components:[]}:{behaviours:[],components:s},p=x=>t.shell?_.some(x):eo(x,t,"items");return{uid:t.uid,dom:t.dom,components:g.components,behaviours:_c(t.listBehaviours,g.behaviours),apis:{setItems:d}}},rP=mi({name:K9(),configFields:Z9(),partFields:G9(),factory:Y9,apis:{setItems:(t,s,a)=>{t.setItems(s,a)}}}),hy=U([Ot("dom"),Ve("shell",!0),kc("toolbarBehaviours",[Fn])]),J9=U([Nl({name:"groups",overrides:()=>({behaviours:ao([Fn.config({})])})})]),aP=(t,s,a,i)=>{const d=(x,k)=>{g(x).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},T=>{Fn.set(T,k)})},g=x=>t.shell?_.some(x):eo(x,t,"groups"),p=t.shell?{behaviours:[Fn.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:p.components,behaviours:_c(t.toolbarBehaviours,p.behaviours),apis:{setGroups:d,refresh:X},domModification:{attributes:{role:"group"}}}},lm=mi({name:"Toolbar",configFields:hy(),partFields:J9(),factory:aP,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)}}}),Q9=X,eV=Oe,Wh=U([]);var cP=Object.freeze({__proto__:null,setup:Q9,isDocked:eV,getBehaviours:Wh});const by=U(Vo("toolbar-height-change")),Nd={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},Hz="tox-tinymce--toolbar-sticky-on",Vz="tox-tinymce--toolbar-sticky-off",iP=(t,s)=>{const a=ka(s),d=za(s).dom.innerHeight,g=zc(a),p=Ae.fromDom(t.elm),x=bi(p),k=Xs(p),T=x.y,z=T+k,M=Oa(s),H=Xs(s),j=M.top,ee=j+H,ae=Math.abs(j-g.top)<2,Fe=Math.abs(ee-(g.top+d))<2;if(ae&&T<ee)rd(g.left,T-H,a);else if(Fe&&z>j){const pe=T-d+k+H;rd(g.left,pe,a)}},Uz=(t,s)=>vt(Ar.getModes(t),s),jz=t=>{const s=i=>Bi(i)+(parseInt(Ns(i,"margin-top"),10)||0)+(parseInt(Ns(i,"margin-bottom"),10)||0),a=t.element;fc(a).each(i=>{const d="padding-"+Ar.getModes(t)[0];if(Ar.isDocked(t)){const g=G(i);Dt(a,"width",g+"px"),Dt(i,d,s(a)+"px")}else Zn(a,"width"),Zn(i,d)})},lP=(t,s)=>{s?(ra(t,Nd.fadeOutClass),qp(t,[Nd.transitionClass,Nd.fadeInClass])):(ra(t,Nd.fadeInClass),qp(t,[Nd.fadeOutClass,Nd.transitionClass]))},uP=(t,s)=>{const a=Ae.fromDom(t.getContainer());s?(Tr(a,Hz),ra(a,Vz)):(Tr(a,Vz),ra(a,Hz))},tV=(t,s)=>{const a=ka(s);kd(a).filter(i=>!Ts(s,i)).filter(i=>Ts(i,Ae.fromDom(a.dom.body))||Aa(t,i)).each(()=>zl(s))},oV=(t,s)=>Ei(t).orThunk(()=>s().toOptional().bind(a=>Ei(a.element))),G1=(t,s,a)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{a().each(Ar.reset)}),t.on("ResizeWindow ResizeEditor",()=>{a().each(jz)}),t.on("SkinLoaded",()=>{a().each(i=>{Ar.isDocked(i)?Ar.reset(i):Ar.refresh(i)})}),t.on("FullscreenStateChanged",()=>{a().each(Ar.reset)})),t.on("AfterScrollIntoView",i=>{a().each(d=>{Ar.refresh(d);const g=d.element;OD(g)&&iP(i,g)})}),t.on("PostRender",()=>{uP(t,!1)})},Dk=t=>t().map(Ar.isDocked).getOr(!1),Wz=()=>[Zi.config({channels:{[by()]:{onReceive:jz}}})],dP=(t,s)=>{const a=js(),i=s.getSink,d=x=>{i().each(k=>x(k.element))},g=x=>{t.inline||jz(x),uP(t,Ar.isDocked(x)),x.getSystem().broadcastOn([cp()],{}),i().each(k=>k.getSystem().broadcastOn([cp()],{}))},p=t.inline?[]:Wz();return[Bn.config({}),Ar.config({contextual:{lazyContext:x=>{const k=Bi(x.element),T=t.inline?t.getContentAreaContainer():t.getContainer();return _.from(T).map(z=>{const M=Lr(Ae.fromDom(z));return vp(t,x.element).fold(()=>{const j=M.height-k,ee=M.y+(Uz(x,"top")?0:k);return Nr(M.x,ee,M.width,j)},j=>{const ee=cd(M,Qb(j)),ae=Uz(x,"top")?ee.y:ee.y+k;return Nr(ee.x,ae,ee.width,ee.height-k)})})},onShow:()=>{d(x=>lP(x,!0))},onShown:x=>{d(k=>cl(k,[Nd.transitionClass,Nd.fadeInClass])),a.get().each(k=>{tV(x.element,k),a.clear()})},onHide:x=>{oV(x.element,i).fold(a.clear,a.set),d(k=>lP(k,!1))},onHidden:()=>{d(x=>cl(x,[Nd.transitionClass]))},...Nd},lazyViewport:x=>vp(t,x.element).fold(()=>{const T=Ca(),z=ZR(t),M=T.y+(Uz(x,"top")?z:0),H=T.height-(Uz(x,"bottom")?z:0);return{bounds:Nr(T.x,M,T.width,H),optScrollEnv:_.none()}},T=>({bounds:Qb(T),optScrollEnv:_.some({currentScrollTop:T.element.dom.scrollTop,scrollElmTop:Oa(T.element).top})})),modes:[s.header.getDockingMode()],onDocked:g,onUndocked:g}),...p]};var nV=Object.freeze({__proto__:null,setup:G1,isDocked:Dk,getBehaviours:dP});const Zz=t=>{const s=t.editor,a=t.sticky?dP:Wh;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:ao(a(s,t.sharedBackstage))}},sV=En([Ma,Bs("items",xm([Qh([HC,Hi("items",Do)]),Do]))].concat(zi)),Rk=t=>qr("GroupToolbarButton",sV,t),fP=[Ha("text"),Ha("tooltip"),Ha("icon"),Vi("search",!1,xm([tl,En([Ha("placeholder")])],t=>Ft(t)?t?_.some({placeholder:_.none()}):_.none():_.some(t))),Li("fetch"),sa("onSetup",()=>X)],mP=En([Ma,...fP]),gP=t=>qr("menubutton",mP,t),rV=En([Ma,C1,Ad,kp,Q6,K6,sy,Ui("presets","normal",["normal","color","listpreview"]),PN(1),Oh,BN]),aV=t=>qr("SplitButton",rV,t);var qz=pl({factory:(t,s)=>{const a=(d,g)=>{const p=ke(g,x=>{const k={type:"menubutton",text:x.text,fetch:z=>{z(x.getItems())}},T=gP(k).mapError(z=>tu(z)).getOrDie();return xk(T,"tox-mbtn",s.backstage,_.some("menuitem"))});Fn.set(d,p)},i={focus:pn.focusIn,setMenus:a};return{uid:t.uid,dom:t.dom,components:[],behaviours:ao([Fn.config({}),Jn("menubar-events",[Mr(d=>{t.onSetup(d)}),Rt(nl(),(d,g)=>{Vr(d.element,".tox-mbtn--active").each(p=>{$u(g.event.target,".tox-mbtn").each(x=>{Ts(p,x)||d.getSystem().getByDom(p).each(k=>{d.getSystem().getByDom(x).each(T=>{Dd.expand(T),Dd.close(k),Bn.focus(T)})})})})}),Rt(Lg(),(d,g)=>{g.event.prevFocus.bind(p=>d.getSystem().getByDom(p).toOptional()).each(p=>{g.event.newFocus.bind(x=>d.getSystem().getByDom(x).toOptional()).each(x=>{Dd.isOpen(p)&&(Dd.expand(x),Dd.close(p))})})})]),pn.config({mode:"flow",selector:".tox-mbtn",onEscape:d=>(t.onEscape(d),_.some(!0))}),zr.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ot("dom"),Ot("uid"),Ot("onEscape"),Ot("backstage"),Ve("onSetup",X)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,a)=>{t.setMenus(s,a)}}});const pP="⚡️Upgrade",hP="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",Gz=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:hP,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:pP}}]}),bP="container",IS=[kc("slotBehaviours",[])],Nk=t=>"<alloy.field."+t+">",yP=t=>{const s=(()=>{const g=[];return{slot:(x,k)=>(g.push(x),W2(bP,Nk(x),k)),record:U(g)}})(),a=t(s),i=s.record(),d=ke(i,g=>qc({name:g,pname:Nk(g)}));return rg(bP,IS,d,cV,a)},cV=(t,s)=>{const a=ae=>Hb(t),i=(ae,Fe)=>eo(ae,t,Fe),d=(ae,Fe)=>(pe,De)=>eo(pe,t,De).map(Ne=>ae(Ne,De)).getOr(Fe),g=ae=>(Fe,pe)=>{Xe(pe,De=>ae(Fe,De))},p=(ae,Fe)=>on(ae.element,"aria-hidden")!=="true",x=(ae,Fe)=>{if(!p(ae)){const pe=ae.element;Zn(pe,"display"),B(pe,"aria-hidden"),bn(ae,v0(),{name:Fe,visible:!0})}},k=(ae,Fe)=>{if(p(ae)){const pe=ae.element;Dt(pe,"display","none"),Oo(pe,"aria-hidden","true"),bn(ae,v0(),{name:Fe,visible:!1})}},T=d(p,!1),z=d(k),M=g(z),H=ae=>M(ae,a()),j=d(x),ee={getSlotNames:a,getSlot:i,isShowing:T,hideSlot:z,hideAllSlots:H,showSlot:j};return{uid:t.uid,dom:t.dom,components:s,behaviours:Pb(t.slotBehaviours),apis:ee}},Di={...Mo({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,a)=>t.getSlot(s,a),isShowing:(t,s,a)=>t.isShowing(s,a),hideSlot:(t,s,a)=>t.hideSlot(s,a),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,a)=>t.showSlot(s,a)},t=>Jy(t)),sketch:yP},iV=En([Ad,C1,sa("onShow",X),sa("onHide",X),sy]),Kz=t=>qr("sidebar",iV,t),Yz=t=>{const{sidebars:s}=t.ui.registry.getAll();Xe(io(s),a=>{const i=s[a],d=()=>ar(_.from(t.queryCommandValue("ToggleSidebar")),a);t.ui.registry.addToggleButton(a,{icon:i.icon,tooltip:i.tooltip,onAction:g=>{t.execCommand("ToggleSidebar",!1,a),g.setActive(d())},onSetup:g=>{g.setActive(d());const p=()=>g.setActive(d());return t.on("ToggleSidebar",p),()=>{t.off("ToggleSidebar",p)}}})})},lV=t=>({element:()=>t.element.dom}),Xz=(t,s)=>{const a=ke(io(s),i=>{const d=s[i],g=Xt(Kz(d));return{name:i,getApi:lV,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return ke(a,i=>{const d=nn(X);return t.slot(i.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:T1.unnamedEvents([Oi(i,d),Rh(i,d),Rt(v0(),(g,p)=>{const x=p.event;K(a,T=>T.name===x.name).each(T=>{(x.visible?T.onShow:T.onHide)(T.getApi(g))})})])})})},uV=t=>Di.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:Xz(s,t),slotBehaviours:T1.unnamedEvents([Mr(a=>Di.hideAllSlots(a))])})),dV=(t,s,a)=>{Es.getCurrent(t).each(d=>{Fn.set(d,[uV(s)]);const g=a==null?void 0:a.toLowerCase();Re(g)&&Gn(s,g)&&Es.getCurrent(d).each(p=>{Di.showSlot(p,g),Yi.immediateGrow(d),Zn(d.element,"width"),FS(t.element,"region")})})},FS=(t,s)=>{Oo(t,"role",s)},fV=(t,s)=>{Es.getCurrent(t).each(i=>{Es.getCurrent(i).each(g=>{Yi.hasGrown(i)?Di.isShowing(g,s)?(Yi.shrink(i),FS(t.element,"presentation")):(Di.hideAllSlots(g),Di.showSlot(g,s),FS(t.element,"region")):(Di.hideAllSlots(g),Di.showSlot(g,s),Yi.grow(i),FS(t.element,"region"))})})},mV=t=>Es.getCurrent(t).bind(a=>Yi.isGrowing(a)||Yi.hasGrown(a)?Es.getCurrent(a).bind(g=>K(Di.getSlotNames(g),p=>Di.isShowing(g,p))):_.none()),vP=Vo("FixSizeEvent"),xP=Vo("AutoSizeEvent"),wP=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ao([zr.config({}),Bn.config({}),Yi.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{Es.getCurrent(s).each(Di.hideAllSlots),ns(s,xP)},onGrown:s=>{ns(s,xP)},onStartGrow:s=>{bn(s,vP,{width:nr(s.element,"width").getOr("")})},onStartShrink:s=>{bn(s,vP,{width:G(s.element)+"px"})}}),Fn.config({}),Es.config({find:s=>{const a=Fn.contents(s);return ho(a)}})])}],behaviours:ao([vf.childAt(0),Jn("sidebar-sliding-events",[Rt(vP,(s,a)=>{Dt(s.element,"width",a.event.width)}),Rt(xP,(s,a)=>{Zn(s.element,"width")})])])});var pV=Object.freeze({__proto__:null,block:(t,s,a,i)=>{Oo(t.element,"aria-busy",!0);const d=s.getRoot(t).getOr(t),g=ao([pn.config({mode:"special",onTab:()=>_.some(!0),onShiftTab:()=>_.some(!0)}),Bn.config({})]),p=i(d,g),x=d.getSystem().build(p);Fn.append(d,Al(x)),x.hasConfigured(pn)&&s.focus&&pn.focusIn(x),a.isBlocked()||s.onBlock(t),a.blockWith(()=>Fn.remove(d,x))},unblock:(t,s,a)=>{B(t.element,"aria-busy"),a.isBlocked()&&s.onUnblock(t),a.clear()},isBlocked:(t,s,a)=>a.isBlocked()}),hV=[sa("getRoot",_.none),pa("focus",!0),ks("onBlock"),ks("onUnblock")],bV=Object.freeze({__proto__:null,init:()=>{const t=bm(),s=a=>{t.set({destroy:a})};return rl({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const kf=Rc({fields:hV,name:"blocking",apis:pV,state:bV}),yV=t=>(s,a)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:tm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),kP=t=>Es.getCurrent(t).each(s=>zl(s.element,!0)),vV=(t,s)=>{const a="tabindex",i=`data-mce-${a}`;_.from(t.iframeElement).map(Ae.fromDom).each(d=>{s?(oa(d,a).each(g=>Oo(d,i,g)),Oo(d,a,-1)):(B(d,a),oa(d,i).each(g=>{Oo(d,a,g),B(d,i)}))})},wq=(t,s,a,i)=>{const d=s.element;if(vV(t,a),a)kf.block(s,yV(i)),Zn(d,"display"),B(d,"aria-hidden"),t.hasFocus()&&kP(s);else{const g=Es.getCurrent(s).exists(p=>vb(p.element));kf.unblock(s),Dt(d,"display","none"),Oo(d,"aria-hidden","true"),g&&t.focus()}},kq=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ao([Fn.config({}),kf.config({focus:!1}),Es.config({find:s=>ho(s.components())})]),components:[]}),_P=t=>t.type==="focusin",CP=t=>_P(t)?(t.composed?ho(t.composedPath()):_.from(t.target)).map(Ae.fromDom).filter(xn).exists(a=>al(a,"mce-pastebin")):!1,xV=(t,s,a)=>{const i=nn(!1),d=js(),g=x=>{i.get()&&!CP(x)&&(x.preventDefault(),kP(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",g),t.on("BeforeExecCommand",x=>{x.command.toLowerCase()==="mcefocus"&&x.value!==!0&&g(x)})});const p=x=>{x!==i.get()&&(i.set(x),wq(t,s(),x,a.providers),TL(t,x))};t.on("ProgressState",x=>{if(d.on(clearTimeout),nt(x.time)){const k=y1.setEditorTimeout(t,()=>p(x.state),x.time);d.set(k)}else p(x.state),d.clear()})},wV=(t,s)=>Ue(t,(d,g)=>s(g,d.len).fold(U(d),x=>({len:x.finish,list:d.list.concat([x])})),{len:0,list:[]}).list,Fl=(t,s,a)=>({within:t,extra:s,withinWidth:a}),SP=(t,s,a)=>{const i=wV(t,(x,k)=>{const T=a(x);return _.some({element:x,start:k,finish:k+T,width:T})}),d=st(i,x=>x.finish<=s),g=Nt(d,(x,k)=>x+k.width,0),p=i.slice(d.length);return{within:d,extra:p,withinWidth:g}},Mk=t=>ke(t,s=>s.element),EP=(t,s,a)=>{const i=Mk(t.concat(s));return Fl(i,[],a)},kV=(t,s,a,i)=>{const d=Mk(t).concat([a]);return Fl(d,Mk(s),i)},Bk=(t,s,a)=>Fl(Mk(t),[],a),_V=(t,s,a)=>{const i=SP(s,t,a);return i.extra.length===0?_.some(i):_.none()},LS=(t,s,a,i)=>{const d=_V(t,s,a).getOrThunk(()=>SP(s,t-a(i),a)),g=d.within,p=d.extra,x=d.withinWidth;return p.length===1&&p[0].width<=a(i)?EP(g,p,x):p.length>=1?kV(g,p,i,x):Bk(g,p,x)},TP=(t,s)=>{const a=ke(s,i=>Al(i));lm.setGroups(t,a)},HS=t=>Ut(t,s=>Ei(s.element).bind(a=>s.getSystem().getByDom(a).toOptional())),AP=(t,s,a)=>{const i=s.builtGroups.get();if(i.length===0)return;const d=Ml(t,s,"primary"),g=Ta.getCoupled(t,"overflowGroup");Dt(d.element,"visibility","hidden");const p=i.concat([g]),x=HS(p);a([]),TP(d,p);const k=G(d.element),T=LS(k,s.builtGroups.get(),z=>Math.ceil(z.element.dom.getBoundingClientRect().width),g);T.extra.length===0?(Fn.remove(d,g),a([])):(TP(d,T.within),a(T.extra)),Zn(d.element,"visibility"),rc(d.element),x.each(Bn.focus)},zP=U([kc("splitToolbarBehaviours",[Ta]),Ms("builtGroups",()=>nn([]))]),Md=U([Yg(["overflowToggledClass"]),Du("getOverflowBounds"),Ot("lazySink"),Ms("overflowGroups",()=>nn([])),ks("onOpened"),ks("onClosed")].concat(zP())),CV=U([qc({factory:lm,schema:hy(),name:"primary"}),fu({schema:hy(),name:"overflow"}),fu({name:"overflow-button"}),fu({name:"overflow-group"})]),K1=U((t,s)=>{Ze(t,Math.floor(s))}),OP=U([Yg(["toggledClass"]),Ot("lazySink"),Li("fetch"),Du("getBounds"),kr("fireDismissalEventInstead",[Ve("event",Em())]),Ym(),ks("onToggled")]),DP=U([fu({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ao([rs.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),fu({factory:lm,schema:hy(),name:"toolbar",overrides:t=>({toolbarBehaviours:ao([pn.config({mode:"cyclic",onEscape:s=>(eo(s,t,"button").each(Bn.focus),_.none())})])})})]),VS=js(),RP=(t,s)=>{VS.set(!0),Jz(t,s),VS.clear()},Jz=(t,s)=>{const a=Ta.getCoupled(t,"toolbarSandbox");Ss.isOpen(a)?Ss.close(a):Ss.open(a,s.toolbar())},Qz=(t,s,a,i)=>{const d=a.getBounds.map(p=>p()),g=a.lazySink(t).getOrDie();ni.positionWithinBounds(g,s,{anchor:{type:"hotspot",hotspot:t,layouts:i,overrides:{maxWidthFunction:K1()}}},d)},NP=(t,s,a,i,d)=>{lm.setGroups(s,d),Qz(t,s,a,i),rs.on(t)},SV=(t,s,a)=>{const i=ix(),d=(p,x)=>{const k=VS.get().getOr(!1);a.fetch().get(T=>{NP(t,x,a,s.layouts,T),i.link(t.element),k||pn.focusIn(x)})},g=()=>{rs.off(t),VS.get().getOr(!1)||Bn.focus(t),i.unlink(t.element)};return{dom:{tag:"div",attributes:{id:i.id}},behaviours:ao([pn.config({mode:"special",onEscape:p=>(Ss.close(p),_.some(!0))}),Ss.config({onOpen:d,onClose:g,isPartOf:(p,x,k)=>Qg(x,k)||Qg(t,k),getAttachPoint:()=>a.lazySink(t).getOrDie()}),Zi.config({channels:{...sg({isExtraPart:Oe,...a.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...Vx({doReposition:()=>{Ss.getState(Ta.getCoupled(t,"toolbarSandbox")).each(p=>{Qz(t,p,a,s.layouts)})}})}})])}},Zh=mi({name:"FloatingToolbarButton",factory:(t,s,a,i)=>({...si.sketch({...i.button(),action:d=>{Jz(d,i)},buttonBehaviours:du.augment({dump:i.button().buttonBehaviours},[Ta.config({others:{toolbarSandbox:d=>SV(d,a,t)}})])}),apis:{setGroups:(d,g)=>{Ss.getState(Ta.getCoupled(d,"toolbarSandbox")).each(p=>{NP(d,p,t,a.layouts,g)})},reposition:d=>{Ss.getState(Ta.getCoupled(d,"toolbarSandbox")).each(g=>{Qz(d,g,t,a.layouts)})},toggle:d=>{Jz(d,i)},toggleWithoutFocusing:d=>{RP(d,i)},getToolbar:d=>Ss.getState(Ta.getCoupled(d,"toolbarSandbox")),isOpen:d=>Ss.isOpen(Ta.getCoupled(d,"toolbarSandbox"))}}),configFields:OP(),partFields:DP(),apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),EV=U([Ot("items"),Yg(["itemSelector"]),kc("tgroupBehaviours",[pn])]),MP=U([c1({name:"items",unit:"item"})]),BP=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,behaviours:_c(t.tgroupBehaviours,[pn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),Pk=mi({name:"ToolbarGroup",configFields:EV(),partFields:MP(),factory:BP}),PP=t=>ke(t,s=>Al(s)),$P=(t,s,a)=>{AP(t,a,i=>{a.overflowGroups.set(i),s.getOpt(t).each(d=>{Zh.setGroups(d,PP(i))})})},IP=(t,s,a,i)=>{const d=Ls(Zh.sketch({fetch:()=>ri.nu(g=>{g(PP(t.overflowGroups.get()))}),layouts:{onLtr:()=>[ba,Xa],onRtl:()=>[Xa,ba],onBottomLtr:()=>[jc,Qs],onBottomRtl:()=>[Qs,jc]},getBounds:a.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:i["overflow-button"](),toolbar:i.overflow()},onToggled:(g,p)=>t[p?"onOpened":"onClosed"](g)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:_c(t.splitToolbarBehaviours,[Ta.config({others:{overflowGroup:()=>Pk.sketch({...i["overflow-group"](),items:[d.asSpec()]})}})]),apis:{setGroups:(g,p)=>{t.builtGroups.set(ke(p,g.getSystem().build)),$P(g,d,t)},refresh:g=>$P(g,d,t),toggle:g=>{d.getOpt(g).each(p=>{Zh.toggle(p)})},toggleWithoutFocusing:g=>{d.getOpt(g).each(Zh.toggleWithoutFocusing)},isOpen:g=>d.getOpt(g).map(Zh.isOpen).getOr(!1),reposition:g=>{d.getOpt(g).each(p=>{Zh.reposition(p)})},getOverflow:g=>d.getOpt(g).bind(Zh.getToolbar)},domModification:{attributes:{role:"group"}}}},eO=mi({name:"SplitFloatingToolbar",configFields:Md(),partFields:CV(),factory:IP,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),FP=U([Yg(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),ks("onOpened"),ks("onClosed")].concat(zP())),TV=U([qc({factory:lm,schema:hy(),name:"primary"}),qc({factory:lm,schema:hy(),name:"overflow",overrides:t=>({toolbarBehaviours:ao([Yi.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{eo(s,t,"overflow-button").each(a=>{rs.off(a)}),t.onClosed(s)},onGrown:s=>{t.onOpened(s)},onStartGrow:s=>{eo(s,t,"overflow-button").each(rs.on)}}),pn.config({mode:"acyclic",onEscape:s=>(eo(s,t,"overflow-button").each(Bn.focus),_.some(!0))})])})}),fu({name:"overflow-button",overrides:t=>({buttonBehaviours:ao([rs.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),fu({name:"overflow-group"})]),AV=(t,s)=>eo(t,s,"overflow").map(Yi.hasGrown).getOr(!1),tO=(t,s,a)=>{eo(t,s,"overflow-button").each(i=>{eo(t,s,"overflow").each(d=>{if(US(t,s),Yi.hasShrunk(d)){const g=s.onOpened;s.onOpened=p=>{a||pn.focusIn(d),g(p),s.onOpened=g}}else{const g=s.onClosed;s.onClosed=p=>{a||Bn.focus(i),g(p),s.onClosed=g}}Yi.toggleGrow(d)})})},US=(t,s)=>{eo(t,s,"overflow").each(a=>{AP(t,s,i=>{const d=ke(i,g=>Al(g));lm.setGroups(a,d)}),eo(t,s,"overflow-button").each(i=>{Yi.hasGrown(a)&&rs.on(i)}),Yi.refresh(a)})},zV=(t,s,a,i)=>{const d="alloy.toolbar.toggle",g=(p,x)=>{const k=ke(x,p.getSystem().build);t.builtGroups.set(k)};return{uid:t.uid,dom:t.dom,components:s,behaviours:_c(t.splitToolbarBehaviours,[Ta.config({others:{overflowGroup:p=>Pk.sketch({...i["overflow-group"](),items:[si.sketch({...i["overflow-button"](),action:x=>{ns(p,d)}})]})}}),Jn("toolbar-toggle-events",[Rt(d,p=>{tO(p,t,!1)})])]),apis:{setGroups:(p,x)=>{g(p,x),US(p,t)},refresh:p=>US(p,t),toggle:p=>{tO(p,t,!1)},toggleWithoutFocusing:p=>{tO(p,t,!0)},isOpen:p=>AV(p,t)},domModification:{attributes:{role:"group"}}}},oO=mi({name:"SplitSlidingToolbar",configFields:FP(),partFields:TV(),factory:zV,apis:{setGroups:(t,s,a)=>{t.setGroups(s,a)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),LP=t=>{const s=t.title.fold(()=>({}),a=>({attributes:{title:a}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[Pk.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:ao([zr.config({}),Bn.config({})])}},jS=t=>Pk.sketch(LP(t)),HP=(t,s)=>{const a=Mr(i=>{const d=ke(t.initGroups,jS);lm.setGroups(i,d)});return ao([yf.toolbarButton(t.providers.isDisabled),Sc(),pn.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Jn("toolbar-events",[a])])},VP=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":LP({title:_.none(),items:[]}),"overflow-button":GH({name:"more",icon:_.some("more-drawer"),enabled:!0,tooltip:_.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:_.none(),borderless:!1},_.none(),t.providers,[],"overflow-button")},splitToolbarBehaviours:HP(t,s)}},OV=t=>{const s=VP(t),a=4,i=eO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return eO.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const d=t.moreDrawerData.lazyHeader().element,g=bi(d),p=Mi(d),x=bi(p),k=Math.max(p.dom.scrollHeight,x.height);return Nr(g.x+a,x.y,g.width-a*2,k)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>t.onToggled(d,!0),onClosed:d=>t.onToggled(d,!1)})},DV=t=>{const s=oO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),a=oO.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),i=VP(t);return oO.sketch({...i,components:[s,a],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:d=>{d.getSystem().broadcastOn([by()],{type:"opened"}),t.onToggled(d,!0)},onClosed:d=>{d.getSystem().broadcastOn([by()],{type:"closed"}),t.onToggled(d,!1)}})},WS=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return lm.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Sd.scrolling?["tox-toolbar--scrolling"]:[])},components:[lm.parts.groups({})],toolbarBehaviours:HP(t,s)})},UP=[kp,Ad,Ha("tooltip"),Ui("buttonType","secondary",["primary","secondary"]),pa("borderless",!1),Li("onAction")],jP=[...UP,wp,Hc("type",["button"])],RV=[...UP,pa("active",!1),Hc("type",["togglebutton"])],WP={button:jP,togglebutton:RV},nO=[Hc("type",["group"]),w("buttons",[],Ka("type",WP))],NV=Ka("type",{...WP,group:nO}),ZS=En([w("buttons",[],NV),Li("onShow"),Li("onHide")]),MV=t=>qr("view",ZS,t),ZP=(t,s)=>{var a,i;const d=t.type==="togglebutton",g=t.icon.map(Ne=>Hh(Ne,s.icons)).map(Ls),x=Ne=>{const At=Io=>{g.map(_t=>_t.getOpt(Ne).each(Yo=>{Fn.set(Yo,[Hh(Io,s.icons)])}))},ht=Io=>{const _t=Ne.element;Io?(Tr(_t,"tox-button--enabled"),Oo(_t,"aria-pressed",!0)):(ra(_t,"tox-button--enabled"),B(_t,"aria-pressed"))},Co=()=>al(Ne.element,"tox-button--enabled");if(d)return t.onAction({setIcon:At,setActive:ht,isActive:Co});if(t.type==="button")return t.onAction({setIcon:At})},k={...t,name:d?t.text.getOr(t.icon.getOr("")):(a=t.text)!==null&&a!==void 0?a:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:_.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},T=wz((i=t.buttonType)!==null&&i!==void 0?i:"secondary"),z=d?t.text.map(s.translate):_.some(s.translate(t.text)),M=z.map(aa),H=k.tooltip.or(z).map(Ne=>({"aria-label":s.translate(Ne)})).getOr({}),j=g.map(Ne=>Ne.asSpec()),ee=ay([j,M]),ae=t.icon.isSome()&&M.isSome(),Fe={tag:"button",classes:T.concat(...t.icon.isSome()&&!ae?["tox-button--icon"]:[]).concat(...ae?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:H},pe=[],De=kk(k,_.some(x),pe,Fe,ee,t.tooltip,s);return si.sketch(De)},qP=(t,s)=>ZP(t,s),BV=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:ke(t.buttons,a=>qP(a,s))}),PV=ts().deviceType,$V=PV.isPhone(),IV=PV.isTablet(),sO=t=>{let s=!1;const a=ke(t.buttons,i=>i.type==="group"?(s=!0,BV(i,t.providers)):qP(i,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...$V||IV?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:ao([Bn.config({}),pn.config({mode:"flow",selector:"button, .tox-button",focusInside:em.OnEnterOrSpaceMode})]),components:s?a:[rm.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),rm.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:a})]}},FV=t=>({uid:t.uid,behaviours:ao([Bn.config({}),zr.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),qS=(t,s,a,i)=>{const d={getPane:g=>tc.getPart(g,t,"pane"),getOnShow:g=>t.viewConfig.onShow,getOnHide:g=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,behaviours:ao([Bn.config({}),pn.config({mode:"cyclic",focusInside:em.OnEnterOrSpaceMode})]),apis:d}};var yy=mi({name:"silver.View",configFields:[Ot("viewConfig")],partFields:[Nl({factory:{sketch:sO},schema:[Ot("buttons"),Ot("providers")],name:"header"}),Nl({factory:{sketch:FV},schema:[],name:"pane"})],factory:qS,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const GP=(t,s,a)=>Ys(s,(i,d)=>{const g=Xt(MV(i));return t.slot(d,yy.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:g,components:[...g.buttons.length>0?[yy.parts.header({buttons:g.buttons,providers:a})]:[],yy.parts.pane({})]}))}),rO=(t,s)=>Di.sketch(a=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:GP(a,t,s),slotBehaviours:T1.unnamedEvents([Mr(i=>Di.hideAllSlots(i))])})),KP=t=>K(Di.getSlotNames(t),s=>Di.isShowing(t,s)),YP=t=>{const s=t.element;Dt(s,"display","none"),Oo(s,"aria-hidden","true")},Y1=t=>{const s=t.element;Zn(s,"display"),B(s,"aria-hidden")},XP=t=>({getContainer:U(t)}),JP=(t,s,a)=>{Di.getSlot(t,s).each(i=>{yy.getPane(i).each(d=>{a(i)(XP(d.element.dom))})})},LV=(t,s)=>JP(t,s,yy.getOnShow),HV=(t,s)=>JP(t,s,yy.getOnHide);var GS=pl({factory:(t,s)=>{const g={setViews:(p,x)=>{Fn.set(p,[rO(x,s.backstage.shared.providers)])},whichView:p=>Es.getCurrent(p).bind(KP),toggleView:(p,x,k,T)=>Es.getCurrent(p).exists(z=>{const M=KP(z),H=M.exists(ee=>T===ee),j=Di.getSlot(z,T).isSome();return j&&(Di.hideAllSlots(z),H?(YP(p),x()):(k(),Y1(p),Di.showSlot(z,T),LV(z,T)),M.each(ee=>HV(z,ee))),j})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:ao([Fn.config({}),Es.config({find:p=>{const x=Fn.contents(p);return ho(x)}})]),apis:g}},name:"silver.ViewWrapper",configFields:[Ot("backstage")],apis:{setViews:(t,s,a)=>t.setViews(s,a),toggleView:(t,s,a,i,d)=>t.toggleView(s,a,i,d),whichView:(t,s)=>t.whichView(s)}});const VV=(t,s,a)=>{let i=!1;const d=p=>{wd(p,".tox-statusbar").each(x=>{Ns(x,"display")==="none"&&on(x,"aria-hidden")==="true"?(Zn(x,"display"),B(x,"aria-hidden")):(Dt(x,"display","none"),Oo(x,"aria-hidden","true"))})},g={getSocket:p=>tc.getPart(p,t,"socket"),setSidebar:(p,x,k)=>{tc.getPart(p,t,"sidebar").each(T=>dV(T,x,k))},toggleSidebar:(p,x)=>{tc.getPart(p,t,"sidebar").each(k=>fV(k,x))},whichSidebar:p=>tc.getPart(p,t,"sidebar").bind(mV).getOrNull(),getHeader:p=>tc.getPart(p,t,"header"),getToolbar:p=>tc.getPart(p,t,"toolbar"),setToolbar:(p,x)=>{tc.getPart(p,t,"toolbar").each(k=>{const T=ke(x,jS);k.getApis().setGroups(k,T)})},setToolbars:(p,x)=>{tc.getPart(p,t,"multiple-toolbar").each(k=>{const T=ke(x,z=>ke(z,jS));rP.setItems(k,T)})},refreshToolbar:p=>{tc.getPart(p,t,"toolbar").each(k=>k.getApis().refresh(k))},toggleToolbarDrawer:p=>{tc.getPart(p,t,"toolbar").each(x=>{vs(x.getApis().toggle,k=>k(x))})},toggleToolbarDrawerWithoutFocusing:p=>{tc.getPart(p,t,"toolbar").each(x=>{vs(x.getApis().toggleWithoutFocusing,k=>k(x))})},isToolbarDrawerToggled:p=>tc.getPart(p,t,"toolbar").bind(x=>_.from(x.getApis().isOpen).map(k=>k(x))).getOr(!1),getThrobber:p=>tc.getPart(p,t,"throbber"),focusToolbar:p=>{tc.getPart(p,t,"toolbar").orThunk(()=>tc.getPart(p,t,"multiple-toolbar")).each(k=>{pn.focusIn(k)})},setMenubar:(p,x)=>{tc.getPart(p,t,"menubar").each(k=>{qz.setMenus(k,x)})},focusMenubar:p=>{tc.getPart(p,t,"menubar").each(x=>{qz.focus(x)})},setViews:(p,x)=>{tc.getPart(p,t,"viewWrapper").each(k=>{GS.setViews(k,x)})},toggleView:(p,x)=>tc.getPart(p,t,"viewWrapper").exists(k=>GS.toggleView(k,()=>g.showMainView(p),()=>g.hideMainView(p),x)),whichView:p=>tc.getPart(p,t,"viewWrapper").bind(GS.whichView).getOrNull(),hideMainView:p=>{i=g.isToolbarDrawerToggled(p),i&&g.toggleToolbarDrawer(p),tc.getPart(p,t,"editorContainer").each(x=>{const k=x.element;d(k),Dt(k,"display","none"),Oo(k,"aria-hidden","true")})},showMainView:p=>{i&&g.toggleToolbarDrawer(p),tc.getPart(p,t,"editorContainer").each(x=>{const k=x.element;d(k),Zn(k,"display"),B(k,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:g,behaviours:t.behaviours}},e$=im.optional({factory:qz,name:"menubar",schema:[Ot("backstage")]}),t$=t=>t.type===Sd.sliding?DV:t.type===Sd.floating?OV:WS,KS=im.optional({factory:{sketch:t=>rP.sketch({uid:t.uid,dom:t.dom,listBehaviours:ao([pn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>WS({type:t.type,uid:Vo("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),_.some(!0))}),setupItem:(s,a,i,d)=>{lm.setGroups(a,i)},shell:!0})},name:"multiple-toolbar",schema:[Ot("dom"),Ot("onEscape")]}),aO=im.optional({factory:{sketch:t=>{const s=t$(t),a={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),_.some(!0)),onToggled:(i,d)=>t.onToolbarToggled(d),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(a)}},name:"toolbar",schema:[Ot("dom"),Ot("onEscape"),Ot("getSink")]}),UV=im.optional({factory:{sketch:Zz},name:"header",schema:[Ot("dom")]}),jV=im.optional({factory:{sketch:Gz},name:"promotion",schema:[Ot("dom")]}),o$=im.optional({name:"socket",schema:[Ot("dom")]}),WV=im.optional({factory:{sketch:wP},name:"sidebar",schema:[Ot("dom")]}),ZV=im.optional({factory:{sketch:kq},name:"throbber",schema:[Ot("dom")]}),qV=im.optional({factory:GS,name:"viewWrapper",schema:[Ot("backstage")]}),n$=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),GV=im.optional({factory:{sketch:n$},name:"editorContainer",schema:[]});var Or=mi({name:"OuterContainer",factory:VV,configFields:[Ot("dom"),Ot("behaviours")],partFields:[UV,e$,aO,KS,o$,WV,jV,ZV,qV,GV],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,a,i)=>{t.setSidebar(s,a,i)},toggleSidebar:(t,s,a)=>{t.toggleSidebar(s,a)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,a)=>{t.setToolbar(s,a)},setToolbars:(t,s,a)=>{t.setToolbars(s,a)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,a)=>{t.setMenubar(s,a)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,a)=>{t.setViews(s,a)},toggleView:(t,s,a)=>t.toggleView(s,a),whichView:(t,s)=>t.whichView(s)}});const cO="file edit view insert format tools table help",s$={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},KV=(t,s,a)=>{const i=hC(a).split(/[ ,]/);return{text:t.title,getItems:()=>V(t.items,d=>{const g=d.toLowerCase();return g.trim().length===0?[]:yo(i,p=>p===g)?[]:g==="separator"||g==="|"?[{type:"separator"}]:s.menuItems[g]?[s.menuItems[g]]:[]})}},YS=t=>t.split(" "),r$=(t,s)=>{const a={...s$,...s.menus},i=io(s.menus).length>0,d=s.menubar===void 0||s.menubar===!0?YS(cO):YS(s.menubar===!1?"":s.menubar),g=st(d,x=>{const k=Gn(s$,x);return i?k||Kt(s.menus,x).exists(T=>Gn(T,"items")):k}),p=ke(g,x=>{const k=a[x];return KV({title:k.title,items:YS(k.items)},s,t)});return st(p,x=>{const k=T=>Re(T)||T.type!=="separator";return x.getItems().length>0&&yo(x.getItems(),k)})},a$=t=>{const s=()=>{t._skinLoaded=!0,CL(t)};return()=>{t.initialized?s():t.on("init",s)}},YV=(t,s)=>()=>SL(t,{message:s}),iO=(t,s,a)=>(t.on("remove",()=>a.unload(s)),a.load(s)),lO=(t,s,a,i)=>(t.on("remove",()=>i.unloadRawCss(s)),i.loadRawCss(s,a)),XV=async(t,s)=>{const i="ui/"+wC(t).getOr("default")+"/skin.css",d=tinymce.Resource.get(i);if(Re(d))lO(t,i,d,t.ui.styleSheetLoader);else{const g=t.editorManager.suffix,p=s+`/skin${g}.css`;return iO(t,p,t.ui.styleSheetLoader)}},JV=async(t,s)=>{if(W(Ae.fromDom(t.getElement()))){const d="ui/"+wC(t).getOr("default")+"/skin.shadowdom.css",g=tinymce.Resource.get(d);if(Re(g))lO(t,d,g,qb.DOM.styleSheetLoader);else{const p=t.editorManager.suffix,x=s+`/skin.shadowdom${p}.css`;return iO(t,x,qb.DOM.styleSheetLoader)}}},c$=async(t,s)=>{const a=()=>{const d=$A(s),g=s.editorManager.suffix;d&&s.contentCSS.push(d+(t?"/content.inline":"/content")+`${g}.css`)};wC(s).fold(a,d=>{const g="ui/"+d+(t?"/content.inline":"/content")+".css",p=tinymce.Resource.get(g);Re(p)?lO(s,g,p,s.ui.styleSheetLoader):a()});const i=$A(s);if(!PA(s)&&Re(i))return Promise.all([XV(s,i),JV(s,i)]).then()},i$=(t,s)=>c$(t,s).then(a$(s),YV(s,"Skin could not be loaded")),QV=co(i$,!1),eU=co(i$,!0),qh=(t,s,a)=>le(a)?t.translate(s):t.translate([s,t.translate(a)]),uO=(t,s)=>{const a=(p,x,k,T)=>{const z=t.shared.providers.translate(p.title);if(p.type==="separator")return _.some({type:"separator",text:z});if(p.type==="submenu"){const M=V(p.getStyleItems(),H=>i(H,x,T));return x===0&&M.length<=0?_.none():_.some({type:"nestedmenuitem",text:z,enabled:M.length>0,getSubmenuItems:()=>V(p.getStyleItems(),H=>i(H,x,T))})}else return _.some({type:"togglemenuitem",text:z,icon:p.icon,active:p.isSelected(T),enabled:!k,onAction:s.onAction(p),...p.getStylePreview().fold(()=>({}),M=>({meta:{style:M}}))})},i=(p,x,k)=>{const T=p.type==="formatter"&&s.isInvalid(p);return x===0?T?[]:a(p,x,!1,k).toArray():a(p,x,T,k).toArray()},d=p=>{const x=s.getCurrentValue(),k=s.shouldHide?0:1;return V(p,T=>i(T,k,x))};return{validateItems:d,getFetch:(p,x)=>(k,T)=>{const z=x(),M=d(z),H=V1(M,hf.CLOSE_ON_EXECUTE,p,{isHorizontalMenu:!1,search:_.none()});T(H)}}},X1=(t,s)=>{const a=s.dataset,i=a.type==="basic"?()=>ke(a.data,d=>MS(d,s.isSelectedFor,s.getPreviewFor)):a.getData;return{items:uO(t,s),getStyleItems:i}},$k=(t,s,a,i,d,g)=>{const{items:p,getStyleItems:x}=X1(s,a),k=nn(a.tooltip),T=M=>({getComponent:U(M),setTooltip:H=>{const j=s.shared.providers.translate(H);Oo(M.element,"aria-label",j),k.set(H)}}),z=M=>{const H=j=>M.setTooltip(qh(t,i(j.value),j.value));return t.on(d,H),QC(ly(t,"NodeChange",j=>{const ee=j.getComponent();a.updateText(ee),l.set(j.getComponent(),!t.selection.isEditable())})(M),()=>t.off(d,H))};return nz({text:a.icon.isSome()?_.none():a.text,icon:a.icon,ariaLabel:_.some(a.tooltip),tooltip:_.none(),role:_.none(),fetch:p.getFetch(s,x),onSetup:z,getApi:T,columns:1,presets:"normal",classes:a.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[va.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(a.tooltip),onShow:M=>{if(a.tooltip!==k.get()){const H=s.shared.providers.translate(k.get());va.setComponents(M,s.shared.providers.tooltips.getComponents({tooltipText:H}))}}})})]},"tox-tbtn",s.shared,g)},tU=t=>ke(t,s=>{let a=s,i=s;const d=s.split("=");return d.length>1&&(a=d[0],i=d[1]),{title:a,format:i}}),oU=t=>({type:"basic",data:t});var J1;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(J1||(J1={}));const nU=(t,s)=>s===J1.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),dO=(t,s,a)=>{const i=t.options.get(s);return{type:"basic",data:tU(nU(i,a))}},sU="Align",l$=U("Alignment {0}"),fO="left",Q1=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],XS=t=>{const s=()=>K(Q1,x=>t.formatter.match(x.format)),a=x=>()=>t.formatter.match(x),i=x=>_.none,d=x=>{const T=s().fold(U(fO),z=>z.title.toLowerCase());bn(x,Vh,{icon:`align-${T}`}),W4(t,{value:T})},g=oU(Q1),p=x=>()=>K(Q1,k=>k.format===x.format).each(k=>t.execCommand(k.command));return{tooltip:qh(t,l$(),fO),text:_.none(),icon:_.some("align-left"),isSelectedFor:a,getCurrentValue:_.none,getPreviewFor:i,onAction:p,updateText:d,dataset:g,shouldHide:!1,isInvalid:x=>!t.formatter.canApply(x.format)}},u$=(t,s)=>$k(t,s,XS(t),l$,"AlignTextUpdate","align"),Gh=(t,s)=>{const a=X1(s,XS(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate(sU),onSetup:Ki(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},mO=(t,s)=>{const a=s(),i=ke(a,d=>d.format);return _.from(t.formatter.closest(i)).bind(d=>K(a,g=>g.format===d))},rU="Blocks",d$=U("Block {0}"),gO="Paragraph",f$=t=>{const s=g=>()=>t.formatter.match(g),a=g=>()=>{const p=t.formatter.get(g);return p?_.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(g))}):_.none()},i=g=>{const x=mO(t,()=>d.data).fold(U(gO),k=>k.title);bn(g,Xu,{text:x}),DL(t,{value:x})},d=dO(t,"block_formats",J1.SemiColon);return{tooltip:qh(t,d$(),gO),text:_.some(gO),icon:_.none(),isSelectedFor:s,getCurrentValue:_.none,getPreviewFor:a,onAction:xM(t),updateText:i,dataset:d,shouldHide:!1,isInvalid:g=>!t.formatter.canApply(g.format)}},aU=(t,s)=>$k(t,s,f$(t),d$,"BlocksTextUpdate","blocks"),cU=(t,s)=>{const a=X1(s,f$(t));t.ui.registry.addNestedMenuItem("blocks",{text:rU,onSetup:Ki(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},iU="Fonts",pO=U("Font {0}"),hO="System Font",lU=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],JS=t=>{const s=t.split(/\s*,\s*/);return ke(s,a=>a.replace(/^['"]+|['"]+$/g,""))},m$=(t,s)=>s.length>0&&re(s,a=>t.indexOf(a.toLowerCase())>-1),uU=(t,s)=>{if(t.indexOf("-apple-system")===0||s.length>0){const a=JS(t.toLowerCase());return m$(a,lU)||m$(a,s)}else return!1},g$=t=>{const s=()=>{const k=ee=>ee?JS(ee)[0]:"",T=t.queryCommandValue("FontName"),z=x.data,M=T?T.toLowerCase():"",H=oN(t);return{matchOpt:K(z,ee=>{const ae=ee.format;return ae.toLowerCase()===M||k(ae).toLowerCase()===k(M).toLowerCase()}).orThunk(()=>Qo(uU(M,H),{title:hO,format:M})),font:T}},a=k=>T=>T.exists(z=>z.format===k),i=()=>{const{matchOpt:k}=s();return k},d=k=>()=>_.some({tag:"div",styles:k.indexOf("dings")===-1?{"font-family":k}:{}}),g=k=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,k.format)})},p=k=>{const{matchOpt:T,font:z}=s(),M=T.fold(U(z),H=>H.title);bn(k,Xu,{text:M}),vM(t,{value:M})},x=dO(t,"font_family_formats",J1.SemiColon);return{tooltip:qh(t,pO(),hO),text:_.some(hO),icon:_.none(),isSelectedFor:a,getCurrentValue:i,getPreviewFor:d,onAction:g,updateText:p,dataset:x,shouldHide:!1,isInvalid:Oe}},dU=(t,s)=>$k(t,s,g$(t),pO,"FontFamilyTextUpdate","fontfamily"),fU=(t,s)=>{const a=X1(s,g$(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(iU),onSetup:Ki(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},mU={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},p$=(()=>{const t="[0-9]+",a="[eE]"+("[+-]?"+t),i="\\.",d=x=>`(?:${x})?`,p=`[+-]?(?:${["Infinity",t+i+d(t)+d(a),i+t+d(a),t+d(a)].join("|")})`;return new RegExp(`^(${p})(.*)$`)})(),h$=(t,s)=>yo(s,a=>yo(mU[a],i=>t===i)),Ik=(t,s)=>_.from(p$.exec(t)).bind(i=>{const d=Number(i[1]),g=i[2];return h$(g,s)?_.some({value:d,unit:g}):_.none()}),gU=(t,s)=>Ik(t,s).map(({value:a,unit:i})=>a+i),bO={tab:U(9),escape:U(27),enter:U(13),backspace:U(8),delete:U(46),left:U(37),up:U(38),right:U(39),down:U(40),space:U(32),home:U(36),end:U(35),pageUp:U(33),pageDown:U(34)},pU=(t,s,a,i)=>{let d=_.none();const g=Ne=>Ne.map(At=>$o.getValue(At)).getOr(""),p=ly(t,"NodeChange SwitchMode",Ne=>{const At=Ne.getComponent();d=_.some(At),a.updateInputValue(At),l.set(At,!t.selection.isEditable())}),x=Ne=>({getComponent:U(Ne)}),k=nn(X),T=Vo("custom-number-input-events"),z=(Ne,At,ht)=>{const Co=g(d),Io=a.getNewValue(Co,Ne),_t=Co.length-`${Io}`.length,Yo=d.map(tn=>tn.element.dom.selectionStart-_t),wo=d.map(tn=>tn.element.dom.selectionEnd-_t);a.onAction(Io,ht),d.each(tn=>{$o.setValue(tn,Io),At&&(Yo.each(fs=>tn.element.dom.selectionStart=fs),wo.each(fs=>tn.element.dom.selectionEnd=fs))})},M=(Ne,At)=>z((ht,Co)=>ht-Co,Ne,At),H=(Ne,At)=>z((ht,Co)=>ht+Co,Ne,At),j=Ne=>fc(Ne.element).fold(_.none,At=>(zl(At),_.some(!0))),ee=Ne=>vb(Ne.element)?(vl(Ne.element).each(At=>zl(At)),_.some(!0)):_.none(),ae=(Ne,At,ht,Co)=>{const Io=nn(X),_t=s.shared.providers.translate(ht),Yo=Vo("altExecuting"),wo=ly(t,"NodeChange SwitchMode",fs=>{l.set(fs.getComponent(),!t.selection.isEditable())}),tn=fs=>{l.isDisabled(fs)||Ne(!0)};return si.sketch({dom:{tag:"button",attributes:{"aria-label":_t,"data-mce-name":At},classes:Co.concat(At)},components:[SS(At,s.shared.providers.icons)],buttonBehaviours:ao([l.config({}),va.config(s.shared.providers.tooltips.getConfig({tooltipText:_t})),Jn(Yo,[Oi({onSetup:wo,getApi:x},Io),Rh({getApi:x},Io),Rt(Mu(),(fs,Dr)=>{(Dr.event.raw.keyCode===bO.space()||Dr.event.raw.keyCode===bO.enter())&&(l.isDisabled(fs)||Ne(!1))}),Rt(Ig(),tn),Rt(vr(),tn)])]),eventOrder:{[Mu()]:[Yo,"keying"],[Ig()]:[Yo,"alloy.base.behaviour"],[vr()]:[Yo,"alloy.base.behaviour"],[xi()]:["alloy.base.behaviour",Yo,"tooltipping"],[au()]:[Yo,"tooltipping"]}})},Fe=Ls(ae(Ne=>M(!1,Ne),"minus","Decrease font size",[])),pe=Ls(ae(Ne=>H(!1,Ne),"plus","Increase font size",[])),De=Ls({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[oy.sketch({inputBehaviours:ao([l.config({}),Jn(T,[Oi({onSetup:p,getApi:x},k),Rh({getApi:x},k)]),Jn("input-update-display-text",[Rt(Xu,(Ne,At)=>{$o.setValue(Ne,At.event.text)}),Rt(Jd(),Ne=>{a.onAction($o.getValue(Ne))}),Rt(Up(),Ne=>{a.onAction($o.getValue(Ne))})]),pn.config({mode:"special",onEnter:Ne=>(z(zt,!0,!0),_.some(!0)),onEscape:j,onUp:Ne=>(H(!0,!1),_.some(!0)),onDown:Ne=>(M(!0,!1),_.some(!0)),onLeft:(Ne,At)=>(At.cut(),_.none()),onRight:(Ne,At)=>(At.cut(),_.none())})])})],behaviours:ao([Bn.config({}),pn.config({mode:"special",onEnter:ee,onSpace:ee,onEscape:j}),Jn("input-wrapper-events",[Rt(nl(),Ne=>{Xe([Fe,pe],At=>{const ht=Ae.fromDom(At.get(Ne).element.dom);vb(ht)&&pv(ht)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...to(i)?{"data-mce-name":i}:{}}},components:[Fe.asSpec(),De.asSpec(),pe.asSpec()],behaviours:ao([Bn.config({}),pn.config({mode:"flow",focusInside:em.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:Ne=>vb(Ne.element)?_.none():(zl(Ne.element),_.some(!0))})])}},hU="Font sizes",b$=U("Font size {0}"),yO="12pt",bU={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},y$={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},yU=(t,s)=>{const a=Math.pow(10,s);return Math.round(t*a)/a},vU=(t,s)=>/[0-9.]+px$/.test(t)?yU(parseInt(t,10)*72/96,s||0)+"pt":Kt(y$,t).getOr(t),xU=t=>Kt(bU,t).getOr(""),v$=t=>{const s=()=>{let k=_.none();const T=x.data,z=t.queryCommandValue("FontSize");if(z)for(let M=3;k.isNone()&&M>=0;M--){const H=vU(z,M),j=xU(H);k=K(T,ee=>ee.format===z||ee.format===H||ee.format===j)}return{matchOpt:k,size:z}},a=k=>T=>T.exists(z=>z.format===k),i=()=>{const{matchOpt:k}=s();return k},d=U(_.none),g=k=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,k.format)})},p=k=>{const{matchOpt:T,size:z}=s(),M=T.fold(U(z),H=>H.title);bn(k,Xu,{text:M}),bM(t,{value:M})},x=dO(t,"font_size_formats",J1.Space);return{tooltip:qh(t,b$(),yO),text:_.some(yO),icon:_.none(),isSelectedFor:a,getPreviewFor:d,getCurrentValue:i,onAction:g,updateText:p,dataset:x,shouldHide:!1,isInvalid:Oe}},wU=(t,s)=>$k(t,s,v$(t),b$,"FontSizeTextUpdate","fontsize"),kU=t=>{var s;const a={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:a},_U=16,x$=t=>t>=0,CU=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:i=>bn(i,Xu,{text:s()}),onAction:(i,d)=>t.execCommand("FontSize",!1,i,{skip_focus:!d}),getNewValue:(i,d)=>{Ik(i,["unsupportedLength","empty"]);const g=s(),p=Ik(i,["unsupportedLength","empty"]).or(Ik(g,["unsupportedLength","empty"])),x=p.map(H=>H.value).getOr(_U),k=bC(t),T=p.map(H=>H.unit).filter(H=>H!=="").getOr(k),z=d(x,kU(T).step),M=`${x$(z)?z:x}${T}`;return M!==g&&yM(t,{value:M}),M}}},SU=(t,s)=>pU(t,s,CU(t),"fontsizeinput"),EU=(t,s)=>{const a=X1(s,v$(t));t.ui.registry.addNestedMenuItem("fontsize",{text:hU,onSetup:Ki(t),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})},TU="Formats",w$=t=>le(t)?"Formats":"Format {0}",k$=(t,s)=>{const a="Formats",i=p=>()=>t.formatter.match(p),d=p=>()=>{const x=t.formatter.get(p);return x!==void 0?_.some({tag:x.length>0&&(x[0].inline||x[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(p))}):_.none()},g=p=>{const x=M=>Mz(M)?V(M.items,x):UB(M)?[{title:M.title,format:M.format}]:[],k=V(Ak(t),x),z=mO(t,U(k)).fold(U({title:a,tooltipLabel:""}),M=>({title:M.title,tooltipLabel:M.title}));bn(p,Xu,{text:z.title}),OL(t,{value:z.tooltipLabel})};return{tooltip:qh(t,w$(""),""),text:_.some(a),icon:_.none(),isSelectedFor:i,getCurrentValue:_.none,getPreviewFor:d,onAction:xM(t),updateText:g,shouldHide:VR(t),isInvalid:p=>!t.formatter.canApply(p.format),dataset:s}},AU=(t,s)=>{const a={type:"advanced",...s.styles};return $k(t,s,k$(t,a),w$,"StylesTextUpdate","styles")},_$=(t,s)=>{const a={type:"advanced",...s.styles},i=X1(s,k$(t,a));t.ui.registry.addNestedMenuItem("styles",{text:TU,onSetup:Ki(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},zU=U([Ot("toggleClass"),Ot("fetch"),sf("onExecute"),Ve("getHotspot",_.some),Ve("getAnchorOverrides",U({})),Ym(),sf("onItemExecute"),Os("lazySink"),Ot("dom"),ks("onOpen"),kc("splitDropdownBehaviours",[Ta,pn,Bn]),Ve("matchWidth",!1),Ve("useMinWidth",!1),Ve("eventOrder",{}),Os("role"),Os("listRole")].concat(sS())),OU=qc({factory:si,schema:[Ot("dom")],name:"arrow",defaults:()=>({buttonBehaviours:ao([Bn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(Am)},buttonBehaviours:ao([rs.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),C$=qc({factory:si,schema:[Ot("dom")],name:"button",defaults:()=>({buttonBehaviours:ao([Bn.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(a=>{t.onExecute(a,s)})}})}),DU=U([OU,C$,Nl({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Ot("text")],name:"aria-descriptor"}),fu({schema:[Jp()],name:"menu",defaults:t=>({onExecute:(s,a)=>{s.getSystem().getByUid(t.uid).each(i=>{t.onItemExecute(i,s,a)})}})}),jM()]),S$=(t,s,a,i)=>{const d=z=>{Es.getCurrent(z).each(M=>{rn.highlightFirst(M),pn.focusIn(M)})},g=z=>{a3(t,zt,z,i,d,Ea.HighlightMenuAndItem).get(X)},p=z=>(g(z),_.some(!0)),x=z=>{const M=Ml(z,t,"button");return Am(M),_.some(!0)},k={...Er([Mr((z,M)=>{eo(z,t,"aria-descriptor").each(j=>{const ee=Vo("aria");Oo(j.element,"id",ee),Oo(z.element,"aria-describedby",ee)})})]),...dC(_.some(g))},T={repositionMenus:z=>{rs.isOn(z)&&ZM(z)}};return{uid:t.uid,dom:t.dom,components:s,apis:T,eventOrder:{...t.eventOrder,[ru()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:_c(t.splitDropdownBehaviours,[Ta.config({others:{sandbox:z=>{const M=Ml(z,t,"arrow");return l3(t,z,{onOpen:()=>{rs.on(M),rs.on(z)},onClose:()=>{rs.off(M),rs.off(z)}})}}}),pn.config({mode:"special",onSpace:x,onEnter:x,onDown:p}),Bn.config({}),rs.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},Fk=mi({name:"SplitDropdown",configFields:zU(),partFields:DU(),factory:S$,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),E$=t=>({isEnabled:()=>!l.isDisabled(t),setEnabled:s=>l.set(t,!s),setText:s=>bn(t,Xu,{text:s}),setIcon:s=>bn(t,Vh,{icon:s})}),RU=t=>({setActive:s=>{rs.set(t,s)},isActive:()=>rs.isOn(t),isEnabled:()=>!l.isDisabled(t),setEnabled:s=>l.set(t,!s),setText:s=>bn(t,Xu,{text:s}),setIcon:s=>bn(t,Vh,{icon:s})}),T$=(t,s)=>t.map(a=>({"aria-label":s.translate(a)})).getOr({}),vy=Vo("focus-button"),vO=(t,s,a,i,d,g)=>{const p=s.map(k=>Ls(oz(k,"tox-tbtn",d))),x=t.map(k=>Ls(Hh(k,d.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...T$(a,d),...to(g)?{"data-mce-name":g}:{}}},components:ay([x.map(k=>k.asSpec()),p.map(k=>k.asSpec())]),eventOrder:{[ma()]:["focusing","alloy.base.behaviour",Lh],[xi()]:[Lh,"toolbar-group-button-events"]},buttonBehaviours:ao([yf.toolbarButton(d.isDisabled),Sc(),Jn(Lh,[Mr((k,T)=>ez(k)),Rt(Xu,(k,T)=>{p.bind(z=>z.getOpt(k)).each(z=>{Fn.set(z,[aa(d.translate(T.event.text))])})}),Rt(Vh,(k,T)=>{x.bind(z=>z.getOpt(k)).each(z=>{Fn.set(z,[Hh(T.event.icon,d.icons)])})}),Rt(ma(),(k,T)=>{T.event.prevent(),ns(k,vy)})])].concat(i.getOr([])))}},NU=(t,s,a,i,d)=>{const g=s.shared,p=nn(X),x={toolbarButtonBehaviours:[],getApi:E$,onSetup:t.onSetup},k=[Jn("toolbar-group-button-events",[Oi(x,p),Rh(x,p)])];return Zh.sketch({lazySink:g.getSink,fetch:()=>ri.nu(T=>{T(ke(a(t.items),jS))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:vO(t.icon,t.text,t.tooltip,_.some(k),g.providers,d),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:i}}}})},A$=(t,s,a,i)=>{var d;const g=nn(X),p=vO(t.icon,t.text,t.tooltip,_.none(),a,i);return si.sketch({dom:p.dom,components:p.components,eventOrder:Q3,buttonBehaviours:{...ao([Jn("toolbar-button-events",[rH({onAction:t.onAction,getApi:s.getApi}),Oi(s,g),Rh(s,g)]),...t.tooltip.map(x=>va.config(a.tooltips.getConfig({tooltipText:a.translate(x)+t.shortcut.map(k=>` (${qC(k)})`).getOr("")}))).toArray(),yf.toolbarButton(()=>!t.enabled||a.isDisabled()),Sc()].concat(s.toolbarButtonBehaviours)),[Lh]:(d=p.buttonBehaviours)===null||d===void 0?void 0:d[Lh]}})},MU=(t,s,a)=>z$(t,s,[],a),z$=(t,s,a,i)=>A$(t,{toolbarButtonBehaviours:a.length>0?[Jn("toolbarButtonWith",a)]:[],getApi:E$,onSetup:t.onSetup},s,i),BU=(t,s,a)=>O$(t,s,[],a),O$=(t,s,a,i)=>A$(t,{toolbarButtonBehaviours:[Fn.config({}),rs.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(a.length>0?[Jn("toolbarToggleButtonWith",a)]:[]),getApi:RU,onSetup:t.onSetup},s,i),PU=(t,s,a)=>i=>ri.nu(d=>s.fetch(d)).map(d=>_.from(iS(br(n3(Vo("menu-value"),d,g=>{s.onItemAction(t(i),g)},s.columns,s.presets,hf.CLOSE_ON_EXECUTE,s.select.getOr(Oe),a),{movement:nS(s.columns,s.presets),menuBehaviours:T1.unnamedEvents(s.columns!=="auto"?[]:[Mr((g,p)=>{R4(g,4,m4(s.presets)).each(({numRows:x,numColumns:k})=>{pn.setGridSize(g,x,k)})})])})))),xO=(t,s,a)=>{const i=nn(t.tooltip.getOr("")),d=x=>({isEnabled:()=>!l.isDisabled(x),setEnabled:k=>l.set(x,!k),setIconFill:(k,T)=>{Vr(x.element,`svg path[class="${k}"], rect[class="${k}"]`).each(z=>{Oo(z,"fill",T)})},setActive:k=>{Oo(x.element,"aria-pressed",k),Vr(x.element,"span").each(T=>{x.getSystem().getByDom(T).each(z=>rs.set(z,k))})},isActive:()=>Vr(x.element,"span").exists(k=>x.getSystem().getByDom(k).exists(rs.isOn)),setText:k=>Vr(x.element,"span").each(T=>x.getSystem().getByDom(T).each(z=>bn(z,Xu,{text:k}))),setIcon:k=>Vr(x.element,"span").each(T=>x.getSystem().getByDom(T).each(z=>bn(z,Vh,{icon:k}))),setTooltip:k=>{const T=s.providers.translate(k);Oo(x.element,"aria-label",T),i.set(k)}}),g=nn(X),p={getApi:d,onSetup:t.onSetup};return Fk.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...T$(t.tooltip,s.providers),...to(a)?{"data-mce-name":a}:{}}},onExecute:x=>{const k=d(x);k.isEnabled()&&t.onAction(k)},onItemExecute:(x,k,T)=>{},splitDropdownBehaviours:ao([yf.splitButton(s.providers.isDisabled),Sc(),Jn("split-dropdown-events",[Mr((x,k)=>ez(x)),Rt(vy,Bn.focus),Oi(p,g),Rh(p,g)]),I1.config({}),...t.tooltip.map(x=>va.config({...s.providers.tooltips.getConfig({tooltipText:s.providers.translate(x),onShow:k=>{if(i.get()!==x){const T=s.providers.translate(i.get());va.setComponents(k,s.providers.tooltips.getComponents({tooltipText:T}))}}})})).toArray()]),eventOrder:{[xi()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[au()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:PU(d,t,s.providers),parts:{menu:Rw(!1,t.columns,t.presets)},components:[Fk.parts.button(vO(t.icon,t.text,_.none(),_.some([rs.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),s.providers)),Fk.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:a4("chevron-down",s.providers.icons)},buttonBehaviours:ao([yf.splitButton(s.providers.isDisabled),Sc(),OC()])}),Fk.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},$U=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Lk=(t,s)=>(a,i,d,g)=>{const p=t(a).mapError(x=>tu(x)).getOrDie();return s(p,i,d,g)},D$={button:Lk(IN,(t,s,a,i)=>MU(t,s.shared.providers,i)),togglebutton:Lk(FN,(t,s,a,i)=>BU(t,s.shared.providers,i)),menubutton:Lk(gP,(t,s,a,i)=>xk(t,"tox-tbtn",s,_.none(),!1,i)),splitbutton:Lk(aV,(t,s,a,i)=>xO(t,s.shared,i)),grouptoolbarbutton:Lk(Rk,(t,s,a,i)=>{const d=a.ui.registry.getAll().buttons,g=x=>Hk(a,{buttons:d,toolbar:x,allowToolbarGroups:!1},s,_.none()),p={[kx]:s.shared.header.isPositionedAtTop()?Ol.TopToBottom:Ol.BottomToTop};switch(Xb(a)){case Sd.floating:return NU(t,s,g,p,i);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},R$=(t,s,a,i)=>Kt(D$,t.type).fold(()=>(console.error("skipping button defined by",t),_.none()),d=>_.some(d(t,s,a,i))),N$={styles:AU,fontsize:wU,fontsizeinput:SU,fontfamily:dU,blocks:aU,align:u$},IU=t=>{const s=ke($U,a=>{const i=st(a.items,d=>Gn(t,d)||Gn(N$,d));return{name:a.name,items:i}});return st(s,a=>a.items.length>0)},FU=t=>{const s=t.split("|");return ke(s,a=>({items:a.trim().split(" ")}))},LU=t=>Be(t,s=>Gn(s,"name")&&Gn(s,"items")),HU=t=>{const s=t.toolbar,a=t.buttons;return s===!1?[]:s===void 0||s===!0?IU(a):Re(s)?FU(s):LU(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},VU=(t,s,a,i,d,g)=>Kt(s,a.toLowerCase()).orThunk(()=>g.bind(p=>Ut(p,x=>Kt(s,x+a.toLowerCase())))).fold(()=>Kt(N$,a.toLowerCase()).map(p=>p(t,d)),p=>p.type==="grouptoolbarbutton"&&!i?(console.warn(`Ignoring the '${a}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),_.none()):R$(p,d,t,a.toLowerCase())),Hk=(t,s,a,i)=>{const d=HU(s),g=ke(d,p=>{const x=V(p.items,k=>k.trim().length===0?[]:VU(t,s.buttons,k,s.allowToolbarGroups,a,i).toArray());return{title:_.from(t.translate(p.name)),items:x}});return st(g,p=>p.items.length>0)},M$=(t,s,a,i)=>{const d=s.mainUi.outerContainer,g=a.toolbar,p=a.buttons;if(Be(g,Re)){const x=g.map(k=>{const T={toolbar:k,buttons:p,allowToolbarGroups:a.allowToolbarGroups};return Hk(t,T,i,_.none())});Or.setToolbars(d,x)}else Or.setToolbar(d,Hk(t,a,i,_.none()))},B$=ts(),UU=B$.os.isiOS()&&B$.os.version.major<=12,jU=(t,s)=>{const{uiMotherships:a}=s,i=t.dom;let d=t.getWin();const g=t.getDoc().documentElement,p=nn(wr(d.innerWidth,d.innerHeight)),x=nn(wr(g.offsetWidth,g.offsetHeight)),k=()=>{const H=p.get();(H.left!==d.innerWidth||H.top!==d.innerHeight)&&(p.set(wr(d.innerWidth,d.innerHeight)),JC(t))},T=()=>{const H=t.getDoc().documentElement,j=x.get();(j.left!==H.offsetWidth||j.top!==H.offsetHeight)&&(x.set(wr(H.offsetWidth,H.offsetHeight)),JC(t))},z=H=>{EL(t,H)};i.bind(d,"resize",k),i.bind(d,"scroll",z);const M=hx(Ae.fromDom(t.getBody()),"load",T);t.on("hide",()=>{Xe(a,H=>{Dt(H.element,"display","none")})}),t.on("show",()=>{Xe(a,H=>{Zn(H.element,"display")})}),t.on("NodeChange",T),t.on("remove",()=>{M.unbind(),i.unbind(d,"resize",k),i.unbind(d,"scroll",z),d=null})},QS=(t,s,a)=>{Th(t)&&rp(a.mainUi.mothership.element,a.popupUi.mothership),Nb(s,a.dialogUi.mothership)};var eE=Object.freeze({__proto__:null,render:(t,s,a,i,d)=>{const{mainUi:g,uiMotherships:p}=s,x=nn(0),k=g.outerContainer;QV(t);const T=Ae.fromDom(d.targetNode),z=gc(Xr(T));rp(T,g.mothership),QS(t,z,s),t.on("SkinLoaded",()=>{Or.setSidebar(k,a.sidebar,vC(t)),M$(t,s,a,i),x.set(t.getWin().innerWidth),Or.setMenubar(k,r$(t,a)),Or.setViews(k,a.views),jU(t,s)});const M=Or.getSocket(k).getOrDie("Could not find expected socket element");if(UU){In(M.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const ae=Y7(()=>{t.dispatch("ScrollContent")},20),Fe=Ti(M.element,"scroll",ae.throttle);t.on("remove",Fe.unbind)}N4(t,s),t.addCommand("ToggleSidebar",(ae,Fe)=>{Or.toggleSidebar(k,Fe),RL(t)}),t.addQueryValueHandler("ToggleSidebar",()=>{var ae;return(ae=Or.whichSidebar(k))!==null&&ae!==void 0?ae:""}),t.addCommand("ToggleView",(ae,Fe)=>{if(Or.toggleView(k,Fe)){const pe=k.element;g.mothership.broadcastOn([lf()],{target:pe}),Xe(p,De=>{De.broadcastOn([lf()],{target:pe})}),So(Or.whichView(k))&&(t.focus(),t.nodeChanged(),Or.refreshToolbar(k)),NL(t)}}),t.addQueryValueHandler("ToggleView",()=>{var ae;return(ae=Or.whichView(k))!==null&&ae!==void 0?ae:""});const H=Xb(t),j=()=>{Or.refreshToolbar(s.mainUi.outerContainer)};(H===Sd.sliding||H===Sd.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const ae=t.getWin().innerWidth;ae!==x.get()&&(j(),x.set(ae))});const ee={setEnabled:ae=>{A1(s,!ae)},isEnabled:()=>!l.isDisabled(k)};return{iframeContainer:M.element.dom,editorContainer:k.element.dom,api:ee}}});const Vk=t=>/^[0-9\.]+(|px)$/i.test(""+t)?_.some(parseInt(""+t,10)):_.none(),tE=t=>nt(t)?t+"px":t,oE=(t,s,a)=>{const i=s.filter(g=>t<g),d=a.filter(g=>t>g);return i.or(d).getOr(t)},WU=t=>{const s=pw(t),a=v1(t),i=pC(t);return Vk(s).map(d=>oE(d,a,i))},ZU=t=>WU(t).getOr(pw(t)),P$=t=>{const s=OA(t),a=Yb(t),i=hw(t);return Vk(s).map(d=>oE(d,a,i))},qU=t=>P$(t).getOr(OA(t)),{ToolbarLocation:e0,ToolbarMode:wO}=rN,$$=40,I$=(t,s,a,i,d)=>{const{mainUi:g,uiMotherships:p}=a,x=qb.DOM,k=x1(t),T=Jb(t),z=hw(t).or(P$(t)),M=i.shared.header,H=M.isPositionedAtTop,j=150,ee=Xb(t),ae=ee===wO.sliding||ee===wO.floating,Fe=nn(!1),pe=()=>Fe.get()&&!t.removed,De=Jo=>ae?Jo.fold(U(0),Yt=>Yt.components().length>1?Xs(Yt.components()[1].element):0):0,Ne=Jo=>{switch(bw(t)){case e0.auto:const Yt=Or.getToolbar(g.outerContainer),Eo=De(Yt),Pn=Xs(Jo.element)-Eo,An=Lr(s);if(An.y>Pn)return"top";{const qn=Mi(s),pr=Math.max(qn.dom.scrollHeight,Xs(qn));return An.bottom<pr-Pn||Ca().bottom<An.bottom-Pn?"bottom":"top"}case e0.bottom:return"bottom";case e0.top:default:return"top"}},At=Jo=>{d.on(Yt=>{Ar.setModes(Yt,[Jo]),M.setDockingMode(Jo);const Eo=H()?Ol.TopToBottom:Ol.BottomToTop;Oo(Yt.element,kx,Eo)})},ht=()=>{d.on(Jo=>{const Yt=z.getOrThunk(()=>Zd().width-li(s).left-10);Dt(Jo.element,"max-width",Yt+"px")})},Co=(Jo,Yt)=>{d.on(Eo=>{const Pn=Or.getToolbar(g.outerContainer),An=De(Pn),mn=Lr(s),qn=Io(t,g.outerContainer.element),pr=()=>qn.fold(()=>mn.x,pi=>{const nd=Lr(pi);return Ts(pi,es())?mn.x:mn.x-nd.x}),Hs=()=>qn.fold(()=>H()?Math.max(mn.y-Xs(Eo.element)+An,0):mn.bottom,pi=>{var nd;const Ld=Lr(pi),Ul=(nd=pi.dom.scrollTop)!==null&&nd!==void 0?nd:0,Ay=Ts(pi,es())?Math.max(mn.y-Xs(Eo.element)+An,0):mn.y-Ld.y+Ul-Xs(Eo.element)+An;return H()?Ay:mn.bottom}),Ni=pr(),od=Qo(Jo,Math.ceil(g.outerContainer.element.dom.getBoundingClientRect().width)).filter(pi=>pi>j).map(pi=>{const nd=Yt.getOr(zc()),Ld=window.innerWidth-(Ni-nd.left),Ul=Math.max(Math.min(pi,Ld),j);return Ld<pi&&Dt(g.outerContainer.element,"width",Ul+"px"),{width:Ul+"px"}}).getOr({width:"max-content"}),fm={position:"absolute",left:Math.round(Ni)+"px",top:Hs()+"px"};In(g.outerContainer.element,{...fm,...od})})},Io=(Jo,Yt)=>Th(Jo)?Dm(Yt):_.none(),_t=()=>{Xe(p,Jo=>{Jo.broadcastOn([cp()],{})})},Yo=()=>!k&&(Oa(g.outerContainer.element).left+oe(g.outerContainer.element)>=window.innerWidth-$$||nr(g.outerContainer.element,"width").isSome())?(Dt(g.outerContainer.element,"position","absolute"),Dt(g.outerContainer.element,"left","0px"),Zn(g.outerContainer.element,"width"),!0):!1,wo=Jo=>{if(!pe())return;k||ht();const Yt=zc(),Eo=k?!1:Yo();if(ae&&Or.refreshToolbar(g.outerContainer),!k){const Pn=zc(),An=Qo(Yt.left!==Pn.left,Yt);Co(Eo,An),An.each(mn=>{rd(mn.left,Pn.top)})}T&&d.on(Jo),_t()},tn=()=>k||!T||!pe()?!1:d.get().exists(Jo=>{const Yt=M.getDockingMode(),Eo=Ne(Jo);return Eo!==Yt?(At(Eo),!0):!1});return{isVisible:pe,isPositionedAtTop:H,show:()=>{Fe.set(!0),Dt(g.outerContainer.element,"display","flex"),x.addClass(t.getBody(),"mce-edit-focus"),Xe(p,Jo=>{Zn(Jo.element,"display")}),tn(),Th(t)?wo(Jo=>Ar.isDocked(Jo)?Ar.reset(Jo):Ar.refresh(Jo)):wo(Ar.refresh)},hide:()=>{Fe.set(!1),Dt(g.outerContainer.element,"display","none"),x.removeClass(t.getBody(),"mce-edit-focus"),Xe(p,Jo=>{Dt(Jo.element,"display","none")})},update:wo,updateMode:()=>{tn()&&wo(Ar.reset)},repositionPopups:_t}},kO=(t,s)=>{const a=Lr(t);return{pos:s?a.y:a.bottom,bounds:a}},GU=(t,s,a,i)=>{const d=nn(kO(s,a.isPositionedAtTop())),g=T=>{const{pos:z,bounds:M}=kO(s,a.isPositionedAtTop()),{pos:H,bounds:j}=d.get(),ee=M.height!==j.height||M.width!==j.width;d.set({pos:z,bounds:M}),ee&&JC(t,T),a.isVisible()&&(H!==z?a.update(Ar.reset):ee&&(a.updateMode(),a.repositionPopups()))};i||(t.on("activate",a.show),t.on("deactivate",a.hide)),t.on("SkinLoaded ResizeWindow",()=>a.update(Ar.reset)),t.on("NodeChange keydown",T=>{requestAnimationFrame(()=>g(T))});let p=0;const x=W3(()=>a.update(Ar.refresh),33);t.on("ScrollWindow",()=>{const T=zc().left;T!==p&&(p=T,x.throttle()),a.updateMode()}),Th(t)&&t.on("ElementScroll",T=>{a.update(Ar.refresh)});const k=Ga();k.set(hx(Ae.fromDom(t.getBody()),"load",T=>g(T.raw))),t.on("remove",()=>{k.clear()})};var YU=Object.freeze({__proto__:null,render:(t,s,a,i,d)=>{const{mainUi:g}=s,p=js(),x=Ae.fromDom(d.targetNode),k=I$(t,x,s,i,p),T=WR(t);eU(t);const z=()=>{if(p.isSet()){k.show();return}p.set(Or.getHeader(g.outerContainer).getOrDie());const H=FA(t);Th(t)?(rp(x,g.mothership),rp(x,s.popupUi.mothership)):Nb(H,g.mothership),Nb(H,s.dialogUi.mothership);const j=()=>{M$(t,s,a,i),Or.setMenubar(g.outerContainer,r$(t,a)),k.show(),GU(t,x,k,T),t.nodeChanged()};T?t.once("SkinLoaded",j):j()};t.on("show",z),t.on("hide",k.hide),T||(t.on("focus",z),t.on("blur",k.hide)),t.on("init",()=>{(t.hasFocus()||T)&&z()}),N4(t,s);const M={show:z,hide:k.hide,setEnabled:H=>{A1(s,!H)},isEnabled:()=>!l.isDisabled(g.outerContainer)};return{editorContainer:g.outerContainer.element.dom,api:M}}});const XU=()=>{const t=js(),s=js(),a=js();return{dialogUi:t,popupUi:s,mainUi:a,getUiMotherships:()=>{const g=t.get().map(x=>x.mothership),p=s.get().map(x=>x.mothership);return g.fold(()=>p.toArray(),x=>p.fold(()=>[x],k=>Ts(x.element,k.element)?[x]:[x,k]))},lazyGetInOuterOrDie:(g,p)=>()=>a.get().bind(x=>p(x.outerContainer)).getOrDie(`Could not find ${g} element in OuterContainer`)}},JU="contexttoolbar-show",F$="contexttoolbar-hide",QU=t=>({hide:()=>ns(t,ob()),getValue:()=>$o.getValue(t)}),t0=(t,s)=>Rt(nB,(a,i)=>{const d=t.get(a),g=QU(d);s.onAction(g,i.event.buttonApi)}),ej=(t,s,a)=>{const{primary:i,...d}=s.original,g=Xt(IN({...d,type:"button",onAction:X}));return z$(g,a,[t0(t,s)])},tj=(t,s,a)=>{const{primary:i,...d}=s.original,g=Xt(FN({...d,type:"togglebutton",onAction:X}));return O$(g,a,[t0(t,s)])},oj=t=>t.type==="contextformtogglebutton",L$=(t,s,a)=>oj(s)?tj(t,s,a):ej(t,s,a),nj=(t,s,a)=>{const i=ke(s,p=>Ls(L$(t,p,a)));return{asSpecs:()=>ke(i,p=>p.asSpec()),findPrimary:p=>Ut(s,(x,k)=>x.primary?_.from(i[k]).bind(T=>T.getOpt(p)).filter(We(l.isDisabled)):_.none())}},_O=(t,s)=>{const a=t.label.fold(()=>({}),g=>({"aria-label":g})),i=Ls(oy.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:a,selectOnFocus:!0,inputBehaviours:ao([pn.config({mode:"special",onEnter:g=>d.findPrimary(g).map(p=>(Am(p),!0)),onLeft:(g,p)=>(p.cut(),_.none()),onRight:(g,p)=>(p.cut(),_.none())})])})),d=nj(i,t.commands,s);return[{title:_.none(),items:[i.asSpec()]},{title:_.none(),items:d.asSpecs()}]},sj={renderContextForm:(t,s,a)=>WS({type:t,uid:Vo("context-toolbar"),initGroups:_O(s,a),onEscape:_.none,cyclicKeying:!0,providers:a}),buildInitGroups:_O},H$=(t,s,a)=>s.bottom-t.y>=a&&t.bottom-s.y>=a,rj=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const a=wl(Ae.fromDom(t.startContainer),t.startOffset).element;return(ds(a)?$a(a):_.some(a)).filter(xn).map(d=>d.dom.getBoundingClientRect()).getOr(s)}else return s},CO=t=>{const s=t.selection.getRng(),a=rj(s);if(t.inline){const i=zc();return Nr(i.left+a.left,i.top+a.top,a.width,a.height)}else{const i=bi(Ae.fromDom(t.getBody()));return Nr(i.x+a.left,i.y+a.top,a.width,a.height)}},Uk=(t,s)=>s.filter(a=>Ho(a)&&Za(a)).map(bi).getOrThunk(()=>CO(t)),V$=(t,s,a)=>{const i=Math.max(t.x+a,s.x),d=Math.min(t.right-a,s.right);return{x:i,width:d-i}},aj=(t,s,a,i,d,g)=>{const p=Ae.fromDom(t.getContainer()),x=Vr(p,".tox-editor-header").getOr(p),k=Lr(x),T=k.y>=s.bottom,z=i&&!T;if(t.inline&&z)return{y:Math.max(k.bottom+g,a.y),bottom:a.bottom};if(t.inline&&!z)return{y:a.y,bottom:Math.min(k.y-g,a.bottom)};const M=d==="line"?Lr(p):s;return z?{y:Math.max(k.bottom+g,a.y),bottom:Math.min(M.bottom-g,a.bottom)}:{y:Math.max(M.y+g,a.y),bottom:Math.min(k.y-g,a.bottom)}},U$=(t,s,a,i=0)=>{const d=Zd(window),g=Lr(Ae.fromDom(t.getContentAreaContainer())),p=xC(t)||xw(t)||ww(t),{x,width:k}=V$(g,d,i);if(t.inline&&!p)return Nr(x,d.y,k,d.height);{const T=s.header.isPositionedAtTop(),{y:z,bottom:M}=aj(t,g,d,T,a,i);return Nr(x,z,k,M-z)}},jk=12,nE={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},SO={maxHeightFunction:sh(),maxWidthFunction:K1()},j$=(t,s)=>{const a=t.selection.getRng(),i=wl(Ae.fromDom(a.startContainer),a.startOffset);return a.startContainer===a.endContainer&&a.startOffset===a.endOffset-1&&Ts(i.element,s)},cj=(t,s,a)=>{const i=nr(t,"position");Dt(t,"position",s);const d=a(t);return i.each(g=>Dt(t,"position",g)),d},xy=t=>t==="node",sE=(t,s,a,i,d)=>{const g=CO(t),p=i.lastElement().exists(x=>Ts(a,x));if(j$(t,a))return p?FB:pu;if(p)return cj(s,i.getMode(),()=>H$(g,Lr(s),-20)&&!i.isReposition()?LB:FB);{const x=i.getMode()==="fixed"?d.y+zc().top:d.y,k=Xs(s)+jk;return x+k<=g.y?pu:Z1}},rE=(t,s,a,i)=>{const d=k=>(T,z,M,H,j)=>{const ee=sE(t,H,k,a,j),ae={...T,y:j.y,height:j.height};return{...ee(ae,z,M,H,j),alwaysFit:!0}},g=k=>xy(i)?[d(k)]:[];return s?{onLtr:k=>[Qa,Xa,ba,Qs,jc,Ja].concat(g(k)),onRtl:k=>[Qa,ba,Xa,jc,Qs,Ja].concat(g(k))}:{onLtr:k=>[Ja,Qa,Qs,Xa,jc,ba].concat(g(k)),onRtl:k=>[Ja,Qa,jc,ba,Qs,Xa].concat(g(k))}},EO=(t,s,a,i)=>s==="line"?{bubble:Iu(jk,0,nE),layouts:{onLtr:()=>[dv],onRtl:()=>[fv]},overrides:SO}:{bubble:Iu(0,jk,nE,1/jk),layouts:rE(t,a,i,s),overrides:SO},Wk=(t,s)=>{const a=st(s,g=>g.predicate(t.dom)),{pass:i,fail:d}=wn(a,g=>g.type==="contexttoolbar");return{contextToolbars:i,contextForms:d}},W$=t=>{if(t.length<=1)return t;{const s=g=>yo(t,p=>p.position===g),a=g=>st(t,p=>p.position===g),i=s("selection"),d=s("node");if(i||d)if(d&&i){const g=a("node"),p=ke(a("selection"),x=>({...x,position:"node"}));return g.concat(p)}else return a(i?"selection":"node");else return a("line")}},aE=t=>{if(t.length<=1)return t;{const s=i=>K(t,d=>d.position===i);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(i=>i.position).fold(()=>[],i=>st(t,d=>d.position===i))}},Z$=(t,s,a)=>{const i=Wk(t,s);if(i.contextForms.length>0)return _.some({elem:t,toolbars:[i.contextForms[0]]});{const d=Wk(t,a);if(d.contextForms.length>0)return _.some({elem:t,toolbars:[d.contextForms[0]]});if(i.contextToolbars.length>0||d.contextToolbars.length>0){const g=W$(i.contextToolbars.concat(d.contextToolbars));return _.some({elem:t,toolbars:g})}else return _.none()}},q$=(t,s,a)=>t(s)?_.none():ou(s,i=>{if(xn(i)){const{contextToolbars:d,contextForms:g}=Wk(i,a.inNodeScope),p=g.length>0?g:aE(d);return p.length>0?_.some({elem:i,toolbars:p}):_.none()}else return _.none()},t),TO=(t,s)=>{const a=Ae.fromDom(s.getBody()),i=p=>Ts(p,a),d=p=>!i(p)&&!Aa(a,p),g=Ae.fromDom(s.selection.getNode());return d(g)?_.none():Z$(g,t.inNodeScope,t.inEditorScope).orThunk(()=>q$(i,g,t))},ij=(t,s)=>{const a={},i=[],d=[],g={},p={},x=(z,M)=>{const H=Xt(cL(M));a[z]=H,H.launch.map(j=>{g["form:"+z]={...M.launch,type:j.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(H)}}}),H.scope==="editor"?d.push(H):i.push(H),p[z]=H},k=(z,M)=>{$w(M).each(H=>{M.scope==="editor"?d.push(H):i.push(H),p[z]=H})},T=io(t);return Xe(T,z=>{const M=t[z];M.type==="contextform"?x(z,M):M.type==="contexttoolbar"&&k(z,M)}),{forms:a,inNodeScope:i,inEditorScope:d,lookupTable:p,formNavigators:g}},AO=Vo("forward-slide"),G$=Vo("backward-slide"),zO=Vo("change-slide-event"),o0="tox-pop--resizing",K$=t=>{const s=nn([]);return Ur.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:a=>{s.set([]),Ur.getContent(a).each(i=>{Zn(i.element,"visibility")}),ra(a.element,o0),Zn(a.element,"width")},inlineBehaviours:ao([Jn("context-toolbar-events",[jp(gd(),(a,i)=>{i.event.raw.propertyName==="width"&&(ra(a.element,o0),Zn(a.element,"width"))}),Rt(zO,(a,i)=>{const d=a.element;Zn(d,"width");const g=G(d);Ur.setContent(a,i.event.contents),Tr(d,o0);const p=G(d);Dt(d,"width",g+"px"),Ur.getContent(a).each(x=>{i.event.focus.bind(k=>(zl(k),Ei(d))).orThunk(()=>(pn.focusIn(x),kd(Xr(d))))}),setTimeout(()=>{Dt(a.element,"width",p+"px")},0)}),Rt(AO,(a,i)=>{Ur.getContent(a).each(d=>{s.set(s.get().concat([{bar:d,focus:kd(Xr(a.element))}]))}),bn(a,zO,{contents:i.event.forwardContents,focus:_.none()})}),Rt(G$,(a,i)=>{je(s.get()).each(d=>{s.set(s.get().slice(0,s.get().length-1)),bn(a,zO,{contents:Al(d.bar),focus:d.focus})})})]),pn.config({mode:"special",onEscape:a=>je(s.get()).fold(()=>t.onEscape(),i=>(ns(a,G$),_.some(!0)))})]),lazySink:()=>Kn.value(t.sink)})},OO="tox-pop--transition",lj=(t,s,a,i)=>{const d=i.backstage,g=d.shared,p=ts().deviceType.isTouch,x=js(),k=js(),T=js(),z=oi(K$({sink:a,onEscape:()=>(t.focus(),_.some(!0))})),M=()=>{const wo=T.get().getOr("node"),tn=xy(wo)?1:0;return U$(t,g,wo,tn)},H=()=>!t.removed&&!(p()&&d.isContextMenuOpen()),j=wo=>ar(ea(wo,x.get(),Ts),!0),ee=()=>{if(H()){const wo=M(),tn=ar(T.get(),"node")?Uk(t,x.get()):CO(t);return wo.height<=0||!H$(tn,wo,.01)}else return!0},ae=()=>{x.clear(),k.clear(),T.clear(),Ur.hide(z)},Fe=()=>{if(Ur.isOpen(z)){const wo=z.element;Zn(wo,"display"),ee()?Dt(wo,"display","none"):(k.set(0),Ur.reposition(z))}},pe=wo=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[wo],behaviours:ao([pn.config({mode:"acyclic"}),Jn("pop-dialog-wrap-events",[Mr(tn=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>pn.focusIn(tn))}),tf(tn=>{t.shortcuts.remove("ctrl+F9")})])])}),De=Ct(()=>ij(s,wo=>{const tn=ht([wo]);bn(z,AO,{forwardContents:pe(tn)})})),Ne=(wo,tn)=>Hk(t,{buttons:wo,toolbar:tn.items,allowToolbarGroups:!1},i.backstage,_.some(["form:"])),At=(wo,tn)=>sj.buildInitGroups(wo,tn),ht=wo=>{const{buttons:tn}=t.ui.registry.getAll(),fs=De(),Dr={...tn,...fs.formNavigators},$s=Xb(t)===Sd.scrolling?Sd.scrolling:Sd.default,Jo=he(ke(wo,Yt=>Yt.type==="contexttoolbar"?Ne(Dr,Yt):At(Yt,g.providers)));return WS({type:$s,uid:Vo("context-toolbar"),initGroups:Jo,onEscape:_.none,cyclicKeying:!0,providers:g.providers})},Co=(wo,tn)=>{const fs=wo==="node"?g.anchors.node(tn):g.anchors.cursor(),Dr=EO(t,wo,p(),{lastElement:x.get,isReposition:()=>ar(k.get(),0),getMode:()=>ni.getMode(a)});return br(fs,Dr)},Io=(wo,tn)=>{if(Yo.cancel(),!H())return;const fs=ht(wo),Dr=wo[0].position,$s=Co(Dr,tn);T.set(Dr),k.set(1);const Jo=z.element;Zn(Jo,"display"),j(tn)||(ra(Jo,OO),ni.reset(a,z)),Ur.showWithinBounds(z,pe(fs),{anchor:$s,transition:{classes:[OO],mode:"placement"}},()=>_.some(M())),tn.fold(x.clear,x.set),ee()&&Dt(Jo,"display","none")};let _t=!1;const Yo=W3(()=>{if(!(!t.hasFocus()||t.removed||_t))if(al(z.element,OO))Yo.throttle();else{const wo=De();TO(wo,t).fold(ae,tn=>{Io(tn.toolbars,_.some(tn.elem))})}},17);t.on("init",()=>{t.on("remove",ae),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Fe),t.on("click keyup focus SetContent",Yo.throttle),t.on(F$,ae),t.on(JU,wo=>{const tn=De();Kt(tn.lookupTable,wo.toolbarKey).each(fs=>{Io([fs],Qo(wo.target!==t,wo.target)),Ur.getContent(z).each(pn.focusIn)})}),t.on("focusout",wo=>{y1.setEditorTimeout(t,()=>{Ei(a.element).isNone()&&Ei(z.element).isNone()&&ae()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&ae()}),t.on("ExecCommand",({command:wo})=>{wo.toLowerCase()==="toggleview"&&ae()}),t.on("AfterProgressState",wo=>{wo.state?ae():t.hasFocus()&&Yo.throttle()}),t.on("dragstart",()=>{_t=!0}),t.on("dragend drop",()=>{_t=!1}),t.on("NodeChange",wo=>{Ei(z.element).fold(Yo.throttle,X)})})},uj=t=>{Xe([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],a=>{t.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onAction:gu(t,a.cmd),onSetup:eS(t,a.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Ki(t),onAction:gu(t,"JustifyNone")})},Y$=(t,s)=>{const a=()=>{const i=s.getOptions(t),d=s.getCurrent(t).map(s.hash),g=js();return ke(i,p=>({type:"togglemenuitem",text:s.display(p),onSetup:x=>{const k=z=>{z&&(g.on(M=>M.setActive(!1)),g.set(x)),x.setActive(z)};k(ar(d,s.hash(p)));const T=s.watcher(t,p,k);return()=>{g.clear(),T()}},onAction:()=>s.setCurrent(t,p)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:i=>i(a()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:a,onSetup:s.onMenuSetup})},dj=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:nN,hash:s=>gU(s,["fixed","relative","empty"]).getOr(s),display:zt,watcher:(s,a,i)=>s.formatter.formatChanged("lineheight",i,!1,{value:a}).unbind,getCurrent:s=>_.from(s.queryCommandValue("LineHeight")),setCurrent:(s,a)=>s.execCommand("LineHeight",!1,a),onToolbarSetup:Ki(t),onMenuSetup:Ki(t)}),X$=t=>_.from(UR(t)).map(a=>({name:"language",text:"Language",icon:"language",getOptions:U(a),hash:i=>Vt(i.customCode)?i.code:`${i.code}/${i.customCode}`,display:i=>i.title,watcher:(i,d,g)=>{var p;return i.formatter.formatChanged("lang",g,!1,{value:d.code,customValue:(p=d.customCode)!==null&&p!==void 0?p:null}).unbind},getCurrent:i=>{const d=Ae.fromDom(i.selection.getNode());return El(d,g=>_.some(g).filter(xn).bind(p=>oa(p,"lang").map(k=>{const T=oa(p,"data-mce-lang").getOrUndefined();return{code:k,customCode:T,title:""}})))},setCurrent:(i,d)=>i.execCommand("Lang",!1,d),onToolbarSetup:i=>{const d=Ga();return i.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",i.setActive,!0)),QC(d.clear,Ki(t)(i))},onMenuSetup:Ki(t)})),J$=t=>{Y$(t,dj(t)),X$(t).each(s=>Y$(t,s))},Q$=(t,s)=>{Gh(t,s),fU(t,s),_$(t,s),cU(t,s),EU(t,s)},eI=t=>ly(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),fj=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:eI(t),onAction:gu(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Ki(t),onAction:gu(t,"indent")})},tI=t=>{fj(t)},DO=(t,s)=>a=>{a.setActive(s.get());const i=d=>{s.set(d.state),a.setActive(d.state)};return t.on("PastePlainTextToggle",i),QC(()=>t.off("PastePlainTextToggle",i),Ki(t)(a))},mj=t=>{const s=nn(BA(t)),a=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:a,onSetup:DO(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:a,onSetup:DO(t,s)})},oI=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},gj=t=>{Tp.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,a)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:eS(t,s.name),onAction:oI(t,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const a="h"+s,i=`Access+${s}`;t.ui.registry.addToggleButton(a,{text:a.toUpperCase(),tooltip:"Heading "+s,onSetup:eS(t,a),onAction:oI(t,a),shortcut:i})}},pj=t=>{Tp.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:gu(t,s.action),shortcut:s.shortcut})}),Tp.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Ki(t),onAction:gu(t,s.action)})})},hj=t=>{Tp.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:gu(t,s.action),onSetup:eS(t,s.name)})})},bj=t=>{gj(t),pj(t),hj(t)},yj=t=>{Tp.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:gu(t,s.action)})}),Tp.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:Ki(t),onAction:gu(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Ki(t),onAction:oI(t,"code")})},vj=t=>{bj(t),yj(t)},cE=(t,s)=>ly(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",a=>{a.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),xj=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:cE(t,"hasUndo"),onAction:gu(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:cE(t,"hasRedo"),onAction:gu(t,"redo")})},wj=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:cE(t,"hasUndo"),onAction:gu(t,"undo"),shortcut:"Meta+Z"}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:cE(t,"hasRedo"),onAction:gu(t,"redo"),shortcut:"Meta+Y"})},kj=t=>{xj(t),wj(t)},_j=t=>ly(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),Cj=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:_j(t),onAction:gu(t,"mceToggleVisualAid")})},Sj=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:gu(t,"mceToggleVisualAid")})},nI=t=>{Sj(t),Cj(t)},Ej=(t,s)=>{uj(t),vj(t),Q$(t,s),kj(t),VL(t),nI(t),tI(t),J$(t),mj(t)},Tj=t=>Re(t)?t.split(/[ ,]/):t,sI=t=>s=>s.options.get(t),Aj=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:a=>a===!1?{value:[],valid:!0}:Re(a)||Be(a,Re)?{value:Tj(a),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},rI=sI("contextmenu_never_use_native"),zj=sI("contextmenu_avoid_overlap"),Oj=t=>aI(t).length===0,aI=t=>{const s=t.ui.registry.getAll().contextMenus,a=t.options.get("contextmenu");return t.options.isSet("contextmenu")?a:st(a,i=>Gn(s,i))},Zk=(t,s)=>({type:"makeshift",x:t,y:s}),RO=(t,s,a)=>Zk(t.x+s,t.y+a),cI=t=>t.type==="longpress"||t.type.indexOf("touch")===0,Dj=t=>{if(cI(t)){const s=t.touches[0];return Zk(s.pageX,s.pageY)}else return Zk(t.pageX,t.pageY)},NO=t=>{if(cI(t)){const s=t.touches[0];return Zk(s.clientX,s.clientY)}else return Zk(t.clientX,t.clientY)},iI=(t,s)=>{const a=qb.DOM.getPos(t);return RO(s,a.x,a.y)},lI=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?Dj(s):iI(t.getContentAreaContainer(),NO(s)):uI(t),uI=t=>({type:"selection",root:Ae.fromDom(t.selection.getNode())}),Rj=t=>({type:"node",node:_.some(Ae.fromDom(t.selection.getNode())),root:Ae.fromDom(t.getBody())}),dI=(t,s,a)=>{switch(a){case"node":return Rj(t);case"point":return lI(t,s);case"selection":return uI(t)}},Nj=(t,s,a,i,d,g)=>{const p=a(),x=dI(t,s,g);V1(p,hf.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:_.none()}).map(k=>{s.preventDefault(),Ur.showMenuAt(d,{anchor:x},{menu:{markers:ty("normal")},data:k})})},Mj={onLtr:()=>[Qa,Xa,ba,Qs,jc,Ja,pu,Z1,W1,RS,Ek,DS],onRtl:()=>[Qa,ba,Xa,jc,Qs,Ja,pu,Z1,Ek,DS,W1,RS]},MO=12,Bj={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},fI=(t,s)=>{const a=t.selection;if(a.isCollapsed()||s.touches.length<1)return!1;{const i=s.touches[0],d=a.getRng();return Va(t.getWin(),Jm.domRange(d)).exists(p=>p.left<=i.clientX&&p.right>=i.clientX&&p.top<=i.clientY&&p.bottom>=i.clientY)}},Pj=t=>{const s=t.selection.getRng(),a=()=>{y1.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),g()};t.once("touchend",a);const i=p=>{p.preventDefault(),p.stopImmediatePropagation()};t.on("mousedown",i,!0);const d=()=>g();t.once("longpresscancel",d);const g=()=>{t.off("touchend",a),t.off("longpresscancel",d),t.off("mousedown",i)}},$j=(t,s,a)=>{const i=dI(t,s,a);return{bubble:Iu(0,a==="point"?MO:0,Bj),layouts:Mj,overrides:{maxWidthFunction:K1(),maxHeightFunction:sh()},...i}},BO=(t,s,a,i,d,g,p)=>{const x=$j(t,s,g);V1(a,hf.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!0,search:_.none()}).map(k=>{s.preventDefault();const T=p?Ea.HighlightMenuAndItem:Ea.HighlightNone;Ur.showMenuWithinBounds(d,{anchor:x},{menu:{markers:ty("normal"),highlightOnOpen:T},data:k,type:"horizontal"},()=>_.some(U$(t,i.shared,g==="node"?"node":"selection"))),t.dispatch(F$)})},Ij=(t,s,a,i,d,g)=>{const p=ts(),x=p.os.isiOS(),k=p.os.isMacOS(),T=p.os.isAndroid(),z=p.deviceType.isTouch(),M=()=>!(T||x||k&&z),H=()=>{const j=a();BO(t,s,j,i,d,g,M())};if((k||x)&&g!=="node"){const j=()=>{Pj(t),H()};fI(t,s)?j():(t.once("selectionchange",j),t.once("touchend",()=>t.off("selectionchange",j)))}else H()},PO=t=>Re(t)?t==="|":t.type==="separator",$O={type:"separator"},mI=t=>{const s=a=>({text:a.text,icon:a.icon,enabled:a.enabled,shortcut:a.shortcut});if(Re(t))return t;switch(t.type){case"separator":return $O;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const i=t.getSubmenuItems();return Re(i)?i:ke(i,mI)}};default:const a=t;return{type:"menuitem",...s(a),onAction:lt(a.onAction)}}},iE=(t,s)=>{if(s.length===0)return t;const i=je(t).filter(d=>!PO(d)).fold(()=>[],d=>[$O]);return t.concat(i).concat(s).concat([$O])},Fj=(t,s,a)=>{const i=Ue(s,(d,g)=>Kt(t,g.toLowerCase()).map(p=>{const x=p.update(a);if(Re(x)&&ge(ir(x)))return iE(d,x.split(" "));if(po(x)&&x.length>0){const k=ke(x,mI);return iE(d,k)}else return d}).getOrThunk(()=>d.concat([g])),[]);return i.length>0&&PO(i[i.length-1])&&i.pop(),i},Lj=(t,s)=>s.ctrlKey&&!rI(t),Hj=t=>t.type==="longpress"||Gn(t,"touches"),gI=(t,s)=>!Hj(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),pI=(t,s)=>gI(t,s)?t.selection.getStart(!0):s.target,hI=(t,s)=>{const a=zj(t),i=gI(t,s)?"selection":"point";if(ge(a)){const d=pI(t,s);return qw(Ae.fromDom(d),a)?"node":i}else return i},Vj=(t,s,a)=>{const d=ts().deviceType.isTouch,g=oi(Ur.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>a.setContextMenuState(!0),onHide:()=>a.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:ao([Jn("dismissContextMenu",[Rt(Em(),(k,T)=>{Ss.close(k),t.focus()})])])})),p=()=>Ur.hide(g),x=k=>{if(rI(t)&&k.preventDefault(),Lj(t,k)||Oj(t))return;const T=hI(t,k),z=()=>{const H=pI(t,k),j=t.ui.registry.getAll(),ee=aI(t);return Fj(j.contextMenus,ee,H)};(d()?Ij:Nj)(t,k,z,a,g,T)};t.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(k,p),t.on("longpress contextmenu",x)})},IO=J.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),lE=t=>s=>s.translate(-t.left,-t.top),uE=t=>s=>s.translate(t.left,t.top),zp=t=>(s,a)=>Ue(t,(i,d)=>d(i),wr(s,a)),dE=(t,s,a)=>t.fold(zp([uE(a),lE(s)]),zp([lE(s)]),zp([])),n0=(t,s,a)=>t.fold(zp([uE(a)]),zp([]),zp([uE(s)])),bI=(t,s,a)=>t.fold(zp([]),zp([lE(a)]),zp([uE(s),lE(a)])),yI=(t,s,a,i,d,g)=>{const p=n0(t,d,g),x=n0(s,d,g);return Math.abs(p.left-x.left)<=a&&Math.abs(p.top-x.top)<=i},Uj=(t,s,a,i,d,g)=>{const p=n0(t,d,g),x=n0(s,d,g),k=Math.abs(p.left-x.left),T=Math.abs(p.top-x.top);return wr(k,T)},FO=(t,s,a)=>{const i=t.fold((d,g)=>({position:_.some("absolute"),left:_.some(d+"px"),top:_.some(g+"px")}),(d,g)=>({position:_.some("absolute"),left:_.some(d-a.left+"px"),top:_.some(g-a.top+"px")}),(d,g)=>({position:_.some("fixed"),left:_.some(d+"px"),top:_.some(g+"px")}));return{right:_.none(),bottom:_.none(),...i}},jj=(t,s,a)=>t.fold((i,d)=>fE(i+s,d+a),(i,d)=>Qu(i+s,d+a),(i,d)=>Kh(i+s,d+a)),LO=(t,s,a,i)=>{const d=(g,p)=>(x,k)=>{const T=g(s,a,i);return p(x.getOr(T.left),k.getOr(T.top))};return t.fold(d(bI,fE),d(n0,Qu),d(dE,Kh))},fE=IO.offset,Qu=IO.absolute,Kh=IO.fixed,vI=(t,s)=>{const a=on(t,s);return Vt(a)?NaN:parseInt(a,10)},Wj=(t,s)=>{const a=t.element,i=vI(a,s.leftAttr),d=vI(a,s.topAttr);return isNaN(i)||isNaN(d)?_.none():_.some(wr(i,d))},Zj=(t,s,a)=>{const i=t.element;Oo(i,s.leftAttr,a.left+"px"),Oo(i,s.topAttr,a.top+"px")},qj=(t,s)=>{const a=t.element;B(a,s.leftAttr),B(a,s.topAttr)},xI=(t,s,a,i)=>Wj(t,s).fold(()=>a,d=>Kh(d.left+i.left,d.top+i.top)),Gj=(t,s,a,i,d,g)=>{const p=xI(t,s,a,i),x=s.mustSnap?Yj(t,s,p,d,g):Xj(t,s,p,d,g),k=dE(p,d,g);return Zj(t,s,k),x.fold(()=>({coord:Kh(k.left,k.top),extra:_.none()}),T=>({coord:T.output,extra:T.extra}))},Kj=(t,s)=>{qj(t,s)},wI=(t,s,a,i)=>Ut(t,d=>{const g=d.sensor;return yI(s,g,d.range.left,d.range.top,a,i)?_.some({output:LO(d.output,s,a,i),extra:d.extra}):_.none()}),Yj=(t,s,a,i,d)=>{const g=s.getSnapPoints(t);return wI(g,a,i,d).orThunk(()=>Ue(g,(k,T)=>{const z=T.sensor,M=Uj(a,z,T.range.left,T.range.top,i,d);return k.deltas.fold(()=>({deltas:_.some(M),snap:_.some(T)}),H=>{const j=(M.left+M.top)/2,ee=(H.left+H.top)/2;return j<=ee?{deltas:_.some(M),snap:_.some(T)}:k})},{deltas:_.none(),snap:_.none()}).snap.map(k=>({output:LO(k.output,a,i,d),extra:k.extra})))},Xj=(t,s,a,i,d)=>{const g=s.getSnapPoints(t);return wI(g,a,i,d)},Jj=(t,s,a)=>({coord:LO(t.output,t.output,s,a),extra:t.extra});var Qj=Object.freeze({__proto__:null,snapTo:(t,s,a,i)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const g=ka(t.element),p=zc(g),x=D0(d),k=Jj(i,p,x),T=FO(k.coord,p,x);or(d,T)}}});const HO="data-initial-z-index",eW=t=>{$a(t.element).filter(xn).each(s=>{oa(s,HO).fold(()=>Zn(s,"z-index"),a=>Dt(s,"z-index",a)),B(s,HO)})},kI=t=>{$a(t.element).filter(xn).each(s=>{nr(s,"z-index").each(a=>{Oo(s,HO,a)}),Dt(s,"z-index",Ns(t.element,"z-index"))})},VO=(t,s)=>{t.getSystem().addToGui(s),kI(s)},tW=t=>{eW(t),t.getSystem().removeFromGui(t)},s0=(t,s,a)=>t.getSystem().build(rm.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:a}));var oW=kr("snaps",[Ot("getSnapPoints"),ks("onSensor"),Ot("leftAttr"),Ot("topAttr"),Ve("lazyViewport",Ca),Ve("mustSnap",!1)]);const UO=[Ve("useFixed",Oe),Ot("blockerClass"),Ve("getTarget",zt),Ve("onDrag",X),Ve("repositionTarget",!0),Ve("onDrop",X),sa("getBounds",Ca),oW],jO=t=>ia(nr(t,"left"),nr(t,"top"),nr(t,"position"),(s,a,i)=>(i==="fixed"?Kh:fE)(parseInt(s,10),parseInt(a,10))).getOrThunk(()=>{const s=Oa(t);return Qu(s.left,s.top)}),nW=(t,s,a,i,d)=>{const g=d.bounds,p=n0(s,a,i),x=ul(p.left,g.x,g.x+g.width-d.width),k=ul(p.top,g.y,g.y+g.height-d.height),T=Qu(x,k);return s.fold(()=>{const z=bI(T,a,i);return fE(z.left,z.top)},U(T),()=>{const z=dE(T,a,i);return Kh(z.left,z.top)})},sW=(t,s,a,i,d,g,p)=>{const x=s.fold(()=>{const k=jj(a,g.left,g.top),T=dE(k,i,d);return Kh(T.left,T.top)},k=>{const T=Gj(t,k,a,g,i,d);return T.extra.each(z=>{k.onSensor(t,z)}),T.coord});return nW(t,x,i,d,p)},rW=(t,s,a,i)=>{const d=s.getTarget(t.element);if(s.repositionTarget){const g=ka(t.element),p=zc(g),x=D0(d),k=jO(d),T=sW(t,s.snaps,k,p,x,i,a),z=FO(T,p,x);or(d,z)}s.onDrag(t,d,i)},_I=(t,s)=>({bounds:t.getBounds(),height:Bi(s.element),width:oe(s.element)}),WO=(t,s,a,i,d)=>{const g=a.update(i,d),p=a.getStartData().getOrThunk(()=>_I(s,t));g.each(x=>{rW(t,s,p,x)})},CI=(t,s,a,i)=>{s.each(tW),a.snaps.each(g=>{Kj(t,g)});const d=a.getTarget(t.element);i.reset(),a.onDrop(t,d)},ZO=t=>(s,a)=>{const i=d=>{a.setStartData(_I(s,d))};return Er([Rt(Fg(),d=>{a.getStartData().each(()=>i(d))}),...t(s,a,i)])},aW=t=>Er([Rt(ma(),t.forceDrop),Rt(If(),t.drop),Rt(Vp(),(s,a)=>{t.move(a.event)}),Rt($f(),t.delayDrop)]);var cW=Object.freeze({__proto__:null,getData:t=>_.from(wr(t.x,t.y)),getDelta:(t,s)=>wr(s.left-t.left,s.top-t.top)});const SI=(t,s,a)=>[Rt(ma(),(i,d)=>{if(d.event.raw.button!==0)return;d.stop();const p=()=>CI(i,_.some(T),t,s),x=GM(p,200),k={drop:p,delayDrop:x.schedule,forceDrop:p,move:M=>{x.cancel(),WO(i,t,s,cW,M)}},T=s0(i,t.blockerClass,aW(k));(()=>{a(i),VO(i,T)})()})],iW=[...UO,cr("dragger",{handlers:ZO(SI)})],lW=t=>Er([Rt(nu(),t.forceDrop),Rt(vr(),t.drop),Rt(Qc(),t.drop),Rt(zs(),(s,a)=>{t.move(a.event)})]),uW=t=>{const s=t[0];return _.some(wr(s.clientX,s.clientY))};var qk=Object.freeze({__proto__:null,getData:t=>{const a=t.raw.touches;return a.length===1?uW(a):_.none()},getDelta:(t,s)=>wr(s.left-t.left,s.top-t.top)});const EI=(t,s,a)=>{const i=js(),d=g=>{CI(g,i.get(),t,s),i.clear()};return[Rt(nu(),(g,p)=>{p.stop();const x=()=>d(g),k={drop:x,delayDrop:X,forceDrop:x,move:M=>{WO(g,t,s,qk,M)}},T=s0(g,t.blockerClass,lW(k));i.set(T),(()=>{a(g),VO(g,T)})()}),Rt(zs(),(g,p)=>{p.stop(),WO(g,t,s,qk,p.event)}),Rt(vr(),(g,p)=>{p.stop(),d(g)}),Rt(Qc(),d)]},dW=[...UO,cr("dragger",{handlers:ZO(EI)})],fW=(t,s,a)=>[...SI(t,s,a),...EI(t,s,a)],mW=[...UO,cr("dragger",{handlers:ZO(fW)})];var pW=Object.freeze({__proto__:null,mouse:iW,touch:dW,mouseOrTouch:mW}),hW=Object.freeze({__proto__:null,init:()=>{let t=_.none(),s=_.none();const a=()=>{t=_.none(),s=_.none()},i=(k,T)=>{const z=t.map(M=>k.getDelta(M,T));return t=_.some(T),z},d=(k,T)=>k.getData(T).bind(z=>i(k,z)),g=k=>{s=_.some(k)},p=()=>s,x=U({});return rl({readState:x,reset:a,update:d,getStartData:p,setStartData:g})}});const wy=d_({branchKey:"mode",branches:pW,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:_.from(t.extra)})},state:hW,apis:Qj}),qO=40,r0=qO/2,GO=(t,s,a,i,d,g)=>t.fold(()=>wy.snap({sensor:Qu(a-r0,i-r0),range:wr(d,g),output:Qu(_.some(a),_.some(i)),extra:{td:s}}),p=>{const x=a-r0,k=i-r0,T=qO,z=qO,M=p.element.dom.getBoundingClientRect();return wy.snap({sensor:Qu(x,k),range:wr(T,z),output:Qu(_.some(a-M.width/2),_.some(i-M.height/2)),extra:{td:s}})}),TI=(t,s,a)=>{const i=(d,g)=>d.exists(p=>Ts(p,g));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(d,g)=>{const p=g.td;i(s.get(),p)||(s.set(p),a(p))},mustSnap:!0}},AI=t=>Ls(si.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ao([wy.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),I1.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),bW=(t,s)=>{const a=nn([]),i=nn([]),d=nn(!1),g=js(),p=js(),x=Io=>{const _t=bi(Io);return GO(j.getOpt(s),Io,_t.x,_t.y,_t.width,_t.height)},k=()=>ke(a.get(),Io=>x(Io)),T=Io=>{const _t=bi(Io);return GO(ee.getOpt(s),Io,_t.right,_t.bottom,_t.width,_t.height)},z=()=>ke(i.get(),Io=>T(Io)),M=TI(k,g,Io=>{p.get().each(_t=>{t.dispatch("TableSelectorChange",{start:Io,finish:_t})})}),H=TI(z,p,Io=>{g.get().each(_t=>{t.dispatch("TableSelectorChange",{start:_t,finish:Io})})}),j=AI(M),ee=AI(H),ae=oi(j.asSpec()),Fe=oi(ee.asSpec()),pe=(Io,_t,Yo,wo)=>{const tn=_t.dom.getBoundingClientRect();Zn(Io.element,"display");const fs=za(Ae.fromDom(t.getBody())).dom.innerHeight,Dr=Yo(tn),$s=wo(tn,fs);(Dr||$s)&&Dt(Io.element,"display","none")},De=(Io,_t,Yo,wo)=>{const tn=Yo(_t);wy.snapTo(Io,tn),pe(Io,_t,$s=>$s[wo]<0,($s,Jo)=>$s[wo]>Jo)},Ne=Io=>De(ae,Io,x,"top"),At=()=>g.get().each(Ne),ht=Io=>De(Fe,Io,T,"bottom"),Co=()=>p.get().each(ht);if(ts().deviceType.isTouch()){const Io=_t=>ke(_t,Ae.fromDom);t.on("TableSelectionChange",_t=>{d.get()||(Fu(s,ae),Fu(s,Fe),d.set(!0));const Yo=Ae.fromDom(_t.start),wo=Ae.fromDom(_t.finish);g.set(Yo),p.set(wo),_.from(_t.otherCells).each(tn=>{a.set(Io(tn.upOrLeftCells)),i.set(Io(tn.downOrRightCells)),Ne(Yo),ht(wo)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{At(),Co()}),t.on("TableSelectionClear",()=>{d.get()&&(Yf(ae),Yf(Fe),d.set(!1)),g.clear(),p.clear()})}};var yW=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const vW=(t,s)=>{const a=_.from(on(t,"id")).getOrThunk(()=>{const i=Vo("aria");return Oo(s,"id",i),i});Oo(t,"aria-describedby",a)},xW=t=>{B(t,"aria-describedby")},wW=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",kW=(t,s,a)=>{var i;const d=(i=s.delimiter)!==null&&i!==void 0?i:"›",g=(T,z,M)=>si.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":M}},components:[aa(T)],action:H=>{t.focus(),t.selection.select(z),t.nodeChanged()},buttonBehaviours:ao([va.config({...a.tooltips.getConfig({tooltipText:a.translate(["Select the {0} element",z.nodeName.toLowerCase()]),onShow:(H,j)=>{vW(H.element,j.element)},onHide:H=>{xW(H.element)}})}),yf.button(a.isDisabled),Sc()])}),p=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[aa(` ${d} `)]}),x=T=>Ue(T,(z,M,H)=>{const j=g(M.name,M.element,H);return H===0?z.concat([j]):z.concat([p(),j])},[]),k=T=>{const z=[];let M=T.length;for(;M-- >0;){const H=T[M];if(H.nodeType===1&&!wW(H)){const j=AL(t,H);if(j.isDefaultPrevented()||z.push({name:j.name,element:H}),j.isPropagationStopped())break}}return z};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ao([pn.config({mode:"flow",selector:"div[role=button]"}),l.config({disabled:a.isDisabled}),Sc(),zr.config({}),Fn.config({}),Jn("elementPathEvents",[Mr((T,z)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>pn.focusIn(T)),t.on("NodeChange",M=>{const H=k(M.parents),j=H.length>0?x(H):[];Fn.set(T,j)})})])]),components:[]}};var Yh;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Yh||(Yh={}));const _W=(t,s,a,i,d)=>{const g={height:oE(i+s.top,v1(t),pC(t))};return a===Yh.Both&&(g.width=oE(d+s.left,Yb(t),hw(t))),g},zI=(t,s,a)=>{const i=Ae.fromDom(t.getContainer()),d=_W(t,s,a,Xs(i),G(i));Lo(d,(g,p)=>{nt(g)&&Dt(i,p,tE(g))}),XC(t)},CW=t=>{const s=eN(t);return s===!1?Yh.None:s==="both"?Yh.Both:Yh.Vertical},mE=(t,s,a,i)=>{const g=wr(a*20,i*20);return zI(t,g,s),_.some(!0)},SW=(t,s)=>{const a=CW(t);if(a===Yh.None)return _.none();const i=a===Yh.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return _.some(Wu("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":s.translate(i),"data-mce-name":"resize-handle"},behaviours:[wy.config({mode:"mouse",repositionTarget:!1,onDrag:(d,g,p)=>zI(t,p,a),blockerClass:"tox-blocker"}),pn.config({mode:"special",onLeft:()=>mE(t,a,-1,0),onRight:()=>mE(t,a,1,0),onUp:()=>mE(t,a,0,-1),onDown:()=>mE(t,a,0,1)}),zr.config({}),Bn.config({}),va.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")}))]},s.icons))},OI=(t,s)=>{const a=(i,d,g)=>Fn.set(i,[aa(s.translate(["{0} "+g,d[g]]))]);return si.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ao([yf.button(s.isDisabled),Sc(),zr.config({}),Fn.config({}),$o.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Jn("wordcount-events",[Bu(i=>{const d=$o.getValue(i),g=d.mode==="words"?"characters":"words";$o.setValue(i,{mode:g,count:d.count}),a(i,d.count,g)}),Mr(i=>{t.on("wordCountUpdate",d=>{const{mode:g}=$o.getValue(i);$o.setValue(i,{mode:g,count:d.wordCount}),a(i,d.wordCount,g)})})])]),eventOrder:{[ru()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},EW=(t,s)=>{const a=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":t.translate(["Build with {0}","TinyMCE"])},innerHtml:t.translate(["Build with {0}",yW.trim()])},behaviours:ao([Bn.config({})])}]}),i=()=>{const x=qC("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[aa(ju.translate(["Press {0} for help",x]))]}},d=()=>{const x=[];return t.hasPlugin("wordcount")&&x.push(OI(t,s)),MA(t)&&x.push(a()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:x}},g=()=>{const x=[],k=vw(t),T=QR(t),z=MA(t)||t.hasPlugin("wordcount"),M=()=>{const H="tox-statusbar__text-container--flex-start",j="tox-statusbar__text-container--flex-end",ee="tox-statusbar__text-container--space-around";if(k){const ae="tox-statusbar__text-container-3-cols";return!z&&!T?[ae,ee]:z&&!T?[ae,j]:[ae,H]}return[z&&!T?j:H]};return T&&x.push(kW(t,{},s)),k&&x.push(i()),z&&x.push(d()),x.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...M()]},components:x}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const x=g(),k=SW(t,s);return x.concat(k.toArray())})()}},DI=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),TW=(t,s)=>{const a=t.inline,i=a?YU:eE,d=Jb(t)?nV:cP,g=XU(),p=js(),x=js(),k=js(),H=ts().deviceType.isTouch()?["tox-platform-touch"]:[],j=kw(t),ee=Xb(t),ae=Ls({dom:{tag:"div",classes:["tox-anchorbar"]}}),Fe=Ls({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),pe=()=>g.mainUi.get().map(mn=>mn.outerContainer).bind(Or.getHeader),De=()=>Kn.fromOption(g.dialogUi.get().map(mn=>mn.sink),"UI has not been rendered"),Ne=()=>Kn.fromOption(g.popupUi.get().map(mn=>mn.sink),"(popup) UI has not been rendered"),At=g.lazyGetInOuterOrDie("anchor bar",ae.getOpt),ht=g.lazyGetInOuterOrDie("bottom anchor bar",Fe.getOpt),Co=g.lazyGetInOuterOrDie("toolbar",Or.getToolbar),Io=g.lazyGetInOuterOrDie("throbber",Or.getThrobber),_t=nP({popup:Ne,dialog:De},t,At,ht),Yo=()=>{const mn={attributes:{[kx]:j?Ol.BottomToTop:Ol.TopToBottom}},qn=Or.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:_t.popup,onEscape:()=>{t.focus()}}),pr=Or.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:_t.popup.shared.getSink,providers:_t.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:Ay=>{zL(t,Ay)},type:ee,lazyToolbar:Co,lazyHeader:()=>pe().getOrDie("Could not find header element"),...mn}),Hs=Or.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:_t.popup.shared.providers,onEscape:()=>{t.focus()},type:ee}),Ni=ww(t),od=xw(t),fm=xC(t),pi=tN(t),nd=wo(),Ld=Ni||od||fm,Ul=()=>Ni?[Hs]:od?[pr]:[],yg=pi?[nd,qn]:[qn];return Or.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Ld?[]:["tox-editor-header--empty"]),...mn},components:he([fm?yg:[],Ul(),x1(t)?[]:[ae.asSpec()]]),sticky:Jb(t),editor:t,sharedBackstage:_t.popup.shared})},wo=()=>Or.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),tn=()=>{const mn=Or.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),qn=Or.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[mn,qn]}},fs=()=>{const mn=FA(t),qn=Ts(es(),mn)&&Ns(mn,"display")==="grid",pr={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(H),attributes:{...ju.isRtl()?{dir:"rtl"}:{}}},behaviours:ao([ni.config({useFixed:()=>d.isDocked(pe)})])},Hs={dom:{styles:{width:document.body.clientWidth+"px"}},events:Er([Rt(bd(),fm=>{Dt(fm.element,"width",document.body.clientWidth+"px")})])},Ni=oi(br(pr,qn?Hs:{})),od=Xw(Ni);return x.set(od),{sink:Ni,mothership:od}},Dr=()=>{const mn={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(H),attributes:{...ju.isRtl()?{dir:"rtl"}:{}}},behaviours:ao([ni.config({useFixed:()=>d.isDocked(pe),getBounds:()=>s.getPopupSinkBounds()})])},qn=oi(mn),pr=Xw(qn);return k.set(pr),{sink:qn,mothership:pr}},$s=()=>{const mn=Yo(),qn=tn(),pr=Or.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:_t.popup}),Hs=Or.parts.viewWrapper({backstage:_t.popup}),Ni=JR(t)&&!a?_.some(EW(t,_t.popup.shared.providers)):_.none(),od=he([j?[]:[mn],a?[]:[qn],j?[mn]:[]]),fm=Or.parts.editorContainer({components:he([od,a?[]:[Fe.asSpec()]])}),pi=_w(t),nd={role:"application",...ju.isRtl()?{dir:"rtl"}:{},...pi?{"aria-hidden":"true"}:{}},Ld=oi(Or.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(j?["tox-tinymce--toolbar-bottom"]:[]).concat(H),styles:{visibility:"hidden",...pi?{opacity:"0",border:"0"}:{}},attributes:nd},components:[fm,...a?[]:[Hs,...Ni.toArray()],pr],behaviours:ao([Sc(),l.config({disableClass:"tox-tinymce--disabled"}),pn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Ul=Xw(Ld);return p.set(Ul),{mothership:Ul,outerContainer:Ld}},Jo=mn=>{const qn=tE(ZU(t)),pr=tE(qU(t));return t.inline||(sc("div","width",pr)&&Dt(mn.element,"width",pr),sc("div","height",qn)?Dt(mn.element,"height",qn):Dt(mn.element,"height","400px")),qn},Yt=mn=>{t.addShortcut("alt+F9","focus menubar",()=>{Or.focusMenubar(mn)}),t.addShortcut("alt+F10","focus toolbar",()=>{Or.focusToolbar(mn)}),t.addCommand("ToggleToolbarDrawer",(qn,pr)=>{pr!=null&&pr.skipFocus?Or.toggleToolbarDrawerWithoutFocusing(mn):Or.toggleToolbarDrawer(mn)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>Or.isToolbarDrawerToggled(mn))},Eo=mn=>{const{mainUi:qn,popupUi:pr,uiMotherships:Hs}=mn;Mo(DA(t),(f0,wE)=>{t.ui.registry.addGroupToolbarButton(wE,f0)});const{buttons:Ni,menuItems:od,contextToolbars:fm,sidebars:pi,views:nd}=t.ui.registry.getAll(),Ld=IA(t),Ul={menuItems:od,menus:sN(t),menubar:qR(t),toolbar:Ld.getOrThunk(()=>yw(t)),allowToolbarGroups:ee===Sd.floating,buttons:Ni,sidebar:pi,views:nd};Yt(qn.outerContainer),sP(t,qn.mothership,Hs),d.setup(t,_t.popup.shared,pe),Ej(t,_t.popup),Vj(t,_t.popup.shared.getSink,_t.popup),Yz(t),xV(t,Io,_t.popup.shared),lj(t,fm,pr.sink,{backstage:_t.popup}),bW(t,pr.sink);const yg=t.getElement(),Ay=Jo(qn.outerContainer),uD={targetNode:yg,height:Ay};return i.render(t,mn,Ul,_t.popup,uD)},Pn=mn=>(k.set(mn.mothership),mn),An=()=>{const mn=$s(),qn=fs(),pr=Th(t)?Dr():Pn(qn);g.dialogUi.set(qn),g.popupUi.set(pr),g.mainUi.set(mn);const Hs={popupUi:pr,dialogUi:qn,mainUi:mn,uiMotherships:g.getUiMotherships()};return Eo(Hs)};return{popups:{backstage:_t.popup,getMothership:()=>DI("popups",k)},dialogs:{backstage:_t.dialog,getMothership:()=>DI("dialogs",x)},renderUI:An}},AW=t=>t.dom.textContent,zW=(t,s)=>{const a=oa(t,"id").fold(()=>{const i=Vo("dialog-label");return Oo(s,"id",i),i},zt);Oo(t,"aria-labelledby",a)},OW=U([Ot("lazySink"),Os("dragBlockClass"),sa("getBounds",Ca),Ve("useTabstopAt",Me),Ve("firstTabstop",0),Ve("eventOrder",{}),kc("modalBehaviours",[pn]),Wi("onExecute"),Ky("onEscape")]),KO={sketch:zt},DW=U([Nl({name:"draghandle",overrides:(t,s)=>({behaviours:ao([wy.config({mode:"mouse",getTarget:a=>jm(a,'[role="dialog"]').getOr(a),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),qc({schema:[Ot("dom")],name:"title"}),qc({factory:KO,schema:[Ot("dom")],name:"close"}),qc({factory:KO,schema:[Ot("dom")],name:"body"}),Nl({factory:KO,schema:[Ot("dom")],name:"footer"}),fu({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[Ve("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ve("components",[])],name:"blocker"})]),RI=(t,s,a,i)=>{const d=js(),g=ee=>{d.set(ee);const ae=t.lazySink(ee).getOrDie(),Fe=i.blocker(),pe=ae.getSystem().build({...Fe,components:Fe.components.concat([Al(ee)]),behaviours:ao([Bn.config({}),Jn("dialog-blocker-events",[jp(md(),()=>{kf.isBlocked(ee)?X():pn.focusIn(ee)})])])});Fu(ae,pe),pn.focusIn(ee)},p=ee=>{d.clear(),$a(ee.element).each(ae=>{ee.getSystem().getByDom(ae).each(Fe=>{Yf(Fe)})})},x=ee=>Ml(ee,t,"body"),k=ee=>eo(ee,t,"footer"),T=(ee,ae)=>{kf.block(ee,ae)},z=ee=>{kf.unblock(ee)},M=Vo("modal-events"),H={...t.eventOrder,[xi()]:[M].concat(t.eventOrder["alloy.system.attached"]||[])},j=ts();return{uid:t.uid,dom:t.dom,components:s,apis:{show:g,hide:p,getBody:x,getFooter:k,setIdle:z,setBusy:T},eventOrder:H,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:_c(t.modalBehaviours,[Fn.config({}),pn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),kf.config({getRoot:d.get}),Jn(M,[Mr(ee=>{const ae=Ml(ee,t,"title").element,Fe=AW(ae);j.os.isMacOS()&&to(Fe)?Oo(ee.element,"aria-label",Fe):zW(ee.element,ae)})])])}},uc=mi({name:"ModalDialog",configFields:OW(),partFields:DW(),factory:RI,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,a)=>{t.setBusy(s,a)},setIdle:(t,s)=>{t.setIdle(s)}}}),ky=En([Ma,HC].concat(Dh)),RW=tl,Gk=[C4("button"),Ad,Ui("align","end",["start","end"]),S1,zd,Fp("buttonType",["primary","secondary"])],Kk=[...Gk,wp],YO=[Hc("type",["submit","cancel","custom"]),...Kk],NW=[Hc("type",["menu"]),kp,C1,Ad,Hi("items",ky),...Gk],MW=[...Gk,Hc("type",["togglebutton"]),C1,Ad,kp,pa("active",!1)],BW=Ka("type",{submit:YO,cancel:YO,custom:YO,menu:NW,togglebutton:MW}),PW=[Ma,wp,Hc("level",["info","warn","error","success"]),MN,Ve("url","")],_y=En(PW),NI=t=>[Ma,t],$W=[Ma,wp,zd,C4("button"),Ad,eL,Fp("buttonType",["primary","secondary","toolbar"]),S1],IW=En($W),a0=[Ma,HC],um=a0.concat([VC]),FW=a0.concat([w4,zd]),LW=En(FW),HW=tl,VW=um.concat([PN("auto")]),XO=En(VW),Yk=Qh([Mw,wp,MN]),JO=um.concat([Vc("storageKey","default")]),gE=En(JO),Cy=Do,UW=En(um),MI=Do,BI=a0.concat([Vc("tag","textarea"),Na("scriptId"),Na("scriptUrl"),Du("onFocus"),g0("settings",void 0)]),PI=a0.concat([Vc("tag","textarea"),Li("init")]),jW=Bg(t=>qr("customeditor.old",Jc(PI),t).orThunk(()=>qr("customeditor.new",Jc(BI),t))),WW=Do,$I=En(um),II=Mf(),eD=t=>[Ma,Pg("columns"),t],ZW=[Ma,Na("html"),Ui("presets","presentation",["presentation","document"]),sa("onInit",X),pa("stretched",!1)],qW=En(ZW),GW=um.concat([pa("border",!1),pa("sandboxed",!0),pa("streamContent",!1),pa("transparent",!0)]),FI=En(GW),KW=Do,YW=En(a0.concat([Ha("height")])),XW=En([Na("url"),Bf("zoom"),Bf("cachedWidth"),Bf("cachedHeight")]),tD=um.concat([Ha("inputMode"),Ha("placeholder"),pa("maximized",!1),zd]),oD=En(tD),JW=Do,LI=t=>[Ma,w4,t,Ui("align","start",["start","center","end"]),Ha("for")],QW=[wp,Mw],eZ=[wp,Hi("items",wm("items",()=>nD))],nD=xm([En(QW),En(eZ)]),tZ=um.concat([Hi("items",nD),zd]),oZ=En(tZ),Sy=Do,HI=um.concat([Py("items",[wp,Mw]),_m("size",1),zd]),nZ=En(HI),pE=Do,c0=um.concat([pa("constrain",!0),zd]),hE=En(c0),sD=En([Na("width"),Na("height")]),bE=a0.concat([w4,_m("min",0),_m("max",0)]),Ll=En(bE),yE=Yd,VI=[Ma,Hi("header",Do),Hi("cells",Fi(Do))],UI=En(VI),sZ=um.concat([Ha("placeholder"),pa("maximized",!1),zd]),rZ=En(sZ),Xh=Do,aZ=[Hc("type",["directory","leaf"]),NN,Na("id"),Ou("menu",mP)],rD=En(aZ),i0=aZ.concat([Hi("children",wm("children",()=>Xd("type",{directory:Xk,leaf:rD})))]),Xk=En(i0),jI=Xd("type",{directory:Xk,leaf:rD}),cZ=[Ma,Hi("items",jI),Du("onLeafAction"),Du("onToggleExpand"),w("defaultExpandedIds",[],Do),Ha("defaultSelectedId")],iZ=En(cZ),lZ=um.concat([Ui("filetype","file",["image","media","file"]),zd,Ha("picker_text")]),uZ=En(lZ),l0=En([Mw,k4]),WI=t=>La("items","items",Xc(),Fi(Bg(s=>qr(`Checking item of ${t}`,aD,s).fold(a=>Kn.error(tu(a)),a=>Kn.value(a))))),aD=Ra(()=>Xd("type",{alertbanner:_y,bar:En(NI(WI("bar"))),button:IW,checkbox:LW,colorinput:gE,colorpicker:UW,dropzone:$I,grid:En(eD(WI("grid"))),iframe:FI,input:oD,listbox:oZ,selectbox:nZ,sizeinput:hE,slider:Ll,textarea:rZ,urlinput:uZ,customeditor:jW,htmlpanel:qW,imagepreview:YW,collection:XO,label:En(LI(WI("label"))),table:UI,tree:iZ,panel:fZ})),dZ=[Ma,Ve("classes",[]),Hi("items",aD)],fZ=En(dZ),mZ=[C4("tab"),NN,Hi("items",aD)],gZ=[Ma,Py("tabs",mZ)],Jk=En(gZ),pZ=Kk,hZ=BW,ZI=En([Na("title"),Bs("body",Xd("type",{panel:fZ,tabpanel:Jk})),Vc("size","normal"),w("buttons",[],hZ),Ve("initialData",{}),sa("onAction",X),sa("onChange",X),sa("onSubmit",X),sa("onClose",X),sa("onCancel",X),sa("onTabChange",X)]),bZ=t=>qr("dialog",ZI,t),Pq=En([Hc("type",["cancel","custom"]),...pZ]),e=En([Na("title"),Na("url"),Bf("height"),Bf("width"),Ru("buttons",Pq),sa("onAction",X),sa("onCancel",X),sa("onClose",X),sa("onMessage",X)]),o=t=>qr("dialog",e,t),n=t=>Pt(t)?[t].concat(V(jr(t),n)):po(t)?V(t,n):[],r=t=>Re(t.type)&&Re(t.name),c={checkbox:HW,colorinput:Cy,colorpicker:MI,dropzone:II,input:JW,iframe:KW,imagepreview:XW,selectbox:pE,sizeinput:sD,slider:yE,listbox:Sy,size:sD,textarea:Xh,urlinput:l0,customeditor:WW,collection:Yk,togglemenuitem:RW},u=t=>_.from(c[t.type]),m=t=>st(n(t),r),b=t=>{const s=m(t),a=V(s,i=>u(i).fold(()=>[],d=>[Bs(i.name,d)]));return En(a)},v=t=>{var s;const a=Xt(bZ(t)),i=b(t),d=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:a,dataValidator:i,initialData:d}},E={open:(t,s)=>{const a=v(s);return t(a.internalDialog,a.initialData,a.dataValidator)},openUrl:(t,s)=>{const a=Xt(o(s));return t(a)},redial:t=>v(t)};var N=Object.freeze({__proto__:null,events:(t,s)=>{const a=(i,d)=>{t.updateState.each(g=>{const p=g(i,d);s.set(p)}),t.renderComponents.each(g=>{const p=g(d,s.get());(t.reuseDom?p1:g1)(i,p)})};return Er([Rt(su(),(i,d)=>{const g=d;if(!g.universal){const p=t.channel;vt(g.channels,p)&&a(i,g.data)}}),Mr((i,d)=>{t.initialData.each(g=>{a(i,g)})})])}}),q=Object.freeze({__proto__:null,getState:(t,s,a)=>a}),ne=[Ot("channel"),Os("renderComponents"),Os("updateState"),Os("initialData"),pa("reuseDom",!0)],ce=Object.freeze({__proto__:null,init:()=>{const t=nn(_.none()),s=()=>t.set(_.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const _e=Rc({fields:ne,name:"reflecting",active:N,apis:q,state:ce}),Ie=t=>{const s=[],a={};return Lo(t,(i,d)=>{i.fold(()=>{s.push(d)},g=>{a[d]=g})}),s.length>0?Kn.error(s):Kn.value(a)},Pe=(t,s,a,i)=>{const d=Ls(Ih.sketch(g=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:ke(t.items,p=>u9(g,p,s,a,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[d.asSpec()]}],behaviours:ao([pn.config({mode:"acyclic",useTabstopAt:We(fk)}),vf.memento(d),U7(d,{postprocess:g=>Ie(g).fold(p=>(console.error(p),{}),zt)}),Jn("dialog-body-panel",[Rt(md(),(g,p)=>{g.getSystem().broadcastOn([_S],{newFocus:_.some(p.event.target)})})])])}},et=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:dC(t.action),behaviours:_c(t.tabButtonBehaviours,[Bn.config({}),pn.config({mode:"execution",useSpace:!0,useEnter:!0}),$o.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),$t=pl({name:"TabButton",configFields:[Ve("uid",void 0),Ot("value"),La("dom","dom",vm(()=>({attributes:{role:"tab",id:Vo("aria"),"aria-selected":"false"}})),Cl()),Os("action"),Ve("domModification",{}),kc("tabButtonBehaviours",[Bn,pn,$o]),Ot("view")],factory:et}),mo=U([Ot("tabs"),Ot("dom"),Ve("clickToDismiss",!1),kc("tabbarBehaviours",[rn,pn]),Yg(["tabClass","selectedClass"])]),Po=c1({factory:$t,name:"tabs",unit:"tab",overrides:t=>{const s=(i,d)=>{rn.dehighlight(i,d),bn(i,a_(),{tabbar:i,button:d})},a=(i,d)=>{rn.highlight(i,d),bn(i,r_(),{tabbar:i,button:d})};return{action:i=>{const d=i.getSystem().getByUid(t.uid).getOrDie(),g=rn.isHighlighted(d,i);(g&&t.clickToDismiss?s:g?X:a)(d,i)},domModification:{classes:[t.markers.tabClass]}}}}),kt=U([Po]),ct=(t,s,a,i)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:_c(t.tabbarBehaviours,[rn.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(d,g)=>{Oo(g.element,"aria-selected","true")},onDehighlight:(d,g)=>{Oo(g.element,"aria-selected","false")}}),pn.config({mode:"flow",getInitial:d=>rn.getHighlighted(d).map(g=>g.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),Bt=mi({name:"Tabbar",configFields:mo(),partFields:kt(),factory:ct}),qo=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:_c(t.tabviewBehaviours,[Fn.config({})]),domModification:{attributes:{role:"tabpanel"}}}),un=pl({name:"Tabview",configFields:[kc("tabviewBehaviours",[Fn])],factory:qo}),us=U([Ve("selectFirst",!0),ks("onChangeTab"),ks("onDismissTab"),Ve("tabs",[]),kc("tabSectionBehaviours",[])]),gs=qc({factory:Bt,schema:[Ot("dom"),fd("markers",[Ot("tabClass"),Ot("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),Ws=qc({factory:un,name:"tabview"}),rr=U([gs,Ws]),xa=(t,s,a,i)=>{const d=p=>{const x=$o.getValue(p);eo(p,t,"tabview").each(k=>{K(t.tabs,z=>z.value===x).each(z=>{const M=z.view();oa(p.element,"id").each(H=>{Oo(k.element,"aria-labelledby",H)}),Fn.set(k,M),t.onChangeTab(k,p,M)})})},g=(p,x)=>{eo(p,t,"tabbar").each(k=>{x(k).each(Am)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:Pb(t.tabSectionBehaviours),events:Er(he([t.selectFirst?[Mr((p,x)=>{g(p,rn.getFirst)})]:[],[Rt(r_(),(p,x)=>{const k=x.event.button;d(k)}),Rt(a_(),(p,x)=>{const k=x.event.button;t.onDismissTab(p,k)})]])),apis:{getViewItems:p=>eo(p,t,"tabview").map(x=>Fn.contents(x)).getOr([]),showTab:(p,x)=>{g(p,T=>{const z=rn.getCandidates(T);return K(z,H=>$o.getValue(H)===x).filter(H=>!rn.isHighlighted(T,H))})}}}},oc=mi({name:"TabSection",configFields:us(),partFields:rr(),factory:xa,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,a)=>{t.showTab(s,a)}}}),gr=(t,s,a)=>ke(t,(i,d)=>{Fn.set(a,t[d].view());const g=s.dom.getBoundingClientRect();return Fn.set(a,[]),g.height}),vo=t=>ho(Ke(t,(s,a)=>s>a?-1:s<a?1:0)),an=(t,s,a)=>{const i=Mi(t).dom,d=jm(t,".tox-dialog-wrap").getOr(t),g=Ns(d,"position")==="fixed";let p;g?p=Math.max(i.clientHeight,window.innerHeight):p=Math.max(i.offsetHeight,i.scrollHeight);const x=Xs(s),T=s.dom.offsetLeft>=a.dom.offsetLeft+G(a)?Math.max(Xs(a),x):x,z=parseInt(Ns(t,"margin-top"),10)||0,M=parseInt(Ns(t,"margin-bottom"),10)||0,j=Xs(t)+z+M-T;return p-j},Ps=(t,s)=>{ho(t).each(a=>oc.showTab(s,a.value))},zo=(t,s)=>{Dt(t,"height",s+"px"),Dt(t,"flex-basis",s+"px")},yn=(t,s,a)=>{jm(t,'[role="dialog"]').each(i=>{Vr(i,'[role="tablist"]').each(d=>{a.get().map(g=>(Dt(s,"height","0"),Dt(s,"flex-basis","0"),Math.min(g,an(i,s,d)))).each(g=>{zo(s,g)})})})},as=t=>Vr(t,'[role="tabpanel"]'),No=t=>{const s=js();return{extraEvents:[Mr(d=>{const g=d.element;as(g).each(p=>{Dt(p,"visibility","hidden"),d.getSystem().getByDom(p).toOptional().each(x=>{const k=gr(t,p,x);vo(k).fold(s.clear,s.set)}),yn(g,p,s),Zn(p,"visibility"),Ps(t,d),requestAnimationFrame(()=>{yn(g,p,s)})})}),Rt(bd(),d=>{const g=d.element;as(g).each(p=>{yn(g,p,s)})}),Rt(p3,(d,g)=>{const p=d.element;as(p).each(x=>{const k=kd(Xr(x));Dt(x,"visibility","hidden");const T=nr(x,"height").map(H=>parseInt(H,10));Zn(x,"height"),Zn(x,"flex-basis");const z=x.dom.getBoundingClientRect().height;T.forall(H=>z>H)?(s.set(z),yn(p,x,s)):T.each(H=>{zo(x,H)}),Zn(x,"visibility"),k.each(zl)})})],selectFirst:!1}},cs="send-data-to-section",ps="send-data-to-view",Tc=(t,s,a,i)=>{const d=nn({}),g=z=>{const M=$o.getValue(z),H=Ie(M).getOr({}),j=d.get(),ee=br(j,H);d.set(ee)},p=z=>{const M=d.get();$o.setValue(z,M)},x=nn(null),k=ke(t.tabs,z=>({value:z.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[aa(a.shared.providers.translate(z.title))],view:()=>[Ih.sketch(M=>({dom:{tag:"div",classes:["tox-form"]},components:ke(z.items,H=>u9(M,H,s,a,i)),formBehaviours:ao([pn.config({mode:"acyclic",useTabstopAt:We(fk)}),Jn("TabView.form.events",[Mr(p),tf(g)]),Zi.config({channels:Is([{key:cs,value:{onReceive:g}},{key:ps,value:{onReceive:p}}])})])}))]})),T=No(k);return oc.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(z,M,H)=>{const j=$o.getValue(M);bn(z,s5,{name:j,oldName:x.get()}),x.set(j)},tabs:k,components:[oc.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Bt.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ao([zr.config({})])}),oc.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:T.selectFirst,tabSectionBehaviours:ao([Jn("tabpanel",T.extraEvents),pn.config({mode:"acyclic"}),Es.config({find:z=>ho(oc.getViewItems(z))}),Fh(_.none(),z=>(z.getSystem().broadcastOn([cs],{}),d.get()),(z,M)=>{d.set(M),z.getSystem().broadcastOn([ps],{})})])})},Ks=(t,s,a,i,d,g)=>{const p=T=>{const z=T.body;switch(z.type){case"tabpanel":return[Tc(z,T.initialData,i,g)];default:return[Pe(z,T.initialData,i,g)]}},x=(T,z)=>_.some({isTabPanel:()=>z.body.type==="tabpanel"}),k={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...a.map(T=>({id:T})).getOr({}),...d?k:{}}},components:[],behaviours:ao([vf.childAt(0),_e.config({channel:`${G3}-${s}`,updateState:x,renderComponents:p,initialData:t})])}},dc=(t,s,a,i,d,g)=>Ks(t,s,_.some(a),i,d,g),Bd=(t,s,a,i)=>{const d=Ks(t,s,_.none(),a,!1,i);return uc.parts.body(d)},dm=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[K5(_.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:ao([zr.config({}),Bn.config({})])})]}],behaviours:ao([pn.config({mode:"acyclic",useTabstopAt:We(fk)})])};return uc.parts.body(s)},Xi=Gb.deviceType.isTouch(),Hl=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),ed=(t,s)=>uc.parts.close(si.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:ao([zr.config({})])})),Vl=()=>uc.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),td=(t,s)=>uc.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:tm(`<p>${n4(s.translate(t))}</p>`)}]}]}),dn=t=>uc.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),Cs=(t,s)=>[rm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),rm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],Kr=t=>{const s="tox-dialog",a=s+"-wrap",i=a+"__backdrop",d=s+"__disable-scroll";return uc.sketch({lazySink:t.lazySink,onEscape:g=>(t.onEscape(g),_.some(!0)),useTabstopAt:g=>!fk(g),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:tm(`<div class="${a}"></div>`),components:[{dom:{tag:"div",classes:Xi?[i,i+"--opaque"]:[i]}}]}},dragBlockClass:a,modalBehaviours:ao([Bn.config({}),Jn("dialog-events",t.dialogEvents.concat([jp(md(),(g,p)=>{kf.isBlocked(g)?X():pn.focusIn(g)}),Rt(Lg(),(g,p)=>{g.getSystem().broadcastOn([_S],{newFocus:p.event.newFocus})})])),Jn("scroll-lock",[Mr(()=>{Tr(es(),d)}),tf(()=>{ra(es(),d)})]),...t.extraBehaviours]),eventOrder:{[ru()]:["dialog-events"],[xi()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[au()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},wa=t=>si.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:ao([zr.config({}),va.config(t.tooltips.getConfig({tooltipText:t.translate("Close")}))]),components:[Wu("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{ns(s,_p)}}),Ua=(t,s,a,i)=>{const d=g=>[aa(i.translate(g.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...a.map(g=>({id:g})).getOr({})}},components:[],behaviours:ao([_e.config({channel:`${X5}-${s}`,initialData:t,renderComponents:d})])}},Pc=()=>({dom:tm('<div class="tox-dialog__draghandle"></div>')}),ja=(t,s,a,i)=>rm.sketch({dom:tm('<div class="tox-dialog__header"></div>'),components:[Ua(t,s,_.some(a),i),Pc(),wa(i)],containerBehaviours:ao([wy.config({mode:"mouse",blockerClass:"blocker",getTarget:d=>$u(d,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Wa=(t,s,a)=>{const i=uc.parts.title(Ua(t,s,_.none(),a)),d=uc.parts.draghandle(Pc()),g=uc.parts.close(wa(a)),p=[i].concat(t.draggable?[d]:[]).concat([g]);return rm.sketch({dom:tm('<div class="tox-dialog__header"></div>'),components:p})},Ri=(t,s,a)=>Wa({title:a.shared.providers.translate(t),draggable:a.dialog.isDraggableModal()},s,a.shared.providers),Pd=(t,s,a,i)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":a.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${i.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:tm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),$d=(t,s,a)=>({onClose:()=>a.closeWindow(),onBlock:i=>{const d=Vr(t().element,".tox-dialog__header").map(g=>Xs(g));uc.setBusy(t(),(g,p)=>Pd(i.message,p,s,d))},onUnblock:()=>{uc.setIdle(t())}}),Id="tox-dialog--fullscreen",hu="tox-dialog--width-lg",gg="tox-dialog--width-md",Op=t=>{switch(t){case"large":return _.some(hu);case"medium":return _.some(gg);default:return _.none()}},Ey=(t,s)=>{const a=Ae.fromDom(s.element.dom);al(a,Id)||(cl(a,[hu,gg]),Op(t).each(i=>Tr(a,i)))},vE=(t,s)=>{const a=Ae.fromDom(t.element.dom),i=BE(a),d=K(i,g=>g===hu||g===gg).or(Op(s));RE(a,[Id,...d.toArray()])},pg=(t,s,a)=>oi(Kr({...t,firstTabstop:1,lazySink:a.shared.getSink,extraBehaviours:[xS({}),...t.extraBehaviours],onEscape:i=>{ns(i,_p)},dialogEvents:s,eventOrder:{[su()]:[_e.name(),Zi.name()],[xi()]:["scroll-lock",_e.name(),"messages","dialog-events","alloy.base.behaviour"],[au()]:["alloy.base.behaviour","dialog-events","messages",_e.name(),"scroll-lock"]}})),u0=(t,s={})=>{const a=i=>{const d=ke(i.items,g=>{const p=Kt(s,g.name).getOr(nn(!1));return{...g,storage:p}});return{...i,items:d}};return ke(t,i=>i.type==="menu"?a(i):i)},cD=t=>Ue(t,(s,a)=>a.type==="menu"?Ue(a.items,(d,g)=>(d[g.name]=g.storage,d),s):s,{}),gi=(t,s)=>[_0(md(),X7),t(P1,(a,i,d,g)=>{kd(Xr(g.element)).fold(X,pv),s.onClose(),i.onClose()}),t(_p,(a,i,d,g)=>{i.onCancel(a),ns(g,P1)}),Rt(g3,(a,i)=>s.onUnblock()),Rt(m3,(a,i)=>s.onBlock(i.event))],Ty=(t,s)=>{const a=(d,g)=>Rt(d,(p,x)=>{i(p,(k,T)=>{g(t(),k,x.event,p)})}),i=(d,g)=>{_e.getState(d).get().each(p=>{g(p,d)})};return[...gi(a,s),a(ig,(d,g,p)=>{g.onAction(d,{name:p.name})})]},iD=(t,s,a)=>{const i=(g,p)=>Rt(g,(x,k)=>{d(x,(T,z)=>{p(t(),T,k.event,x)})}),d=(g,p)=>{_e.getState(g).get().each(x=>{p(x.internalDialog,g)})};return[...gi(i,s),i(Qw,(g,p)=>p.onSubmit(g)),i(Il,(g,p,x)=>{p.onChange(g,{name:x.name})}),i(ig,(g,p,x,k)=>{const T=()=>k.getSystem().isConnected()?pn.focusIn(k):void 0,z=j=>ii(j,"disabled")||oa(j,"aria-disabled").exists(ee=>ee==="true"),M=Xr(k.element),H=kd(M);p.onAction(g,{name:x.name,value:x.value}),kd(M).fold(T,j=>{z(j)||H.exists(ee=>Aa(j,ee)&&z(ee))?T():a().toOptional().filter(ee=>!Aa(ee.element,j)).each(T)})}),i(s5,(g,p,x)=>{p.onTabChange(g,{newTabName:x.name,oldTabName:x.oldName})}),tf(g=>{const p=t();$o.setValue(g,p.getData())})]},lD=(t,s)=>Sk(t,t.type,s),hg=(t,s,a)=>K(s,i=>i.name===a).bind(i=>i.memento.getOpt(t)),Qk=(t,s)=>{const a=s.map(x=>x.footerButtons).getOr([]),i=wn(a,x=>x.align==="start"),d=(x,k)=>rm.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${x}`]},components:ke(k,T=>T.memento.asSpec())}),g=d("start",i.pass),p=d("end",i.fail);return[g,p]},rt=(t,s,a)=>{const i=(d,g)=>{const p=ke(g.buttons,k=>{const T=Ls(lD(k,a));return{name:k.name,align:k.align,memento:T}}),x=k=>hg(d,p,k);return _.some({lookupByName:x,footerButtons:p})};return{dom:tm('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ao([_e.config({channel:`${J5}-${s}`,initialData:t,updateState:i,renderComponents:Qk})])}},it=(t,s,a)=>rt(t,s,a),bo=(t,s,a)=>uc.parts.footer(rt(t,s,a)),lo=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const i=Es.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Ih.getField(i,s).orThunk(()=>t.getFooter().bind(p=>_e.getState(p).get()).bind(p=>p.lookupByName(s)))}else return _.none()},On=(t,s)=>{const a=t.getRoot();return _e.getState(a).get().map(i=>Xt(qr("data",i.dataValidator,s))).getOr(s)},ws=(t,s,a)=>{const i=ee=>{const ae=t.getRoot();ae.getSystem().isConnected()&&ee(ae)},j={getData:()=>{const ee=t.getRoot(),ae=ee.getSystem().isConnected()?t.getFormWrapper():ee,Fe=$o.getValue(ae),pe=Mo(a,De=>De.get());return{...Fe,...pe}},setData:ee=>{i(ae=>{const Fe=j.getData(),pe=br(Fe,ee),De=On(t,pe),Ne=t.getFormWrapper();$o.setValue(Ne,De),Lo(a,(At,ht)=>{Gn(pe,ht)&&At.set(pe[ht])})})},setEnabled:(ee,ae)=>{lo(t,ee).each(ae?l.enable:l.disable)},focus:ee=>{lo(t,ee).each(Bn.focus)},block:ee=>{if(!Re(ee))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");i(ae=>{bn(ae,m3,{message:ee})})},unblock:()=>{i(ee=>{ns(ee,g3)})},showTab:ee=>{i(ae=>{const Fe=t.getBody();_e.getState(Fe).get().exists(De=>De.isTabPanel())&&Es.getCurrent(Fe).each(De=>{oc.showTab(De,ee)})})},redial:ee=>{i(ae=>{const Fe=t.getId(),pe=s(ee),De=u0(pe.internalDialog.buttons,a);ae.getSystem().broadcastOn([`${mk}-${Fe}`],pe),ae.getSystem().broadcastOn([`${X5}-${Fe}`],pe.internalDialog),ae.getSystem().broadcastOn([`${G3}-${Fe}`],pe.internalDialog),ae.getSystem().broadcastOn([`${J5}-${Fe}`],{...pe.internalDialog,buttons:De}),j.setData(pe.initialData)})},close:()=>{i(ee=>{ns(ee,P1)})},toggleFullscreen:t.toggleFullscreen};return j},ca=(t,s,a)=>{const i=Vo("dialog"),d=t.internalDialog,g=Ri(d.title,i,a),p=nn(d.size),x=Ne=>lo(pe,Ne),k=Op(p.get()).toArray(),T=(Ne,At)=>(p.set(At.internalDialog.size),Ey(At.internalDialog.size,Ne),_.some(At)),z=Bd({body:d.body,initialData:d.initialData},i,a,x),M=u0(d.buttons),H=cD(M),j=Qo(M.length!==0,bo({buttons:M},i,a)),ee=iD(()=>De,$d(()=>Fe,a.shared.providers,s),a.shared.getSink),ae={id:i,header:g,body:z,footer:j,extraClasses:k,extraBehaviours:[_e.config({channel:`${mk}-${i}`,updateState:T,initialData:t})],extraStyles:{}},Fe=pg(ae,ee,a),pe=(()=>{const Ne=()=>{const ht=uc.getBody(Fe);return Es.getCurrent(ht).getOr(ht)},At=()=>{vE(Fe,p.get())};return{getId:U(i),getRoot:U(Fe),getBody:()=>uc.getBody(Fe),getFooter:()=>uc.getFooter(Fe),getFormWrapper:Ne,toggleFullscreen:At}})(),De=ws(pe,s.redial,H);return{dialog:Fe,instanceApi:De}},Fd=(t,s,a,i=!1,d)=>{const g=Vo("dialog"),p=Vo("dialog-label"),x=Vo("dialog-content"),k=t.internalDialog,T=Yo=>lo(Io,Yo),z=nn(k.size),M=Op(z.get()).toArray(),H=(Yo,wo)=>(z.set(wo.internalDialog.size),Ey(wo.internalDialog.size,Yo),d(),_.some(wo)),j=Ls(ja({title:k.title,draggable:!0},g,p,a.shared.providers)),ee=Ls(dc({body:k.body,initialData:k.initialData},g,x,a,i,T)),ae=u0(k.buttons),Fe=cD(ae),pe=Qo(ae.length!==0,Ls(it({buttons:ae},g,a))),De=iD(()=>_t,{onBlock:Yo=>{kf.block(ht,(wo,tn)=>{const fs=j.getOpt(ht).map(Dr=>Xs(Dr.element));return Pd(Yo.message,tn,a.shared.providers,fs)})},onUnblock:()=>{kf.unblock(ht)},onClose:()=>s.closeWindow()},a.shared.getSink),Ne="tox-dialog-inline",At=ts().os,ht=oi({dom:{tag:"div",classes:["tox-dialog",Ne,...M],attributes:{role:"dialog",...At.isMacOS()?{"aria-label":k.title}:{"aria-labelledby":p}}},eventOrder:{[su()]:[_e.name(),Zi.name()],[ru()]:["execute-on-form"],[xi()]:["reflecting","execute-on-form"]},behaviours:ao([pn.config({mode:"cyclic",onEscape:Yo=>(ns(Yo,P1),_.some(!0)),useTabstopAt:Yo=>!fk(Yo)&&(Rs(Yo)!=="button"||on(Yo,"disabled")!=="disabled"),firstTabstop:1}),_e.config({channel:`${mk}-${g}`,updateState:H,initialData:t}),Bn.config({}),Jn("execute-on-form",De.concat([jp(md(),(Yo,wo)=>{pn.focusIn(Yo)}),Rt(Lg(),(Yo,wo)=>{Yo.getSystem().broadcastOn([_S],{newFocus:wo.event.newFocus})})])),kf.config({getRoot:()=>_.some(ht)}),Fn.config({}),xS({})]),components:[j.asSpec(),ee.asSpec(),...pe.map(Yo=>Yo.asSpec()).toArray()]}),Co=()=>{vE(ht,z.get())},Io={getId:U(g),getRoot:U(ht),getFooter:()=>pe.map(Yo=>Yo.get(ht)),getBody:()=>ee.get(ht),getFormWrapper:()=>{const Yo=ee.get(ht);return Es.getCurrent(Yo).getOr(Yo)},toggleFullscreen:Co},_t=ws(Io,s.redial,Fe);return{dialog:ht,instanceApi:_t}};var d0=tinymce.util.Tools.resolve("tinymce.util.URI");const yZ=t=>{const s=p=>{t.getSystem().isConnected()&&p(t)};return{block:p=>{if(!Re(p))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(x=>{bn(x,m3,{message:p})})},unblock:()=>{s(p=>{ns(p,g3)})},close:()=>{s(p=>{ns(p,P1)})},sendMessage:p=>{s(x=>{x.getSystem().broadcastOn([Q5],p)})}}},xE=["insertContent","setContent","execCommand","close","block","unblock"],bg=t=>Pt(t)&&xE.indexOf(t.mceAction)!==-1,qI=t=>!bg(t)&&Pt(t)&&Gn(t,"mceAction"),GI=(t,s,a)=>{switch(a.mceAction){case"insertContent":t.insertContent(a.content);break;case"setContent":t.setContent(a.content);break;case"execCommand":const i=Ft(a.ui)?a.ui:!1;t.execCommand(a.cmd,i,a.value);break;case"close":s.close();break;case"block":s.block(a.message);break;case"unblock":s.unblock();break}},KI=(t,s,a,i)=>{const d=Vo("dialog"),g=Ri(t.title,d,i),p=dm(t),x=t.buttons.bind(Ne=>Ne.length===0?_.none():_.some(bo({buttons:Ne},d,i))),k=Ty(()=>De,$d(()=>pe,i.shared.providers,s)),T={...t.height.fold(()=>({}),Ne=>({height:Ne+"px","max-height":Ne+"px"})),...t.width.fold(()=>({}),Ne=>({width:Ne+"px","max-width":Ne+"px"}))},z=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],M=new d0(t.url,{base_uri:new d0(window.location.href)}),H=`${M.protocol}://${M.host}${M.port?":"+M.port:""}`,j=Ga(),ee=(Ne,At)=>_.some(At),ae=[_e.config({channel:`${mk}-${d}`,updateState:ee,initialData:t}),Jn("messages",[Mr(()=>{const Ne=Ti(Ae.fromDom(window),"message",At=>{if(M.isSameOrigin(new d0(At.raw.origin))){const ht=At.raw.data;bg(ht)?GI(a,De,ht):qI(ht)&&t.onMessage(De,ht)}});j.set(Ne)}),tf(j.clear)]),Zi.config({channels:{[Q5]:{onReceive:(Ne,At)=>{Vr(Ne.element,"iframe").each(ht=>{const Co=ht.dom.contentWindow;to(Co)&&Co.postMessage(At,H)})}}}})],pe=pg({id:d,header:g,body:p,footer:x,extraClasses:z,extraBehaviours:ae,extraStyles:T},k,i),De=yZ(pe);return{dialog:pe,instanceApi:De}},YI=t=>{const s=t.shared;return{open:(i,d)=>{const g=()=>{uc.hide(T),d()},p=Ls(Sk({name:"close-alert",text:"OK",primary:!0,buttonType:_.some("primary"),align:"end",enabled:!0,icon:_.none()},"cancel",t)),x=Vl(),k=ed(g,s.providers),T=oi(Kr({lazySink:()=>s.getSink(),header:Hl(x,k),body:td(i,s.providers),footer:_.some(dn(Cs([],[p.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Rt(_p,g)],eventOrder:{}}));uc.show(T);const z=p.get(T);Bn.focus(z)}}},vZ=t=>{const s=t.shared;return{open:(i,d)=>{const g=H=>{uc.hide(z),d(H)},p=Ls(Sk({name:"yes",text:"Yes",primary:!0,buttonType:_.some("primary"),align:"end",enabled:!0,icon:_.none()},"submit",t)),x=Sk({name:"no",text:"No",primary:!1,buttonType:_.some("secondary"),align:"end",enabled:!0,icon:_.none()},"cancel",t),k=Vl(),T=ed(()=>g(!1),s.providers),z=oi(Kr({lazySink:()=>s.getSink(),header:Hl(k,T),body:td(i,s.providers),footer:_.some(dn(Cs([],[x,p.asSpec()]))),onEscape:()=>g(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Rt(_p,()=>g(!1)),Rt(Qw,()=>g(!0))],eventOrder:{}}));uc.show(z);const M=p.get(z);Bn.focus(M)}}},hs=(t,s)=>Xt(qr("data",s,t)),ft=t=>qw(t,".tox-alert-dialog")||qw(t,".tox-confirm-dialog"),sn=(t,s,a)=>s&&a?[]:[Ar.config({contextual:{lazyContext:()=>_.some(Lr(Ae.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:i=>vp(t,i.element).map(g=>({bounds:Qb(g),optScrollEnv:_.some({currentScrollTop:g.element.dom.scrollTop,scrollElmTop:Oa(g.element).top})})).getOrThunk(()=>({bounds:Ca(),optScrollEnv:_.none()}))})],$n=t=>{const s=t.editor,a=Jb(s),i=YI(t.backstages.dialog),d=vZ(t.backstages.dialog),g=(ee,ae,Fe)=>{if(!Vt(ae)){if(ae.inline==="toolbar")return T(ee,t.backstages.popup.shared.anchors.inlineDialog(),Fe,ae);if(ae.inline==="bottom")return z(ee,t.backstages.popup.shared.anchors.inlineBottomDialog(),Fe,ae);if(ae.inline==="cursor")return T(ee,t.backstages.popup.shared.anchors.cursor(),Fe,ae)}return k(ee,Fe)},p=(ee,ae)=>x(ee,ae),x=(ee,ae)=>{const Fe=pe=>{const De=KI(pe,{closeWindow:()=>{uc.hide(De.dialog),ae(De.instanceApi)}},s,t.backstages.dialog);return uc.show(De.dialog),De.instanceApi};return E.openUrl(Fe,ee)},k=(ee,ae)=>{const Fe=(pe,De,Ne)=>{const At=De,Co=ca({dataValidator:Ne,initialData:At,internalDialog:pe},{redial:E.redial,closeWindow:()=>{uc.hide(Co.dialog),ae(Co.instanceApi)}},t.backstages.dialog);return uc.show(Co.dialog),Co.instanceApi.setData(At),Co.instanceApi};return E.open(Fe,ee)},T=(ee,ae,Fe,pe)=>{const De=(Ne,At,ht)=>{const Co=hs(At,ht),Io=js(),_t=t.backstages.popup.shared.header.isPositionedAtTop(),Yo={dataValidator:ht,initialData:Co,internalDialog:Ne},wo=()=>Io.on($s=>{Ur.reposition($s),(!a||!_t)&&Ar.refresh($s)}),tn=Fd(Yo,{redial:E.redial,closeWindow:()=>{Io.on(Ur.hide),s.off("ResizeEditor",wo),Io.clear(),Fe(tn.instanceApi)}},t.backstages.popup,pe.ariaAttrs,wo),fs=oi(Ur.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:pe.persistent?{event:"doNotDismissYet"}:{},..._t?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ao([Jn("window-manager-inline-events",[Rt(Em(),($s,Jo)=>{ns(tn.dialog,_p)})]),...sn(s,a,_t)]),isExtraPart:($s,Jo)=>ft(Jo)}));Io.set(fs);const Dr=()=>{const $s=s.inline?es():Ae.fromDom(s.getContainer()),Jo=Lr($s);return _.some(Jo)};return Ur.showWithinBounds(fs,Al(tn.dialog),{anchor:ae},Dr),(!a||!_t)&&(Ar.refresh(fs),s.on("ResizeEditor",wo)),tn.instanceApi.setData(Co),pn.focusIn(tn.dialog),tn.instanceApi};return E.open(De,ee)},z=(ee,ae,Fe,pe)=>{const De=(Ne,At,ht)=>{const Co=hs(At,ht),Io=js(),_t=t.backstages.popup.shared.header.isPositionedAtTop(),Yo={dataValidator:ht,initialData:Co,internalDialog:Ne},wo=()=>Io.on($s=>{Ur.reposition($s),Ar.refresh($s)}),tn=Fd(Yo,{redial:E.redial,closeWindow:()=>{Io.on(Ur.hide),s.off("ResizeEditor ScrollWindow ElementScroll",wo),Io.clear(),Fe(tn.instanceApi)}},t.backstages.popup,pe.ariaAttrs,wo),fs=oi(Ur.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:pe.persistent?{event:"doNotDismissYet"}:{},..._t?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ao([Jn("window-manager-inline-events",[Rt(Em(),($s,Jo)=>{ns(tn.dialog,_p)})]),Ar.config({contextual:{lazyContext:()=>_.some(Lr(Ae.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:$s=>vp(s,$s.element).map(Yt=>({bounds:Qb(Yt),optScrollEnv:_.some({currentScrollTop:Yt.element.dom.scrollTop,scrollElmTop:Oa(Yt.element).top})})).getOrThunk(()=>({bounds:Ca(),optScrollEnv:_.none()}))})]),isExtraPart:($s,Jo)=>ft(Jo)}));Io.set(fs);const Dr=()=>t.backstages.popup.shared.getSink().toOptional().bind($s=>{const Jo=vp(s,$s.element),Yt=15,Eo=Jo.map(mn=>Qb(mn)).getOr(Ca()),Pn=Lr(Ae.fromDom(s.getContentAreaContainer())),An=cd(Pn,Eo);return _.some(Nr(An.x,An.y,An.width,An.height-Yt))});return Ur.showWithinBounds(fs,Al(tn.dialog),{anchor:ae},Dr),Ar.refresh(fs),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",wo),tn.instanceApi.setData(Co),pn.focusIn(tn.dialog),tn.instanceApi};return E.open(De,ee)};return{open:g,openUrl:p,alert:(ee,ae)=>{i.open(ee,ae)},close:ee=>{ee.close()},confirm:(ee,ae)=>{d.open(ee,ae)}}},Ba=t=>{IR(t),$L(t),Aj(t)};var Ji=()=>{Eu.add("silver",t=>{Ba(t);let s=()=>Ca();const{dialogs:a,popups:i,renderUI:d}=TW(t,{getPopupSinkBounds:()=>s()}),g=()=>{const T=d();return vp(t,i.getMothership().element).each(M=>{s=()=>Qb(M)}),T};T8.register(t,i.backstage.shared);const p=$n({editor:t,backstages:{popup:i.backstage,dialog:a.backstage}}),x=js(),k=()=>I6(t,{backstage:i.backstage},i.getMothership(),x);return{renderUI:g,getWindowManagerImpl:U(p),getNotificationManagerImpl:k}})};Ji()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=(Oe,Me,_)=>{const ot=Me==="UL"?"InsertUnorderedList":"InsertOrderedList";Oe.execCommand(ot,!1,_===!1?null:{"list-style-type":_})},Wt=Oe=>{Oe.addCommand("ApplyUnorderedListStyle",(Me,_)=>{Gt(Oe,"UL",_["list-style-type"])}),Oe.addCommand("ApplyOrderedListStyle",(Me,_)=>{Gt(Oe,"OL",_["list-style-type"])})},Jt=Oe=>Me=>Me.options.get(Oe),Lt=Oe=>{const Me=Oe.options.register;Me("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Me("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},Ht=Jt("advlist_number_styles"),qe=Jt("advlist_bullet_styles"),Re=Oe=>Oe==null,Pt=Oe=>!Re(Oe);var so=tinymce.util.Tools.resolve("tinymce.util.Tools");class po{constructor(Me,_){this.tag=Me,this.value=_}static some(Me){return new po(!0,Me)}static none(){return po.singletonNone}fold(Me,_){return this.tag?_(this.value):Me()}isSome(){return this.tag}isNone(){return!this.tag}map(Me){return this.tag?po.some(Me(this.value)):po.none()}bind(Me){return this.tag?Me(this.value):po.none()}exists(Me){return this.tag&&Me(this.value)}forall(Me){return!this.tag||Me(this.value)}filter(Me){return!this.tag||Me(this.value)?this:po.none()}getOr(Me){return this.tag?this.value:Me}or(Me){return this.tag?this:Me}getOrThunk(Me){return this.tag?this.value:Me()}orThunk(Me){return this.tag?this:Me()}getOrDie(Me){if(this.tag)return this.value;throw new Error(Me??"Called getOrDie on None")}static from(Me){return Pt(Me)?po.some(Me):po.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Me){this.tag&&Me(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}po.singletonNone=new po(!1);const So=(Oe,Me,_)=>{for(let ot=0,ue=Oe.length;ot<ue;ot++){const bt=Oe[ot];if(Me(bt,ot))return po.some(bt);if(_(bt,ot))break}return po.none()},Ft=Oe=>/\btox\-/.test(Oe.className),Vt=(Oe,Me)=>Oe.dom.isChildOf(Me,Oe.getBody()),St=Oe=>Me=>Pt(Me)&&Oe.test(Me.nodeName),to=St(/^(OL|UL|DL)$/),Qe=St(/^(TH|TD)$/),nt=(Oe,Me,_)=>So(Me,ot=>to(ot)&&!Ft(ot),Qe).exists(ot=>ot.nodeName===_&&Vt(Oe,ot)),Be=Oe=>{const Me=Oe.dom.getParent(Oe.selection.getNode(),"ol,ul"),_=Oe.dom.getStyle(Me,"listStyleType");return po.from(_)},X=(Oe,Me)=>Me!==null&&!Oe.dom.isEditable(Me),lt=(Oe,Me)=>{const _=Oe.dom.getParent(Me,"ol,ul,dl");return X(Oe,_)&&Oe.selection.isEditable()},Go=(Oe,Me)=>{const _=Oe.selection.getNode();return Me({parents:Oe.dom.getParents(_),element:_}),Oe.on("NodeChange",Me),()=>Oe.off("NodeChange",Me)},pt=Oe=>Oe.replace(/\-/g," ").replace(/\b\w/g,Me=>Me.toUpperCase()),U=Oe=>Re(Oe)||Oe==="default"?"":Oe,zt=(Oe,Me)=>_=>{const ot=(bt,wt)=>{const ye=bt.selection.getStart(!0);_.setActive(nt(bt,wt,Me)),_.setEnabled(!lt(bt,ye)&&bt.selection.isEditable())};return Go(Oe,bt=>ot(Oe,bt.parents))},ko=(Oe,Me,_,ot,ue,bt)=>{Oe.ui.registry.addSplitButton(Me,{tooltip:_,icon:ue==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:wt=>{const ye=so.map(bt,vt=>{const yo=ue==="OL"?"num":"bull",He=vt==="disc"||vt==="decimal"?"default":vt,Zt=U(vt),ke=pt(vt);return{type:"choiceitem",value:Zt,icon:"list-"+yo+"-"+He,text:ke}});wt(ye)},onAction:()=>Oe.execCommand(ot),onItemAction:(wt,ye)=>{Gt(Oe,ue,ye)},select:wt=>Be(Oe).map(vt=>wt===vt).getOr(!1),onSetup:zt(Oe,ue)})},co=(Oe,Me,_,ot,ue,bt)=>{Oe.ui.registry.addToggleButton(Me,{active:!1,tooltip:_,icon:ue==="OL"?"ordered-list":"unordered-list",onSetup:zt(Oe,ue),onAction:()=>Oe.queryCommandState(ot)||bt===""?Oe.execCommand(ot):Gt(Oe,ue,bt)})},We=(Oe,Me,_,ot,ue,bt)=>{bt.length>1?ko(Oe,Me,_,ot,ue,bt):co(Oe,Me,_,ot,ue,U(bt[0]))},ie=Oe=>{We(Oe,"numlist","Numbered list","InsertOrderedList","OL",Ht(Oe)),We(Oe,"bullist","Bullet list","InsertUnorderedList","UL",qe(Oe))};var gn=()=>{ro.add("advlist",Oe=>{Oe.hasPlugin("lists")?(Lt(Oe),ie(Oe),Wt(Oe)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};gn()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Wt=tinymce.util.Tools.resolve("tinymce.util.Tools");const Jt=Oe=>Me=>Me.options.get(Oe),Lt=Oe=>{const Me=Oe.options.register;Me("allow_html_in_named_anchor",{processor:"boolean",default:!1})},Ht=Jt("allow_html_in_named_anchor"),qe="a:not([href])",Re=Oe=>!Oe,Pt=Oe=>Oe.getAttribute("id")||Oe.getAttribute("name")||"",so=Oe=>Oe.nodeName.toLowerCase()==="a",po=Oe=>so(Oe)&&!Oe.getAttribute("href")&&Pt(Oe)!=="",So=Oe=>po(Oe)&&!Oe.firstChild,Ft=Oe=>{const Me=Oe.dom;Gt(Me).walk(Oe.selection.getRng(),_=>{Wt.each(_,ot=>{So(ot)&&Me.remove(ot,!1)})})},Vt=Oe=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Oe),St=Oe=>Oe.dom.getParent(Oe.selection.getStart(),qe),to=Oe=>{const Me=St(Oe);return Me?Pt(Me):""},Qe=(Oe,Me)=>{Oe.undoManager.transact(()=>{Ht(Oe)||Oe.selection.collapse(!0),Oe.selection.isCollapsed()?Oe.insertContent(Oe.dom.createHTML("a",{id:Me})):(Ft(Oe),Oe.formatter.remove("namedAnchor",void 0,void 0,!0),Oe.formatter.apply("namedAnchor",{value:Me}),Oe.addVisual())})},nt=(Oe,Me,_)=>{_.removeAttribute("name"),_.id=Me,Oe.addVisual(),Oe.undoManager.add()},Be=(Oe,Me)=>{const _=St(Oe);_?nt(Oe,Me,_):Qe(Oe,Me),Oe.focus()},X=(Oe,Me)=>Vt(Me)?(Be(Oe,Me),!0):(Oe.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),lt=Oe=>{const Me=to(Oe);Oe.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:Me},onSubmit:_=>{X(Oe,_.getData().id)&&_.close()}})},Go=Oe=>{Oe.addCommand("mceAnchor",()=>{lt(Oe)})},pt=Oe=>Re(Oe.attr("href"))&&!Re(Oe.attr("id")||Oe.attr("name")),U=Oe=>pt(Oe)&&!Oe.firstChild,zt=Oe=>Me=>{for(let _=0;_<Me.length;_++){const ot=Me[_];U(ot)&&ot.attr("contenteditable",Oe)}},ko=Oe=>{Oe.on("PreInit",()=>{Oe.parser.addNodeFilter("a",zt("false")),Oe.serializer.addNodeFilter("a",zt(null))})},co=Oe=>{Oe.formatter.register("namedAnchor",{inline:"a",selector:qe,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(Me,_,ot)=>po(Me)})},We=Oe=>Me=>{const _=()=>{Me.setEnabled(Oe.selection.isEditable())};return Oe.on("NodeChange",_),_(),()=>{Oe.off("NodeChange",_)}},ie=Oe=>{const Me=()=>Oe.execCommand("mceAnchor");Oe.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:Me,onSetup:_=>{const ot=Oe.selection.selectorChangedWithUnbind("a:not([href])",_.setActive).unbind,ue=We(Oe)(_);return()=>{ot(),ue()}}}),Oe.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:Me,onSetup:We(Oe)})};var gn=()=>{ro.add("anchor",Oe=>{Lt(Oe),ko(Oe),Go(Oe),ie(Oe),Oe.on("PreInit",()=>{co(Oe)})})};gn()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,Wt=He=>Zt=>Zt.options.get(He),Jt=He=>{const Zt=He.options.register;Zt("autolink_pattern",{processor:"regexp",default:new RegExp("^"+Gt().source+"$","i")}),Zt("link_default_target",{processor:"string"}),Zt("link_default_protocol",{processor:"string",default:"https"})},Lt=Wt("autolink_pattern"),Ht=Wt("link_default_target"),qe=Wt("link_default_protocol"),Re=Wt("allow_unsafe_link_target"),Pt=(He,Zt,ke)=>{var Xe;return ke(He,Zt.prototype)?!0:((Xe=He.constructor)===null||Xe===void 0?void 0:Xe.name)===Zt.name},so=He=>{const Zt=typeof He;return He===null?"null":Zt==="object"&&Array.isArray(He)?"array":Zt==="object"&&Pt(He,String,(ke,Xe)=>Xe.isPrototypeOf(ke))?"string":Zt},po=He=>Zt=>so(Zt)===He,So=He=>Zt=>He===Zt,Ft=po("string"),Vt=So(void 0),St=He=>He==null,to=He=>!St(He),Qe=He=>Zt=>!He(Zt),nt=Object.hasOwnProperty,Be=(He,Zt)=>nt.call(He,Zt),X=(He,Zt,ke)=>He.length>=Zt.length&&He.substr(ke,ke+Zt.length)===Zt,lt=(He,Zt,ke=0,Xe)=>{const P=He.indexOf(Zt,ke);return P!==-1?Vt(Xe)?!0:P+Zt.length<=Xe:!1},Go=(He,Zt)=>X(He,Zt,0),pt="\uFEFF",U=He=>He===pt,zt=He=>He.replace(/\uFEFF/g,"");var ko=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const co=He=>He.nodeType===3,We=He=>He.nodeType===1,ie=He=>/^[(\[{ \u00a0]$/.test(He),gn=He=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(He),Oe=He=>/[?!,.;:]/.test(He),Me=(He,Zt,ke)=>{for(let Xe=Zt-1;Xe>=0;Xe--){const P=He.charAt(Xe);if(!U(P)&&ke(P))return Xe}return-1},_=(He,Zt)=>{let ke=He,Xe=Zt;for(;We(ke)&&ke.childNodes[Xe];)ke=ke.childNodes[Xe],Xe=co(ke)?ke.data.length:ke.childNodes.length;return{container:ke,offset:Xe}},ot=(He,Zt)=>{var ke;const Xe=He.schema.getVoidElements(),P=Lt(He),{dom:wn,selection:st}=He;if(wn.getParent(st.getNode(),"a[href]")!==null)return null;const Nt=st.getRng(),Ue=ko(wn,Ee=>wn.isBlock(Ee)||Be(Xe,Ee.nodeName.toLowerCase())||wn.getContentEditable(Ee)==="false"),{container:dt,offset:K}=_(Nt.endContainer,Nt.endOffset),te=(ke=wn.getParent(dt,wn.isBlock))!==null&&ke!==void 0?ke:wn.getRoot(),he=Ue.backwards(dt,K+Zt,(Ee,Ke)=>{const xt=Ee.data,ho=Me(xt,Ke,Qe(ie));return ho===-1||Oe(xt[ho])?ho:ho+1},te);if(!he)return null;let V=he.container;const re=Ue.backwards(he.container,he.offset,(Ee,Ke)=>{V=Ee;const xt=Me(Ee.data,Ke,ie);return xt===-1?xt:xt+1},te),de=wn.createRng();re?de.setStart(re.container,re.offset):de.setStart(V,0),de.setEnd(he.container,he.offset);const ut=zt(de.toString()).match(P);if(ut){let Ee=ut[0];return Go(Ee,"www.")?Ee=qe(He)+"://"+Ee:lt(Ee,"@")&&!gn(Ee)&&(Ee="mailto:"+Ee),{rng:de,url:Ee}}else return null},ue=(He,Zt)=>{const{dom:ke,selection:Xe}=He,{rng:P,url:wn}=Zt,st=Xe.getBookmark();Xe.setRng(P);const Nt="createlink",Ue={command:Nt,ui:!1,value:wn};if(!He.dispatch("BeforeExecCommand",Ue).isDefaultPrevented()){He.getDoc().execCommand(Nt,!1,wn),He.dispatch("ExecCommand",Ue);const K=Ht(He);if(Ft(K)){const te=Xe.getNode();ke.setAttrib(te,"target",K),K==="_blank"&&!Re(He)&&ke.setAttrib(te,"rel","noopener")}}Xe.moveToBookmark(st),He.nodeChanged()},bt=He=>{const Zt=ot(He,-1);to(Zt)&&ue(He,Zt)},wt=bt,ye=He=>{const Zt=ot(He,0);to(Zt)&&ue(He,Zt)},vt=He=>{He.on("keydown",Zt=>{Zt.keyCode===13&&!Zt.isDefaultPrevented()&&ye(He)}),He.on("keyup",Zt=>{Zt.keyCode===32?bt(He):(Zt.keyCode===48&&Zt.shiftKey||Zt.keyCode===221)&&wt(He)})};var yo=()=>{ro.add("autolink",He=>{Jt(He),vt(He)})};yo()})();(function(){const ro=Be=>{let X=Be;return{get:()=>X,set:pt=>{X=pt}}};var Gt=tinymce.util.Tools.resolve("tinymce.PluginManager"),Wt=tinymce.util.Tools.resolve("tinymce.Env");const Jt=Be=>Be.dispatch("ResizeEditor"),Lt=Be=>X=>X.options.get(Be),Ht=Be=>{const X=Be.options.register;X("autoresize_overflow_padding",{processor:"number",default:1}),X("autoresize_bottom_margin",{processor:"number",default:50})},qe=Lt("min_height"),Re=Lt("max_height"),Pt=Lt("autoresize_overflow_padding"),so=Lt("autoresize_bottom_margin"),po=Be=>Be.plugins.fullscreen&&Be.plugins.fullscreen.isFullscreen(),So=(Be,X)=>{const lt=Be.getBody();lt&&(lt.style.overflowY=X?"":"hidden",X||(lt.scrollTop=0))},Ft=(Be,X,lt,Go)=>{var pt;const U=parseInt((pt=Be.getStyle(X,lt,Go))!==null&&pt!==void 0?pt:"",10);return isNaN(U)?0:U},Vt=Be=>{if((Be==null?void 0:Be.type.toLowerCase())==="setcontent"){const X=Be;return X.selection===!0||X.paste===!0}else return!1},St=(Be,X,lt,Go)=>{var pt;const U=Be.dom,zt=Be.getDoc();if(!zt)return;if(po(Be)){So(Be,!0);return}const ko=zt.documentElement,co=Go?Go():Pt(Be),We=(pt=qe(Be))!==null&&pt!==void 0?pt:Be.getElement().offsetHeight;let ie=We;const gn=Ft(U,ko,"margin-top",!0),Oe=Ft(U,ko,"margin-bottom",!0);let Me=ko.offsetHeight+gn+Oe+co;Me<0&&(Me=0);const _=Be.getContainer().offsetHeight,ot=Be.getContentAreaContainer().offsetHeight,ue=_-ot;Me+ue>We&&(ie=Me+ue);const bt=Re(Be);bt&&ie>bt?(ie=bt,So(Be,!0)):So(Be,!1);const wt=X.get();if(wt.set&&(Be.dom.setStyles(Be.getDoc().documentElement,{"min-height":0}),Be.dom.setStyles(Be.getBody(),{"min-height":"inherit"})),ie!==wt.totalHeight&&(Me-co!==wt.contentHeight||!wt.set)){const ye=ie-wt.totalHeight;if(U.setStyle(Be.getContainer(),"height",ie+"px"),X.set({totalHeight:ie,contentHeight:Me,set:!0}),Jt(Be),Wt.browser.isSafari()&&(Wt.os.isMacOS()||Wt.os.isiOS())){const vt=Be.getWin();vt.scrollTo(vt.pageXOffset,vt.pageYOffset)}Be.hasFocus()&&Vt(lt)&&Be.selection.scrollIntoView(),(Wt.browser.isSafari()||Wt.browser.isChromium())&&ye<0&&St(Be,X,lt,Go)}},to=(Be,X)=>{const lt=()=>so(Be);Be.on("init",Go=>{const pt=Pt(Be),U=Be.dom;U.setStyles(Be.getDoc().documentElement,{height:"auto"}),Wt.browser.isEdge()||Wt.browser.isIE()?U.setStyles(Be.getBody(),{paddingLeft:pt,paddingRight:pt,"min-height":0}):U.setStyles(Be.getBody(),{paddingLeft:pt,paddingRight:pt}),St(Be,X,Go,lt)}),Be.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",Go=>{St(Be,X,Go,lt)})},Qe=(Be,X)=>{Be.addCommand("mceAutoResize",()=>{St(Be,X)})};var nt=()=>{Gt.add("autoresize",Be=>{if(Ht(Be),Be.options.isSet("resize")||Be.options.set("resize",!1),!Be.inline){const X=ro({totalHeight:0,contentHeight:0,set:!1});Qe(Be,X),to(Be,X)}})};nt()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=(ue,bt,wt)=>{var ye;return wt(ue,bt.prototype)?!0:((ye=ue.constructor)===null||ye===void 0?void 0:ye.name)===bt.name},Wt=ue=>{const bt=typeof ue;return ue===null?"null":bt==="object"&&Array.isArray(ue)?"array":bt==="object"&&Gt(ue,String,(wt,ye)=>ye.isPrototypeOf(wt))?"string":bt},Jt=ue=>bt=>Wt(bt)===ue,Lt=ue=>bt=>ue===bt,Ht=Jt("string"),qe=Lt(void 0);var Re=tinymce.util.Tools.resolve("tinymce.util.Delay"),Pt=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),so=tinymce.util.Tools.resolve("tinymce.util.Tools");const po=ue=>ue.dispatch("RestoreDraft"),So=ue=>ue.dispatch("StoreDraft"),Ft=ue=>ue.dispatch("RemoveDraft"),Vt=ue=>{const bt={s:1e3,m:6e4},wt=/^(\d+)([ms]?)$/.exec(ue);return(wt&&wt[2]?bt[wt[2]]:1)*parseInt(ue,10)},St=ue=>bt=>bt.options.get(ue),to=ue=>{const bt=ue.options.register,wt=ye=>{const vt=Ht(ye);return vt?{value:Vt(ye),valid:vt}:{valid:!1,message:"Must be a string."}};bt("autosave_ask_before_unload",{processor:"boolean",default:!0}),bt("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),bt("autosave_restore_when_empty",{processor:"boolean",default:!1}),bt("autosave_interval",{processor:wt,default:"30s"}),bt("autosave_retention",{processor:wt,default:"20m"})},Qe=St("autosave_ask_before_unload"),nt=St("autosave_restore_when_empty"),Be=St("autosave_interval"),X=St("autosave_retention"),lt=ue=>{const bt=document.location;return ue.options.get("autosave_prefix").replace(/{path}/g,bt.pathname).replace(/{query}/g,bt.search).replace(/{hash}/g,bt.hash).replace(/{id}/g,ue.id)},Go=(ue,bt)=>{if(qe(bt))return ue.dom.isEmpty(ue.getBody());{const wt=so.trim(bt);if(wt==="")return!0;{const ye=new DOMParser().parseFromString(wt,"text/html");return ue.dom.isEmpty(ye)}}},pt=ue=>{var bt;const wt=parseInt((bt=Pt.getItem(lt(ue)+"time"))!==null&&bt!==void 0?bt:"0",10)||0;return new Date().getTime()-wt>X(ue)?(U(ue,!1),!1):!0},U=(ue,bt)=>{const wt=lt(ue);Pt.removeItem(wt+"draft"),Pt.removeItem(wt+"time"),bt!==!1&&Ft(ue)},zt=ue=>{const bt=lt(ue);!Go(ue)&&ue.isDirty()&&(Pt.setItem(bt+"draft",ue.getContent({format:"raw",no_events:!0})),Pt.setItem(bt+"time",new Date().getTime().toString()),So(ue))},ko=ue=>{var bt;const wt=lt(ue);pt(ue)&&(ue.setContent((bt=Pt.getItem(wt+"draft"))!==null&&bt!==void 0?bt:"",{format:"raw"}),po(ue))},co=ue=>{const bt=Be(ue);Re.setEditorInterval(ue,()=>{zt(ue)},bt)},We=ue=>{ue.undoManager.transact(()=>{ko(ue),U(ue)}),ue.focus()},ie=ue=>({hasDraft:()=>pt(ue),storeDraft:()=>zt(ue),restoreDraft:()=>ko(ue),removeDraft:bt=>U(ue,bt),isEmpty:bt=>Go(ue,bt)});var gn=tinymce.util.Tools.resolve("tinymce.EditorManager");const Oe=ue=>{ue.editorManager.on("BeforeUnload",bt=>{let wt;so.each(gn.get(),ye=>{ye.plugins.autosave&&ye.plugins.autosave.storeDraft(),!wt&&ye.isDirty()&&Qe(ye)&&(wt=ye.translate("You have unsaved changes are you sure you want to navigate away?"))}),wt&&(bt.preventDefault(),bt.returnValue=wt)})},Me=ue=>bt=>{bt.setEnabled(pt(ue));const wt=()=>bt.setEnabled(pt(ue));return ue.on("StoreDraft RestoreDraft RemoveDraft",wt),()=>ue.off("StoreDraft RestoreDraft RemoveDraft",wt)},_=ue=>{co(ue);const bt=()=>{We(ue)};ue.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:bt,onSetup:Me(ue)}),ue.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:bt,onSetup:Me(ue)})};var ot=()=>{ro.add("autosave",ue=>(to(ue),Oe(ue),_(ue),ue.on("init",()=>{nt(ue)&&ue.dom.isEmpty(ue.getBody())&&ko(ue)}),ie(ue)))};ot()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=(K,te)=>K.dispatch("insertCustomChar",{chr:te}),Wt=(K,te)=>{const he=Gt(K,te).chr;K.execCommand("mceInsertContent",!1,he)},Jt=(K,te,he)=>{var V;return he(K,te.prototype)?!0:((V=K.constructor)===null||V===void 0?void 0:V.name)===te.name},Lt=K=>{const te=typeof K;return K===null?"null":te==="object"&&Array.isArray(K)?"array":te==="object"&&Jt(K,String,(he,V)=>V.isPrototypeOf(he))?"string":te},Ht=K=>te=>Lt(te)===K,qe=K=>te=>typeof te===K,Re=K=>te=>K===te,Pt=Ht("array"),so=Re(null),po=Re(void 0),So=K=>K==null,Ft=K=>!So(K),Vt=qe("function"),to=(K=>()=>K)(!1);class Qe{constructor(te,he){this.tag=te,this.value=he}static some(te){return new Qe(!0,te)}static none(){return Qe.singletonNone}fold(te,he){return this.tag?he(this.value):te()}isSome(){return this.tag}isNone(){return!this.tag}map(te){return this.tag?Qe.some(te(this.value)):Qe.none()}bind(te){return this.tag?te(this.value):Qe.none()}exists(te){return this.tag&&te(this.value)}forall(te){return!this.tag||te(this.value)}filter(te){return!this.tag||te(this.value)?this:Qe.none()}getOr(te){return this.tag?this.value:te}or(te){return this.tag?this:te}getOrThunk(te){return this.tag?this.value:te()}orThunk(te){return this.tag?this:te()}getOrDie(te){if(this.tag)return this.value;throw new Error(te??"Called getOrDie on None")}static from(te){return Ft(te)?Qe.some(te):Qe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(te){this.tag&&te(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Qe.singletonNone=new Qe(!1);const nt=Array.prototype.push,Be=(K,te)=>{const he=K.length,V=new Array(he);for(let re=0;re<he;re++){const de=K[re];V[re]=te(de,re)}return V},X=(K,te)=>{for(let he=0,V=K.length;he<V;he++){const re=K[he];te(re,he)}},lt=(K,te,he)=>{for(let V=0,re=K.length;V<re;V++){const de=K[V];if(te(de,V))return Qe.some(de);if(he(de,V))break}return Qe.none()},Go=(K,te)=>lt(K,te,to),pt=K=>{const te=[];for(let he=0,V=K.length;he<V;++he){if(!Pt(K[he]))throw new Error("Arr.flatten item "+he+" was not an array, input: "+K);nt.apply(te,K[he])}return te},U=(K,te)=>pt(Be(K,te));var zt=tinymce.util.Tools.resolve("tinymce.util.Tools");const ko=K=>te=>te.options.get(K),co=K=>{const te=K.options.register,he=V=>Vt(V)||Pt(V);te("charmap",{processor:he}),te("charmap_append",{processor:he})},We=ko("charmap"),ie=ko("charmap_append"),gn=zt.isArray,Oe="User Defined",Me=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],_=K=>zt.grep(K,te=>gn(te)&&te.length===2),ot=K=>gn(K)?_(K):typeof K=="function"?K():[],ue=(K,te)=>{const he=We(K);he&&(te=[{name:Oe,characters:ot(he)}]);const V=ie(K);if(V){const re=zt.grep(te,de=>de.name===Oe);return re.length?(re[0].characters=[...re[0].characters,...ot(V)],te):te.concat({name:Oe,characters:ot(V)})}return te},bt=K=>{const te=ue(K,Me());return te.length>1?[{name:"All",characters:U(te,he=>he.characters)}].concat(te):te},wt=K=>({getCharMap:()=>bt(K),insertChar:V=>{Wt(K,V)}}),ye=K=>{let te=K;return{get:()=>te,set:re=>{te=re}}},vt=(K,te)=>{let he=null;const V=()=>{so(he)||(clearTimeout(he),he=null)};return{cancel:V,throttle:(...de)=>{V(),he=setTimeout(()=>{he=null,K.apply(null,de)},te)}}},yo=(K,te,he=0,V)=>{const re=K.indexOf(te,he);return re!==-1?po(V)?!0:re+te.length<=V:!1},He=String.fromCodePoint,Zt=(K,te,he)=>yo(He(K).toLowerCase(),he)?!0:yo(te.toLowerCase(),he)||yo(te.toLowerCase().replace(/\s+/g,""),he),ke=(K,te)=>{const he=[],V=te.toLowerCase();return X(K.characters,re=>{Zt(re[0],re[1],V)&&he.push(re)}),Be(he,re=>({text:re[1],value:He(re[0]),icon:He(re[0])}))},Xe="pattern",P=(K,te)=>{const he=()=>[{label:"Search",type:"input",name:Xe},{type:"collection",name:"results"}],V=()=>Be(te,Ut=>({title:Ut.name,name:Ut.name,items:he()})),re=()=>({type:"panel",items:he()}),de=()=>({type:"tabpanel",tabs:V()}),be=te.length===1?ye(Oe):ye("All"),ut=(Ut,io)=>{Go(te,hn=>hn.name===be.get()).each(hn=>{const Lo=ke(hn,io);Ut.setData({results:Lo})})},Ke=vt(Ut=>{const io=Ut.getData().pattern;ut(Ut,io)},40),xt=te.length===1?re():de(),ho={pattern:"",results:ke(te[0],"")},je={title:"Special Character",size:"normal",body:xt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:ho,onAction:(Ut,io)=>{io.name==="results"&&(Wt(K,io.value),Ut.close())},onTabChange:(Ut,io)=>{be.set(io.newTabName),Ke.throttle(Ut)},onChange:(Ut,io)=>{io.name===Xe&&Ke.throttle(Ut)}};K.windowManager.open(je).focus(Xe)},wn=(K,te)=>{K.addCommand("mceShowCharmap",()=>{P(K,te)})},st=(K,te)=>{K.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(he,V)=>new Promise((re,de)=>{re(ke(te,he))}),onAction:(he,V,re)=>{K.selection.setRng(V),K.insertContent(re),he.hide()}})},Nt=K=>te=>{const he=()=>{te.setEnabled(K.selection.isEditable())};return K.on("NodeChange",he),he(),()=>{K.off("NodeChange",he)}},Ue=K=>{const te=()=>K.execCommand("mceShowCharmap");K.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:te,onSetup:Nt(K)}),K.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:te,onSetup:Nt(K)})};var dt=()=>{ro.add("charmap",K=>{co(K);const te=bt(K);return wn(K,te),Ue(K),st(K,te[0]),wt(K)})};dt()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=(Re,Pt)=>{Re.focus(),Re.undoManager.transact(()=>{Re.setContent(Pt)}),Re.selection.setCursorLocation(),Re.nodeChanged()},Wt=Re=>Re.getContent({source_view:!0}),Jt=Re=>{const Pt=Wt(Re);Re.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Pt},onSubmit:so=>{Gt(Re,so.getData().code),so.close()}})},Lt=Re=>{Re.addCommand("mceCodeEditor",()=>{Jt(Re)})},Ht=Re=>{const Pt=()=>Re.execCommand("mceCodeEditor");Re.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Pt}),Re.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Pt})};var qe=()=>{ro.add("code",Re=>(Lt(Re),Ht(Re),{}))};qe()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=_=>_==null,Wt=_=>!Gt(_),Jt=()=>{},Lt=_=>()=>_;class Ht{constructor(ot,ue){this.tag=ot,this.value=ue}static some(ot){return new Ht(!0,ot)}static none(){return Ht.singletonNone}fold(ot,ue){return this.tag?ue(this.value):ot()}isSome(){return this.tag}isNone(){return!this.tag}map(ot){return this.tag?Ht.some(ot(this.value)):Ht.none()}bind(ot){return this.tag?ot(this.value):Ht.none()}exists(ot){return this.tag&&ot(this.value)}forall(ot){return!this.tag||ot(this.value)}filter(ot){return!this.tag||ot(this.value)?this:Ht.none()}getOr(ot){return this.tag?this.value:ot}or(ot){return this.tag?this:ot}getOrThunk(ot){return this.tag?this.value:ot()}orThunk(ot){return this.tag?this:ot()}getOrDie(ot){if(this.tag)return this.value;throw new Error(ot??"Called getOrDie on None")}static from(ot){return Wt(ot)?Ht.some(ot):Ht.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ot){this.tag&&ot(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ht.singletonNone=new Ht(!1);const qe=(_,ot)=>ot>=0&&ot<_.length?Ht.some(_[ot]):Ht.none(),Re=_=>qe(_,0);var Pt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const so=typeof window<"u"?window:Function("return this;")(),po=function(_,ot,ue){const bt=window.Prism;window.Prism={manual:!0};var wt=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},ye=function(vt){var yo=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,He=0,Zt={},ke={manual:vt.Prism&&vt.Prism.manual,disableWorkerMessageHandler:vt.Prism&&vt.Prism.disableWorkerMessageHandler,util:{encode:function V(re){return re instanceof Xe?new Xe(re.type,V(re.content),re.alias):Array.isArray(re)?re.map(V):re.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(V){return Object.prototype.toString.call(V).slice(8,-1)},objId:function(V){return V.__id||Object.defineProperty(V,"__id",{value:++He}),V.__id},clone:function V(re,de){de=de||{};var be,ut;switch(ke.util.type(re)){case"Object":if(ut=ke.util.objId(re),de[ut])return de[ut];be={},de[ut]=be;for(var Ee in re)re.hasOwnProperty(Ee)&&(be[Ee]=V(re[Ee],de));return be;case"Array":return ut=ke.util.objId(re),de[ut]?de[ut]:(be=[],de[ut]=be,re.forEach(function(Ke,xt){be[xt]=V(Ke,de)}),be);default:return re}},getLanguage:function(V){for(;V;){var re=yo.exec(V.className);if(re)return re[1].toLowerCase();V=V.parentElement}return"none"},setLanguage:function(V,re){V.className=V.className.replace(RegExp(yo,"gi"),""),V.classList.add("language-"+re)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(be){var V=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(be.stack)||[])[1];if(V){var re=document.getElementsByTagName("script");for(var de in re)if(re[de].src==V)return re[de]}return null}},isActive:function(V,re,de){for(var be="no-"+re;V;){var ut=V.classList;if(ut.contains(re))return!0;if(ut.contains(be))return!1;V=V.parentElement}return!!de}},languages:{plain:Zt,plaintext:Zt,text:Zt,txt:Zt,extend:function(V,re){var de=ke.util.clone(ke.languages[V]);for(var be in re)de[be]=re[be];return de},insertBefore:function(V,re,de,be){be=be||ke.languages;var ut=be[V],Ee={};for(var Ke in ut)if(ut.hasOwnProperty(Ke)){if(Ke==re)for(var xt in de)de.hasOwnProperty(xt)&&(Ee[xt]=de[xt]);de.hasOwnProperty(Ke)||(Ee[Ke]=ut[Ke])}var ho=be[V];return be[V]=Ee,ke.languages.DFS(ke.languages,function(je,Je){Je===ho&&je!=V&&(this[je]=Ee)}),Ee},DFS:function V(re,de,be,ut){ut=ut||{};var Ee=ke.util.objId;for(var Ke in re)if(re.hasOwnProperty(Ke)){de.call(re,Ke,re[Ke],be||Ke);var xt=re[Ke],ho=ke.util.type(xt);ho==="Object"&&!ut[Ee(xt)]?(ut[Ee(xt)]=!0,V(xt,de,null,ut)):ho==="Array"&&!ut[Ee(xt)]&&(ut[Ee(xt)]=!0,V(xt,de,Ke,ut))}}},plugins:{},highlightAll:function(V,re){ke.highlightAllUnder(document,V,re)},highlightAllUnder:function(V,re,de){var be={callback:de,container:V,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};ke.hooks.run("before-highlightall",be),be.elements=Array.prototype.slice.apply(be.container.querySelectorAll(be.selector)),ke.hooks.run("before-all-elements-highlight",be);for(var ut=0,Ee;Ee=be.elements[ut++];)ke.highlightElement(Ee,re===!0,be.callback)},highlightElement:function(V,re,de){var be=ke.util.getLanguage(V),ut=ke.languages[be];ke.util.setLanguage(V,be);var Ee=V.parentElement;Ee&&Ee.nodeName.toLowerCase()==="pre"&&ke.util.setLanguage(Ee,be);var Ke=V.textContent,xt={element:V,language:be,grammar:ut,code:Ke};function ho(Je){xt.highlightedCode=Je,ke.hooks.run("before-insert",xt),xt.element.innerHTML=xt.highlightedCode,ke.hooks.run("after-highlight",xt),ke.hooks.run("complete",xt),de&&de.call(xt.element)}if(ke.hooks.run("before-sanity-check",xt),Ee=xt.element.parentElement,Ee&&Ee.nodeName.toLowerCase()==="pre"&&!Ee.hasAttribute("tabindex")&&Ee.setAttribute("tabindex","0"),!xt.code){ke.hooks.run("complete",xt),de&&de.call(xt.element);return}if(ke.hooks.run("before-highlight",xt),!xt.grammar){ho(ke.util.encode(xt.code));return}if(re&&vt.Worker){var je=new Worker(ke.filename);je.onmessage=function(Je){ho(Je.data)},je.postMessage(JSON.stringify({language:xt.language,code:xt.code,immediateClose:!0}))}else ho(ke.highlight(xt.code,xt.grammar,xt.language))},highlight:function(V,re,de){var be={code:V,grammar:re,language:de};if(ke.hooks.run("before-tokenize",be),!be.grammar)throw new Error('The language "'+be.language+'" has no grammar.');return be.tokens=ke.tokenize(be.code,be.grammar),ke.hooks.run("after-tokenize",be),Xe.stringify(ke.util.encode(be.tokens),be.language)},tokenize:function(V,re){var de=re.rest;if(de){for(var be in de)re[be]=de[be];delete re.rest}var ut=new st;return Nt(ut,ut.head,V),wn(V,ut,re,ut.head,0),dt(ut)},hooks:{all:{},add:function(V,re){var de=ke.hooks.all;de[V]=de[V]||[],de[V].push(re)},run:function(V,re){var de=ke.hooks.all[V];if(!(!de||!de.length))for(var be=0,ut;ut=de[be++];)ut(re)}},Token:Xe};vt.Prism=ke;function Xe(V,re,de,be){this.type=V,this.content=re,this.alias=de,this.length=(be||"").length|0}Xe.stringify=function V(re,de){if(typeof re=="string")return re;if(Array.isArray(re)){var be="";return re.forEach(function(ho){be+=V(ho,de)}),be}var ut={type:re.type,content:V(re.content,de),tag:"span",classes:["token",re.type],attributes:{},language:de},Ee=re.alias;Ee&&(Array.isArray(Ee)?Array.prototype.push.apply(ut.classes,Ee):ut.classes.push(Ee)),ke.hooks.run("wrap",ut);var Ke="";for(var xt in ut.attributes)Ke+=" "+xt+'="'+(ut.attributes[xt]||"").replace(/"/g,"&quot;")+'"';return"<"+ut.tag+' class="'+ut.classes.join(" ")+'"'+Ke+">"+ut.content+"</"+ut.tag+">"};function P(V,re,de,be){V.lastIndex=re;var ut=V.exec(de);if(ut&&be&&ut[1]){var Ee=ut[1].length;ut.index+=Ee,ut[0]=ut[0].slice(Ee)}return ut}function wn(V,re,de,be,ut,Ee){for(var Ke in de)if(!(!de.hasOwnProperty(Ke)||!de[Ke])){var xt=de[Ke];xt=Array.isArray(xt)?xt:[xt];for(var ho=0;ho<xt.length;++ho){if(Ee&&Ee.cause==Ke+","+ho)return;var je=xt[ho],Je=je.inside,Ut=!!je.lookbehind,io=!!je.greedy,hn=je.alias;if(io&&!je.pattern.global){var Lo=je.pattern.toString().match(/[imsuy]*$/)[0];je.pattern=RegExp(je.pattern.source,Lo+"g")}for(var Mo=je.pattern||je,Hn=be.next,Bo=ut;Hn!==re.tail&&!(Ee&&Bo>=Ee.reach);Bo+=Hn.value.length,Hn=Hn.next){var Wn=Hn.value;if(re.length>V.length)return;if(!(Wn instanceof Xe)){var bs=1,os;if(io){if(os=P(Mo,Bo,V,Ut),!os||os.index>=V.length)break;var Kt=os.index,Ys=os.index+os[0].length,vn=Bo;for(vn+=Hn.value.length;Kt>=vn;)Hn=Hn.next,vn+=Hn.value.length;if(vn-=Hn.value.length,Bo=vn,Hn.value instanceof Xe)continue;for(var jr=Hn;jr!==re.tail&&(vn<Ys||typeof jr.value=="string");jr=jr.next)bs++,vn+=jr.value.length;bs--,Wn=V.slice(Bo,vn),os.index-=Bo}else if(os=P(Mo,0,Wn,Ut),!os)continue;var Kt=os.index,Gn=os[0],hr=Wn.slice(0,Kt),ar=Wn.slice(Kt+Gn.length),Pr=Bo+Wn.length;Ee&&Pr>Ee.reach&&(Ee.reach=Pr);var $r=Hn.prev;hr&&($r=Nt(re,$r,hr),Bo+=hr.length),Ue(re,$r,bs);var ys=new Xe(Ke,Je?ke.tokenize(Gn,Je):Gn,hn,Gn);if(Hn=Nt(re,$r,ys),ar&&Nt(re,Hn,ar),bs>1){var ea={cause:Ke+","+ho,reach:Pr};wn(V,re,de,Hn.prev,Bo,ea),Ee&&ea.reach>Ee.reach&&(Ee.reach=ea.reach)}}}}}}function st(){var V={value:null,prev:null,next:null},re={value:null,prev:V,next:null};V.next=re,this.head=V,this.tail=re,this.length=0}function Nt(V,re,de){var be=re.next,ut={value:de,prev:re,next:be};return re.next=ut,be.prev=ut,V.length++,ut}function Ue(V,re,de){for(var be=re.next,ut=0;ut<de&&be!==V.tail;ut++)be=be.next;re.next=be,be.prev=re,V.length-=ut}function dt(V){for(var re=[],de=V.head.next;de!==V.tail;)re.push(de.value),de=de.next;return re}if(!vt.document)return vt.addEventListener&&(ke.disableWorkerMessageHandler||vt.addEventListener("message",function(V){var re=JSON.parse(V.data),de=re.language,be=re.code,ut=re.immediateClose;vt.postMessage(ke.highlight(be,ke.languages[de],de)),ut&&vt.close()},!1)),ke;var K=ke.util.currentScript();K&&(ke.filename=K.src,K.hasAttribute("data-manual")&&(ke.manual=!0));function te(){ke.manual||ke.highlightAll()}if(!ke.manual){var he=document.readyState;he==="loading"||he==="interactive"&&K&&K.defer?document.addEventListener("DOMContentLoaded",te):window.requestAnimationFrame?window.requestAnimationFrame(te):window.setTimeout(te,16)}return ke}(wt);return ye.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(vt){function yo(He,Zt){return"___"+He.toUpperCase()+Zt+"___"}Object.defineProperties(vt.languages["markup-templating"]={},{buildPlaceholders:{value:function(He,Zt,ke,Xe){if(He.language===Zt){var P=He.tokenStack=[];He.code=He.code.replace(ke,function(wn){if(typeof Xe=="function"&&!Xe(wn))return wn;for(var st=P.length,Nt;He.code.indexOf(Nt=yo(Zt,st))!==-1;)++st;return P[st]=wn,Nt}),He.grammar=vt.languages.markup}}},tokenizePlaceholders:{value:function(He,Zt){if(He.language!==Zt||!He.tokenStack)return;He.grammar=vt.languages[Zt];var ke=0,Xe=Object.keys(He.tokenStack);function P(wn){for(var st=0;st<wn.length&&!(ke>=Xe.length);st++){var Nt=wn[st];if(typeof Nt=="string"||Nt.content&&typeof Nt.content=="string"){var Ue=Xe[ke],dt=He.tokenStack[Ue],K=typeof Nt=="string"?Nt:Nt.content,te=yo(Zt,Ue),he=K.indexOf(te);if(he>-1){++ke;var V=K.substring(0,he),re=new vt.Token(Zt,vt.tokenize(dt,He.grammar),"language-"+Zt,dt),de=K.substring(he+te.length),be=[];V&&be.push.apply(be,P([V])),be.push(re),de&&be.push.apply(be,P([de])),typeof Nt=="string"?wn.splice.apply(wn,[st,1].concat(be)):Nt.content=be}}else Nt.content&&P(Nt.content)}return wn}P(He.tokens)}}})}(ye),ye.languages.c=ye.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),ye.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),ye.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},ye.languages.c.string],char:ye.languages.c.char,comment:ye.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:ye.languages.c}}}}),ye.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete ye.languages.c.boolean,function(vt){var yo=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,He=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return yo.source});vt.languages.cpp=vt.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return yo.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:yo,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),vt.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return He})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),vt.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:vt.languages.cpp}}}}),vt.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),vt.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:vt.languages.extend("cpp",{})}}),vt.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},vt.languages.cpp["base-clause"])}(ye),function(vt){function yo(os,Ys){return os.replace(/<<(\d+)>>/g,function(vn,jr){return"(?:"+Ys[+jr]+")"})}function He(os,Ys,vn){return RegExp(yo(os,Ys),"")}function Zt(os,Ys){for(var vn=0;vn<Ys;vn++)os=os.replace(/<<self>>/g,function(){return"(?:"+os+")"});return os.replace(/<<self>>/g,"[^\\s\\S]")}var ke={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function Xe(os){return"\\b(?:"+os.trim().replace(/ /g,"|")+")\\b"}var P=Xe(ke.typeDeclaration),wn=RegExp(Xe(ke.type+" "+ke.typeDeclaration+" "+ke.contextual+" "+ke.other)),st=Xe(ke.typeDeclaration+" "+ke.contextual+" "+ke.other),Nt=Xe(ke.type+" "+ke.typeDeclaration+" "+ke.other),Ue=Zt(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),dt=Zt(/\((?:[^()]|<<self>>)*\)/.source,2),K=/@?\b[A-Za-z_]\w*\b/.source,te=yo(/<<0>>(?:\s*<<1>>)?/.source,[K,Ue]),he=yo(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[st,te]),V=/\[\s*(?:,\s*)*\]/.source,re=yo(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[he,V]),de=yo(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[Ue,dt,V]),be=yo(/\(<<0>>+(?:,<<0>>+)+\)/.source,[de]),ut=yo(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[be,he,V]),Ee={keyword:wn,punctuation:/[<>()?,.:[\]]/},Ke=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,xt=/"(?:\\.|[^\\"\r\n])*"/.source,ho=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;vt.languages.csharp=vt.languages.extend("clike",{string:[{pattern:He(/(^|[^$\\])<<0>>/.source,[ho]),lookbehind:!0,greedy:!0},{pattern:He(/(^|[^@$\\])<<0>>/.source,[xt]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:He(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[he]),lookbehind:!0,inside:Ee},{pattern:He(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[K,ut]),lookbehind:!0,inside:Ee},{pattern:He(/(\busing\s+)<<0>>(?=\s*=)/.source,[K]),lookbehind:!0},{pattern:He(/(\b<<0>>\s+)<<1>>/.source,[P,te]),lookbehind:!0,inside:Ee},{pattern:He(/(\bcatch\s*\(\s*)<<0>>/.source,[he]),lookbehind:!0,inside:Ee},{pattern:He(/(\bwhere\s+)<<0>>/.source,[K]),lookbehind:!0},{pattern:He(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[re]),lookbehind:!0,inside:Ee},{pattern:He(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[ut,Nt,K]),inside:Ee}],keyword:wn,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),vt.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),vt.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:He(/([(,]\s*)<<0>>(?=\s*:)/.source,[K]),lookbehind:!0,alias:"punctuation"}}),vt.languages.insertBefore("csharp","class-name",{namespace:{pattern:He(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[K]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:He(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[dt]),lookbehind:!0,alias:"class-name",inside:Ee},"return-type":{pattern:He(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[ut,he]),inside:Ee,alias:"class-name"},"constructor-invocation":{pattern:He(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[ut]),lookbehind:!0,inside:Ee,alias:"class-name"},"generic-method":{pattern:He(/<<0>>\s*<<1>>(?=\s*\()/.source,[K,Ue]),inside:{function:He(/^<<0>>/.source,[K]),generic:{pattern:RegExp(Ue),alias:"class-name",inside:Ee}}},"type-list":{pattern:He(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[P,te,K,ut,wn.source,dt,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:He(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[te,dt]),lookbehind:!0,greedy:!0,inside:vt.languages.csharp},keyword:wn,"class-name":{pattern:RegExp(ut),greedy:!0,inside:Ee},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var je=xt+"|"+Ke,Je=yo(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[je]),Ut=Zt(yo(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Je]),2),io=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,hn=yo(/<<0>>(?:\s*\(<<1>>*\))?/.source,[he,Ut]);vt.languages.insertBefore("csharp","class-name",{attribute:{pattern:He(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[io,hn]),lookbehind:!0,greedy:!0,inside:{target:{pattern:He(/^<<0>>(?=\s*:)/.source,[io]),alias:"keyword"},"attribute-arguments":{pattern:He(/\(<<0>>*\)/.source,[Ut]),inside:vt.languages.csharp},"class-name":{pattern:RegExp(he),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var Lo=/:[^}\r\n]+/.source,Mo=Zt(yo(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Je]),2),Hn=yo(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Mo,Lo]),Bo=Zt(yo(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[je]),2),Wn=yo(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Bo,Lo]);function bs(os,Ys){return{interpolation:{pattern:He(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[os]),lookbehind:!0,inside:{"format-string":{pattern:He(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Ys,Lo]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:vt.languages.csharp}}},string:/[\s\S]+/}}vt.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:He(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Hn]),lookbehind:!0,greedy:!0,inside:bs(Hn,Mo)},{pattern:He(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Wn]),lookbehind:!0,greedy:!0,inside:bs(Wn,Bo)}],char:{pattern:RegExp(Ke),greedy:!0}}),vt.languages.dotnet=vt.languages.cs=vt.languages.csharp}(ye),function(vt){var yo=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;vt.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+yo.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+yo.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+yo.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+yo.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:yo,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},vt.languages.css.atrule.inside.rest=vt.languages.css;var He=vt.languages.markup;He&&(He.tag.addInlined("style","css"),He.tag.addAttribute("style","css"))}(ye),function(vt){var yo=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,He=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Zt={pattern:RegExp(/(^|[^\w.])/.source+He+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};vt.languages.java=vt.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[Zt,{pattern:RegExp(/(^|[^\w.])/.source+He+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:Zt.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+He+/[A-Z]\w*\b/.source),lookbehind:!0,inside:Zt.inside}],keyword:yo,function:[vt.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),vt.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),vt.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Zt,keyword:yo,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+He+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:Zt.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+He+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:Zt.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return yo.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(ye),ye.languages.javascript=ye.languages.extend("clike",{"class-name":[ye.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),ye.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,ye.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:ye.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:ye.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:ye.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:ye.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:ye.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),ye.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:ye.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),ye.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),ye.languages.markup&&(ye.languages.markup.tag.addInlined("script","javascript"),ye.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),ye.languages.js=ye.languages.javascript,ye.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},ye.languages.markup.tag.inside["attr-value"].inside.entity=ye.languages.markup.entity,ye.languages.markup.doctype.inside["internal-subset"].inside=ye.languages.markup,ye.hooks.add("wrap",function(vt){vt.type==="entity"&&(vt.attributes.title=vt.content.replace(/&amp;/,"&"))}),Object.defineProperty(ye.languages.markup.tag,"addInlined",{value:function(yo,He){var Zt={};Zt["language-"+He]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:ye.languages[He]},Zt.cdata=/^<!\[CDATA\[|\]\]>$/i;var ke={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Zt}};ke["language-"+He]={pattern:/[\s\S]+/,inside:ye.languages[He]};var Xe={};Xe[yo]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return yo}),"i"),lookbehind:!0,greedy:!0,inside:ke},ye.languages.insertBefore("markup","cdata",Xe)}}),Object.defineProperty(ye.languages.markup.tag,"addAttribute",{value:function(vt,yo){ye.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+vt+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[yo,"language-"+yo],inside:ye.languages[yo]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),ye.languages.html=ye.languages.markup,ye.languages.mathml=ye.languages.markup,ye.languages.svg=ye.languages.markup,ye.languages.xml=ye.languages.extend("markup",{}),ye.languages.ssml=ye.languages.xml,ye.languages.atom=ye.languages.xml,ye.languages.rss=ye.languages.xml,function(vt){var yo=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,He=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Zt=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,ke=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,Xe=/[{}\[\](),:;]/;vt.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:yo,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:He,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Zt,operator:ke,punctuation:Xe};var P={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:vt.languages.php},wn=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:P}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:P}}];vt.languages.insertBefore("php","variable",{string:wn,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:yo,string:wn,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:He,number:Zt,operator:ke,punctuation:Xe}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),vt.hooks.add("before-tokenize",function(st){if(/<\?/.test(st.code)){var Nt=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;vt.languages["markup-templating"].buildPlaceholders(st,"php",Nt)}}),vt.hooks.add("after-tokenize",function(st){vt.languages["markup-templating"].tokenizePlaceholders(st,"php")})}(ye),ye.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},ye.languages.python["string-interpolation"].inside.interpolation.inside.rest=ye.languages.python,ye.languages.py=ye.languages.python,function(vt){vt.languages.ruby=vt.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),vt.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var yo={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:vt.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete vt.languages.ruby.function;var He="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",Zt=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;vt.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+He+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:yo,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:yo,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+Zt),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+Zt+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),vt.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+He),greedy:!0,inside:{interpolation:yo,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:yo,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:yo,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+He),greedy:!0,inside:{interpolation:yo,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:yo,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete vt.languages.ruby.string,vt.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),vt.languages.rb=vt.languages.ruby}(ye),window.Prism=bt,ye}(),So=_=>ot=>ot.options.get(_),Ft=_=>{const ot=_.options.register;ot("codesample_languages",{processor:"object[]"}),ot("codesample_global_prismjs",{processor:"boolean",default:!1})},Vt=So("codesample_languages"),St=So("codesample_global_prismjs"),to=_=>so.Prism&&St(_)?so.Prism:po,Qe=_=>Wt(_)&&_.nodeName==="PRE"&&_.className.indexOf("language-")!==-1,nt=_=>{const ot=_.selection?_.selection.getNode():null;return Qe(ot)?Ht.some(ot):Ht.none()},Be=(_,ot,ue)=>{const bt=_.dom;_.undoManager.transact(()=>{const wt=nt(_);return ue=Pt.DOM.encode(ue),wt.fold(()=>{_.insertContent('<pre id="__new" class="language-'+ot+'">'+ue+"</pre>");const ye=bt.select("#__new")[0];bt.setAttrib(ye,"id",null),_.selection.select(ye)},ye=>{bt.setAttrib(ye,"class","language-"+ot),ye.innerHTML=ue,to(_).highlightElement(ye),_.selection.select(ye)})})},X=_=>nt(_).bind(ue=>Ht.from(ue.textContent)).getOr(""),lt=_=>{const ot=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],ue=Vt(_);return ue||ot},Go=(_,ot)=>nt(_).fold(()=>ot,bt=>{const wt=bt.className.match(/language-(\w+)/);return wt?wt[1]:ot}),pt=_=>{const ot=lt(_),ue=Re(ot).fold(Lt(""),ye=>ye.value),bt=Go(_,ue),wt=X(_);_.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:ot},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:bt,code:wt},onSubmit:ye=>{const vt=ye.getData();Be(_,vt.language,vt.code),ye.close()}})},U=_=>{_.addCommand("codesample",()=>{const ot=_.selection.getNode();_.selection.isCollapsed()||Qe(ot)?pt(_):_.formatter.toggle("code")})},ko=(_=>ot=>ot.replace(_,""))(/^\s+|\s+$/g);var co=tinymce.util.Tools.resolve("tinymce.util.Tools");const We=_=>{_.on("PreProcess",ot=>{const ue=_.dom,bt=ue.select("pre[contenteditable=false]",ot.node);co.each(co.grep(bt,Qe),wt=>{const ye=wt.textContent;ue.setAttrib(wt,"class",ko(ue.getAttrib(wt,"class"))),ue.setAttrib(wt,"contentEditable",null),ue.setAttrib(wt,"data-mce-highlighted",null);let vt;for(;vt=wt.firstChild;)wt.removeChild(vt);const yo=ue.add(wt,"code");yo.textContent=ye})}),_.on("SetContent",()=>{const ot=_.dom,ue=co.grep(ot.select("pre"),bt=>Qe(bt)&&ot.getAttrib(bt,"data-mce-highlighted")!=="true");ue.length&&_.undoManager.transact(()=>{co.each(ue,bt=>{var wt;co.each(ot.select("br",bt),ye=>{ot.replace(_.getDoc().createTextNode(`
`),ye)}),bt.innerHTML=ot.encode((wt=bt.textContent)!==null&&wt!==void 0?wt:""),to(_).highlightElement(bt),ot.setAttrib(bt,"data-mce-highlighted",!0),bt.className=ko(bt.className)})})}),_.on("PreInit",()=>{_.parser.addNodeFilter("pre",ot=>{var ue;for(let bt=0,wt=ot.length;bt<wt;bt++){const ye=ot[bt];((ue=ye.attr("class"))!==null&&ue!==void 0?ue:"").indexOf("language-")!==-1&&(ye.attr("contenteditable","false"),ye.attr("data-mce-highlighted","false"))}})})},ie=(_,ot=Jt)=>ue=>{const bt=()=>{ue.setEnabled(_.selection.isEditable()),ot(ue)};return _.on("NodeChange",bt),bt(),()=>{_.off("NodeChange",bt)}},gn=_=>{const ot=_.selection.getStart();return _.dom.is(ot,'pre[class*="language-"]')},Oe=_=>{const ot=()=>_.execCommand("codesample");_.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:ot,onSetup:ie(_,ue=>{ue.setActive(gn(_))})}),_.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:ot,onSetup:ie(_)})};var Me=()=>{ro.add("codesample",_=>{Ft(_),We(_),Oe(_),U(_),_.on("dblclick",ot=>{Qe(ot.target)&&pt(_)})})};Me()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=(je,Je,Ut)=>{var io;return Ut(je,Je.prototype)?!0:((io=je.constructor)===null||io===void 0?void 0:io.name)===Je.name},Wt=je=>{const Je=typeof je;return je===null?"null":Je==="object"&&Array.isArray(je)?"array":Je==="object"&&Gt(je,String,(Ut,io)=>io.isPrototypeOf(Ut))?"string":Je},Jt=je=>Je=>Wt(Je)===je,Lt=je=>Je=>typeof Je===je,Ht=Jt("string"),qe=Lt("boolean"),Re=je=>je==null,Pt=je=>!Re(je),so=Lt("function"),po=Lt("number"),So=(je,Je)=>Ut=>je(Je(Ut)),Vt=(je=>()=>je)(!1);class St{constructor(Je,Ut){this.tag=Je,this.value=Ut}static some(Je){return new St(!0,Je)}static none(){return St.singletonNone}fold(Je,Ut){return this.tag?Ut(this.value):Je()}isSome(){return this.tag}isNone(){return!this.tag}map(Je){return this.tag?St.some(Je(this.value)):St.none()}bind(Je){return this.tag?Je(this.value):St.none()}exists(Je){return this.tag&&Je(this.value)}forall(Je){return!this.tag||Je(this.value)}filter(Je){return!this.tag||Je(this.value)?this:St.none()}getOr(Je){return this.tag?this.value:Je}or(Je){return this.tag?this:Je}getOrThunk(Je){return this.tag?this.value:Je()}orThunk(Je){return this.tag?this:Je()}getOrDie(Je){if(this.tag)return this.value;throw new Error(Je??"Called getOrDie on None")}static from(Je){return Pt(Je)?St.some(Je):St.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Je){this.tag&&Je(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}St.singletonNone=new St(!1);const to=(je,Je)=>{const Ut=je.length,io=new Array(Ut);for(let hn=0;hn<Ut;hn++){const Lo=je[hn];io[hn]=Je(Lo,hn)}return io},Qe=(je,Je)=>{for(let Ut=0,io=je.length;Ut<io;Ut++){const hn=je[Ut];Je(hn,Ut)}},nt=(je,Je)=>{const Ut=[];for(let io=0,hn=je.length;io<hn;io++){const Lo=je[io];Je(Lo,io)&&Ut.push(Lo)}return Ut},Be=11,X=1,lt=3,Go=(je,Je)=>{const io=(Je||document).createElement("div");if(io.innerHTML=je,!io.hasChildNodes()||io.childNodes.length>1){const hn="HTML does not have a single root node";throw console.error(hn,je),new Error(hn)}return zt(io.childNodes[0])},pt=(je,Je)=>{const io=(Je||document).createElement(je);return zt(io)},U=(je,Je)=>{const io=(Je||document).createTextNode(je);return zt(io)},zt=je=>{if(je==null)throw new Error("Node cannot be null or undefined");return{dom:je}},co={fromHtml:Go,fromTag:pt,fromText:U,fromDom:zt,fromPoint:(je,Je,Ut)=>St.from(je.dom.elementFromPoint(Je,Ut)).map(zt)},We=(je,Je)=>{const Ut=je.dom;if(Ut.nodeType!==X)return!1;{const io=Ut;if(io.matches!==void 0)return io.matches(Je);if(io.msMatchesSelector!==void 0)return io.msMatchesSelector(Je);if(io.webkitMatchesSelector!==void 0)return io.webkitMatchesSelector(Je);if(io.mozMatchesSelector!==void 0)return io.mozMatchesSelector(Je);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const ie=je=>je.dom.nodeName.toLowerCase(),gn=je=>je.dom.nodeType,Oe=je=>Je=>gn(Je)===je,Me=Oe(X),_=Oe(lt),ot=Oe(Be),ue=je=>Je=>Me(Je)&&ie(Je)===je,bt=je=>St.from(je.dom.parentNode).map(co.fromDom),wt=je=>to(je.dom.childNodes,co.fromDom),ye=(je,Je,Ut)=>{if(Ht(Ut)||qe(Ut)||po(Ut))je.setAttribute(Je,Ut+"");else throw console.error("Invalid call to Attribute.set. Key ",Je,":: Value ",Ut,":: Element ",je),new Error("Attribute value was not simple")},vt=(je,Je,Ut)=>{ye(je.dom,Je,Ut)},yo=(je,Je)=>{je.dom.removeAttribute(Je)},He=je=>ot(je)&&Pt(je.dom.host),Zt=je=>co.fromDom(je.dom.getRootNode()),ke=je=>{const Je=Zt(je);return He(Je)?St.some(Je):St.none()},Xe=je=>co.fromDom(je.dom.host),P=je=>{const Je=_(je)?je.dom.parentNode:je.dom;if(Je==null||Je.ownerDocument===null)return!1;const Ut=Je.ownerDocument;return ke(co.fromDom(Je)).fold(()=>Ut.body.contains(Je),So(P,Xe))},wn=(je,Je,Ut)=>{let io=je.dom;const hn=so(Ut)?Ut:Vt;for(;io.parentNode;){io=io.parentNode;const Lo=co.fromDom(io);if(Je(Lo))return St.some(Lo);if(hn(Lo))break}return St.none()},st=(je,Je,Ut)=>wn(je,io=>We(io,Je),Ut),Nt=je=>je.style!==void 0&&so(je.style.getPropertyValue),Ue=(je,Je)=>{const Ut=je.dom,hn=window.getComputedStyle(Ut).getPropertyValue(Je);return hn===""&&!P(je)?dt(Ut,Je):hn},dt=(je,Je)=>Nt(je)?je.style.getPropertyValue(Je):"",K=je=>Ue(je,"direction")==="rtl"?"rtl":"ltr",te=(je,Je)=>nt(wt(je),Je),he=(je,Je)=>te(je,Ut=>We(Ut,Je)),V=je=>bt(je).filter(Me),re=(je,Je)=>(Je?st(je,"ol,ul"):St.some(je)).getOr(je),de=ue("li"),be=(je,Je,Ut)=>{Qe(Je,io=>{const hn=co.fromDom(io),Lo=de(hn),Mo=re(hn,Lo);V(Mo).each(Bo=>{if(je.setStyle(Mo.dom,"direction",null),K(Bo)===Ut?yo(Mo,"dir"):vt(Mo,"dir",Ut),K(Mo)!==Ut&&je.setStyle(Mo.dom,"direction",Ut),Lo){const bs=he(Mo,"li[dir],li[style]");Qe(bs,os=>{yo(os,"dir"),je.setStyle(os.dom,"direction",null)})}})})},ut=(je,Je)=>{je.selection.isEditable()&&(be(je.dom,je.selection.getSelectedBlocks(),Je),je.nodeChanged())},Ee=je=>{je.addCommand("mceDirectionLTR",()=>{ut(je,"ltr")}),je.addCommand("mceDirectionRTL",()=>{ut(je,"rtl")})},Ke=(je,Je)=>Ut=>{const io=hn=>{const Lo=co.fromDom(hn.element);Ut.setActive(K(Lo)===Je),Ut.setEnabled(je.selection.isEditable())};return je.on("NodeChange",io),Ut.setEnabled(je.selection.isEditable()),()=>je.off("NodeChange",io)},xt=je=>{je.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>je.execCommand("mceDirectionLTR"),onSetup:Ke(je,"ltr")}),je.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>je.execCommand("mceDirectionRTL"),onSetup:Ke(je,"rtl")})};var ho=()=>{ro.add("directionality",je=>{Ee(je),xt(je)})};ho()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=re=>de=>re===de,Wt=Gt(null),Jt=Gt(void 0),Lt=re=>re==null,Ht=re=>!Lt(re),qe=()=>{},Pt=(re=>()=>re)(!1);class so{constructor(de,be){this.tag=de,this.value=be}static some(de){return new so(!0,de)}static none(){return so.singletonNone}fold(de,be){return this.tag?be(this.value):de()}isSome(){return this.tag}isNone(){return!this.tag}map(de){return this.tag?so.some(de(this.value)):so.none()}bind(de){return this.tag?de(this.value):so.none()}exists(de){return this.tag&&de(this.value)}forall(de){return!this.tag||de(this.value)}filter(de){return!this.tag||de(this.value)?this:so.none()}getOr(de){return this.tag?this.value:de}or(de){return this.tag?this:de}getOrThunk(de){return this.tag?this.value:de()}orThunk(de){return this.tag?this:de()}getOrDie(de){if(this.tag)return this.value;throw new Error(de??"Called getOrDie on None")}static from(de){return Ht(de)?so.some(de):so.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(de){this.tag&&de(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}so.singletonNone=new so(!1);const po=(re,de)=>{for(let be=0,ut=re.length;be<ut;be++){const Ee=re[be];if(de(Ee,be))return!0}return!1},So=(re,de)=>{const be=re.length,ut=new Array(be);for(let Ee=0;Ee<be;Ee++){const Ke=re[Ee];ut[Ee]=de(Ke,Ee)}return ut},Ft=(re,de)=>{for(let be=0,ut=re.length;be<ut;be++){const Ee=re[be];de(Ee,be)}},Vt=re=>{let de=re;return{get:()=>de,set:Ee=>{de=Ee}}},St=(re,de)=>{let be=null;const ut=()=>{Wt(be)||(clearTimeout(be),be=null)};return{cancel:ut,throttle:(...Ke)=>{ut(),be=setTimeout(()=>{be=null,re.apply(null,Ke)},de)}}},to=(re,de)=>{re.insertContent(de)},Qe=Object.keys,nt=Object.hasOwnProperty,Be=(re,de)=>{const be=Qe(re);for(let ut=0,Ee=be.length;ut<Ee;ut++){const Ke=be[ut],xt=re[Ke];de(xt,Ke)}},X=(re,de)=>lt(re,(be,ut)=>({k:ut,v:de(be,ut)})),lt=(re,de)=>{const be={};return Be(re,(ut,Ee)=>{const Ke=de(ut,Ee);be[Ke.k]=Ke.v}),be},Go=(re,de)=>nt.call(re,de),zt=(re=>(...de)=>{if(de.length===0)throw new Error("Can't merge zero objects");const be={};for(let ut=0;ut<de.length;ut++){const Ee=de[ut];for(const Ke in Ee)Go(Ee,Ke)&&(be[Ke]=re(be[Ke],Ee[Ke]))}return be})((re,de)=>de),ko=re=>{const de=Vt(so.none()),be=()=>de.get().each(re);return{clear:()=>{be(),de.set(so.none())},isSet:()=>de.get().isSome(),get:()=>de.get(),set:ho=>{be(),de.set(so.some(ho))}}},co=()=>{const re=ko(qe);return{...re,on:be=>re.get().each(be)}},We=(re,de,be)=>de===""||re.length>=de.length&&re.substr(be,be+de.length)===de,ie=(re,de,be=0,ut)=>{const Ee=re.indexOf(de,be);return Ee!==-1?Jt(ut)?!0:Ee+de.length<=ut:!1},gn=(re,de)=>We(re,de,0);var Oe=tinymce.util.Tools.resolve("tinymce.Resource");const Me="tinymce.plugins.emoticons",_=re=>de=>de.options.get(re),ot=(re,de)=>{const be=re.options.register;be("emoticons_database",{processor:"string",default:"emojis"}),be("emoticons_database_url",{processor:"string",default:`${de}/js/${ue(re)}${re.suffix}.js`}),be("emoticons_database_id",{processor:"string",default:Me}),be("emoticons_append",{processor:"object",default:{}}),be("emoticons_images_url",{processor:"string",default:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/"})},ue=_("emoticons_database"),bt=_("emoticons_database_url"),wt=_("emoticons_database_id"),ye=_("emoticons_append"),vt=_("emoticons_images_url"),yo="All",He={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Zt=(re,de)=>Go(re,de)?re[de]:de,ke=re=>{const de=ye(re);return X(de,be=>({keywords:[],category:"user",...be}))},Xe=(re,de,be)=>{const ut=co(),Ee=co(),Ke=vt(re),xt=Lo=>gn(Lo.char,"<img")?Lo.char.replace(/src="([^"]+)"/,(Mo,Hn)=>`src="${Ke}${Hn}"`):Lo.char,ho=Lo=>{const Mo={},Hn=[];Be(Lo,(Bo,Wn)=>{const bs={title:Wn,keywords:Bo.keywords,char:xt(Bo),category:Zt(He,Bo.category)},os=Mo[bs.category]!==void 0?Mo[bs.category]:[];Mo[bs.category]=os.concat([bs]),Hn.push(bs)}),ut.set(Mo),Ee.set(Hn)};re.on("init",()=>{Oe.load(be,de).then(Lo=>{const Mo=ke(re);ho(zt(Lo,Mo))},Lo=>{console.log(`Failed to load emojis: ${Lo}`),ut.set({}),Ee.set([])})});const je=Lo=>Lo===yo?Je():ut.get().bind(Mo=>so.from(Mo[Lo])).getOr([]),Je=()=>Ee.get().getOr([]),Ut=()=>[yo].concat(Qe(ut.get().getOr({}))),io=()=>hn()?Promise.resolve(!0):new Promise((Lo,Mo)=>{let Hn=15;const Bo=setInterval(()=>{hn()?(clearInterval(Bo),Lo(!0)):(Hn--,Hn<0&&(console.log("Could not load emojis from url: "+de),clearInterval(Bo),Mo(!1)))},100)}),hn=()=>ut.isSet()&&Ee.isSet();return{listCategories:Ut,hasLoaded:hn,waitForLoad:io,listAll:Je,listCategory:je}},P=(re,de)=>ie(re.title.toLowerCase(),de)||po(re.keywords,be=>ie(be.toLowerCase(),de)),wn=(re,de,be)=>{const ut=[],Ee=de.toLowerCase(),Ke=be.fold(()=>Pt,xt=>ho=>ho>=xt);for(let xt=0;xt<re.length&&!((de.length===0||P(re[xt],Ee))&&(ut.push({value:re[xt].char,text:re[xt].title,icon:re[xt].char}),Ke(ut.length)));xt++);return ut},st="pattern",Nt=(re,de)=>{const be={pattern:"",results:wn(de.listAll(),"",so.some(300))},ut=Vt(yo),Ee=Ut=>{const io=Ut.getData(),hn=ut.get(),Lo=de.listCategory(hn),Mo=wn(Lo,io[st],hn===yo?so.some(300):so.none());Ut.setData({results:Mo})},Ke=St(Ut=>{Ee(Ut)},200),xt={label:"Search",type:"input",name:st},ho={type:"collection",name:"results"},je=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:So(de.listCategories(),io=>({title:io,name:io,items:[xt,ho]}))},initialData:be,onTabChange:(io,hn)=>{ut.set(hn.newTabName),Ke.throttle(io)},onChange:Ke.throttle,onAction:(io,hn)=>{hn.name==="results"&&(to(re,hn.value),io.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),Je=re.windowManager.open(je());Je.focus(st),de.hasLoaded()||(Je.block("Loading emojis..."),de.waitForLoad().then(()=>{Je.redial(je()),Ke.throttle(Je),Je.focus(st),Je.unblock()}).catch(Ut=>{Je.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Je.focus(st),Je.unblock()}))},Ue=(re,de)=>{re.addCommand("mceEmoticons",()=>Nt(re,de))},dt=re=>{re.on("PreInit",()=>{re.parser.addAttributeFilter("data-emoticon",de=>{Ft(de,be=>{be.attr("data-mce-resize","false"),be.attr("data-mce-placeholder","1")})})})},K=(re,de)=>{re.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(be,ut)=>de.waitForLoad().then(()=>{const Ee=de.listAll();return wn(Ee,be,so.some(ut))}),onAction:(be,ut,Ee)=>{re.selection.setRng(ut),re.insertContent(Ee),be.hide()}})},te=re=>de=>{const be=()=>{de.setEnabled(re.selection.isEditable())};return re.on("NodeChange",be),be(),()=>{re.off("NodeChange",be)}},he=re=>{const de=()=>re.execCommand("mceEmoticons");re.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:de,onSetup:te(re)}),re.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:de,onSetup:te(re)})};var V=()=>{ro.add("emoticons",(re,de)=>{ot(re,de);const be=bt(re),ut=wt(re),Ee=Xe(re,be,ut);return Ue(re,Ee),he(re),K(re,Ee),dt(re),{getAllEmojis:()=>Ee.waitForLoad().then(()=>Ee.listAll())}})};V()})();(function(){const ro=G=>{let oe=G;return{get:()=>oe,set:fn=>{oe=fn}}};var Gt=tinymce.util.Tools.resolve("tinymce.PluginManager");const Wt=G=>({isFullscreen:()=>G.get()!==null}),Jt=(G,oe,Ze)=>{var Ct;return Ze(G,oe.prototype)?!0:((Ct=G.constructor)===null||Ct===void 0?void 0:Ct.name)===oe.name},Lt=G=>{const oe=typeof G;return G===null?"null":oe==="object"&&Array.isArray(G)?"array":oe==="object"&&Jt(G,String,(Ze,Ct)=>Ct.isPrototypeOf(Ze))?"string":oe},Ht=G=>oe=>Lt(oe)===G,qe=G=>oe=>typeof oe===G,Re=G=>oe=>G===oe,Pt=Ht("string"),so=Ht("object"),po=Ht("array"),So=Re(null),Ft=qe("boolean"),Vt=Re(void 0),St=G=>G==null,to=G=>!St(G),Qe=qe("function"),nt=qe("number"),Be=()=>{},X=(G,oe)=>(...Ze)=>G(oe.apply(null,Ze)),lt=(G,oe)=>Ze=>G(oe(Ze)),Go=G=>()=>G;function pt(G,...oe){return(...Ze)=>{const Ct=oe.concat(Ze);return G.apply(null,Ct)}}const U=Go(!1),zt=Go(!0);class ko{constructor(oe,Ze){this.tag=oe,this.value=Ze}static some(oe){return new ko(!0,oe)}static none(){return ko.singletonNone}fold(oe,Ze){return this.tag?Ze(this.value):oe()}isSome(){return this.tag}isNone(){return!this.tag}map(oe){return this.tag?ko.some(oe(this.value)):ko.none()}bind(oe){return this.tag?oe(this.value):ko.none()}exists(oe){return this.tag&&oe(this.value)}forall(oe){return!this.tag||oe(this.value)}filter(oe){return!this.tag||oe(this.value)?this:ko.none()}getOr(oe){return this.tag?this.value:oe}or(oe){return this.tag?this:oe}getOrThunk(oe){return this.tag?this.value:oe()}orThunk(oe){return this.tag?this:oe()}getOrDie(oe){if(this.tag)return this.value;throw new Error(oe??"Called getOrDie on None")}static from(oe){return to(oe)?ko.some(oe):ko.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(oe){this.tag&&oe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ko.singletonNone=new ko(!1);const co=Array.prototype.push,We=(G,oe)=>{const Ze=G.length,Ct=new Array(Ze);for(let fn=0;fn<Ze;fn++){const Dn=G[fn];Ct[fn]=oe(Dn,fn)}return Ct},ie=(G,oe)=>{for(let Ze=0,Ct=G.length;Ze<Ct;Ze++){const fn=G[Ze];oe(fn,Ze)}},gn=(G,oe)=>{const Ze=[];for(let Ct=0,fn=G.length;Ct<fn;Ct++){const Dn=G[Ct];oe(Dn,Ct)&&Ze.push(Dn)}return Ze},Oe=(G,oe,Ze)=>{for(let Ct=0,fn=G.length;Ct<fn;Ct++){const Dn=G[Ct];if(oe(Dn,Ct))return ko.some(Dn);if(Ze(Dn,Ct))break}return ko.none()},Me=(G,oe)=>Oe(G,oe,U),_=G=>{const oe=[];for(let Ze=0,Ct=G.length;Ze<Ct;++Ze){if(!po(G[Ze]))throw new Error("Arr.flatten item "+Ze+" was not an array, input: "+G);co.apply(oe,G[Ze])}return oe},ot=(G,oe)=>_(We(G,oe)),ue=(G,oe)=>oe>=0&&oe<G.length?ko.some(G[oe]):ko.none(),bt=G=>ue(G,0),wt=(G,oe)=>{for(let Ze=0;Ze<G.length;Ze++){const Ct=oe(G[Ze],Ze);if(Ct.isSome())return Ct}return ko.none()},ye=(G,oe,Ze)=>G.isSome()&&oe.isSome()?ko.some(Ze(G.getOrDie(),oe.getOrDie())):ko.none(),vt=G=>{const oe=ro(ko.none()),Ze=()=>oe.get().each(G);return{clear:()=>{Ze(),oe.set(ko.none())},isSet:()=>oe.get().isSome(),get:()=>oe.get(),set:qs=>{Ze(),oe.set(ko.some(qs))}}},yo=()=>vt(G=>G.unbind()),He=()=>{const G=vt(Be);return{...G,on:Ze=>G.get().each(Ze)}},Zt=(G,oe)=>{let Ze=null;return{cancel:()=>{So(Ze)||(clearTimeout(Ze),Ze=null)},throttle:(...Dn)=>{So(Ze)&&(Ze=setTimeout(()=>{Ze=null,G.apply(null,Dn)},oe))}}},ke=Object.keys,Xe=(G,oe)=>{const Ze=ke(G);for(let Ct=0,fn=Ze.length;Ct<fn;Ct++){const Dn=Ze[Ct],As=G[Dn];oe(As,Dn)}},P=typeof window<"u"?window:Function("return this;")(),wn=(G,oe)=>{let Ze=oe??P;for(let Ct=0;Ct<G.length&&Ze!==void 0&&Ze!==null;++Ct)Ze=Ze[G[Ct]];return Ze},st=(G,oe)=>{const Ze=G.split(".");return wn(Ze,oe)},Nt=(G,oe)=>st(G,oe),Ue=(G,oe)=>{const Ze=Nt(G,oe);if(Ze==null)throw new Error(G+" not available on this browser");return Ze},dt=Object.getPrototypeOf,K=G=>Ue("HTMLElement",G),te=G=>{const oe=st("ownerDocument.defaultView",G);return so(G)&&(K(oe).prototype.isPrototypeOf(G)||/^HTML\w*Element$/.test(dt(G).constructor.name))},he=9,V=11,re=1,de=3,be=G=>G.dom.nodeType,ut=G=>oe=>be(oe)===G,Ee=G=>Ke(G)&&te(G.dom),Ke=ut(re),xt=ut(de),ho=ut(V),je=(G,oe,Ze)=>{if(Pt(Ze)||Ft(Ze)||nt(Ze))G.setAttribute(oe,Ze+"");else throw console.error("Invalid call to Attribute.set. Key ",oe,":: Value ",Ze,":: Element ",G),new Error("Attribute value was not simple")},Je=(G,oe,Ze)=>{je(G.dom,oe,Ze)},Ut=(G,oe)=>{const Ze=G.dom.getAttribute(oe);return Ze===null?void 0:Ze},io=(G,oe)=>{G.dom.removeAttribute(oe)},hn=G=>G.dom.classList!==void 0,Lo=(G,oe)=>hn(G)&&G.dom.classList.contains(oe),Mo=(G,oe,Ze=0,Ct)=>{const fn=G.indexOf(oe,Ze);return fn!==-1?Vt(Ct)?!0:fn+oe.length<=Ct:!1},Hn=G=>G.style!==void 0&&Qe(G.style.getPropertyValue),Bo=(G,oe)=>{const Ct=(oe||document).createElement("div");if(Ct.innerHTML=G,!Ct.hasChildNodes()||Ct.childNodes.length>1){const fn="HTML does not have a single root node";throw console.error(fn,G),new Error(fn)}return os(Ct.childNodes[0])},Wn=(G,oe)=>{const Ct=(oe||document).createElement(G);return os(Ct)},bs=(G,oe)=>{const Ct=(oe||document).createTextNode(G);return os(Ct)},os=G=>{if(G==null)throw new Error("Node cannot be null or undefined");return{dom:G}},vn={fromHtml:Bo,fromTag:Wn,fromText:bs,fromDom:os,fromPoint:(G,oe,Ze)=>ko.from(G.dom.elementFromPoint(oe,Ze)).map(os)},jr=(G,oe)=>{const Ze=G.dom;if(Ze.nodeType!==re)return!1;{const Ct=Ze;if(Ct.matches!==void 0)return Ct.matches(oe);if(Ct.msMatchesSelector!==void 0)return Ct.msMatchesSelector(oe);if(Ct.webkitMatchesSelector!==void 0)return Ct.webkitMatchesSelector(oe);if(Ct.mozMatchesSelector!==void 0)return Ct.mozMatchesSelector(oe);throw new Error("Browser lacks native selectors")}},Kt=G=>G.nodeType!==re&&G.nodeType!==he&&G.nodeType!==V||G.childElementCount===0,Gn=(G,oe)=>{const Ze=document;return Kt(Ze)?[]:We(Ze.querySelectorAll(G),vn.fromDom)},hr=(G,oe)=>G.dom===oe.dom,ar=G=>vn.fromDom(G.dom.ownerDocument),Pr=G=>ko.from(G.dom.parentNode).map(vn.fromDom),$r=(G,oe)=>{const Ze=Qe(oe)?oe:U;let Ct=G.dom;const fn=[];for(;Ct.parentNode!==null&&Ct.parentNode!==void 0;){const Dn=Ct.parentNode,As=vn.fromDom(Dn);if(fn.push(As),Ze(As)===!0)break;Ct=Dn}return fn},ys=G=>{const oe=Ze=>gn(Ze,Ct=>!hr(G,Ct));return Pr(G).map(ia).map(oe).getOr([])},ea=G=>ko.from(G.dom.nextSibling).map(vn.fromDom),ia=G=>We(G.dom.childNodes,vn.fromDom),vs=G=>ho(G)&&to(G.dom.host),Qo=G=>vn.fromDom(G.dom.getRootNode()),Vs=G=>{const oe=Qo(G);return vs(oe)?ko.some(oe):ko.none()},Le=G=>vn.fromDom(G.dom.host),at=G=>{if(to(G.target)){const oe=vn.fromDom(G.target);if(Ke(oe)&&xo(oe)&&G.composed&&G.composedPath){const Ze=G.composedPath();if(Ze)return bt(Ze)}}return ko.from(G.target)},xo=G=>to(G.dom.shadowRoot),Ro=G=>{const oe=xt(G)?G.dom.parentNode:G.dom;if(oe==null||oe.ownerDocument===null)return!1;const Ze=oe.ownerDocument;return Vs(vn.fromDom(oe)).fold(()=>Ze.body.contains(oe),lt(Ro,Le))},Vn=G=>{const oe=G.dom.body;if(oe==null)throw new Error("Body is not available yet");return vn.fromDom(oe)},is=(G,oe,Ze)=>{if(!Pt(Ze))throw console.error("Invalid call to CSS.set. Property ",oe,":: Value ",Ze,":: Element ",G),new Error("CSS value must be a string: "+Ze);Hn(G)&&G.style.setProperty(oe,Ze)},_r=(G,oe,Ze)=>{const Ct=G.dom;is(Ct,oe,Ze)},Cr=(G,oe)=>{const Ze=G.dom;Xe(oe,(Ct,fn)=>{is(Ze,fn,Ct)})},ir=(G,oe)=>{const Ze=G.dom,fn=window.getComputedStyle(Ze).getPropertyValue(oe);return fn===""&&!Ro(G)?ge(Ze,oe):fn},ge=(G,oe)=>Hn(G)?G.style.getPropertyValue(oe):"",le=(G,oe,Ze,Ct,fn,Dn,As)=>({target:G,x:oe,y:Ze,stop:Ct,prevent:fn,kill:Dn,raw:As}),tt=G=>{const oe=vn.fromDom(at(G).getOr(G.target)),Ze=()=>G.stopPropagation(),Ct=()=>G.preventDefault(),fn=X(Ct,Ze);return le(oe,G.clientX,G.clientY,Ze,Ct,fn,G)},mt=(G,oe)=>Ze=>{G(Ze)&&oe(tt(Ze))},en=(G,oe,Ze,Ct,fn)=>{const Dn=mt(Ze,Ct);return G.dom.addEventListener(oe,Dn,fn),{unbind:pt(Rn,G,oe,Dn,fn)}},kn=(G,oe,Ze,Ct)=>en(G,oe,Ze,Ct,!1),Rn=(G,oe,Ze,Ct)=>{G.dom.removeEventListener(oe,Ze,Ct)},lr=zt,Ae=(G,oe,Ze)=>kn(G,oe,lr,Ze),Nn=G=>{let oe=!1,Ze;return(...Ct)=>(oe||(oe=!0,Ze=G.apply(null,Ct)),Ze)},ve=(G,oe,Ze,Ct)=>{const fn=G.isiOS()&&/ipad/i.test(Ze)===!0,Dn=G.isiOS()&&!fn,As=G.isiOS()||G.isAndroid(),qs=As||Ct("(pointer:coarse)"),Da=fn||!Dn&&As&&Ct("(min-device-width:768px)"),ac=Dn||As&&!Da,Qr=oe.isSafari()&&G.isiOS()&&/safari/i.test(Ze)===!1,cc=!ac&&!Da&&!Qr;return{isiPad:Go(fn),isiPhone:Go(Dn),isTablet:Go(Da),isPhone:Go(ac),isTouch:Go(qs),isAndroid:G.isAndroid,isiOS:G.isiOS,isWebView:Go(Qr),isDesktop:Go(cc)}},Se=(G,oe)=>{for(let Ze=0;Ze<G.length;Ze++){const Ct=G[Ze];if(Ct.test(oe))return Ct}},Mt=(G,oe)=>{const Ze=Se(G,oe);if(!Ze)return{major:0,minor:0};const Ct=fn=>Number(oe.replace(Ze,"$"+fn));return Zo(Ct(1),Ct(2))},jt=(G,oe)=>{const Ze=String(oe).toLowerCase();return G.length===0?To():Mt(G,Ze)},To=()=>Zo(0,0),Zo=(G,oe)=>({major:G,minor:oe}),Ko={nu:Zo,detect:jt,unknown:To},jo=(G,oe)=>wt(oe.brands,Ze=>{const Ct=Ze.brand.toLowerCase();return Me(G,fn=>{var Dn;return Ct===((Dn=fn.brand)===null||Dn===void 0?void 0:Dn.toLowerCase())}).map(fn=>({current:fn.name,version:Ko.nu(parseInt(Ze.version,10),0)}))}),ln=(G,oe)=>{const Ze=String(oe).toLowerCase();return Me(G,Ct=>Ct.search(Ze))},_n=(G,oe)=>ln(G,oe).map(Ze=>{const Ct=Ko.detect(Ze.versionRegexes,oe);return{current:Ze.name,version:Ct}}),xs=(G,oe)=>ln(G,oe).map(Ze=>{const Ct=Ko.detect(Ze.versionRegexes,oe);return{current:Ze.name,version:Ct}}),Rs=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Zs=G=>oe=>Mo(oe,G),Pa=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:G=>Mo(G,"edge/")&&Mo(G,"chrome")&&Mo(G,"safari")&&Mo(G,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Rs],search:G=>Mo(G,"chrome")&&!Mo(G,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:G=>Mo(G,"msie")||Mo(G,"trident")},{name:"Opera",versionRegexes:[Rs,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Zs("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Zs("firefox")},{name:"Safari",versionRegexes:[Rs,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:G=>(Mo(G,"safari")||Mo(G,"mobile/"))&&Mo(G,"applewebkit")}],Za=[{name:"Windows",search:Zs("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:G=>Mo(G,"iphone")||Mo(G,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Zs("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Zs("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Zs("linux"),versionRegexes:[]},{name:"Solaris",search:Zs("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Zs("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Zs("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],xn={browsers:Go(Pa),oses:Go(Za)},ds="Edge",ms="Chromium",la="IE",ua="Opera",Yr="Firefox",ur="Safari",sd=()=>Ac({current:void 0,version:Ko.unknown()}),Ac=G=>{const oe=G.current,Ze=G.version,Ct=fn=>()=>oe===fn;return{current:oe,version:Ze,isEdge:Ct(ds),isChromium:Ct(ms),isIE:Ct(la),isOpera:Ct(ua),isFirefox:Ct(Yr),isSafari:Ct(ur)}},Ts={unknown:sd,nu:Ac,edge:Go(ds),chromium:Go(ms),ie:Go(la),opera:Go(ua),firefox:Go(Yr),safari:Go(ur)},Aa="Windows",ka="iOS",Wr="Android",Mi="Linux",za="macOS",$a="Solaris",$c="FreeBSD",fc="ChromeOS",yl=()=>hi({current:void 0,version:Ko.unknown()}),hi=G=>{const oe=G.current,Ze=G.version,Ct=fn=>()=>oe===fn;return{current:oe,version:Ze,isWindows:Ct(Aa),isiOS:Ct(ka),isAndroid:Ct(Wr),isMacOS:Ct(za),isLinux:Ct(Mi),isSolaris:Ct($a),isFreeBSD:Ct($c),isChromeOS:Ct(fc)}},ci={unknown:yl,nu:hi,windows:Go(Aa),ios:Go(ka),android:Go(Wr),linux:Go(Mi),macos:Go(za),solaris:Go($a),freebsd:Go($c),chromeos:Go(fc)},ta={detect:(G,oe,Ze)=>{const Ct=xn.browsers(),fn=xn.oses(),Dn=oe.bind(Da=>jo(Ct,Da)).orThunk(()=>_n(Ct,G)).fold(Ts.unknown,Ts.nu),As=xs(fn,G).fold(ci.unknown,ci.nu),qs=ve(As,Dn,G,Ze);return{browser:Dn,os:As,deviceType:qs}}},vl=G=>window.matchMedia(G).matches;let xl=Nn(()=>ta.detect(window.navigator.userAgent,ko.from(window.navigator.userAgentData),vl));const wl=()=>xl(),Qi=(G,oe)=>({left:G,top:oe,translate:(Ct,fn)=>Qi(G+Ct,oe+fn)}),Xr=Qi,gc=G=>{const oe=G!==void 0?G.dom:document,Ze=oe.body.scrollLeft||oe.documentElement.scrollLeft,Ct=oe.body.scrollTop||oe.documentElement.scrollTop;return Xr(Ze,Ct)},W=G=>{const oe=G===void 0?window:G;return wl().browser.isFirefox()?ko.none():ko.from(oe.visualViewport)},fe=(G,oe,Ze,Ct)=>({x:G,y:oe,width:Ze,height:Ct,right:G+Ze,bottom:oe+Ct}),$e=G=>{const oe=G===void 0?window:G,Ze=oe.document,Ct=gc(vn.fromDom(Ze));return W(oe).fold(()=>{const fn=oe.document.documentElement,Dn=fn.clientWidth,As=fn.clientHeight;return fe(Ct.left,Ct.top,Dn,As)},fn=>fe(Math.max(fn.pageLeft,Ct.left),Math.max(fn.pageTop,Ct.top),fn.width,fn.height))},Et=(G,oe,Ze)=>W(Ze).map(Ct=>{const fn=Dn=>oe(tt(Dn));return Ct.addEventListener(G,fn),{unbind:()=>Ct.removeEventListener(G,fn)}}).getOrThunk(()=>({unbind:Be}));var oo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ho=tinymce.util.Tools.resolve("tinymce.Env");const es=(G,oe)=>{G.dispatch("FullscreenStateChanged",{state:oe}),G.dispatch("ResizeEditor")},Us=G=>oe=>oe.options.get(G),ls=G=>{const oe=G.options.register;oe("fullscreen_native",{processor:"boolean",default:!1})},Oo=Us("fullscreen_native"),Rr=G=>{const oe=vn.fromDom(G.getElement());return Vs(oe).map(Le).getOrThunk(()=>Vn(ar(oe)))},on=G=>G.fullscreenElement!==void 0?G.fullscreenElement:G.msFullscreenElement!==void 0?G.msFullscreenElement:G.webkitFullscreenElement!==void 0?G.webkitFullscreenElement:null,oa=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",ii=G=>{const oe=G.dom;oe.requestFullscreen?oe.requestFullscreen():oe.msRequestFullscreen?oe.msRequestFullscreen():oe.webkitRequestFullScreen&&oe.webkitRequestFullScreen()},B=G=>{const oe=G.dom;oe.exitFullscreen?oe.exitFullscreen():oe.msExitFullscreen?oe.msExitFullscreen():oe.webkitCancelFullScreen&&oe.webkitCancelFullScreen()},Q=G=>G.dom===on(ar(G).dom),xe=(G,oe,Ze)=>gn($r(G,Ze),oe),Ge=(G,oe)=>gn(ys(G),oe),Dt=G=>Gn(G),In=(G,oe,Ze)=>xe(G,Ct=>jr(Ct,oe),Ze),or=(G,oe)=>Ge(G,Ze=>jr(Ze,oe)),Ns="data-ephox-mobile-fullscreen-style",Qt="display:none!important;",nr="position:absolute!important;",_a="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",sc="background-color:rgb(255,255,255)!important;",Zn=Ho.os.isAndroid(),rc=G=>{const oe=ir(G,"background-color");return oe!==void 0&&oe!==""?"background-color:"+oe+"!important":sc},Ir=(G,oe,Ze)=>{const Ct=ac=>or(ac,"*:not(.tox-silver-sink)"),fn=ac=>Qr=>{const cc=Ut(Qr,"style"),Js=cc===void 0?"no-styles":cc.trim();Js!==ac&&(Je(Qr,Ns,Js),Cr(Qr,G.parseStyle(ac)))},Dn=In(oe,"*"),As=ot(Dn,Ct),qs=rc(Ze);ie(As,fn(Qt)),ie(Dn,fn(nr+_a+qs)),fn((Zn===!0?"":nr)+_a+qs)(oe)},Zl=G=>{const oe=Dt("["+Ns+"]");ie(oe,Ze=>{const Ct=Ut(Ze,Ns);Ct&&Ct!=="no-styles"?Cr(Ze,G.parseStyle(Ct)):io(Ze,"style"),io(Ze,Ns)})},Xs=oo.DOM,Bi=()=>$e(window),Hd=G=>window.scrollTo(G.x,G.y),mm=W().fold(()=>({bind:Be,unbind:Be}),G=>{const oe=He(),Ze=yo(),Ct=yo(),fn=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},Dn=()=>{window.requestAnimationFrame(()=>{oe.on(ac=>Cr(ac,{top:G.offsetTop+"px",left:G.offsetLeft+"px",height:G.height+"px",width:G.width+"px"}))})},As=Zt(()=>{fn(),Dn()},50);return{bind:ac=>{oe.set(ac),As.throttle(),Ze.set(Et("resize",As.throttle)),Ct.set(Et("scroll",As.throttle))},unbind:()=>{oe.on(()=>{Ze.clear(),Ct.clear()}),oe.clear()}}}),wr=(G,oe)=>{const Ze=document.body,Ct=document.documentElement,fn=G.getContainer(),Dn=vn.fromDom(fn),As=ea(Dn).filter(Sr=>Ee(Sr)&&Lo(Sr,"tox-silver-sink")),qs=Rr(G),Da=oe.get(),ac=vn.fromDom(G.getBody()),Qr=Ho.deviceType.isTouch(),cc=fn.style,Js=G.iframeElement,pc=Js==null?void 0:Js.style,qa=Sr=>{Sr(Ze,"tox-fullscreen"),Sr(Ct,"tox-fullscreen"),Sr(fn,"tox-fullscreen"),Vs(Dn).map(dr=>Le(dr).dom).each(dr=>{Sr(dr,"tox-fullscreen"),Sr(dr,"tox-shadowhost")})},Fr=()=>{Qr&&Zl(G.dom),qa(Xs.removeClass),mm.unbind(),ko.from(oe.get()).each(Sr=>Sr.fullscreenChangeHandler.unbind())};if(Da)Da.fullscreenChangeHandler.unbind(),Oo(G)&&Q(qs)&&B(ar(qs)),pc.width=Da.iframeWidth,pc.height=Da.iframeHeight,cc.width=Da.containerWidth,cc.height=Da.containerHeight,cc.top=Da.containerTop,cc.left=Da.containerLeft,ye(As,Da.sinkCssPosition,(Sr,dr)=>{_r(Sr,"position",dr)}),Fr(),Hd(Da.scrollPos),oe.set(null),es(G,!1),G.off("remove",Fr);else{const Sr=Ae(ar(qs),oa(),yu=>{Oo(G)&&!Q(qs)&&oe.get()!==null&&wr(G,oe)}),dr={scrollPos:Bi(),containerWidth:cc.width,containerHeight:cc.height,containerTop:cc.top,containerLeft:cc.left,iframeWidth:pc.width,iframeHeight:pc.height,fullscreenChangeHandler:Sr,sinkCssPosition:As.map(yu=>ir(yu,"position"))};Qr&&Ir(G.dom,Dn,ac),pc.width=pc.height="100%",cc.width=cc.height="",qa(Xs.addClass),As.each(yu=>{_r(yu,"position","fixed")}),mm.bind(Dn),G.on("remove",Fr),oe.set(dr),Oo(G)&&ii(qs),es(G,!0)}},Vd=(G,oe)=>{G.addCommand("mceFullScreen",()=>{wr(G,oe)})};var Jr=tinymce.util.Tools.resolve("tinymce.util.VK");const Oa=(G,oe)=>{G.on("init",()=>{G.on("keydown",Ze=>{Ze.keyCode===Jr.TAB&&!(Ze.metaKey||Ze.ctrlKey)&&oe.get()&&Ze.preventDefault()})})},li=(G,oe)=>Ze=>{Ze.setActive(oe.get()!==null);const Ct=fn=>Ze.setActive(fn.state);return G.on("FullscreenStateChanged",Ct),()=>G.off("FullscreenStateChanged",Ct)},ui=(G,oe)=>{const Ze=()=>G.execCommand("mceFullScreen");G.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:Ze,onSetup:li(G,oe)}),G.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:Ze,onSetup:li(G,oe),shortcut:"Meta+Shift+F"})};var bu=()=>{Gt.add("fullscreen",G=>{const oe=ro(null);return G.inline||(ls(G),Vd(G,oe),ui(G,oe),Oa(G,oe),G.addShortcut("Meta+Shift+F","","mceFullScreen")),Wt(oe)})};bu()})();(function(){const ro=Ee=>{let Ke=Ee;return{get:()=>Ke,set:je=>{Ke=je}}};var Gt=tinymce.util.Tools.resolve("tinymce.PluginManager");const Wt=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Jt=0;const Lt=Ee=>{const xt=new Date().getTime(),ho=Math.floor(Wt()*1e9);return Jt++,Ee+"_"+ho+Jt+String(xt)},Ht=Ee=>({addTab:xt=>{var ho;const je=(ho=xt.name)!==null&&ho!==void 0?ho:Lt("tab-name"),Je=Ee.get();Je[je]=xt,Ee.set(Je)}}),qe=(Ee,Ke)=>{Ee.addCommand("mceHelp",Ke)},Re=Ee=>Ke=>Ke.options.get(Ee),Pt=Ee=>{const Ke=Ee.options.register;Ke("help_tabs",{processor:"array"})},so=Re("help_tabs"),po=Re("forced_plugins"),So=(Ee,Ke)=>{Ee.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:Ke}),Ee.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:Ke})},Ft=(Ee,Ke,xt)=>{var ho;return xt(Ee,Ke.prototype)?!0:((ho=Ee.constructor)===null||ho===void 0?void 0:ho.name)===Ke.name},Vt=Ee=>{const Ke=typeof Ee;return Ee===null?"null":Ke==="object"&&Array.isArray(Ee)?"array":Ke==="object"&&Ft(Ee,String,(xt,ho)=>ho.isPrototypeOf(xt))?"string":Ke},St=Ee=>Ke=>Vt(Ke)===Ee,to=Ee=>Ke=>typeof Ke===Ee,Qe=Ee=>Ke=>Ee===Ke,nt=St("string"),Be=Qe(void 0),X=Ee=>Ee==null,lt=Ee=>!X(Ee),Go=to("function"),U=(Ee=>()=>Ee)(!1);class zt{constructor(Ke,xt){this.tag=Ke,this.value=xt}static some(Ke){return new zt(!0,Ke)}static none(){return zt.singletonNone}fold(Ke,xt){return this.tag?xt(this.value):Ke()}isSome(){return this.tag}isNone(){return!this.tag}map(Ke){return this.tag?zt.some(Ke(this.value)):zt.none()}bind(Ke){return this.tag?Ke(this.value):zt.none()}exists(Ke){return this.tag&&Ke(this.value)}forall(Ke){return!this.tag||Ke(this.value)}filter(Ke){return!this.tag||Ke(this.value)?this:zt.none()}getOr(Ke){return this.tag?this.value:Ke}or(Ke){return this.tag?this:Ke}getOrThunk(Ke){return this.tag?this.value:Ke()}orThunk(Ke){return this.tag?this:Ke()}getOrDie(Ke){if(this.tag)return this.value;throw new Error(Ke??"Called getOrDie on None")}static from(Ke){return lt(Ke)?zt.some(Ke):zt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ke){this.tag&&Ke(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}zt.singletonNone=new zt(!1);const ko=Array.prototype.slice,co=Array.prototype.indexOf,We=(Ee,Ke)=>co.call(Ee,Ke),ie=(Ee,Ke)=>We(Ee,Ke)>-1,gn=(Ee,Ke)=>{const xt=Ee.length,ho=new Array(xt);for(let je=0;je<xt;je++){const Je=Ee[je];ho[je]=Ke(Je,je)}return ho},Oe=(Ee,Ke)=>{const xt=[];for(let ho=0,je=Ee.length;ho<je;ho++){const Je=Ee[ho];Ke(Je,ho)&&xt.push(Je)}return xt},Me=(Ee,Ke,xt)=>{for(let ho=0,je=Ee.length;ho<je;ho++){const Je=Ee[ho];if(Ke(Je,ho))return zt.some(Je);if(xt(Je,ho))break}return zt.none()},_=(Ee,Ke)=>Me(Ee,Ke,U),ot=(Ee,Ke)=>{const xt=ko.call(Ee,0);return xt.sort(Ke),xt},ue=Object.keys,bt=Object.hasOwnProperty,wt=(Ee,Ke)=>ye(Ee,Ke)?zt.from(Ee[Ke]):zt.none(),ye=(Ee,Ke)=>bt.call(Ee,Ke),vt=Ee=>{const Ke=[],xt=ho=>{Ke.push(ho)};for(let ho=0;ho<Ee.length;ho++)Ee[ho].each(xt);return Ke};var yo=tinymce.util.Tools.resolve("tinymce.Resource"),He=tinymce.util.Tools.resolve("tinymce.util.I18n");const Zt=(Ee,Ke)=>yo.load(`tinymce.html-i18n.help-keynav.${Ke}`,`${Ee}/js/i18n/keynav/${Ke}.js`),ke=Ee=>Zt(Ee,He.getCode()).catch(()=>Zt(Ee,"en")),Xe=(Ee,Ke)=>{Ee.on("init",()=>{ke(Ke)})},P=async Ee=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await ke(Ee)}]});var wn=tinymce.util.Tools.resolve("tinymce.Env");const st=Ee=>{const Ke=wn.os.isMacOS()||wn.os.isiOS(),je=Ke?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},Je=Ee.split("+"),Ut=gn(Je,io=>{const hn=io.toLowerCase().trim();return ye(je,hn)?je[hn]:io});return Ke?Ut.join("").replace(/\s/,""):Ut.join("+")},Nt=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Alt + F12"],action:"Focus to notification"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],Ue=()=>{const Ee=gn(Nt,xt=>{const ho=gn(xt.shortcuts,st).join(" or ");return[xt.action,ho]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:Ee}]}},dt=gn([{key:"accordion",name:"Accordion"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"advlist",name:"List Styles"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"advcode",name:"Enhanced Code Editor",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"advtable",name:"Enhanced Tables",type:"premium"},{key:"exportpdf",name:"Export to PDF",type:"premium"},{key:"exportword",name:"Export to Word",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"editimage",name:"Image Editing",type:"premium"},{key:"importword",name:"Import from Word",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"math",name:"Math",type:"premium"},{key:"markdown",name:"Markdown",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"revisionhistory",name:"Revision History",type:"premium"},{key:"tinymcespellchecker",name:"Spell Checker",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"advtemplate",name:"Templates",type:"premium",slug:"advanced-templates"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],Ee=>({...Ee,type:Ee.type||"opensource",slug:Ee.slug||Ee.key})),K=Ee=>{const Ke=()=>{const Lo=Oe(dt,({type:Bo})=>Bo==="premium"),Mo=ot(gn(Lo,Bo=>Bo.name),(Bo,Wn)=>Bo.localeCompare(Wn)),Hn=gn(Mo,Bo=>`<li>${Bo}</li>`).join("");return"<div><p><b>"+He.translate("Premium plugins:")+"</b></p><ul>"+Hn+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=help_dialog_plugin_tab&utm_source=tiny&utm_medium=referral&utm_term=read_more&utm_content=premium_plugin_heading" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+He.translate("Learn more...")+"</a></li></ul></div>"},xt=Lo=>`<a data-alloy-tabstop="true" tabindex="-1" href="${Lo.url}" target="_blank" rel="noopener">${Lo.name}</a>`,ho=(Lo,Mo)=>{const Hn=Lo.plugins[Mo].getMetadata;if(Go(Hn)){const Bo=Hn();return{name:Bo.name,html:xt(Bo)}}else return{name:Mo,html:Mo}},je=(Lo,Mo)=>_(dt,Hn=>Hn.key===Mo).fold(()=>ho(Lo,Mo),Hn=>{const Bo=Hn.type==="premium"?`${Hn.name}*`:Hn.name,Wn=xt({name:Bo,url:`https://www.tiny.cloud/docs/tinymce/7/${Hn.slug}/`});return{name:Bo,html:Wn}}),Je=Lo=>{const Mo=ue(Lo.plugins),Hn=po(Lo);return Be(Hn)?Mo:Oe(Mo,Bo=>!ie(Hn,Bo))},Ut=Lo=>{const Mo=Je(Lo),Hn=ot(gn(Mo,Ys=>je(Lo,Ys)),(Ys,vn)=>Ys.name.localeCompare(vn.name)),Bo=gn(Hn,Ys=>"<li>"+Ys.html+"</li>"),Wn=Bo.length,bs=Bo.join("");return"<p><b>"+He.translate(["Plugins installed ({0}):",Wn])+"</b></p><ul>"+bs+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[(Lo=>Lo==null?"":"<div>"+Ut(Lo)+"</div>")(Ee),Ke()].join("")}]}};var te=tinymce.util.Tools.resolve("tinymce.EditorManager");const he=()=>{const xt='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/7/changelog/?utm_campaign=help_dialog_version_tab&utm_source=tiny&utm_medium=referral" rel="noopener" target="_blank">TinyMCE '+((je,Je)=>je.indexOf("@")===0?"X.X.X":je+"."+Je)(te.majorVersion,te.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+He.translate(["You are using {0}",xt])+"</p>",presets:"document"}]}},V=(Ee,Ke)=>{const xt={},ho=gn(Ee,je=>{var Je;if(nt(je))return ye(Ke,je)&&(xt[je]=Ke[je]),je;{const Ut=(Je=je.name)!==null&&Je!==void 0?Je:Lt("tab-name");return xt[Ut]=je,Ut}});return{tabs:xt,names:ho}},re=Ee=>{const Ke=ue(Ee),xt=Ke.indexOf("versions");return xt!==-1&&(Ke.splice(xt,1),Ke.push("versions")),{tabs:Ee,names:Ke}},de=async(Ee,Ke,xt)=>{const ho=Ue(),je=await P(xt),Je=K(Ee),Ut=he(),io={[ho.name]:ho,[je.name]:je,[Je.name]:Je,[Ut.name]:Ut,...Ke.get()};return zt.from(so(Ee)).fold(()=>re(io),hn=>V(hn,io))},be=(Ee,Ke,xt)=>()=>{de(Ee,Ke,xt).then(({tabs:ho,names:je})=>{const Je=gn(je,hn=>wt(ho,hn)),io={type:"tabpanel",tabs:vt(Je)};Ee.windowManager.open({title:"Help",size:"medium",body:io,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var ut=()=>{Gt.add("help",(Ee,Ke)=>{const xt=ro({}),ho=Ht(xt);Pt(Ee);const je=be(Ee,xt,Ke);return So(Ee,je),qe(Ee,je),Ee.shortcuts.add("Alt+0","Open help dialog","mceHelp"),Xe(Ee,Ke),ho})};ut()})();tinymce.Resource.add("tinymce.html-i18n.help-keynav.en",`<h1>Begin keyboard navigation</h1>

<dl>
  <dt>Focus the Menu bar</dt>
  <dd>Windows or Linux: Alt+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Focus the Toolbar</dt>
  <dd>Windows or Linux: Alt+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Focus the footer</dt>
  <dd>Windows or Linux: Alt+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Focus the notification</dt>
  <dd>Windows or Linux: Alt+F12</dd>
  <dd>macOS: &#x2325;F12</dd>
  <dt>Focus a contextual toolbar</dt>
  <dd>Windows, Linux or macOS: Ctrl+F9</dd>
</dl>

<p>Navigation will start at the first UI item, which will be highlighted, or underlined in the case of the first item in
  the Footer element path.</p>

<h1>Navigate between UI sections</h1>

<p>To move from one UI section to the next, press <strong>Tab</strong>.</p>

<p>To move from one UI section to the previous, press <strong>Shift+Tab</strong>.</p>

<p>The <strong>Tab</strong> order of these UI sections is:</p>

<ol>
  <li>Menu bar</li>
  <li>Each toolbar group</li>
  <li>Sidebar</li>
  <li>Element path in the footer</li>
  <li>Word count toggle button in the footer</li>
  <li>Branding link in the footer</li>
  <li>Editor resize handle in the footer</li>
</ol>

<p>If a UI section is not present, it is skipped.</p>

<p>If the footer has keyboard navigation focus, and there is no visible sidebar, pressing <strong>Shift+Tab</strong>
  moves focus to the first toolbar group, not the last.</p>

<h1>Navigate within UI sections</h1>

<p>To move from one UI element to the next, press the appropriate <strong>Arrow</strong> key.</p>

<p>The <strong>Left</strong> and <strong>Right</strong> arrow keys</p>

<ul>
  <li>move between menus in the menu bar.</li>
  <li>open a sub-menu in a menu.</li>
  <li>move between buttons in a toolbar group.</li>
  <li>move between items in the footer’s element path.</li>
</ul>

<p>The <strong>Down</strong> and <strong>Up</strong> arrow keys</p>

<ul>
  <li>move between menu items in a menu.</li>
  <li>move between items in a toolbar pop-up menu.</li>
</ul>

<p><strong>Arrow</strong> keys cycle within the focused UI section.</p>

<p>To close an open menu, an open sub-menu, or an open pop-up menu, press the <strong>Esc</strong> key.</p>

<p>If the current focus is at the ‘top’ of a particular UI section, pressing the <strong>Esc</strong> key also exits
  keyboard navigation entirely.</p>

<h1>Execute a menu item or toolbar button</h1>

<p>When the desired menu item or toolbar button is highlighted, press <strong>Return</strong>, <strong>Enter</strong>,
  or the <strong>Space bar</strong> to execute the item.</p>

<h1>Navigate non-tabbed dialogs</h1>

<p>In non-tabbed dialogs, the first interactive component takes focus when the dialog opens.</p>

<p>Navigate between interactive dialog components by pressing <strong>Tab</strong> or <strong>Shift+Tab</strong>.</p>

<h1>Navigate tabbed dialogs</h1>

<p>In tabbed dialogs, the first button in the tab menu takes focus when the dialog opens.</p>

<p>Navigate between interactive components of this dialog tab by pressing <strong>Tab</strong> or
  <strong>Shift+Tab</strong>.</p>

<p>Switch to another dialog tab by giving the tab menu focus and then pressing the appropriate <strong>Arrow</strong>
  key to cycle through the available tabs.</p>
`);(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=Object.getPrototypeOf,Wt=(B,Q,xe)=>{var Ge;return xe(B,Q.prototype)?!0:((Ge=B.constructor)===null||Ge===void 0?void 0:Ge.name)===Q.name},Jt=B=>{const Q=typeof B;return B===null?"null":Q==="object"&&Array.isArray(B)?"array":Q==="object"&&Wt(B,String,(xe,Ge)=>Ge.isPrototypeOf(xe))?"string":Q},Lt=B=>Q=>Jt(Q)===B,Ht=B=>Q=>typeof Q===B,qe=B=>Q=>B===Q,Re=(B,Q)=>so(B)&&Wt(B,Q,(xe,Ge)=>Gt(xe)===Ge),Pt=Lt("string"),so=Lt("object"),po=B=>Re(B,Object),So=Lt("array"),Ft=qe(null),Vt=Ht("boolean"),St=B=>B==null,to=B=>!St(B),Qe=Ht("function"),nt=Ht("number"),Be=(B,Q)=>{if(So(B)){for(let xe=0,Ge=B.length;xe<Ge;++xe)if(!Q(B[xe]))return!1;return!0}return!1},X=()=>{};class lt{constructor(Q,xe){this.tag=Q,this.value=xe}static some(Q){return new lt(!0,Q)}static none(){return lt.singletonNone}fold(Q,xe){return this.tag?xe(this.value):Q()}isSome(){return this.tag}isNone(){return!this.tag}map(Q){return this.tag?lt.some(Q(this.value)):lt.none()}bind(Q){return this.tag?Q(this.value):lt.none()}exists(Q){return this.tag&&Q(this.value)}forall(Q){return!this.tag||Q(this.value)}filter(Q){return!this.tag||Q(this.value)?this:lt.none()}getOr(Q){return this.tag?this.value:Q}or(Q){return this.tag?this:Q}getOrThunk(Q){return this.tag?this.value:Q()}orThunk(Q){return this.tag?this:Q()}getOrDie(Q){if(this.tag)return this.value;throw new Error(Q??"Called getOrDie on None")}static from(Q){return to(Q)?lt.some(Q):lt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Q){this.tag&&Q(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}lt.singletonNone=new lt(!1);const Go=Object.keys,pt=Object.hasOwnProperty,U=(B,Q)=>{const xe=Go(B);for(let Ge=0,Dt=xe.length;Ge<Dt;Ge++){const In=xe[Ge],or=B[In];Q(or,In)}},zt=B=>(Q,xe)=>{B[xe]=Q},ko=(B,Q,xe,Ge)=>{U(B,(Dt,In)=>{(Q(Dt,In)?xe:Ge)(Dt,In)})},co=(B,Q)=>{const xe={};return ko(B,Q,zt(xe),X),xe},We=(B,Q)=>pt.call(B,Q),ie=(B,Q)=>We(B,Q)&&B[Q]!==void 0&&B[Q]!==null,gn=Array.prototype.push,Oe=B=>{const Q=[];for(let xe=0,Ge=B.length;xe<Ge;++xe){if(!So(B[xe]))throw new Error("Arr.flatten item "+xe+" was not an array, input: "+B);gn.apply(Q,B[xe])}return Q},Me=(B,Q)=>Q>=0&&Q<B.length?lt.some(B[Q]):lt.none(),_=B=>Me(B,0),ot=(B,Q)=>{for(let xe=0;xe<B.length;xe++){const Ge=Q(B[xe],xe);if(Ge.isSome())return Ge}return lt.none()};typeof window<"u"||Function("return this;")();const ue=(B,Q,xe)=>{if(Pt(xe)||Vt(xe)||nt(xe))B.setAttribute(Q,xe+"");else throw console.error("Invalid call to Attribute.set. Key ",Q,":: Value ",xe,":: Element ",B),new Error("Attribute value was not simple")},bt=(B,Q,xe)=>{ue(B.dom,Q,xe)},wt=(B,Q)=>{B.dom.removeAttribute(Q)},ye=(B,Q)=>{const Ge=(Q||document).createElement("div");if(Ge.innerHTML=B,!Ge.hasChildNodes()||Ge.childNodes.length>1){const Dt="HTML does not have a single root node";throw console.error(Dt,B),new Error(Dt)}return He(Ge.childNodes[0])},vt=(B,Q)=>{const Ge=(Q||document).createElement(B);return He(Ge)},yo=(B,Q)=>{const Ge=(Q||document).createTextNode(B);return He(Ge)},He=B=>{if(B==null)throw new Error("Node cannot be null or undefined");return{dom:B}},ke={fromHtml:ye,fromTag:vt,fromText:yo,fromDom:He,fromPoint:(B,Q,xe)=>lt.from(B.dom.elementFromPoint(Q,xe)).map(He)};var Xe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),P=tinymce.util.Tools.resolve("tinymce.util.URI");const wn=B=>B.length>0,st=B=>Q=>Q.options.get(B),Nt=B=>{const Q=B.options.register;Q("image_dimensions",{processor:"boolean",default:!0}),Q("image_advtab",{processor:"boolean",default:!1}),Q("image_uploadtab",{processor:"boolean",default:!0}),Q("image_prepend_url",{processor:"string",default:""}),Q("image_class_list",{processor:"object[]"}),Q("image_description",{processor:"boolean",default:!0}),Q("image_title",{processor:"boolean",default:!1}),Q("image_caption",{processor:"boolean",default:!1}),Q("image_list",{processor:xe=>{const Ge=xe===!1||Pt(xe)||Be(xe,so)||Qe(xe);return Ge?{value:xe,valid:Ge}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Ue=st("image_dimensions"),dt=st("image_advtab"),K=st("image_uploadtab"),te=st("image_prepend_url"),he=st("image_class_list"),V=st("image_description"),re=st("image_title"),de=st("image_caption"),be=st("image_list"),ut=st("a11y_advanced_options"),Ee=st("automatic_uploads"),Ke=B=>wn(B.options.get("images_upload_url")),xt=B=>to(B.options.get("images_upload_handler")),ho=(B,Q)=>Math.max(parseInt(B,10),parseInt(Q,10)),je=B=>new Promise(Q=>{const xe=document.createElement("img"),Ge=In=>{xe.onload=xe.onerror=null,xe.parentNode&&xe.parentNode.removeChild(xe),Q(In)};xe.onload=()=>{const In=ho(xe.width,xe.clientWidth),or=ho(xe.height,xe.clientHeight),Ns={width:In,height:or};Ge(Promise.resolve(Ns))},xe.onerror=()=>{Ge(Promise.reject(`Failed to get image dimensions for: ${B}`))};const Dt=xe.style;Dt.visibility="hidden",Dt.position="fixed",Dt.bottom=Dt.left="0px",Dt.width=Dt.height="auto",document.body.appendChild(xe),xe.src=B}),Je=B=>(B&&(B=B.replace(/px$/,"")),B),Ut=B=>(B.length>0&&/^[0-9]+$/.test(B)&&(B+="px"),B),io=B=>{if(B.margin){const Q=String(B.margin).split(" ");switch(Q.length){case 1:B["margin-top"]=B["margin-top"]||Q[0],B["margin-right"]=B["margin-right"]||Q[0],B["margin-bottom"]=B["margin-bottom"]||Q[0],B["margin-left"]=B["margin-left"]||Q[0];break;case 2:B["margin-top"]=B["margin-top"]||Q[0],B["margin-right"]=B["margin-right"]||Q[1],B["margin-bottom"]=B["margin-bottom"]||Q[0],B["margin-left"]=B["margin-left"]||Q[1];break;case 3:B["margin-top"]=B["margin-top"]||Q[0],B["margin-right"]=B["margin-right"]||Q[1],B["margin-bottom"]=B["margin-bottom"]||Q[2],B["margin-left"]=B["margin-left"]||Q[1];break;case 4:B["margin-top"]=B["margin-top"]||Q[0],B["margin-right"]=B["margin-right"]||Q[1],B["margin-bottom"]=B["margin-bottom"]||Q[2],B["margin-left"]=B["margin-left"]||Q[3]}delete B.margin}return B},hn=(B,Q)=>{const xe=be(B);Pt(xe)?fetch(xe).then(Ge=>{Ge.ok&&Ge.json().then(Q)}):Qe(xe)?xe(Q):Q(xe)},Lo=(B,Q,xe)=>{const Ge=()=>{xe.onload=xe.onerror=null,B.selection&&(B.selection.select(xe),B.nodeChanged())};xe.onload=()=>{!Q.width&&!Q.height&&Ue(B)&&B.dom.setAttribs(xe,{width:String(xe.clientWidth),height:String(xe.clientHeight)}),Ge()},xe.onerror=Ge},Mo=B=>new Promise((Q,xe)=>{const Ge=new FileReader;Ge.onload=()=>{Q(Ge.result)},Ge.onerror=()=>{var Dt;xe((Dt=Ge.error)===null||Dt===void 0?void 0:Dt.message)},Ge.readAsDataURL(B)}),Hn=B=>B.nodeName==="IMG"&&(B.hasAttribute("data-mce-object")||B.hasAttribute("data-mce-placeholder")),Bo=(B,Q)=>{const xe=B.options.get;return P.isDomSafe(Q,"img",{allow_html_data_urls:xe("allow_html_data_urls"),allow_script_urls:xe("allow_script_urls"),allow_svg_data_urls:xe("allow_svg_data_urls")})},Wn=Xe.DOM,bs=B=>B.style.marginLeft&&B.style.marginRight&&B.style.marginLeft===B.style.marginRight?Je(B.style.marginLeft):"",os=B=>B.style.marginTop&&B.style.marginBottom&&B.style.marginTop===B.style.marginBottom?Je(B.style.marginTop):"",Ys=B=>B.style.borderWidth?Je(B.style.borderWidth):"",vn=(B,Q)=>{var xe;return B.hasAttribute(Q)&&(xe=B.getAttribute(Q))!==null&&xe!==void 0?xe:""},jr=B=>B.parentNode!==null&&B.parentNode.nodeName==="FIGURE",Kt=(B,Q,xe)=>{xe===""||xe===null?B.removeAttribute(Q):B.setAttribute(Q,xe)},Gn=B=>{const Q=Wn.create("figure",{class:"image"});Wn.insertAfter(Q,B),Q.appendChild(B),Q.appendChild(Wn.create("figcaption",{contentEditable:"true"},"Caption")),Q.contentEditable="false"},hr=B=>{const Q=B.parentNode;to(Q)&&(Wn.insertAfter(B,Q),Wn.remove(Q))},ar=B=>{jr(B)?hr(B):Gn(B)},Pr=(B,Q)=>{const xe=B.getAttribute("style"),Ge=Q(xe!==null?xe:"");Ge.length>0?(B.setAttribute("style",Ge),B.setAttribute("data-mce-style",Ge)):B.removeAttribute("style")},$r=(B,Q)=>(xe,Ge,Dt)=>{const In=xe.style;In[Ge]?(In[Ge]=Ut(Dt),Pr(xe,Q)):Kt(xe,Ge,Dt)},ys=(B,Q)=>B.style[Q]?Je(B.style[Q]):vn(B,Q),ea=(B,Q)=>{const xe=Ut(Q);B.style.marginLeft=xe,B.style.marginRight=xe},ia=(B,Q)=>{const xe=Ut(Q);B.style.marginTop=xe,B.style.marginBottom=xe},vs=(B,Q)=>{const xe=Ut(Q);B.style.borderWidth=xe},Qo=(B,Q)=>{B.style.borderStyle=Q},Vs=B=>{var Q;return(Q=B.style.borderStyle)!==null&&Q!==void 0?Q:""},Le=B=>to(B)&&B.nodeName==="FIGURE",at=B=>B.nodeName==="IMG",xo=B=>Wn.getAttrib(B,"alt").length===0&&Wn.getAttrib(B,"role")==="presentation",Ro=B=>xo(B)?"":vn(B,"alt"),Vn=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),is=(B,Q)=>{var xe;const Ge=document.createElement("img");return Kt(Ge,"style",Q.style),(bs(Ge)||Q.hspace!=="")&&ea(Ge,Q.hspace),(os(Ge)||Q.vspace!=="")&&ia(Ge,Q.vspace),(Ys(Ge)||Q.border!=="")&&vs(Ge,Q.border),(Vs(Ge)||Q.borderStyle!=="")&&Qo(Ge,Q.borderStyle),B((xe=Ge.getAttribute("style"))!==null&&xe!==void 0?xe:"")},_r=(B,Q)=>{const xe=document.createElement("img");if(mt(B,{...Q,caption:!1},xe),ge(xe,Q.alt,Q.isDecorative),Q.caption){const Ge=Wn.create("figure",{class:"image"});return Ge.appendChild(xe),Ge.appendChild(Wn.create("figcaption",{contentEditable:"true"},"Caption")),Ge.contentEditable="false",Ge}else return xe},Cr=(B,Q)=>({src:vn(Q,"src"),alt:Ro(Q),title:vn(Q,"title"),width:ys(Q,"width"),height:ys(Q,"height"),class:vn(Q,"class"),style:B(vn(Q,"style")),caption:jr(Q),hspace:bs(Q),vspace:os(Q),border:Ys(Q),borderStyle:Vs(Q),isDecorative:xo(Q)}),ir=(B,Q,xe,Ge,Dt)=>{xe[Ge]!==Q[Ge]&&Dt(B,Ge,String(xe[Ge]))},ge=(B,Q,xe)=>{if(xe){Wn.setAttrib(B,"role","presentation");const Ge=ke.fromDom(B);bt(Ge,"alt","")}else{if(Ft(Q)){const Ge=ke.fromDom(B);wt(Ge,"alt")}else{const Ge=ke.fromDom(B);bt(Ge,"alt",Q)}Wn.getAttrib(B,"role")==="presentation"&&Wn.setAttrib(B,"role","")}},le=(B,Q,xe)=>{(xe.alt!==Q.alt||xe.isDecorative!==Q.isDecorative)&&ge(B,xe.alt,xe.isDecorative)},tt=(B,Q)=>(xe,Ge,Dt)=>{B(xe,Dt),Pr(xe,Q)},mt=(B,Q,xe)=>{const Ge=Cr(B,xe);ir(xe,Ge,Q,"caption",(Dt,In,or)=>ar(Dt)),ir(xe,Ge,Q,"src",Kt),ir(xe,Ge,Q,"title",Kt),ir(xe,Ge,Q,"width",$r("width",B)),ir(xe,Ge,Q,"height",$r("height",B)),ir(xe,Ge,Q,"class",Kt),ir(xe,Ge,Q,"style",tt((Dt,In)=>Kt(Dt,"style",In),B)),ir(xe,Ge,Q,"hspace",tt(ea,B)),ir(xe,Ge,Q,"vspace",tt(ia,B)),ir(xe,Ge,Q,"border",tt(vs,B)),ir(xe,Ge,Q,"borderStyle",tt(Qo,B)),le(xe,Ge,Q)},en=(B,Q)=>{const xe=B.dom.styles.parse(Q),Ge=io(xe),Dt=B.dom.styles.parse(B.dom.styles.serialize(Ge));return B.dom.styles.serialize(Dt)},kn=B=>{const Q=B.selection.getNode(),xe=B.dom.getParent(Q,"figure.image");return xe?B.dom.select("img",xe)[0]:Q&&(Q.nodeName!=="IMG"||Hn(Q))?null:Q},Rn=(B,Q)=>{var xe;const Ge=B.dom,Dt=co(B.schema.getTextBlockElements(),(or,Ns)=>!B.schema.isValidChild(Ns,"figure")),In=Ge.getParent(Q.parentNode,or=>ie(Dt,or.nodeName),B.getBody());return In&&(xe=Ge.split(In,Q))!==null&&xe!==void 0?xe:Q},lr=B=>{const Q=kn(B);return Q?Cr(xe=>en(B,xe),Q):Vn()},Ae=(B,Q)=>{const xe=_r(Dt=>en(B,Dt),Q);B.dom.setAttrib(xe,"data-mce-id","__mcenew"),B.focus(),B.selection.setContent(xe.outerHTML);const Ge=B.dom.select('*[data-mce-id="__mcenew"]')[0];if(B.dom.setAttrib(Ge,"data-mce-id",null),Le(Ge)){const Dt=Rn(B,Ge);B.selection.select(Dt)}else B.selection.select(Ge)},Nn=(B,Q)=>{B.dom.setAttrib(Q,"src",Q.getAttribute("src"))},ve=(B,Q)=>{if(Q){const xe=B.dom.is(Q.parentNode,"figure.image")?Q.parentNode:Q;B.dom.remove(xe),B.focus(),B.nodeChanged(),B.dom.isEmpty(B.getBody())&&(B.setContent(""),B.selection.setCursorLocation())}},Se=(B,Q)=>{const xe=kn(B);if(xe)if(mt(Ge=>en(B,Ge),Q,xe),Nn(B,xe),Le(xe.parentNode)){const Ge=xe.parentNode;Rn(B,Ge),B.selection.select(xe.parentNode)}else B.selection.select(xe),Lo(B,Q,xe)},Mt=(B,Q)=>{const xe=Q.src;return{...Q,src:Bo(B,xe)?xe:""}},jt=(B,Q)=>{const xe=kn(B);if(xe){const Dt={...Cr(or=>en(B,or),xe),...Q},In=Mt(B,Dt);Dt.src?Se(B,In):ve(B,xe)}else Q.src&&Ae(B,{...Vn(),...Q})},Ko=(B=>(...Q)=>{if(Q.length===0)throw new Error("Can't merge zero objects");const xe={};for(let Ge=0;Ge<Q.length;Ge++){const Dt=Q[Ge];for(const In in Dt)We(Dt,In)&&(xe[In]=B(xe[In],Dt[In]))}return xe})((B,Q)=>po(B)&&po(Q)?Ko(B,Q):Q);var jo=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),ln=tinymce.util.Tools.resolve("tinymce.util.Tools");const _n=B=>Pt(B.value)?B.value:"",xs=B=>Pt(B.text)?B.text:Pt(B.title)?B.title:"",Rs=(B,Q)=>{const xe=[];return ln.each(B,Ge=>{const Dt=xs(Ge);if(Ge.menu!==void 0){const In=Rs(Ge.menu,Q);xe.push({text:Dt,items:In})}else{const In=Q(Ge);xe.push({text:Dt,value:In})}}),xe},Zs=(B=_n)=>Q=>Q?lt.from(Q).map(xe=>Rs(xe,B)):lt.none(),Pa=B=>Zs(_n)(B),Za=B=>We(B,"items"),xn=(B,Q)=>ot(B,xe=>Za(xe)?xn(xe.items,Q):xe.value===Q?lt.some(xe):lt.none()),ms={sanitizer:Zs,sanitize:Pa,findEntry:(B,Q)=>B.bind(xe=>xn(xe,Q))},ua={makeTab:B=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Yr=B=>{const Q=ms.sanitizer(Xs=>B.convertURL(Xs.value||Xs.url||"","src")),xe=new Promise(Xs=>{hn(B,Bi=>{Xs(Q(Bi).map(Hd=>Oe([[{text:"None",value:""}],Hd])))})}),Ge=ms.sanitize(he(B)),Dt=dt(B),In=K(B),or=Ke(B),Ns=xt(B),Qt=lr(B),nr=V(B),_a=re(B),sc=Ue(B),Zn=de(B),rc=ut(B),Ir=Ee(B),Zl=lt.some(te(B)).filter(Xs=>Pt(Xs)&&Xs.length>0);return xe.then(Xs=>({image:Qt,imageList:Xs,classList:Ge,hasAdvTab:Dt,hasUploadTab:In,hasUploadUrl:or,hasUploadHandler:Ns,hasDescription:nr,hasImageTitle:_a,hasDimensions:sc,hasImageCaption:Zn,prependURL:Zl,hasAccessibilityOptions:rc,automaticUploads:Ir}))},ur=B=>{const Q={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},xe=B.imageList.map(_a=>({name:"images",type:"listbox",label:"Image list",items:_a})),Ge={name:"alt",type:"input",label:"Alternative description",enabled:!(B.hasAccessibilityOptions&&B.image.isDecorative)},Dt={name:"title",type:"input",label:"Image title"},In={name:"dimensions",type:"sizeinput"},or={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Ns=B.classList.map(_a=>({name:"classes",type:"listbox",label:"Class",items:_a})),Qt={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},nr=_a=>_a?{type:"grid",columns:2}:{type:"panel"};return Oe([[Q],xe.toArray(),B.hasAccessibilityOptions&&B.hasDescription?[or]:[],B.hasDescription?[Ge]:[],B.hasImageTitle?[Dt]:[],B.hasDimensions?[In]:[],[{...nr(B.classList.isSome()&&B.hasImageCaption),items:Oe([Ns.toArray(),B.hasImageCaption?[Qt]:[]])}]])},Ac={makeTab:B=>({title:"General",name:"general",items:ur(B)}),makeItems:ur},Aa={makeTab:B=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},ka=B=>({prevImage:ms.findEntry(B.imageList,B.image.src),prevAlt:B.image.alt,open:!0}),Wr=B=>({src:{value:B.src,meta:{}},images:B.src,alt:B.alt,title:B.title,dimensions:{width:B.width,height:B.height},classes:B.class,caption:B.caption,style:B.style,vspace:B.vspace,border:B.border,hspace:B.hspace,borderstyle:B.borderStyle,fileinput:[],isDecorative:B.isDecorative}),Mi=(B,Q)=>({src:B.src.value,alt:(B.alt===null||B.alt.length===0)&&Q?null:B.alt,title:B.title,width:B.dimensions.width,height:B.dimensions.height,class:B.classes,style:B.style,caption:B.caption,hspace:B.hspace,vspace:B.vspace,border:B.border,borderStyle:B.borderstyle,isDecorative:B.isDecorative}),za=(B,Q)=>/^(?:[a-zA-Z]+:)?\/\//.test(Q)?lt.none():B.prependURL.bind(xe=>Q.substring(0,xe.length)!==xe?lt.some(xe+Q):lt.none()),$a=(B,Q)=>{const xe=Q.getData();za(B,xe.src.value).each(Ge=>{Q.setData({src:{value:Ge,meta:xe.src.meta}})})},$c=(B,Q,xe)=>{B.hasDescription&&Pt(xe.alt)&&(Q.alt=xe.alt),B.hasAccessibilityOptions&&(Q.isDecorative=xe.isDecorative||Q.isDecorative||!1),B.hasImageTitle&&Pt(xe.title)&&(Q.title=xe.title),B.hasDimensions&&(Pt(xe.width)&&(Q.dimensions.width=xe.width),Pt(xe.height)&&(Q.dimensions.height=xe.height)),Pt(xe.class)&&ms.findEntry(B.classList,xe.class).each(Ge=>{Q.classes=Ge.value}),B.hasImageCaption&&Vt(xe.caption)&&(Q.caption=xe.caption),B.hasAdvTab&&(Pt(xe.style)&&(Q.style=xe.style),Pt(xe.vspace)&&(Q.vspace=xe.vspace),Pt(xe.border)&&(Q.border=xe.border),Pt(xe.hspace)&&(Q.hspace=xe.hspace),Pt(xe.borderstyle)&&(Q.borderstyle=xe.borderstyle))},fc=(B,Q)=>{const xe=Q.getData(),Ge=xe.src.meta;if(Ge!==void 0){const Dt=Ko({},xe);$c(B,Dt,Ge),Q.setData(Dt)}},yl=(B,Q,xe,Ge)=>{const Dt=Ge.getData(),In=Dt.src.value,or=Dt.src.meta||{};!or.width&&!or.height&&Q.hasDimensions&&(wn(In)?B.imageSize(In).then(Ns=>{xe.open&&Ge.setData({dimensions:Ns})}).catch(Ns=>console.error(Ns)):Ge.setData({dimensions:{width:"",height:""}}))},hi=(B,Q,xe)=>{const Ge=xe.getData(),Dt=ms.findEntry(B.imageList,Ge.src.value);Q.prevImage=Dt,xe.setData({images:Dt.map(In=>In.value).getOr("")})},ci=(B,Q,xe,Ge)=>{$a(Q,Ge),fc(Q,Ge),yl(B,Q,xe,Ge),hi(Q,xe,Ge)},mc=(B,Q,xe,Ge)=>{const Dt=Ge.getData(),In=ms.findEntry(Q.imageList,Dt.images);In.each(or=>{Dt.alt===""||xe.prevImage.map(Qt=>Qt.text===Dt.alt).getOr(!1)?or.value===""?Ge.setData({src:or,alt:xe.prevAlt}):Ge.setData({src:or,alt:or.text}):Ge.setData({src:or})}),xe.prevImage=In,ci(B,Q,xe,Ge)},ta=(B,Q,xe,Ge)=>{const Dt=Ge.getData();Ge.block("Uploading image"),_(Dt.fileinput).fold(()=>{Ge.unblock()},In=>{const or=URL.createObjectURL(In),Ns=()=>{Ge.unblock(),URL.revokeObjectURL(or)},Qt=nr=>{Ge.setData({src:{value:nr,meta:{}}}),Ge.showTab("general"),ci(B,Q,xe,Ge),Ge.focus("src")};Mo(In).then(nr=>{const _a=B.createBlobCache(In,or,nr);Q.automaticUploads?B.uploadImage(_a).then(sc=>{Qt(sc.url),Ns()}).catch(sc=>{Ns(),B.alertErr(sc)}):(B.addToBlobCache(_a),Qt(_a.blobUri()),Ge.unblock())})})},vl=(B,Q,xe)=>(Ge,Dt)=>{Dt.name==="src"?ci(B,Q,xe,Ge):Dt.name==="images"?mc(B,Q,xe,Ge):Dt.name==="alt"?xe.prevAlt=Ge.getData().alt:Dt.name==="fileinput"?ta(B,Q,xe,Ge):Dt.name==="isDecorative"&&Ge.setEnabled("alt",!Ge.getData().isDecorative)},xl=B=>()=>{B.open=!1},wl=B=>B.hasAdvTab||B.hasUploadUrl||B.hasUploadHandler?{type:"tabpanel",tabs:Oe([[Ac.makeTab(B)],B.hasAdvTab?[ua.makeTab(B)]:[],B.hasUploadTab&&(B.hasUploadUrl||B.hasUploadHandler)?[Aa.makeTab(B)]:[]])}:{type:"panel",items:Ac.makeItems(B)},Qi=(B,Q,xe)=>Ge=>{const Dt=Ko(Wr(Q.image),Ge.getData()),In={...Dt,style:is(xe.normalizeCss,Mi(Dt,!1))};B.execCommand("mceUpdateImage",!1,Mi(In,Q.hasAccessibilityOptions)),B.editorUpload.uploadImagesAuto(),Ge.close()},Xr=B=>Q=>Bo(B,Q)?je(B.documentBaseURI.toAbsolute(Q)).then(xe=>({width:String(xe.width),height:String(xe.height)})):Promise.resolve({width:"",height:""}),gc=B=>(Q,xe,Ge)=>{var Dt;return B.editorUpload.blobCache.create({blob:Q,blobUri:xe,name:(Dt=Q.name)===null||Dt===void 0?void 0:Dt.replace(/\.[^\.]+$/,""),filename:Q.name,base64:Ge.split(",")[1]})},W=B=>Q=>{B.editorUpload.blobCache.add(Q)},fe=B=>Q=>{B.windowManager.alert(Q)},$e=B=>Q=>en(B,Q),Et=B=>Q=>B.dom.parseStyle(Q),oo=B=>(Q,xe)=>B.dom.serializeStyle(Q,xe),Ho=B=>Q=>jo(B).upload([Q],!1).then(xe=>{var Ge;return xe.length===0?Promise.reject("Failed to upload image"):xe[0].status===!1?Promise.reject((Ge=xe[0].error)===null||Ge===void 0?void 0:Ge.message):xe[0]}),es=B=>{const Q={imageSize:Xr(B),addToBlobCache:W(B),createBlobCache:gc(B),alertErr:fe(B),normalizeCss:$e(B),parseStyle:Et(B),serializeStyle:oo(B),uploadImage:Ho(B)};return{open:()=>{Yr(B).then(Ge=>{const Dt=ka(Ge);return{title:"Insert/Edit Image",size:"normal",body:wl(Ge),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Wr(Ge.image),onSubmit:Qi(B,Ge,Q),onChange:vl(Q,Ge,Dt),onClose:xl(Dt)}}).then(B.windowManager.open)}}},Us=B=>{B.addCommand("mceImage",es(B).open),B.addCommand("mceUpdateImage",(Q,xe)=>{B.undoManager.transact(()=>jt(B,xe))})},ls=B=>{const Q=B.attr("class");return to(Q)&&/\bimage\b/.test(Q)},Oo=B=>Q=>{let xe=Q.length;const Ge=Dt=>{Dt.attr("contenteditable",B?"true":null)};for(;xe--;){const Dt=Q[xe];ls(Dt)&&(Dt.attr("contenteditable",B?"false":null),ln.each(Dt.getAll("figcaption"),Ge))}},Rr=B=>{B.on("PreInit",()=>{B.parser.addNodeFilter("figure",Oo(!0)),B.serializer.addNodeFilter("figure",Oo(!1))})},on=B=>Q=>{const xe=()=>{Q.setEnabled(B.selection.isEditable())};return B.on("NodeChange",xe),xe(),()=>{B.off("NodeChange",xe)}},oa=B=>{B.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:es(B).open,onSetup:Q=>{Q.setActive(to(kn(B)));const xe=B.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",Q.setActive).unbind,Ge=on(B)(Q);return()=>{xe(),Ge()}}}),B.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:es(B).open,onSetup:on(B)}),B.ui.registry.addContextMenu("image",{update:Q=>B.selection.isEditable()&&(Le(Q)||at(Q)&&!Hn(Q))?["image"]:[]})};var ii=()=>{ro.add("image",B=>{Nt(B),Rr(B),oa(B),Us(B)})};ii()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=(st,Nt,Ue)=>{var dt;return Ue(st,Nt.prototype)?!0:((dt=st.constructor)===null||dt===void 0?void 0:dt.name)===Nt.name},Wt=st=>{const Nt=typeof st;return st===null?"null":Nt==="object"&&Array.isArray(st)?"array":Nt==="object"&&Gt(st,String,(Ue,dt)=>dt.isPrototypeOf(Ue))?"string":Nt},Jt=st=>Nt=>Wt(Nt)===st,Lt=st=>Nt=>typeof Nt===st,Ht=Jt("string"),qe=Jt("object"),Re=Jt("array"),Pt=Lt("function");var so=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),po=tinymce.util.Tools.resolve("tinymce.EditorManager"),So=tinymce.util.Tools.resolve("tinymce.Env"),Ft=tinymce.util.Tools.resolve("tinymce.util.Tools");const Vt=st=>Nt=>Nt.options.get(st),St=st=>{const Nt=st.options.register,Ue=dt=>Ht(dt)||Pt(dt)||qe(dt);Nt("importcss_merge_classes",{processor:"boolean",default:!0}),Nt("importcss_exclusive",{processor:"boolean",default:!0}),Nt("importcss_selector_converter",{processor:"function"}),Nt("importcss_selector_filter",{processor:Ue}),Nt("importcss_file_filter",{processor:Ue}),Nt("importcss_groups",{processor:"object[]"}),Nt("importcss_append",{processor:"boolean",default:!1})},to=Vt("importcss_merge_classes"),Qe=Vt("importcss_exclusive"),nt=Vt("importcss_selector_converter"),Be=Vt("importcss_selector_filter"),X=Vt("importcss_groups"),lt=Vt("importcss_append"),Go=Vt("importcss_file_filter"),pt=Vt("skin"),U=Vt("skin_url"),zt=Array.prototype.push,ko=(st,Nt)=>{const Ue=st.length,dt=new Array(Ue);for(let K=0;K<Ue;K++){const te=st[K];dt[K]=Nt(te,K)}return dt},co=st=>{const Nt=[];for(let Ue=0,dt=st.length;Ue<dt;++Ue){if(!Re(st[Ue]))throw new Error("Arr.flatten item "+Ue+" was not an array, input: "+st);zt.apply(Nt,st[Ue])}return Nt},We=(st,Nt)=>co(ko(st,Nt)),ie=()=>{const st=[],Nt=[],Ue={};return{addItemToGroup:(he,V)=>{Ue[he]?Ue[he].push(V):(Nt.push(he),Ue[he]=[V])},addItem:he=>{st.push(he)},toFormats:()=>We(Nt,V=>{const re=Ue[V];return re.length===0?[]:[{title:V,items:re}]}).concat(st)}},gn=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,Oe=st=>{const Nt=So.cacheSuffix;return Ht(st)&&(st=st.replace("?"+Nt,"").replace("&"+Nt,"")),st},Me=(st,Nt)=>{const Ue=pt(st);if(Ue){const dt=U(st),K=dt?st.documentBaseURI.toAbsolute(dt):po.baseURL+"/skins/ui/"+Ue,te=po.baseURL+"/skins/content/",he=st.editorManager.suffix;return Nt===K+"/content"+(st.inline?".inline":"")+`${he}.css`||Nt.indexOf(te)!==-1}return!1},_=st=>Ht(st)?Nt=>Nt.indexOf(st)!==-1:st instanceof RegExp?Nt=>st.test(Nt):st,ot=st=>st.styleSheet,ue=st=>st.selectorText,bt=(st,Nt,Ue)=>{const dt=[],K={},te=(he,V)=>{let re=he.href,de;if(re=Oe(re),!(!re||Ue&&!Ue(re,V)||Me(st,re))){Ft.each(he.imports,be=>{te(be,!0)});try{de=he.cssRules||he.rules}catch{}Ft.each(de,be=>{ot(be)&&be.styleSheet?te(be.styleSheet,!0):ue(be)&&Ft.each(be.selectorText.split(","),ut=>{dt.push(Ft.trim(ut))})})}};Ft.each(st.contentCSS,he=>{K[he]=!0}),Ue||(Ue=(he,V)=>V||K[he]);try{Ft.each(Nt.styleSheets,he=>{te(he)})}catch{}return dt},wt=(st,Nt)=>{let Ue={};const dt=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(Nt);if(!dt)return;const K=dt[1],te=dt[2].substr(1).split(".").join(" "),he=Ft.makeMap("a,img");return dt[1]?(Ue={title:Nt},st.schema.getTextBlockElements()[K]?Ue.block=K:st.schema.getBlockElements()[K]||he[K.toLowerCase()]?Ue.selector=K:Ue.inline=K):dt[2]&&(Ue={inline:"span",title:Nt.substr(1),classes:te}),to(st)?Ue.classes=te:Ue.attributes={class:te},Ue},ye=(st,Nt)=>Ft.grep(st,Ue=>!Ue.filter||Ue.filter(Nt)),vt=st=>Ft.map(st,Nt=>Ft.extend({},Nt,{original:Nt,selectors:{},filter:_(Nt.filter)})),yo=(st,Nt)=>Nt===null||Qe(st),He=(st,Nt,Ue,dt)=>!(yo(st,Ue)?Nt in dt:Nt in Ue.selectors),Zt=(st,Nt,Ue,dt)=>{yo(st,Ue)?dt[Nt]=!0:Ue.selectors[Nt]=!0},ke=(st,Nt,Ue,dt)=>{let K;const te=nt(st);return dt&&dt.selector_converter?K=dt.selector_converter:te?K=te:K=()=>wt(st,Ue),K.call(Nt,Ue,dt)},Xe=st=>{st.on("init",()=>{const Nt=ie(),Ue={},dt=_(Be(st)),K=vt(X(st)),te=(V,re)=>{if(He(st,V,re,Ue)){Zt(st,V,re,Ue);const de=ke(st,st.plugins.importcss,V,re);if(de){const be=de.name||so.DOM.uniqueId();return st.formatter.register(be,de),{title:de.title,format:be}}}return null};Ft.each(bt(st,st.getDoc(),_(Go(st))),V=>{if(!gn.test(V)&&(!dt||dt(V))){const re=ye(K,V);if(re.length>0)Ft.each(re,de=>{const be=te(V,de);be&&Nt.addItemToGroup(de.title,be)});else{const de=te(V,null);de&&Nt.addItem(de)}}});const he=Nt.toFormats();st.dispatch("addStyleModifications",{items:he,replace:!lt(st)})})},P=st=>({convertSelectorToFormat:Ue=>wt(st,Ue)});var wn=()=>{ro.add("importcss",st=>(St(st),Xe(st),P(st)))};wn()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=pt=>U=>U.options.get(pt),Wt=pt=>{const U=pt.options.register;U("insertdatetime_dateformat",{processor:"string",default:pt.translate("%Y-%m-%d")}),U("insertdatetime_timeformat",{processor:"string",default:pt.translate("%H:%M:%S")}),U("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),U("insertdatetime_element",{processor:"boolean",default:!1})},Jt=Gt("insertdatetime_dateformat"),Lt=Gt("insertdatetime_timeformat"),Ht=Gt("insertdatetime_formats"),qe=Gt("insertdatetime_element"),Re=pt=>{const U=Ht(pt);return U.length>0?U[0]:Lt(pt)},Pt="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),so="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),po="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),So="January February March April May June July August September October November December".split(" "),Ft=(pt,U)=>{if(pt=""+pt,pt.length<U)for(let zt=0;zt<U-pt.length;zt++)pt="0"+pt;return pt},Vt=(pt,U,zt=new Date)=>(U=U.replace("%D","%m/%d/%Y"),U=U.replace("%r","%I:%M:%S %p"),U=U.replace("%Y",""+zt.getFullYear()),U=U.replace("%y",""+zt.getYear()),U=U.replace("%m",Ft(zt.getMonth()+1,2)),U=U.replace("%d",Ft(zt.getDate(),2)),U=U.replace("%H",""+Ft(zt.getHours(),2)),U=U.replace("%M",""+Ft(zt.getMinutes(),2)),U=U.replace("%S",""+Ft(zt.getSeconds(),2)),U=U.replace("%I",""+((zt.getHours()+11)%12+1)),U=U.replace("%p",zt.getHours()<12?"AM":"PM"),U=U.replace("%B",""+pt.translate(So[zt.getMonth()])),U=U.replace("%b",""+pt.translate(po[zt.getMonth()])),U=U.replace("%A",""+pt.translate(so[zt.getDay()])),U=U.replace("%a",""+pt.translate(Pt[zt.getDay()])),U=U.replace("%%","%"),U),St=(pt,U,zt,ko)=>{const co=pt.dom.create("time",{datetime:zt},ko);pt.dom.replace(co,U),pt.selection.select(co,!0),pt.selection.collapse(!1)},to=(pt,U)=>{if(qe(pt)){const zt=Vt(pt,U);let ko;/%[HMSIp]/.test(U)?ko=Vt(pt,"%Y-%m-%dT%H:%M"):ko=Vt(pt,"%Y-%m-%d");const co=pt.dom.getParent(pt.selection.getStart(),"time");co?St(pt,co,ko,zt):pt.insertContent('<time datetime="'+ko+'">'+zt+"</time>")}else pt.insertContent(Vt(pt,U))},Qe=pt=>{pt.addCommand("mceInsertDate",(U,zt)=>{to(pt,zt??Jt(pt))}),pt.addCommand("mceInsertTime",(U,zt)=>{to(pt,zt??Lt(pt))})},nt=pt=>{let U=pt;return{get:()=>U,set:co=>{U=co}}};var Be=tinymce.util.Tools.resolve("tinymce.util.Tools");const X=pt=>U=>{const zt=()=>{U.setEnabled(pt.selection.isEditable())};return pt.on("NodeChange",zt),zt(),()=>{pt.off("NodeChange",zt)}},lt=pt=>{const U=Ht(pt),zt=nt(Re(pt)),ko=We=>pt.execCommand("mceInsertDate",!1,We);pt.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:We=>We===zt.get(),fetch:We=>{We(Be.map(U,ie=>({type:"choiceitem",text:Vt(pt,ie),value:ie})))},onAction:We=>{ko(zt.get())},onItemAction:(We,ie)=>{zt.set(ie),ko(ie)},onSetup:X(pt)});const co=We=>()=>{zt.set(We),ko(We)};pt.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>Be.map(U,We=>({type:"menuitem",text:Vt(pt,We),onAction:co(We)})),onSetup:X(pt)})};var Go=()=>{ro.add("insertdatetime",pt=>{Wt(pt),Qe(pt),lt(pt)})};Go()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=(W,fe,$e)=>{var Et;return $e(W,fe.prototype)?!0:((Et=W.constructor)===null||Et===void 0?void 0:Et.name)===fe.name},Wt=W=>{const fe=typeof W;return W===null?"null":fe==="object"&&Array.isArray(W)?"array":fe==="object"&&Gt(W,String,($e,Et)=>Et.isPrototypeOf($e))?"string":fe},Jt=W=>fe=>Wt(fe)===W,Lt=W=>fe=>typeof fe===W,Ht=W=>fe=>W===fe,qe=Jt("string"),Re=Jt("object"),Pt=Jt("array"),so=Ht(null),po=Lt("boolean"),So=W=>W==null,Ft=W=>!So(W),Vt=Lt("function"),St=(W,fe)=>{if(Pt(W)){for(let $e=0,Et=W.length;$e<Et;++$e)if(!fe(W[$e]))return!1;return!0}return!1},to=()=>{},Qe=W=>()=>W,nt=(W,fe)=>W===fe;class Be{constructor(fe,$e){this.tag=fe,this.value=$e}static some(fe){return new Be(!0,fe)}static none(){return Be.singletonNone}fold(fe,$e){return this.tag?$e(this.value):fe()}isSome(){return this.tag}isNone(){return!this.tag}map(fe){return this.tag?Be.some(fe(this.value)):Be.none()}bind(fe){return this.tag?fe(this.value):Be.none()}exists(fe){return this.tag&&fe(this.value)}forall(fe){return!this.tag||fe(this.value)}filter(fe){return!this.tag||fe(this.value)?this:Be.none()}getOr(fe){return this.tag?this.value:fe}or(fe){return this.tag?this:fe}getOrThunk(fe){return this.tag?this.value:fe()}orThunk(fe){return this.tag?this:fe()}getOrDie(fe){if(this.tag)return this.value;throw new Error(fe??"Called getOrDie on None")}static from(fe){return Ft(fe)?Be.some(fe):Be.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(fe){this.tag&&fe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Be.singletonNone=new Be(!1);const X=Array.prototype.indexOf,lt=Array.prototype.push,Go=(W,fe)=>X.call(W,fe),pt=(W,fe)=>Go(W,fe)>-1,U=(W,fe)=>{const $e=W.length,Et=new Array($e);for(let oo=0;oo<$e;oo++){const Ho=W[oo];Et[oo]=fe(Ho,oo)}return Et},zt=(W,fe)=>{for(let $e=0,Et=W.length;$e<Et;$e++){const oo=W[$e];fe(oo,$e)}},ko=(W,fe,$e)=>(zt(W,(Et,oo)=>{$e=fe($e,Et,oo)}),$e),co=W=>{const fe=[];for(let $e=0,Et=W.length;$e<Et;++$e){if(!Pt(W[$e]))throw new Error("Arr.flatten item "+$e+" was not an array, input: "+W);lt.apply(fe,W[$e])}return fe},We=(W,fe)=>co(U(W,fe)),ie=(W,fe)=>{for(let $e=0;$e<W.length;$e++){const Et=fe(W[$e],$e);if(Et.isSome())return Et}return Be.none()},gn=(W,fe,$e=nt)=>W.exists(Et=>$e(Et,fe)),Oe=W=>{const fe=[],$e=Et=>{fe.push(Et)};for(let Et=0;Et<W.length;Et++)W[Et].each($e);return fe},Me=(W,fe)=>W?Be.some(fe):Be.none(),_=W=>fe=>fe.options.get(W),ot=W=>{const fe=W.options.register;fe("link_assume_external_targets",{processor:$e=>{const Et=qe($e)||po($e);return Et?$e===!0?{value:1,valid:Et}:$e==="http"||$e==="https"?{value:$e,valid:Et}:{value:0,valid:Et}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),fe("link_context_toolbar",{processor:"boolean",default:!1}),fe("link_list",{processor:$e=>qe($e)||Vt($e)||St($e,Re)}),fe("link_default_target",{processor:"string"}),fe("link_default_protocol",{processor:"string",default:"https"}),fe("link_target_list",{processor:$e=>po($e)||St($e,Re),default:!0}),fe("link_rel_list",{processor:"object[]",default:[]}),fe("link_class_list",{processor:"object[]",default:[]}),fe("link_title",{processor:"boolean",default:!0}),fe("allow_unsafe_link_target",{processor:"boolean",default:!1}),fe("link_quicklink",{processor:"boolean",default:!1})},ue=_("link_assume_external_targets"),bt=_("link_context_toolbar"),wt=_("link_list"),ye=_("link_default_target"),vt=_("link_default_protocol"),yo=_("link_target_list"),He=_("link_rel_list"),Zt=_("link_class_list"),ke=_("link_title"),Xe=_("allow_unsafe_link_target"),P=_("link_quicklink"),wn=Object.keys,st=Object.hasOwnProperty,Nt=(W,fe)=>{const $e=wn(W);for(let Et=0,oo=$e.length;Et<oo;Et++){const Ho=$e[Et],es=W[Ho];fe(es,Ho)}},Ue=W=>(fe,$e)=>{W[$e]=fe},dt=(W,fe,$e,Et)=>{Nt(W,(oo,Ho)=>{(fe(oo,Ho)?$e:Et)(oo,Ho)})},K=(W,fe)=>{const $e={};return dt(W,fe,Ue($e),to),$e},te=(W,fe)=>st.call(W,fe),he=(W,fe)=>te(W,fe)&&W[fe]!==void 0&&W[fe]!==null;var V=tinymce.util.Tools.resolve("tinymce.util.URI"),re=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),de=tinymce.util.Tools.resolve("tinymce.util.Tools");const be=W=>Ft(W)&&W.nodeName.toLowerCase()==="a",ut=W=>be(W)&&!!xt(W),Ee=(W,fe)=>{if(W.collapsed)return[];{const $e=W.cloneContents(),Et=$e.firstChild,oo=new re(Et,$e),Ho=[];let es=Et;do fe(es)&&Ho.push(es);while(es=oo.next());return Ho}},Ke=W=>/^\w+:/i.test(W),xt=W=>{var fe,$e;return($e=(fe=W.getAttribute("data-mce-href"))!==null&&fe!==void 0?fe:W.getAttribute("href"))!==null&&$e!==void 0?$e:""},ho=(W,fe)=>{const $e=["noopener"],Et=W?W.split(/\s+/):[],oo=ls=>de.trim(ls.sort().join(" ")),Ho=ls=>(ls=es(ls),ls.length>0?ls.concat($e):$e),es=ls=>ls.filter(Oo=>de.inArray($e,Oo)===-1),Us=fe?Ho(Et):es(Et);return Us.length>0?oo(Us):""},je=W=>W.replace(/\uFEFF/g,""),Je=(W,fe)=>(fe=fe||hn(W.selection.getRng())[0]||W.selection.getNode(),Wn(fe)?Be.from(W.dom.select("a[href]",fe)[0]):Be.from(W.dom.getParent(fe,"a[href]"))),Ut=(W,fe)=>Je(W,fe).isSome(),io=(W,fe)=>{const $e=fe.fold(()=>W.getContent({format:"text"}),Et=>Et.innerText||Et.textContent||"");return je($e)},hn=W=>Ee(W,ut),Lo=W=>de.grep(W,ut),Mo=W=>Lo(W).length>0,Hn=W=>hn(W).length>0,Bo=W=>{const fe=W.schema.getTextInlineElements(),$e=Ho=>Ho.nodeType===1&&!be(Ho)&&!te(fe,Ho.nodeName.toLowerCase());if(Je(W).exists(Ho=>Ho.hasAttribute("data-mce-block")))return!1;const oo=W.selection.getRng();return oo.collapsed?!0:Ee(oo,$e).length===0},Wn=W=>Ft(W)&&W.nodeName==="FIGURE"&&/\bimage\b/i.test(W.className),bs=W=>ko(["title","rel","class","target"],($e,Et)=>(W[Et].each(oo=>{$e[Et]=oo.length>0?oo:null}),$e),{href:W.href}),os=(W,fe)=>(fe==="http"||fe==="https")&&!Ke(W)?fe+"://"+W:W,Ys=(W,fe)=>{const $e={...fe};if(He(W).length===0&&!Xe(W)){const Et=ho($e.rel,$e.target==="_blank");$e.rel=Et||null}return Be.from($e.target).isNone()&&yo(W)===!1&&($e.target=ye(W)),$e.href=os($e.href,ue(W)),$e},vn=(W,fe,$e,Et)=>{$e.each(oo=>{te(fe,"innerText")?fe.innerText=oo:fe.textContent=oo}),W.dom.setAttribs(fe,Et),W.selection.select(fe)},jr=(W,fe,$e,Et)=>{const oo=W.dom;Wn(fe)?ia(oo,fe,Et):$e.fold(()=>{W.execCommand("mceInsertLink",!1,Et)},Ho=>{W.insertContent(oo.createHTML("a",Et,oo.encode(Ho)))})},Kt=(W,fe,$e)=>{const Et=W.selection.getNode(),oo=Je(W,Et),Ho=Ys(W,bs($e));W.undoManager.transact(()=>{$e.href===fe.href&&fe.attach(),oo.fold(()=>{jr(W,Et,$e.text,Ho)},es=>{W.focus(),vn(W,es,$e.text,Ho)})})},Gn=W=>{const fe=W.dom,$e=W.selection,Et=$e.getBookmark(),oo=$e.getRng().cloneRange(),Ho=fe.getParent(oo.startContainer,"a[href]",W.getBody()),es=fe.getParent(oo.endContainer,"a[href]",W.getBody());Ho&&oo.setStartBefore(Ho),es&&oo.setEndAfter(es),$e.setRng(oo),W.execCommand("unlink"),$e.moveToBookmark(Et)},hr=W=>{W.undoManager.transact(()=>{const fe=W.selection.getNode();Wn(fe)?ea(W,fe):Gn(W),W.focus()})},ar=W=>{const{class:fe,href:$e,rel:Et,target:oo,text:Ho,title:es}=W;return K({class:fe.getOrNull(),href:$e,rel:Et.getOrNull(),target:oo.getOrNull(),text:Ho.getOrNull(),title:es.getOrNull()},(Us,ls)=>so(Us)===!1)},Pr=(W,fe)=>{const $e=W.options.get,Et={allow_html_data_urls:$e("allow_html_data_urls"),allow_script_urls:$e("allow_script_urls"),allow_svg_data_urls:$e("allow_svg_data_urls")},oo=fe.href;return{...fe,href:V.isDomSafe(oo,"a",Et)?oo:""}},$r=(W,fe,$e)=>{const Et=Pr(W,$e);W.hasPlugin("rtc",!0)?W.execCommand("createlink",!1,ar(Et)):Kt(W,fe,Et)},ys=W=>{W.hasPlugin("rtc",!0)?W.execCommand("unlink"):hr(W)},ea=(W,fe)=>{var $e;const Et=W.dom.select("img",fe)[0];if(Et){const oo=W.dom.getParents(Et,"a[href]",fe)[0];oo&&(($e=oo.parentNode)===null||$e===void 0||$e.insertBefore(Et,oo),W.dom.remove(oo))}},ia=(W,fe,$e)=>{var Et;const oo=W.select("img",fe)[0];if(oo){const Ho=W.create("a",$e);(Et=oo.parentNode)===null||Et===void 0||Et.insertBefore(Ho,oo),Ho.appendChild(oo)}},vs=W=>qe(W.value)?W.value:"",Qo=W=>qe(W.text)?W.text:qe(W.title)?W.title:"",Vs=(W,fe)=>{const $e=[];return de.each(W,Et=>{const oo=Qo(Et);if(Et.menu!==void 0){const Ho=Vs(Et.menu,fe);$e.push({text:oo,items:Ho})}else{const Ho=fe(Et);$e.push({text:oo,value:Ho})}}),$e},Le=(W=vs)=>fe=>Be.from(fe).map($e=>Vs($e,W)),Ro={sanitize:W=>Le(vs)(W),sanitizeWith:Le,createUi:(W,fe)=>$e=>({name:W,type:"listbox",label:fe,items:$e}),getValue:vs},Vn=W=>he(W,"items"),is=(W,fe)=>ie(fe,$e=>Vn($e)?is(W,$e.items):Me($e.value===W,$e)),_r=(W,fe,$e,Et)=>{const oo=Et[fe],Ho=W.length>0;return oo!==void 0?is(oo,$e).map(es=>({url:{value:es.value,meta:{text:Ho?W:es.text,attach:to}},text:Ho?W:es.text})):Be.none()},Cr=(W,fe)=>fe==="link"?W.link:fe==="anchor"?W.anchor:Be.none(),ge={init:(W,fe)=>{const $e={text:W.text,title:W.title},Et=ls=>{var Oo;return Me($e.title.length<=0,Be.from((Oo=ls.meta)===null||Oo===void 0?void 0:Oo.title).getOr(""))},oo=ls=>{var Oo;return Me($e.text.length<=0,Be.from((Oo=ls.meta)===null||Oo===void 0?void 0:Oo.text).getOr(ls.value))},Ho=ls=>{const Oo=oo(ls.url),Rr=Et(ls.url);return Oo.isSome()||Rr.isSome()?Be.some({...Oo.map(on=>({text:on})).getOr({}),...Rr.map(on=>({title:on})).getOr({})}):Be.none()},es=(ls,Oo)=>{const Rr=Cr(fe,Oo).getOr([]);return _r($e.text,Oo,Rr,ls)};return{onChange:(ls,Oo)=>{const Rr=Oo.name;return Rr==="url"?Ho(ls()):pt(["anchor","link"],Rr)?es(ls(),Rr):((Rr==="text"||Rr==="title")&&($e[Rr]=ls()[Rr]),Be.none())}}},getDelta:_r};var le=tinymce.util.Tools.resolve("tinymce.util.Delay");const tt=(W,fe,$e)=>{const Et=W.selection.getRng();le.setEditorTimeout(W,()=>{W.windowManager.confirm(fe,oo=>{W.selection.setRng(Et),$e(oo)})})},mt=W=>{const fe=W.href;return fe.indexOf("@")>0&&fe.indexOf("/")===-1&&fe.indexOf("mailto:")===-1?Be.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Et=>({...Et,href:"mailto:"+fe})}):Be.none()},en=(W,fe)=>$e=>{const Et=$e.href;return W===1&&!Ke(Et)||W===0&&/^\s*www(\.|\d\.)/i.test(Et)?Be.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${fe}:// prefix?`,preprocess:Ho=>({...Ho,href:fe+"://"+Et})}):Be.none()},Rn={preprocess:(W,fe)=>ie([mt,en(ue(W),vt(W))],$e=>$e(fe)).fold(()=>Promise.resolve(fe),$e=>new Promise(Et=>{tt(W,$e.message,oo=>{Et(oo?$e.preprocess(fe):fe)})}))},Ae={getAnchors:W=>{const fe=W.dom.select("a:not([href])"),$e=We(fe,Et=>{const oo=Et.name||Et.id;return oo?[{text:oo,value:"#"+oo}]:[]});return $e.length>0?Be.some([{text:"None",value:""}].concat($e)):Be.none()}},ve={getClasses:W=>{const fe=Zt(W);return fe.length>0?Ro.sanitize(fe):Be.none()}},Se=W=>{try{return Be.some(JSON.parse(W))}catch{return Be.none()}},jt={getLinks:W=>{const fe=Et=>W.convertURL(Et.value||Et.url||"","href"),$e=wt(W);return new Promise(Et=>{qe($e)?fetch($e).then(oo=>oo.ok?oo.text().then(Se):Promise.reject()).then(Et,()=>Et(Be.none())):Vt($e)?$e(oo=>Et(Be.some(oo))):Et(Be.from($e))}).then(Et=>Et.bind(Ro.sanitizeWith(fe)).map(oo=>oo.length>0?[{text:"None",value:""}].concat(oo):oo))}},Zo={getRels:(W,fe)=>{const $e=He(W);if($e.length>0){const Et=gn(fe,"_blank"),oo=Xe(W)===!1,Ho=Us=>ho(Ro.getValue(Us),Et);return(oo?Ro.sanitizeWith(Ho):Ro.sanitize)($e)}return Be.none()}},Ko=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],ln={getTargets:W=>{const fe=yo(W);return Pt(fe)?Ro.sanitize(fe).orThunk(()=>Be.some(Ko)):fe===!1?Be.none():Be.some(Ko)}},_n=(W,fe,$e)=>{const Et=W.getAttrib(fe,$e);return Et!==null&&Et.length>0?Be.some(Et):Be.none()},xs=(W,fe)=>{const $e=W.dom,oo=Bo(W)?Be.some(io(W.selection,fe)):Be.none(),Ho=fe.bind(Rr=>Be.from($e.getAttrib(Rr,"href"))),es=fe.bind(Rr=>Be.from($e.getAttrib(Rr,"target"))),Us=fe.bind(Rr=>_n($e,Rr,"rel")),ls=fe.bind(Rr=>_n($e,Rr,"class")),Oo=fe.bind(Rr=>_n($e,Rr,"title"));return{url:Ho,text:oo,title:Oo,target:es,rel:Us,linkClass:ls}},Zs={collect:(W,fe)=>jt.getLinks(W).then($e=>{const Et=xs(W,fe);return{anchor:Et,catalogs:{targets:ln.getTargets(W),rels:Zo.getRels(W,Et.target),classes:ve.getClasses(W),anchor:Ae.getAnchors(W),link:$e},optNode:fe,flags:{titleEnabled:ke(W)}}})},Pa=(W,fe)=>$e=>{const Et=$e.getData();if(!Et.url.value){ys(W),$e.close();return}const oo=Us=>Be.from(Et[Us]).filter(ls=>!gn(fe.anchor[Us],ls)),Ho={href:Et.url.value,text:oo("text"),target:oo("target"),rel:oo("rel"),class:oo("linkClass"),title:oo("title")},es={href:Et.url.value,attach:Et.url.meta!==void 0&&Et.url.meta.attach?Et.url.meta.attach:to};Rn.preprocess(W,Ho).then(Us=>{$r(W,es,Us)}),$e.close()},Za=W=>{const fe=Je(W);return Zs.collect(W,fe)},xn=(W,fe)=>{const $e=W.anchor,Et=$e.url.getOr("");return{url:{value:Et,meta:{original:{value:Et}}},text:$e.text.getOr(""),title:$e.title.getOr(""),anchor:Et,link:Et,rel:$e.rel.getOr(""),target:$e.target.or(fe).getOr(""),linkClass:$e.linkClass.getOr("")}},ds=(W,fe,$e)=>{const Et=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],oo=W.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Ho=W.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],es=Be.from(ye($e)),Us=xn(W,es),ls=W.catalogs,Oo=ge.init(Us,ls);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:co([Et,oo,Ho,Oe([ls.anchor.map(Ro.createUi("anchor","Anchors")),ls.rels.map(Ro.createUi("rel","Rel")),ls.targets.map(Ro.createUi("target","Open link in...")),ls.link.map(Ro.createUi("link","Link list")),ls.classes.map(Ro.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Us,onChange:(on,{name:oa})=>{Oo.onChange(on.getData,{name:oa}).each(ii=>{on.setData(ii)})},onSubmit:fe}},ms=W=>{Za(W).then($e=>{const Et=Pa(W,$e);return ds($e,Et,W)}).then($e=>{W.windowManager.open($e)})},la=W=>{W.addCommand("mceLink",(fe,$e)=>{($e==null?void 0:$e.dialog)===!0||!P(W)?ms(W):W.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},ua=W=>{W.addShortcut("Meta+K","",()=>{W.execCommand("mceLink")})},Yr=W=>{let fe=W;return{get:()=>fe,set:oo=>{fe=oo}}},ur=W=>{const fe=Yr(Be.none()),$e=()=>fe.get().each(W);return{clear:()=>{$e(),fe.set(Be.none())},isSet:()=>fe.get().isSome(),get:()=>fe.get(),set:Us=>{$e(),fe.set(Be.some(Us))}}},sd=()=>{const W=ur(to);return{...W,on:$e=>W.get().each($e)}};var Ac=tinymce.util.Tools.resolve("tinymce.util.VK");const Ts=(W,fe)=>{document.body.appendChild(W),W.dispatchEvent(fe),document.body.removeChild(W)},Aa=W=>{const fe=document.createElement("a");fe.target="_blank",fe.href=W,fe.rel="noreferrer noopener";const $e=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent($e),Ts(fe,$e)},ka=W=>W.altKey===!0&&W.shiftKey===!1&&W.ctrlKey===!1&&W.metaKey===!1,Wr=(W,fe)=>{if(fe){const $e=xt(fe);if(/^#/.test($e)){const Et=W.dom.select($e);Et.length&&W.selection.scrollIntoView(Et[0],!0)}else Aa(fe.href)}},Mi=W=>{const fe=W.selection.getRng(),$e=fe.startContainer;return ut($e)&&fe.startContainer===fe.endContainer&&W.dom.select("img",$e).length===1},za=(W,fe)=>{const $e=Lo(W.dom.getParents(fe));return Me($e.length===1,$e[0])},$a=W=>{const fe=hn(W.selection.getRng());return Me(fe.length>0,fe[0]).or(za(W,W.selection.getNode()))},$c=W=>W.selection.isCollapsed()||Mi(W)?za(W,W.selection.getStart()):$a(W),fc=W=>{const fe=sd(),$e=()=>fe.get().or($c(W)),Et=()=>$e().each(oo=>Wr(W,oo));return W.on("contextmenu",oo=>{za(W,oo.target).each(fe.set)}),W.on("SelectionChange",()=>{fe.isSet()||$c(W).each(fe.set)}),W.on("click",oo=>{fe.clear();const Ho=Lo(W.dom.getParents(oo.target));Ho.length===1&&Ac.metaKeyPressed(oo)&&(oo.preventDefault(),Wr(W,Ho[0]))}),W.on("keydown",oo=>{fe.clear(),!oo.isDefaultPrevented()&&oo.keyCode===13&&ka(oo)&&$e().each(Ho=>{oo.preventDefault(),Wr(W,Ho)})}),{gotoSelectedLink:Et}},yl=W=>()=>{W.execCommand("mceLink",!1,{dialog:!0})},hi=(W,fe)=>(W.on("NodeChange",fe),()=>W.off("NodeChange",fe)),ci=W=>fe=>{const $e=()=>{fe.setActive(!W.mode.isReadOnly()&&Ut(W,W.selection.getNode())),fe.setEnabled(W.selection.isEditable())};return $e(),hi(W,$e)},mc=W=>fe=>{const $e=()=>{fe.setEnabled(W.selection.isEditable())};return $e(),hi(W,$e)},ta=W=>fe=>{const $e=Ho=>Mo(Ho)||Hn(W.selection.getRng()),Et=W.dom.getParents(W.selection.getStart()),oo=Ho=>{fe.setEnabled($e(Ho)&&W.selection.isEditable())};return oo(Et),hi(W,Ho=>oo(Ho.parents))},vl=(W,fe)=>{W.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:yl(W),onSetup:ci(W)}),W.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:fe.gotoSelectedLink,onSetup:ta(W)}),W.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>ys(W),onSetup:ta(W)})},xl=(W,fe)=>{W.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:fe.gotoSelectedLink,onSetup:ta(W)}),W.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:yl(W),onSetup:mc(W)}),W.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>ys(W),onSetup:ta(W)})},wl=W=>{const fe="link unlink openlink",$e="link";W.ui.registry.addContextMenu("link",{update:Et=>W.dom.isEditable(Et)?Mo(W.dom.getParents(Et,"a"))?fe:$e:""})},Qi=(W,fe)=>{const $e=Ho=>{Ho.selection.collapse(!1)},Et=Ho=>{const es=W.selection.getNode();return Ho.setEnabled(Ut(W,es)),to},oo=Ho=>{const es=Je(W),Us=Bo(W);if(es.isNone()&&Us){const ls=io(W.selection,es);return Me(ls.length===0,Ho)}else return Be.none()};W.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:ci(W)},label:"Link",predicate:Ho=>bt(W)&&Ut(W,Ho),initValue:()=>Je(W).fold(Qe(""),xt),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Ho=>{const es=W.selection.getNode();return Ho.setActive(Ut(W,es)),ci(W)(Ho)},onAction:Ho=>{const es=Ho.getValue(),Us=oo(es);$r(W,{href:es,attach:to},{href:es,text:Us,title:Be.none(),rel:Be.none(),target:Be.from(ye(W)),class:Be.none()}),$e(W),Ho.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Et,onAction:Ho=>{ys(W),Ho.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Et,onAction:Ho=>{fe.gotoSelectedLink(),Ho.hide()}}]})},Xr=W=>{const fe=fc(W);vl(W,fe),xl(W,fe),wl(W),Qi(W,fe)};var gc=()=>{ro.add("link",W=>{ot(W),la(W),Xr(W),ua(W)})};gc()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=(C,D,L)=>{var me;return L(C,D.prototype)?!0:((me=C.constructor)===null||me===void 0?void 0:me.name)===D.name},Wt=C=>{const D=typeof C;return C===null?"null":D==="object"&&Array.isArray(C)?"array":D==="object"&&Gt(C,String,(L,me)=>me.isPrototypeOf(L))?"string":D},Jt=C=>D=>Wt(D)===C,Lt=C=>D=>typeof D===C,Ht=Jt("string"),qe=Jt("object"),Re=Jt("array"),Pt=Lt("boolean"),so=C=>C==null,po=C=>!so(C),So=Lt("function"),Ft=Lt("number"),Vt=()=>{},St=(C,D)=>L=>C(D(L)),to=C=>()=>C,Qe=(C,D)=>C===D;function nt(C,...D){return(...L)=>{const me=D.concat(L);return C.apply(null,me)}}const Be=C=>D=>!C(D),X=to(!1);class lt{constructor(D,L){this.tag=D,this.value=L}static some(D){return new lt(!0,D)}static none(){return lt.singletonNone}fold(D,L){return this.tag?L(this.value):D()}isSome(){return this.tag}isNone(){return!this.tag}map(D){return this.tag?lt.some(D(this.value)):lt.none()}bind(D){return this.tag?D(this.value):lt.none()}exists(D){return this.tag&&D(this.value)}forall(D){return!this.tag||D(this.value)}filter(D){return!this.tag||D(this.value)?this:lt.none()}getOr(D){return this.tag?this.value:D}or(D){return this.tag?this:D}getOrThunk(D){return this.tag?this.value:D()}orThunk(D){return this.tag?this:D()}getOrDie(D){if(this.tag)return this.value;throw new Error(D??"Called getOrDie on None")}static from(D){return po(D)?lt.some(D):lt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(D){this.tag&&D(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}lt.singletonNone=new lt(!1);const Go=Array.prototype.slice,pt=Array.prototype.indexOf,U=Array.prototype.push,zt=(C,D)=>pt.call(C,D),ko=(C,D)=>zt(C,D)>-1,co=(C,D)=>{for(let L=0,me=C.length;L<me;L++){const Te=C[L];if(D(Te,L))return!0}return!1},We=(C,D)=>{const L=C.length,me=new Array(L);for(let Te=0;Te<L;Te++){const It=C[Te];me[Te]=D(It,Te)}return me},ie=(C,D)=>{for(let L=0,me=C.length;L<me;L++){const Te=C[L];D(Te,L)}},gn=(C,D)=>{const L=[];for(let me=0,Te=C.length;me<Te;me++){const It=C[me];D(It,me)&&L.push(It)}return L},Oe=(C,D)=>{if(C.length===0)return[];{let L=D(C[0]);const me=[];let Te=[];for(let It=0,Cn=C.length;It<Cn;It++){const Yn=C[It],Tn=D(Yn);Tn!==L&&(me.push(Te),Te=[]),L=Tn,Te.push(Yn)}return Te.length!==0&&me.push(Te),me}},Me=(C,D,L)=>(ie(C,(me,Te)=>{L=D(L,me,Te)}),L),_=(C,D,L)=>{for(let me=0,Te=C.length;me<Te;me++){const It=C[me];if(D(It,me))return lt.some(It);if(L(It,me))break}return lt.none()},ot=(C,D)=>_(C,D,X),ue=C=>{const D=[];for(let L=0,me=C.length;L<me;++L){if(!Re(C[L]))throw new Error("Arr.flatten item "+L+" was not an array, input: "+C);U.apply(D,C[L])}return D},bt=(C,D)=>ue(We(C,D)),wt=C=>{const D=Go.call(C,0);return D.reverse(),D},ye=(C,D)=>D>=0&&D<C.length?lt.some(C[D]):lt.none(),vt=C=>ye(C,0),yo=C=>ye(C,C.length-1),He=(C,D)=>{const L=[],me=So(D)?Te=>co(L,It=>D(It,Te)):Te=>ko(L,Te);for(let Te=0,It=C.length;Te<It;Te++){const Cn=C[Te];me(Cn)||L.push(Cn)}return L},Zt=(C,D,L=Qe)=>C.exists(me=>L(me,D)),ke=(C,D,L=Qe)=>Xe(C,D,L).getOr(C.isNone()&&D.isNone()),Xe=(C,D,L)=>C.isSome()&&D.isSome()?lt.some(L(C.getOrDie(),D.getOrDie())):lt.none(),P=8,wn=11,st=1,Nt=3,Ue=(C,D)=>{const me=(D||document).createElement("div");if(me.innerHTML=C,!me.hasChildNodes()||me.childNodes.length>1){const Te="HTML does not have a single root node";throw console.error(Te,C),new Error(Te)}return te(me.childNodes[0])},dt=(C,D)=>{const me=(D||document).createElement(C);return te(me)},K=(C,D)=>{const me=(D||document).createTextNode(C);return te(me)},te=C=>{if(C==null)throw new Error("Node cannot be null or undefined");return{dom:C}},V={fromHtml:Ue,fromTag:dt,fromText:K,fromDom:te,fromPoint:(C,D,L)=>lt.from(C.dom.elementFromPoint(D,L)).map(te)},re=(C,D)=>{const L=C.dom;if(L.nodeType!==st)return!1;{const me=L;if(me.matches!==void 0)return me.matches(D);if(me.msMatchesSelector!==void 0)return me.msMatchesSelector(D);if(me.webkitMatchesSelector!==void 0)return me.webkitMatchesSelector(D);if(me.mozMatchesSelector!==void 0)return me.mozMatchesSelector(D);throw new Error("Browser lacks native selectors")}},de=(C,D)=>C.dom===D.dom,be=(C,D)=>{const L=C.dom,me=D.dom;return L===me?!1:L.contains(me)},ut=re,Ee=typeof window<"u"?window:Function("return this;")(),Ke=(C,D)=>{let L=D??Ee;for(let me=0;me<C.length&&L!==void 0&&L!==null;++me)L=L[C[me]];return L},xt=(C,D)=>{const L=C.split(".");return Ke(L,D)},ho=(C,D)=>xt(C,D),je=(C,D)=>{const L=ho(C,D);if(L==null)throw new Error(C+" not available on this browser");return L},Je=Object.getPrototypeOf,Ut=C=>je("HTMLElement",C),io=C=>{const D=xt("ownerDocument.defaultView",C);return qe(C)&&(Ut(D).prototype.isPrototypeOf(C)||/^HTML\w*Element$/.test(Je(C).constructor.name))},hn=C=>C.dom.nodeName.toLowerCase(),Lo=C=>C.dom.nodeType,Mo=C=>D=>Lo(D)===C,Hn=C=>Lo(C)===P||hn(C)==="#comment",Bo=C=>Wn(C)&&io(C.dom),Wn=Mo(st),bs=Mo(Nt),os=Mo(wn),Ys=C=>D=>Wn(D)&&hn(D)===C,vn=C=>lt.from(C.dom.parentNode).map(V.fromDom),jr=C=>lt.from(C.dom.parentElement).map(V.fromDom),Kt=C=>lt.from(C.dom.nextSibling).map(V.fromDom),Gn=C=>We(C.dom.childNodes,V.fromDom),hr=(C,D)=>{const L=C.dom.childNodes;return lt.from(L[D]).map(V.fromDom)},ar=C=>hr(C,0),Pr=C=>hr(C,C.dom.childNodes.length-1),$r=C=>os(C)&&po(C.dom.host),ys=C=>V.fromDom(C.dom.getRootNode()),ea=C=>{const D=ys(C);return $r(D)?lt.some(D):lt.none()},ia=C=>V.fromDom(C.dom.host),vs=C=>{const D=bs(C)?C.dom.parentNode:C.dom;if(D==null||D.ownerDocument===null)return!1;const L=D.ownerDocument;return ea(V.fromDom(D)).fold(()=>L.body.contains(D),St(vs,ia))};var Qo=(C,D,L,me,Te)=>C(L,me)?lt.some(L):So(Te)&&Te(L)?lt.none():D(L,me,Te);const Vs=(C,D,L)=>{let me=C.dom;const Te=So(L)?L:X;for(;me.parentNode;){me=me.parentNode;const It=V.fromDom(me);if(D(It))return lt.some(It);if(Te(It))break}return lt.none()},Le=(C,D,L)=>Qo((Te,It)=>It(Te),Vs,C,D,L),at=(C,D,L)=>Vs(C,me=>re(me,D),L),xo=(C,D,L)=>Qo((Te,It)=>re(Te,It),at,C,D,L),Ro=C=>xo(C,"[contenteditable]"),Vn=(C,D=!1)=>vs(C)?C.dom.isContentEditable:Ro(C).fold(to(D),L=>is(L)==="true"),is=C=>C.dom.contentEditable,_r=(C,D)=>{vn(C).each(me=>{me.dom.insertBefore(D.dom,C.dom)})},Cr=(C,D)=>{Kt(C).fold(()=>{vn(C).each(Te=>{ge(Te,D)})},me=>{_r(me,D)})},ir=(C,D)=>{ar(C).fold(()=>{ge(C,D)},me=>{C.dom.insertBefore(D.dom,me.dom)})},ge=(C,D)=>{C.dom.appendChild(D.dom)},le=(C,D)=>{ie(D,L=>{_r(C,L)})},tt=(C,D)=>{ie(D,L=>{ge(C,L)})},mt=C=>{C.dom.textContent="",ie(Gn(C),D=>{en(D)})},en=C=>{const D=C.dom;D.parentNode!==null&&D.parentNode.removeChild(D)};var kn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Rn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),lr=tinymce.util.Tools.resolve("tinymce.util.VK");const Ae=C=>We(C,V.fromDom),Nn=Object.keys,ve=(C,D)=>{const L=Nn(C);for(let me=0,Te=L.length;me<Te;me++){const It=L[me],Cn=C[It];D(Cn,It)}},Se=C=>(D,L)=>{C[L]=D},Mt=(C,D,L,me)=>{ve(C,(Te,It)=>{(D(Te,It)?L:me)(Te,It)})},jt=(C,D)=>{const L={};return Mt(C,D,Se(L),Vt),L},To=(C,D,L)=>{if(Ht(L)||Pt(L)||Ft(L))C.setAttribute(D,L+"");else throw console.error("Invalid call to Attribute.set. Key ",D,":: Value ",L,":: Element ",C),new Error("Attribute value was not simple")},Zo=(C,D)=>{const L=C.dom;ve(D,(me,Te)=>{To(L,Te,me)})},Ko=C=>Me(C.dom.attributes,(D,L)=>(D[L.name]=L.value,D),{}),jo=(C,D)=>V.fromDom(C.dom.cloneNode(D)),ln=C=>jo(C,!0),_n=(C,D)=>{const L=V.fromTag(D),me=Ko(C);return Zo(L,me),L},xs=(C,D)=>{const L=_n(C,D);Cr(C,L);const me=Gn(C);return tt(L,me),en(C),L};var Rs=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Zs=tinymce.util.Tools.resolve("tinymce.util.Tools");const Pa=C=>D=>po(D)&&D.nodeName.toLowerCase()===C,Za=C=>D=>po(D)&&C.test(D.nodeName),xn=C=>po(C)&&C.nodeType===3,ds=C=>po(C)&&C.nodeType===1,ms=Za(/^(OL|UL|DL)$/),la=Za(/^(OL|UL)$/),ua=Pa("ol"),Yr=Za(/^(LI|DT|DD)$/),ur=Za(/^(DT|DD)$/),sd=Za(/^(TH|TD)$/),Ac=Pa("br"),Ts=C=>{var D;return((D=C.parentNode)===null||D===void 0?void 0:D.firstChild)===C},Aa=(C,D)=>po(D)&&D.nodeName in C.schema.getTextBlockElements(),ka=(C,D)=>po(C)&&C.nodeName in D,Wr=(C,D)=>po(D)&&D.nodeName in C.schema.getVoidElements(),Mi=(C,D)=>Ac(D)?C.isBlock(D.nextSibling)&&!Ac(D.previousSibling):!1,za=(C,D,L)=>{const me=C.isEmpty(D);return L&&C.select("span[data-mce-type=bookmark]",D).length>0?!1:me},$a=(C,D)=>C.isChildOf(D,C.getRoot()),$c=C=>D=>D.options.get(C),fc=C=>{const D=C.options.register;D("lists_indent_on_tab",{processor:"boolean",default:!0})},yl=$c("lists_indent_on_tab"),hi=$c("forced_root_block"),ci=$c("forced_root_block_attrs"),mc=(C,D,L={})=>{const me=C.dom,Te=C.schema.getBlockElements(),It=me.createFragment(),Cn=hi(C),Yn=ci(C);let Tn,Sn,yr=!1;for(Sn=me.create(Cn,{...Yn,...L.style?{style:L.style}:{}}),ka(D.firstChild,Te)||It.appendChild(Sn);Tn=D.firstChild;){const fa=Tn.nodeName;!yr&&(fa!=="SPAN"||Tn.getAttribute("data-mce-type")!=="bookmark")&&(yr=!0),ka(Tn,Te)?(It.appendChild(Tn),Sn=null):(Sn||(Sn=me.create(Cn,Yn),It.appendChild(Sn)),Sn.appendChild(Tn))}return!yr&&Sn&&Sn.appendChild(me.create("br",{"data-mce-bogus":"1"})),It},ta=Rs.DOM,vl=(C,D,L)=>{const me=Sn=>{const yr=Sn.parentNode;yr&&Zs.each(Te,fa=>{yr.insertBefore(fa,L.parentNode)}),ta.remove(Sn)},Te=ta.select('span[data-mce-type="bookmark"]',D),It=mc(C,L),Cn=ta.createRng();Cn.setStartAfter(L),Cn.setEndAfter(D);const Yn=Cn.extractContents();for(let Sn=Yn.firstChild;Sn;Sn=Sn.firstChild)if(Sn.nodeName==="LI"&&C.dom.isEmpty(Sn)){ta.remove(Sn);break}C.dom.isEmpty(Yn)||ta.insertAfter(Yn,D),ta.insertAfter(It,D);const Tn=L.parentElement;Tn&&za(C.dom,Tn)&&me(Tn),ta.remove(L),za(C.dom,D)&&ta.remove(D)},xl=Ys("dd"),wl=Ys("dt"),Qi=(C,D)=>{xl(D)?xs(D,"dt"):wl(D)&&jr(D).each(L=>vl(C,L.dom,D.dom))},Xr=C=>{wl(C)&&xs(C,"dd")},gc=(C,D,L)=>{D==="Indent"?ie(L,Xr):ie(L,me=>Qi(C,me))},W=(C,D)=>{if(xn(C))return{container:C,offset:D};const L=kn.getNode(C,D);return xn(L)?{container:L,offset:D>=C.childNodes.length?L.data.length:0}:L.previousSibling&&xn(L.previousSibling)?{container:L.previousSibling,offset:L.previousSibling.data.length}:L.nextSibling&&xn(L.nextSibling)?{container:L.nextSibling,offset:0}:{container:C,offset:D}},fe=C=>{const D=C.cloneRange(),L=W(C.startContainer,C.startOffset);D.setStart(L.container,L.offset);const me=W(C.endContainer,C.endOffset);return D.setEnd(me.container,me.offset),D},$e=["OL","UL","DL"],Et=$e.join(","),oo=(C,D)=>{const L=D||C.selection.getStart(!0);return C.dom.getParent(L,Et,ii(C,L))},Ho=(C,D)=>po(C)&&D.length===1&&D[0]===C,es=C=>gn(C.querySelectorAll(Et),ms),Us=C=>{const D=oo(C),L=C.selection.getSelectedBlocks();return Ho(D,L)?es(D):gn(L,me=>ms(me)&&D!==me)},ls=(C,D)=>{const L=Zs.map(D,me=>{const Te=C.dom.getParent(me,"li,dd,dt",ii(C,me));return Te||me});return He(L)},Oo=C=>{const D=C.selection.getSelectedBlocks();return gn(ls(C,D),Yr)},Rr=C=>gn(Oo(C),ur),on=(C,D)=>{const L=C.dom.getParents(D,"TD,TH");return L.length>0?L[0]:C.getBody()},oa=(C,D)=>!ms(D)&&!Yr(D)&&co($e,L=>C.isValidChild(D.nodeName,L)),ii=(C,D)=>{const L=C.dom.getParents(D,C.dom.isBlock),me=It=>It.nodeName.toLowerCase()!==hi(C);return ot(L,It=>me(It)&&oa(C.schema,It)).getOr(C.getBody())},B=C=>vn(C).exists(D=>Yr(D.dom)&&ar(D).exists(L=>!ms(L.dom))&&Pr(D).exists(L=>!ms(L.dom))),Q=(C,D)=>{const L=C.dom.getParents(D,"ol,ul",ii(C,D));return yo(L)},xe=C=>{const D=Q(C,C.selection.getStart()),L=gn(C.selection.getSelectedBlocks(),la);return D.toArray().concat(L)},Ge=C=>{const D=C.selection.getStart();return C.dom.getParents(D,"ol,ul",ii(C,D))},Dt=C=>{const D=xe(C),L=Ge(C);return ot(L,me=>B(V.fromDom(me))).fold(()=>In(C,D),me=>[me])},In=(C,D)=>{const L=We(D,me=>Q(C,me).getOr(me));return He(L)},or=C=>/\btox\-/.test(C.className),Ns=(C,D)=>_(C,ms,sd).exists(L=>L.nodeName===D&&!or(L)),Qt=(C,D)=>D!==null&&!C.dom.isEditable(D),nr=C=>{const D=oo(C);return Qt(C,D)},_a=(C,D)=>{const L=C.dom.getParent(D,"ol,ul,dl");return Qt(C,L)},sc=(C,D)=>{const L=C.selection.getNode();return D({parents:C.dom.getParents(L),element:L}),C.on("NodeChange",D),()=>C.off("NodeChange",D)},Zn=(C,D)=>{const me=document.createDocumentFragment();return ie(C,Te=>{me.appendChild(Te.dom)}),V.fromDom(me)},rc=(C,D,L)=>C.dispatch("ListMutation",{action:D,element:L}),Zl=(C=>D=>D.replace(C,""))(/^\s+|\s+$/g),Xs=C=>C.length>0,Bi=C=>!Xs(C),Hd=C=>C.style!==void 0&&So(C.style.getPropertyValue),mm=(C,D,L)=>{if(!Ht(L))throw console.error("Invalid call to CSS.set. Property ",D,":: Value ",L,":: Element ",C),new Error("CSS value must be a string: "+L);Hd(C)&&C.style.setProperty(D,L)},wr=(C,D,L)=>{const me=C.dom;mm(me,D,L)},Vd=C=>ut(C,"OL,UL"),Jr=C=>ut(C,"LI"),Oa=C=>ar(C).exists(Vd),li=C=>Pr(C).exists(Vd),ui=C=>"listAttributes"in C,bu=C=>"isComment"in C,G=C=>"isFragment"in C,oe=C=>C.depth>0,Ze=C=>C.isSelected,Ct=C=>{const D=Gn(C),L=li(C)?D.slice(0,-1):D;return We(L,ln)},fn=(C,D,L)=>vn(C).filter(Wn).map(me=>({depth:D,dirty:!1,isSelected:L,content:Ct(C),itemAttributes:Ko(C),listAttributes:Ko(me),listType:hn(me),isInPreviousLi:!1})),Dn=(C,D)=>{ge(C.item,D.list)},As=C=>{for(let D=1;D<C.length;D++)Dn(C[D-1],C[D])},qs=(C,D)=>{Xe(yo(C),vt(D),Dn)},Da=(C,D)=>{const L={list:V.fromTag(D,C),item:V.fromTag("li",C)};return ge(L.list,L.item),L},ac=(C,D,L)=>{const me=[];for(let Te=0;Te<L;Te++)me.push(Da(C,ui(D)?D.listType:D.parentListType));return me},Qr=(C,D)=>{for(let L=0;L<C.length-1;L++)wr(C[L].item,"list-style-type","none");yo(C).each(L=>{ui(D)&&(Zo(L.list,D.listAttributes),Zo(L.item,D.itemAttributes)),tt(L.item,D.content)})},cc=(C,D)=>{hn(C.list)!==D.listType&&(C.list=xs(C.list,D.listType)),Zo(C.list,D.listAttributes)},Js=(C,D,L)=>{const me=V.fromTag("li",C);return Zo(me,D),tt(me,L),me},pc=(C,D)=>{ge(C.list,D),C.item=D},qa=(C,D,L)=>{const me=D.slice(0,L.depth);return yo(me).each(Te=>{if(ui(L)){const It=Js(C,L.itemAttributes,L.content);pc(Te,It),cc(Te,L)}else if(G(L))tt(Te.item,L.content);else{const It=V.fromHtml(`<!--${L.content}-->`);ge(Te.list,It)}}),me},Fr=(C,D,L)=>{const me=ac(C,L,L.depth-D.length);return As(me),Qr(me,L),qs(D,me),D.concat(me)},Sr=(C,D)=>{let L=lt.none();const me=Me(D,(Te,It,Cn)=>bu(It)?Cn===0?(L=lt.some(It),Te):qa(C,Te,It):It.depth>Te.length?Fr(C,Te,It):qa(C,Te,It),[]);return L.each(Te=>{const It=V.fromHtml(`<!--${Te.content}-->`);vt(me).each(Cn=>{ir(Cn.list,It)})}),vt(me).map(Te=>Te.list)},dr=(C,D)=>{switch(C){case"Indent":D.depth++;break;case"Outdent":D.depth--;break;case"Flatten":D.depth=0}D.dirty=!0},yu=(C,D)=>{ui(C)&&ui(D)&&(C.listType=D.listType,C.listAttributes={...D.listAttributes})},vu=C=>{C.listAttributes=jt(C.listAttributes,(D,L)=>L!=="start")},xu=(C,D)=>{const L=C[D].depth,me=It=>It.depth===L&&!It.dirty,Te=It=>It.depth<L;return _(wt(C.slice(0,D)),me,Te).orThunk(()=>_(C.slice(D+1),me,Te))},_f=C=>(ie(C,(D,L)=>{xu(C,L).fold(()=>{D.dirty&&ui(D)&&vu(D)},me=>yu(D,me))}),C),wu=C=>{let D=C;return{get:()=>D,set:Te=>{D=Te}}},Pi=(C,D,L,me)=>{var Te;if(Hn(me))return[{depth:C+1,content:(Te=me.dom.nodeValue)!==null&&Te!==void 0?Te:"",dirty:!1,isSelected:!1,isComment:!0}];D.each(Yn=>{de(Yn.start,me)&&L.set(!0)});const It=fn(me,C,L.get());D.each(Yn=>{de(Yn.end,me)&&L.set(!1)});const Cn=Pr(me).filter(Vd).map(Yn=>da(C,D,L,Yn)).getOr([]);return It.toArray().concat(Cn)},Cf=(C,D,L,me)=>ar(me).filter(Vd).fold(()=>Pi(C,D,L,me),Te=>{const It=Me(Gn(me),(Cn,Yn,Tn)=>{if(Tn===0)return Cn;if(Jr(Yn))return Cn.concat(Pi(C,D,L,Yn));{const Sn={isFragment:!0,depth:C,content:[Yn],isSelected:!1,dirty:!1,parentListType:hn(Te)};return Cn.concat(Sn)}},[]);return da(C,D,L,Te).concat(It)}),da=(C,D,L,me)=>bt(Gn(me),Te=>{const It=Vd(Te)?da:Cf,Cn=C+1;return It(Cn,D,L,Te)}),Sf=(C,D)=>{const L=wu(!1),me=0;return We(C,Te=>({sourceList:Te,entries:da(me,D,L,Te)}))},wg=(C,D)=>{const L=_f(D);return We(L,me=>{const Te=bu(me)?Zn([V.fromHtml(`<!--${me.content}-->`)]):Zn(me.content),It=ui(me)?me.itemAttributes:{};return V.fromDom(mc(C,Te.dom,It))})},kl=(C,D)=>{const L=_f(D);return Sr(C.contentDocument,L).toArray()},kg=(C,D)=>bt(Oe(D,oe),L=>vt(L).exists(oe)?kl(C,L):wg(C,L)),ku=(C,D)=>{ie(gn(C,Ze),L=>dr(D,L))},_g=C=>{const D=We(Oo(C),V.fromDom);return Xe(ot(D,Be(Oa)),ot(wt(D),Be(Oa)),(L,me)=>({start:L,end:me}))},ql=(C,D,L)=>{const me=Sf(D,_g(C));ie(me,Te=>{ku(Te.entries,L);const It=kg(C,Te.entries);ie(It,Cn=>{rc(C,L==="Indent"?"IndentList":"OutdentList",Cn.dom)}),le(Te.sourceList,It),en(Te.sourceList)})},Cg=(C,D)=>{const L=Ae(Dt(C)),me=Ae(Rr(C));let Te=!1;if(L.length||me.length){const It=C.selection.getBookmark();ql(C,L,D),gc(C,D,me),C.selection.moveToBookmark(It),C.selection.setRng(fe(C.selection.getRng())),C.nodeChanged(),Te=!0}return Te},Ef=(C,D)=>!nr(C)&&Cg(C,D),gm=C=>Ef(C,"Indent"),_u=C=>Ef(C,"Outdent"),pm=C=>Ef(C,"Flatten"),we="\uFEFF",Gl=C=>C===we,_l=(C,D,L)=>Vs(C,D,L).isSome(),Sg=(C,D)=>_l(C,nt(de,D));var Jh=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Cu=Rs.DOM,ts=C=>{const D={},L=me=>{let Te=C[me?"startContainer":"endContainer"],It=C[me?"startOffset":"endOffset"];if(ds(Te)){const Cn=Cu.create("span",{"data-mce-type":"bookmark"});Te.hasChildNodes()?(It=Math.min(It,Te.childNodes.length-1),me?Te.insertBefore(Cn,Te.childNodes[It]):Cu.insertAfter(Cn,Te.childNodes[It])):Te.appendChild(Cn),Te=Cn,It=0}D[me?"startContainer":"endContainer"]=Te,D[me?"startOffset":"endOffset"]=It};return L(!0),C.collapsed||L(),D},ga=C=>{const D=me=>{const Te=Yn=>{var Tn;let Sn=(Tn=Yn.parentNode)===null||Tn===void 0?void 0:Tn.firstChild,yr=0;for(;Sn;){if(Sn===Yn)return yr;(!ds(Sn)||Sn.getAttribute("data-mce-type")!=="bookmark")&&yr++,Sn=Sn.nextSibling}return-1};let It=C[me?"startContainer":"endContainer"],Cn=C[me?"startOffset":"endOffset"];if(It){if(ds(It)&&It.parentNode){const Yn=It;Cn=Te(It),It=It.parentNode,Cu.remove(Yn),!It.hasChildNodes()&&Cu.isBlock(It)&&It.appendChild(Cu.create("br"))}C[me?"startContainer":"endContainer"]=It,C[me?"startOffset":"endOffset"]=Cn}};D(!0),D();const L=Cu.createRng();return L.setStart(C.startContainer,C.startOffset),C.endContainer&&L.setEnd(C.endContainer,C.endOffset),fe(L)},$i=C=>{switch(C){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Su=(C,D,L)=>{const me=L["list-style-type"]?L["list-style-type"]:null;C.setStyle(D,"list-style-type",me)},Tf=(C,D)=>{Zs.each(D,(L,me)=>{C.setAttribute(me,L)})},Ud=(C,D,L)=>{Tf(D,L["list-attributes"]),Zs.each(C.select("li",D),me=>{Tf(me,L["list-item-attributes"])})},hc=(C,D,L)=>{Su(C,D,L),Ud(C,D,L)},Af=(C,D,L)=>{Zs.each(L,me=>C.setStyle(D,me,""))},Kl=(C,D)=>po(D)&&!ka(D,C.schema.getBlockElements()),zf=(C,D,L,me)=>{let Te=D[L?"startContainer":"endContainer"];const It=D[L?"startOffset":"endOffset"];ds(Te)&&(Te=Te.childNodes[Math.min(It,Te.childNodes.length-1)]||Te),!L&&Ac(Te.nextSibling)&&(Te=Te.nextSibling);const Cn=Tn=>{for(;!C.dom.isBlock(Tn)&&Tn.parentNode&&me!==Tn;)Tn=Tn.parentNode;return Tn},Yn=(Tn,Sn)=>{var yr;const fa=new Rn(Tn,Cn(Tn)),vi=Sn?"next":"prev";let Ql;for(;Ql=fa[vi]();)if(!(Wr(C,Ql)||Gl(Ql.textContent)||((yr=Ql.textContent)===null||yr===void 0?void 0:yr.length)===0))return lt.some(Ql);return lt.none()};if(L&&xn(Te))if(Gl(Te.textContent))Te=Yn(Te,!1).getOr(Te);else for(Te.parentNode!==null&&Kl(C,Te.parentNode)&&(Te=Te.parentNode);Te.previousSibling!==null&&(Kl(C,Te.previousSibling)||xn(Te.previousSibling));)Te=Te.previousSibling;if(!L&&xn(Te))if(Gl(Te.textContent))Te=Yn(Te,!0).getOr(Te);else for(Te.parentNode!==null&&Kl(C,Te.parentNode)&&(Te=Te.parentNode);Te.nextSibling!==null&&(Kl(C,Te.nextSibling)||xn(Te.nextSibling));)Te=Te.nextSibling;for(;Te.parentNode!==me;){const Tn=Te.parentNode;if(Aa(C,Te)||/^(TD|TH)$/.test(Tn.nodeName))return Te;Te=Tn}return Te},Yl=(C,D,L)=>{const me=[],Te=C.dom,It=zf(C,D,!0,L),Cn=zf(C,D,!1,L);let Yn;const Tn=[];for(let Sn=It;Sn&&(Tn.push(Sn),Sn!==Cn);Sn=Sn.nextSibling);return Zs.each(Tn,Sn=>{var yr;if(Aa(C,Sn)){me.push(Sn),Yn=null;return}if(Te.isBlock(Sn)||Ac(Sn)){Ac(Sn)&&Te.remove(Sn),Yn=null;return}const fa=Sn.nextSibling;if(Jh.isBookmarkNode(Sn)&&(ms(fa)||Aa(C,fa)||!fa&&Sn.parentNode===L)){Yn=null;return}Yn||(Yn=Te.create("p"),(yr=Sn.parentNode)===null||yr===void 0||yr.insertBefore(Yn,Sn),me.push(Yn)),Yn.appendChild(Sn)}),me},Ic=(C,D,L)=>{const me=C.getStyle(D,"list-style-type");let Te=L?L["list-style-type"]:"";return Te=Te===null?"":Te,me===Te},Eg=(C,D)=>{const L=C.selection.getStart(!0),me=zf(C,D,!0,C.getBody());return Sg(V.fromDom(me),V.fromDom(D.commonAncestorContainer))?D.commonAncestorContainer:L},jd=(C,D,L)=>{const me=C.selection.getRng();let Te="LI";const It=ii(C,Eg(C,me)),Cn=C.dom;if(Cn.getContentEditable(C.selection.getNode())==="false")return;D=D.toUpperCase(),D==="DL"&&(Te="DT");const Yn=ts(me),Tn=gn(Yl(C,me,It),C.dom.isEditable);Zs.each(Tn,Sn=>{let yr;const fa=Sn.previousSibling,vi=Sn.parentNode;Yr(vi)||(fa&&ms(fa)&&fa.nodeName===D&&Ic(Cn,fa,L)?(yr=fa,Sn=Cn.rename(Sn,Te),fa.appendChild(Sn)):(yr=Cn.create(D),vi.insertBefore(yr,Sn),yr.appendChild(Sn),Sn=Cn.rename(Sn,Te)),Af(Cn,Sn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),hc(Cn,yr,L),Wd(C.dom,yr))}),C.selection.setRng(ga(Yn))},Ia=(C,D)=>ms(C)&&C.nodeName===(D==null?void 0:D.nodeName),Yc=(C,D,L)=>{const me=C.getStyle(D,"list-style-type",!0),Te=C.getStyle(L,"list-style-type",!0);return me===Te},zc=(C,D)=>C.className===D.className,rd=(C,D,L)=>Ia(D,L)&&Yc(C,D,L)&&zc(D,L),Wd=(C,D)=>{let L,me=D.nextSibling;if(rd(C,D,me)){const Te=me;for(;L=Te.firstChild;)D.appendChild(L);C.remove(Te)}if(me=D.previousSibling,rd(C,D,me)){const Te=me;for(;L=Te.lastChild;)D.insertBefore(L,D.firstChild);C.remove(Te)}},Tg=(C,D,L,me)=>{if(D.nodeName!==L){const Te=C.dom.rename(D,L);hc(C.dom,Te,me),rc(C,$i(L),Te)}else hc(C.dom,D,me),rc(C,$i(L),D)},Zd=(C,D,L,me)=>{if(D.classList.forEach((Te,It,Cn)=>{Te.startsWith("tox-")&&(Cn.remove(Te),Cn.length===0&&D.removeAttribute("class"))}),D.nodeName!==L){const Te=C.dom.rename(D,L);hc(C.dom,Te,me),rc(C,$i(L),Te)}else hc(C.dom,D,me),rc(C,$i(L),D)},el=(C,D,L,me,Te)=>{const It=ms(D);if(It&&D.nodeName===me&&!Of(Te)&&!or(D))pm(C);else{jd(C,me,Te);const Cn=ts(C.selection.getRng()),Yn=It?[D,...L]:L,Tn=It&&or(D)?Zd:Tg;Zs.each(Yn,Sn=>{Tn(C,Sn,me,Te)}),C.selection.setRng(ga(Cn))}},Of=C=>"list-style-type"in C,Dp=(C,D,L,me)=>{if(D!==C.getBody())if(D)if(D.nodeName===L&&!Of(me)&&!or(D))pm(C);else{const Te=ts(C.selection.getRng());or(D)&&D.classList.forEach((Cn,Yn,Tn)=>{Cn.startsWith("tox-")&&(Tn.remove(Cn),Tn.length===0&&D.removeAttribute("class"))}),hc(C.dom,D,me);const It=C.dom.rename(D,L);Wd(C.dom,It),C.selection.setRng(ga(Te)),jd(C,L,me),rc(C,$i(L),It)}else jd(C,L,me),rc(C,$i(L),D)},Ag=(C,D,L)=>{const me=oo(C);if(_a(C,me))return;const Te=Us(C),It=qe(L)?L:{};Te.length>0?el(C,me,Te,D,It):Dp(C,me,D,It)},Dy=Rs.DOM,hm=(C,D)=>{const L=D.parentElement;if(L&&L.nodeName==="LI"&&L.firstChild===D){const me=L.previousSibling;me&&me.nodeName==="LI"?(me.appendChild(D),za(C,L)&&Dy.remove(L)):Dy.setStyle(L,"listStyleType","none")}if(ms(L)){const me=L.previousSibling;me&&me.nodeName==="LI"&&me.appendChild(D)}},qd=(C,D)=>{const L=Zs.grep(C.select("ol,ul",D));Zs.each(L,me=>{hm(C,me)})},ad=(C,D,L,me)=>{let Te=D.startContainer;const It=D.startOffset;if(xn(Te)&&(L?It<Te.data.length:It>0))return Te;const Cn=C.schema.getNonEmptyElements();ds(Te)&&(Te=kn.getNode(Te,It));const Yn=new Rn(Te,me);L&&Mi(C.dom,Te)&&Yn.next();const Tn=L?Yn.next.bind(Yn):Yn.prev2.bind(Yn);for(;Te=Tn();)if(Te.nodeName==="LI"&&!Te.hasChildNodes()||Cn[Te.nodeName]||xn(Te)&&Te.data.length>0)return Te;return null},Gd=(C,D)=>{const L=D.childNodes;return L.length===1&&!ms(L[0])&&C.isBlock(L[0])},Nr=C=>lt.from(C).map(V.fromDom).filter(Bo).exists(D=>Vn(D)&&!ko(["details"],hn(D))),Lr=(C,D)=>{Gd(C,D)&&Nr(D.firstChild)&&C.remove(D.firstChild,!0)},bi=(C,D,L)=>{let me;const Te=Gd(C,L)?L.firstChild:L;if(Lr(C,D),!za(C,D,!0))for(;me=D.firstChild;)Te.appendChild(me)},cd=(C,D,L)=>{let me;const Te=D.parentNode;if(!$a(C,D)||!$a(C,L))return;ms(L.lastChild)&&(me=L.lastChild),Te===L.lastChild&&Ac(Te.previousSibling)&&C.remove(Te.previousSibling);const It=L.lastChild;It&&Ac(It)&&D.hasChildNodes()&&C.remove(It),za(C,L,!0)&&mt(V.fromDom(L)),bi(C,D,L),me&&L.appendChild(me);const Yn=be(V.fromDom(L),V.fromDom(D))?C.getParents(D,ms,L):[];C.remove(D),ie(Yn,Tn=>{za(C,Tn)&&Tn!==C.getRoot()&&C.remove(Tn)})},zg=(C,D,L)=>{mt(V.fromDom(L)),cd(C.dom,D,L),C.selection.setCursorLocation(L,0)},Ca=(C,D,L,me)=>{const Te=C.dom;if(Te.isEmpty(me))zg(C,L,me);else{const It=ts(D);cd(Te,L,me),C.selection.setRng(ga(It))}},nn=(C,D,L,me)=>{const Te=ts(D);cd(C.dom,L,me);const It=ga(Te);C.selection.setRng(It)},Xl=(C,D)=>{const L=C.dom,me=C.selection,Te=me.getStart(),It=on(C,Te),Cn=L.getParent(me.getStart(),"LI",It);if(Cn){const Yn=Cn.parentElement;if(Yn===C.getBody()&&za(L,Yn))return!0;const Tn=fe(me.getRng()),Sn=L.getParent(ad(C,Tn,D,It),"LI",It),yr=Sn&&(D?L.isChildOf(Cn,Sn):L.isChildOf(Sn,Cn));if(Sn&&Sn!==Cn&&!yr)return C.undoManager.transact(()=>{D?Ca(C,Tn,Sn,Cn):Ts(Cn)?_u(C):nn(C,Tn,Cn,Sn)}),!0;if(yr&&!D&&Sn!==Cn)return C.undoManager.transact(()=>{if(Tn.commonAncestorContainer.parentElement){const fa=ts(Tn),vi=Tn.commonAncestorContainer.parentElement;bi(L,Tn.commonAncestorContainer.parentElement,Sn),vi.remove();const Ql=ga(fa);C.selection.setRng(Ql)}}),!0;if(!Sn&&!D&&Tn.startOffset===0&&Tn.endOffset===0)return C.undoManager.transact(()=>{pm(C)}),!0}return!1},bm=(C,D,L)=>{const me=C.getParent(D.parentNode,C.isBlock,L);C.remove(D),me&&C.isEmpty(me)&&C.remove(me)},Ga=(C,D)=>{const L=C.dom,me=C.selection.getStart(),Te=on(C,me),It=L.getParent(me,L.isBlock,Te);if(It&&L.isEmpty(It,void 0,{checkRootAsContent:!0})){const Cn=fe(C.selection.getRng()),Yn=L.getParent(ad(C,Cn,D,Te),"LI",Te);if(Yn){const Tn=vi=>ko(["td","th","caption"],hn(vi)),Sn=vi=>vi.dom===Te,yr=Le(V.fromDom(Yn),Tn,Sn),fa=Le(V.fromDom(Cn.startContainer),Tn,Sn);return ke(yr,fa,de)?(C.undoManager.transact(()=>{const vi=Yn.parentNode;bm(L,It,Te),Wd(L,vi),C.selection.select(Yn,!0),C.selection.collapse(D)}),!0):!1}}return!1},js=(C,D)=>Xl(C,D)||Ga(C,D),Eu=C=>{const D=C.selection.getStart(),L=on(C,D);return C.dom.getParent(D,"LI,DT,DD",L)||Oo(C).length>0},Og=C=>Eu(C)?(C.undoManager.transact(()=>{C.execCommand("Delete"),qd(C.dom,C.getBody())}),!0):!1,Kd=(C,D)=>{const L=C.selection;return!_a(C,L.getNode())&&(L.isCollapsed()?js(C,D):Og(C))},Rp=C=>{C.on("ExecCommand",D=>{const L=D.command.toLowerCase();(L==="delete"||L==="forwarddelete")&&Eu(C)&&qd(C.dom,C.getBody())}),C.on("keydown",D=>{D.keyCode===lr.BACKSPACE?Kd(C,!1)&&D.preventDefault():D.keyCode===lr.DELETE&&Kd(C,!0)&&D.preventDefault()})},Kn=C=>({backspaceDelete:D=>{Kd(C,D)}}),Sa=(C,D)=>{const L=oo(C);L===null||_a(C,L)||C.undoManager.transact(()=>{qe(D.styles)&&C.dom.setStyles(L,D.styles),qe(D.attrs)&&ve(D.attrs,(me,Te)=>C.dom.setAttrib(L,Te,me))})},id=C=>{const D=wt(Zl(C).split("")),L=We(D,(me,Te)=>{const It=me.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Te)*It});return Me(L,(me,Te)=>me+Te,0)},ic=C=>{if(C--,C<0)return"";{const D=C%26,L=Math.floor(C/26),me=ic(L),Te=String.fromCharCode(65+D);return me+Te}},Fc=C=>/^[A-Z]+$/.test(C),yi=C=>/^[a-z]+$/.test(C),Fa=C=>/^[0-9]+$/.test(C),Oc=C=>Fa(C)?2:Fc(C)?0:yi(C)?1:Bi(C)?3:4,di=C=>{switch(Oc(C)){case 2:return lt.some({listStyleType:lt.none(),start:C});case 0:return lt.some({listStyleType:lt.some("upper-alpha"),start:id(C).toString()});case 1:return lt.some({listStyleType:lt.some("lower-alpha"),start:id(C).toString()});case 3:return lt.some({listStyleType:lt.none(),start:""});case 4:return lt.none()}},ym=C=>{const D=parseInt(C.start,10);return Zt(C.listStyleType,"upper-alpha")?ic(D):Zt(C.listStyleType,"lower-alpha")?ic(D).toLowerCase():C.start},Zr=C=>{const D=oo(C);!ua(D)||_a(C,D)||C.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:ym({start:C.dom.getAttrib(D,"start","1"),listStyleType:lt.from(C.dom.getStyle(D,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:L=>{const me=L.getData();di(me.start).each(Te=>{C.execCommand("mceListUpdate",!1,{attrs:{start:Te.start==="1"?"":Te.start},styles:{"list-style-type":Te.listStyleType.getOr("")}})}),L.close()}})},ld=(C,D)=>()=>{const L=oo(C);return po(L)&&L.nodeName===D},na=C=>{C.addCommand("mceListProps",()=>{Zr(C)})},Tu=C=>{C.on("BeforeExecCommand",D=>{const L=D.command.toLowerCase();L==="indent"?gm(C):L==="outdent"&&_u(C)}),C.addCommand("InsertUnorderedList",(D,L)=>{Ag(C,"UL",L)}),C.addCommand("InsertOrderedList",(D,L)=>{Ag(C,"OL",L)}),C.addCommand("InsertDefinitionList",(D,L)=>{Ag(C,"DL",L)}),C.addCommand("RemoveList",()=>{pm(C)}),na(C),C.addCommand("mceListUpdate",(D,L)=>{qe(L)&&Sa(C,L)}),C.addQueryStateHandler("InsertUnorderedList",ld(C,"UL")),C.addQueryStateHandler("InsertOrderedList",ld(C,"OL")),C.addQueryStateHandler("InsertDefinitionList",ld(C,"DL"))};var ud=tinymce.util.Tools.resolve("tinymce.html.Node");const sr=C=>C.type===3,Ii=C=>C.length===0,Np=C=>{const D=(Te,It)=>{const Cn=ud.create("li");ie(Te,Yn=>Cn.append(Yn)),It?C.insert(Cn,It,!0):C.append(Cn)},L=(Te,It)=>sr(It)?[...Te,It]:!Ii(Te)&&!sr(It)?(D(Te,It),[]):Te,me=Me(C.children(),L,[]);Ii(me)||D(me)},Jl=C=>{C.on("PreInit",()=>{const{parser:D}=C;D.addNodeFilter("ul,ol",L=>ie(L,Np))})},br=C=>{C.on("keydown",D=>{D.keyCode!==lr.TAB||lr.metaKeyPressed(D)||C.undoManager.transact(()=>{(D.shiftKey?_u(C):gm(C))&&D.preventDefault()})})},Au=C=>{yl(C)&&br(C),Rp(C)},Xc=(C,D)=>L=>{const me=Te=>{L.setActive(Ns(Te.parents,D)),L.setEnabled(!_a(C,Te.element)&&C.selection.isEditable())};return L.setEnabled(C.selection.isEditable()),sc(C,me)},ss=C=>{const D=L=>()=>C.execCommand(L);C.hasPlugin("advlist")||(C.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:D("InsertOrderedList"),onSetup:Xc(C,"OL")}),C.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:D("InsertUnorderedList"),onSetup:Xc(C,"UL")}))},dd=(C,D)=>L=>sc(C,Te=>L.setEnabled(Ns(Te.parents,D)&&!_a(C,Te.element))),Df=C=>{const D={text:"List properties...",icon:"ordered-list",onAction:()=>C.execCommand("mceListProps"),onSetup:dd(C,"OL")};C.ui.registry.addMenuItem("listprops",D),C.ui.registry.addContextMenu("lists",{update:L=>{const me=oo(C,L);return ua(me)?["listprops"]:[]}})};var vm=()=>{ro.add("lists",C=>(fc(C),Jl(C),C.hasPlugin("rtc",!0)?na(C):(Au(C),Tu(C)),ss(C),Df(C),Kn(C)))};vm()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=(ge,le,tt)=>{var mt;return tt(ge,le.prototype)?!0:((mt=ge.constructor)===null||mt===void 0?void 0:mt.name)===le.name},Wt=ge=>{const le=typeof ge;return ge===null?"null":le==="object"&&Array.isArray(ge)?"array":le==="object"&&Gt(ge,String,(tt,mt)=>mt.isPrototypeOf(tt))?"string":le},Jt=ge=>le=>Wt(le)===ge,Lt=Jt("string"),Ht=Jt("object"),qe=Jt("array"),Re=ge=>ge==null,Pt=ge=>!Re(ge);class so{constructor(le,tt){this.tag=le,this.value=tt}static some(le){return new so(!0,le)}static none(){return so.singletonNone}fold(le,tt){return this.tag?tt(this.value):le()}isSome(){return this.tag}isNone(){return!this.tag}map(le){return this.tag?so.some(le(this.value)):so.none()}bind(le){return this.tag?le(this.value):so.none()}exists(le){return this.tag&&le(this.value)}forall(le){return!this.tag||le(this.value)}filter(le){return!this.tag||le(this.value)?this:so.none()}getOr(le){return this.tag?this.value:le}or(le){return this.tag?this:le}getOrThunk(le){return this.tag?this.value:le()}orThunk(le){return this.tag?this:le()}getOrDie(le){if(this.tag)return this.value;throw new Error(le??"Called getOrDie on None")}static from(le){return Pt(le)?so.some(le):so.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(le){this.tag&&le(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}so.singletonNone=new so(!1);const po=Array.prototype.push,So=(ge,le)=>{for(let tt=0,mt=ge.length;tt<mt;tt++){const en=ge[tt];le(en,tt)}},Ft=ge=>{const le=[];for(let tt=0,mt=ge.length;tt<mt;++tt){if(!qe(ge[tt]))throw new Error("Arr.flatten item "+tt+" was not an array, input: "+ge);po.apply(le,ge[tt])}return le},Vt=ge=>{let le=ge;return{get:()=>le,set:en=>{le=en}}},St=Object.keys,to=Object.hasOwnProperty,Qe=(ge,le)=>{const tt=St(ge);for(let mt=0,en=tt.length;mt<en;mt++){const kn=tt[mt],Rn=ge[kn];le(Rn,kn)}},nt=(ge,le)=>Be(ge,le)?so.from(ge[le]):so.none(),Be=(ge,le)=>to.call(ge,le),X=ge=>le=>le.options.get(ge),lt=ge=>{const le=ge.options.register;le("audio_template_callback",{processor:"function"}),le("video_template_callback",{processor:"function"}),le("iframe_template_callback",{processor:"function"}),le("media_live_embeds",{processor:"boolean",default:!0}),le("media_filter_html",{processor:"boolean",default:!0}),le("media_url_resolver",{processor:"function"}),le("media_alt_source",{processor:"boolean",default:!0}),le("media_poster",{processor:"boolean",default:!0}),le("media_dimensions",{processor:"boolean",default:!0})},Go=X("audio_template_callback"),pt=X("video_template_callback"),U=X("iframe_template_callback"),zt=X("media_live_embeds"),ko=X("media_filter_html"),co=X("media_url_resolver"),We=X("media_alt_source"),ie=X("media_poster"),gn=X("media_dimensions");var Oe=tinymce.util.Tools.resolve("tinymce.util.Tools"),Me=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_=tinymce.util.Tools.resolve("tinymce.html.DomParser");const ot=Me.DOM,ue=ge=>ge.replace(/px$/,""),bt=ge=>{const le=ge.attr("style"),tt=le?ot.parseStyle(le):{};return{type:"ephox-embed-iri",source:ge.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:nt(tt,"max-width").map(ue).getOr(""),height:nt(tt,"max-height").map(ue).getOr("")}},wt=(ge,le)=>{let tt={};const en=_({validate:!1,forced_root_block:!1},le).parse(ge);for(let kn=en;kn;kn=kn.walk())if(kn.type===1){const Rn=kn.name;if(kn.attr("data-ephox-embed-iri")){tt=bt(kn);break}else!tt.source&&Rn==="param"&&(tt.source=kn.attr("movie")),(Rn==="iframe"||Rn==="object"||Rn==="embed"||Rn==="video"||Rn==="audio")&&(tt.type||(tt.type=Rn),tt=Oe.extend(kn.attributes.map,tt)),Rn==="source"&&(tt.source?tt.altsource||(tt.altsource=kn.attr("src")):tt.source=kn.attr("src")),Rn==="img"&&!tt.poster&&(tt.poster=kn.attr("src"))}return tt.source=tt.source||tt.src||"",tt.altsource=tt.altsource||"",tt.poster=tt.poster||"",tt},ye=ge=>{var le;const tt={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},mt=(le=ge.toLowerCase().split(".").pop())!==null&&le!==void 0?le:"";return nt(tt,mt).getOr("")};var vt=tinymce.util.Tools.resolve("tinymce.html.Node"),yo=tinymce.util.Tools.resolve("tinymce.html.Serializer");const He=(ge,le={})=>_({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...le},ge),Zt=Me.DOM,ke=ge=>/^[0-9.]+$/.test(ge)?ge+"px":ge,Xe=(ge,le)=>{const tt=le.attr("style"),mt=tt?Zt.parseStyle(tt):{};Pt(ge.width)&&(mt["max-width"]=ke(ge.width)),Pt(ge.height)&&(mt["max-height"]=ke(ge.height)),le.attr("style",Zt.serializeStyle(mt))},P=["source","altsource"],wn=(ge,le,tt,mt)=>{let en=0,kn=0;const Rn=He(mt);Rn.addNodeFilter("source",Ae=>en=Ae.length);const lr=Rn.parse(ge);for(let Ae=lr;Ae;Ae=Ae.walk())if(Ae.type===1){const Nn=Ae.name;if(Ae.attr("data-ephox-embed-iri")){Xe(le,Ae);break}else{switch(Nn){case"video":case"object":case"embed":case"img":case"iframe":le.height!==void 0&&le.width!==void 0&&(Ae.attr("width",le.width),Ae.attr("height",le.height));break}if(tt)switch(Nn){case"video":Ae.attr("poster",le.poster),Ae.attr("src",null);for(let Se=en;Se<2;Se++)if(le[P[Se]]){const Mt=new vt("source",1);Mt.attr("src",le[P[Se]]),Mt.attr("type",le[P[Se]+"mime"]||null),Ae.append(Mt)}break;case"iframe":Ae.attr("src",le.source);break;case"object":const ve=Ae.getAll("img").length>0;if(le.poster&&!ve){Ae.attr("src",le.poster);const Se=new vt("img",1);Se.attr("src",le.poster),Se.attr("width",le.width),Se.attr("height",le.height),Ae.append(Se)}break;case"source":if(kn<2&&(Ae.attr("src",le[P[kn]]),Ae.attr("type",le[P[kn]+"mime"]||null),!le[P[kn]])){Ae.remove();continue}kn++;break;case"img":le.poster||Ae.remove();break}}}return yo({},mt).serialize(lr)},st=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Nt=ge=>{const le=ge.match(/^(https?:\/\/|www\.)(.+)$/i);return le&&le.length>1?le[1]==="www."?"https://":le[1]:"https://"},Ue=(ge,le)=>{const tt=Nt(le),mt=ge.regex.exec(le);let en=tt+ge.url;if(Pt(mt))for(let kn=0;kn<mt.length;kn++)en=en.replace("$"+kn,()=>mt[kn]?mt[kn]:"");return en.replace(/\?$/,"")},dt=ge=>{const le=st.filter(tt=>tt.regex.test(ge));return le.length>0?Oe.extend({},le[0],{url:Ue(le[0],ge)}):null},K=(ge,le)=>{if(le)return le(ge);{const tt=ge.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+ge.source+'" width="'+ge.width+'" height="'+ge.height+'"'+tt+"></iframe>"}},te=ge=>{let le='<object data="'+ge.source+'" width="'+ge.width+'" height="'+ge.height+'" type="application/x-shockwave-flash">';return ge.poster&&(le+='<img src="'+ge.poster+'" width="'+ge.width+'" height="'+ge.height+'" />'),le+="</object>",le},he=(ge,le)=>le?le(ge):'<audio controls="controls" src="'+ge.source+'">'+(ge.altsource?`
<source src="`+ge.altsource+'"'+(ge.altsourcemime?' type="'+ge.altsourcemime+'"':"")+` />
`:"")+"</audio>",V=(ge,le)=>le?le(ge):'<video width="'+ge.width+'" height="'+ge.height+'"'+(ge.poster?' poster="'+ge.poster+'"':"")+` controls="controls">
<source src="`+ge.source+'"'+(ge.sourcemime?' type="'+ge.sourcemime+'"':"")+` />
`+(ge.altsource?'<source src="'+ge.altsource+'"'+(ge.altsourcemime?' type="'+ge.altsourcemime+'"':"")+` />
`:"")+"</video>",re=(ge,le)=>{var tt;const mt=Oe.extend({},le);if(!mt.source&&(Oe.extend(mt,wt((tt=mt.embed)!==null&&tt!==void 0?tt:"",ge.schema)),!mt.source))return"";mt.altsource||(mt.altsource=""),mt.poster||(mt.poster=""),mt.source=ge.convertURL(mt.source,"source"),mt.altsource=ge.convertURL(mt.altsource,"source"),mt.sourcemime=ye(mt.source),mt.altsourcemime=ye(mt.altsource),mt.poster=ge.convertURL(mt.poster,"poster");const en=dt(mt.source);if(en&&(mt.source=en.url,mt.type=en.type,mt.allowfullscreen=en.allowFullscreen,mt.width=mt.width||String(en.w),mt.height=mt.height||String(en.h)),mt.embed)return wn(mt.embed,mt,!0,ge.schema);{const kn=Go(ge),Rn=pt(ge),lr=U(ge);return mt.width=mt.width||"300",mt.height=mt.height||"150",Oe.each(mt,(Ae,Nn)=>{mt[Nn]=ge.dom.encode(""+Ae)}),mt.type==="iframe"?K(mt,lr):mt.sourcemime==="application/x-shockwave-flash"?te(mt):mt.sourcemime.indexOf("audio")!==-1?he(mt,kn):V(mt,Rn)}},de=ge=>ge.hasAttribute("data-mce-object")||ge.hasAttribute("data-ephox-embed-iri"),be=ge=>{ge.on("mousedown",le=>{const tt=ge.dom.getParent(le.target,".mce-preview-object");tt&&ge.dom.getAttrib(tt,"data-mce-selected")==="2"&&le.stopImmediatePropagation()}),ge.on("click keyup touchend",()=>{const le=ge.selection.getNode();le&&ge.dom.hasClass(le,"mce-preview-object")&&ge.dom.getAttrib(le,"data-mce-selected")&&le.setAttribute("data-mce-selected","2")}),ge.on("ObjectResized",le=>{const tt=le.target;if(tt.getAttribute("data-mce-object")){let mt=tt.getAttribute("data-mce-html");mt&&(mt=unescape(mt),tt.setAttribute("data-mce-html",escape(wn(mt,{width:String(le.width),height:String(le.height)},!1,ge.schema))))}})},ut={},Ee=(ge,le,tt)=>new Promise((mt,en)=>{const kn=Rn=>(Rn.html&&(ut[ge.source]=Rn),mt({url:ge.source,html:Rn.html?Rn.html:le(ge)}));ut[ge.source]?kn(ut[ge.source]):tt({url:ge.source}).then(kn).catch(en)}),Ke=(ge,le)=>Promise.resolve({html:le(ge),url:ge.source}),xt=ge=>le=>re(ge,le),ho=(ge,le)=>{const tt=co(ge);return tt?Ee(le,xt(ge),tt):Ke(le,xt(ge))},je=ge=>Be(ut,ge),Je=(ge,le)=>nt(le,ge).bind(tt=>nt(tt,"meta")),Ut=(ge,le,tt)=>mt=>{const en=()=>nt(ge,mt),kn=()=>nt(le,mt),Rn=Nn=>nt(Nn,"value").bind(ve=>ve.length>0?so.some(ve):so.none()),lr=()=>en().bind(Nn=>Ht(Nn)?Rn(Nn).orThunk(kn):kn().orThunk(()=>so.from(Nn))),Ae=()=>kn().orThunk(()=>en().bind(Nn=>Ht(Nn)?Rn(Nn):so.from(Nn)));return{[mt]:(mt===tt?lr():Ae()).getOr("")}},io=(ge,le)=>{const tt={};return nt(ge,"dimensions").each(mt=>{So(["width","height"],en=>{nt(le,en).orThunk(()=>nt(mt,en)).each(kn=>tt[en]=kn)})}),tt},hn=(ge,le)=>{const tt=le&&le!=="dimensions"?Je(le,ge).getOr({}):{},mt=Ut(ge,tt,le);return{...mt("source"),...mt("altsource"),...mt("poster"),...mt("embed"),...io(ge,tt)}},Lo=ge=>{const le={...ge,source:{value:nt(ge,"source").getOr("")},altsource:{value:nt(ge,"altsource").getOr("")},poster:{value:nt(ge,"poster").getOr("")}};return So(["width","height"],tt=>{nt(ge,tt).each(mt=>{const en=le.dimensions||{};en[tt]=mt,le.dimensions=en})}),le},Mo=ge=>le=>{const tt=le&&le.msg?"Media embed handler error: "+le.msg:"Media embed handler threw unknown error.";ge.notificationManager.open({type:"error",text:tt})},Hn=ge=>{const le=ge.selection.getNode(),tt=de(le)?ge.serializer.serialize(le,{selection:!0}):"",mt=wt(tt,ge.schema),kn=(()=>{if(os(mt.source,mt.type)){const Rn=ge.dom.getRect(le);return{width:Rn.w.toString().replace(/px$/,""),height:Rn.h.toString().replace(/px$/,"")}}else return{}})();return{embed:tt,...mt,...kn}},Bo=(ge,le)=>tt=>{if(Lt(tt.url)&&tt.url.trim().length>0){const mt=tt.html,kn={...wt(mt,le.schema),source:tt.url,embed:mt};ge.setData(Lo(kn))}},Wn=(ge,le)=>{const tt=ge.dom.select("*[data-mce-object]");for(let mt=0;mt<le.length;mt++)for(let en=tt.length-1;en>=0;en--)le[mt]===tt[en]&&tt.splice(en,1);ge.selection.select(tt[0])},bs=(ge,le)=>{const tt=ge.dom.select("*[data-mce-object]");ge.insertContent(le),Wn(ge,tt),ge.nodeChanged()},os=(ge,le)=>Pt(le)&&le==="ephox-embed-iri"&&Pt(dt(ge)),Ys=(ge,le)=>((mt,en)=>mt.width!==en.width||mt.height!==en.height)(ge,le)&&os(le.source,ge.type),vn=(ge,le,tt)=>{var mt;le.embed=Ys(ge,le)&&gn(tt)?re(tt,{...le,embed:""}):wn((mt=le.embed)!==null&&mt!==void 0?mt:"",le,!1,tt.schema),le.embed&&(ge.source===le.source||je(le.source))?bs(tt,le.embed):ho(tt,le).then(en=>{bs(tt,en.html)}).catch(Mo(tt))},jr=ge=>{const le=Hn(ge),tt=Vt(le),mt=Lo(le),en=(jo,ln)=>{const _n=hn(ln.getData(),"source");jo.source!==_n.source&&(Bo(Ko,ge)({url:_n.source,html:""}),ho(ge,_n).then(Bo(Ko,ge)).catch(Mo(ge)))},kn=jo=>{var ln;const _n=hn(jo.getData()),xs=wt((ln=_n.embed)!==null&&ln!==void 0?ln:"",ge.schema);jo.setData(Lo(xs))},Rn=(jo,ln,_n)=>{const xs=hn(jo.getData(),ln),Rs=Ys(_n,xs)&&gn(ge)?{...xs,embed:""}:xs,Zs=re(ge,Rs);jo.setData(Lo({...Rs,embed:Zs}))},lr=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],Ae=gn(ge)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Nn={title:"General",name:"general",items:Ft([lr,Ae])},Se={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},Mt=[];We(ge)&&Mt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),ie(ge)&&Mt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const jt={title:"Advanced",name:"advanced",items:Mt},To=[Nn,Se];Mt.length>0&&To.push(jt);const Zo={type:"tabpanel",tabs:To},Ko=ge.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Zo,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:jo=>{const ln=hn(jo.getData());vn(tt.get(),ln,ge),jo.close()},onChange:(jo,ln)=>{switch(ln.name){case"source":en(tt.get(),jo);break;case"embed":kn(jo);break;case"dimensions":case"altsource":case"poster":Rn(jo,ln.name,tt.get());break}tt.set(hn(jo.getData()))},initialData:mt})},Kt=ge=>({showDialog:()=>{jr(ge)}}),Gn=ge=>{const le=()=>{jr(ge)};ge.addCommand("mceMedia",le)},hr=(ge,le,tt)=>ge.length>=le.length&&ge.substr(tt,tt+le.length)===le,ar=(ge,le)=>hr(ge,le,0);var Pr=tinymce.util.Tools.resolve("tinymce.Env");const $r=ge=>{const le=ge.name;return le==="iframe"||le==="video"||le==="audio"},ys=(ge,le,tt,mt=null)=>{const en=ge.attr(tt);return Pt(en)?en:Be(le,tt)?null:mt},ea=(ge,le,tt)=>{const mt=le.name==="img"||ge.name==="video",en=mt?"300":null,kn=ge.name==="audio"?"30":"150",Rn=mt?kn:null;le.attr({width:ys(ge,tt,"width",en),height:ys(ge,tt,"height",Rn)})},ia=(ge,le,tt,mt)=>{const en=He(ge.schema).parse(mt,{context:le});for(;en.firstChild;)tt.append(en.firstChild)},vs=(ge,le)=>{const tt=le.name,mt=new vt("img",1);return Vs(ge,le,mt),ea(le,mt,{}),mt.attr({style:le.attr("style"),src:Pr.transparentSrc,"data-mce-object":tt,class:"mce-object mce-object-"+tt}),mt},Qo=(ge,le)=>{var tt;const mt=le.name,en=new vt("span",1);en.attr({contentEditable:"false",style:le.attr("style"),"data-mce-object":mt,class:"mce-preview-object mce-object-"+mt}),Vs(ge,le,en);const kn=ge.dom.parseStyle((tt=le.attr("style"))!==null&&tt!==void 0?tt:""),Rn=new vt(mt,1);if(ea(le,Rn,kn),Rn.attr({src:le.attr("src"),style:le.attr("style"),class:le.attr("class")}),mt==="iframe")Rn.attr({allowfullscreen:le.attr("allowfullscreen"),frameborder:"0",sandbox:le.attr("sandbox"),referrerpolicy:le.attr("referrerpolicy")});else{So(["controls","crossorigin","currentTime","loop","muted","poster","preload"],ve=>{Rn.attr(ve,le.attr(ve))});const Nn=en.attr("data-mce-html");Pt(Nn)&&ia(ge,mt,Rn,unescape(Nn))}const lr=new vt("span",1);return lr.attr("class","mce-shim"),en.append(Rn),en.append(lr),en},Vs=(ge,le,tt)=>{var mt;const en=(mt=le.attributes)!==null&&mt!==void 0?mt:[];let kn=en.length;for(;kn--;){const Nn=en[kn].name;let ve=en[kn].value;Nn!=="width"&&Nn!=="height"&&Nn!=="style"&&!ar(Nn,"data-mce-")&&((Nn==="data"||Nn==="src")&&(ve=ge.convertURL(ve,Nn)),tt.attr("data-mce-p-"+Nn,ve))}const Rn=yo({inner:!0},ge.schema),lr=new vt("div",1);So(le.children(),Nn=>lr.append(Nn));const Ae=Rn.serialize(lr);Ae&&(tt.attr("data-mce-html",escape(Ae)),tt.empty())},Le=ge=>{const le=ge.attr("class");return Lt(le)&&/\btiny-pageembed\b/.test(le)},at=ge=>{let le=ge;for(;le=le.parent;)if(le.attr("data-ephox-embed-iri")||Le(le))return!0;return!1},xo=ge=>le=>{let tt=le.length,mt;for(;tt--;)mt=le[tt],mt.parent&&(mt.parent.attr("data-mce-object")||($r(mt)&&zt(ge)?at(mt)||mt.replace(Qo(ge,mt)):at(mt)||mt.replace(vs(ge,mt))))},Ro=(ge,le,tt)=>{const mt=ge.options.get,en=mt("xss_sanitization"),kn=ko(ge);return He(ge.schema,{sanitize:en,validate:kn}).parse(tt,{context:le})},Vn=ge=>{ge.on("PreInit",()=>{const{schema:le,serializer:tt,parser:mt}=ge,en=le.getBoolAttrs();So("webkitallowfullscreen mozallowfullscreen".split(" "),kn=>{en[kn]={}}),Qe({embed:["wmode"]},(kn,Rn)=>{const lr=le.getElementRule(Rn);lr&&So(kn,Ae=>{lr.attributes[Ae]={},lr.attributesOrder.push(Ae)})}),mt.addNodeFilter("iframe,video,audio,object,embed",xo(ge)),tt.addAttributeFilter("data-mce-object",(kn,Rn)=>{var lr;let Ae=kn.length;for(;Ae--;){const Nn=kn[Ae];if(!Nn.parent)continue;const ve=Nn.attr(Rn),Se=new vt(ve,1);if(ve!=="audio"){const Zo=Nn.attr("class");Zo&&Zo.indexOf("mce-preview-object")!==-1&&Nn.firstChild?Se.attr({width:Nn.firstChild.attr("width"),height:Nn.firstChild.attr("height")}):Se.attr({width:Nn.attr("width"),height:Nn.attr("height")})}Se.attr({style:Nn.attr("style")});const Mt=(lr=Nn.attributes)!==null&&lr!==void 0?lr:[];let jt=Mt.length;for(;jt--;){const Zo=Mt[jt].name;Zo.indexOf("data-mce-p-")===0&&Se.attr(Zo.substr(11),Mt[jt].value)}const To=Nn.attr("data-mce-html");if(To){const Zo=Ro(ge,ve,unescape(To));So(Zo.children(),Ko=>Se.append(Ko))}Nn.replace(Se)}})}),ge.on("SetContent",()=>{const le=ge.dom;So(le.select("span.mce-preview-object"),tt=>{le.select("span.mce-shim",tt).length===0&&le.add(tt,"span",{class:"mce-shim"})})})},is=ge=>{ge.on("ResolveName",le=>{let tt;le.target.nodeType===1&&(tt=le.target.getAttribute("data-mce-object"))&&(le.name=tt)})},_r=ge=>le=>{const tt=()=>{le.setEnabled(ge.selection.isEditable())};return ge.on("NodeChange",tt),tt(),()=>{ge.off("NodeChange",tt)}},Cr=ge=>{const le=()=>ge.execCommand("mceMedia");ge.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:le,onSetup:tt=>{const mt=ge.selection;tt.setActive(de(mt.getNode()));const en=mt.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",tt.setActive).unbind,kn=_r(ge)(tt);return()=>{en(),kn()}}}),ge.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:le,onSetup:_r(ge)})};var ir=()=>{ro.add("media",ge=>(lt(ge),Gn(ge),Cr(ge),is(ge),Vn(ge),be(ge),Kt(ge)))};ir()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=nt=>Be=>typeof Be===nt,Wt=Gt("boolean"),Jt=Gt("number"),Lt=nt=>Be=>Be.options.get(nt),Ht=nt=>{const Be=nt.options.register;Be("nonbreaking_force_tab",{processor:X=>Wt(X)?{value:X?3:0,valid:!0}:Jt(X)?{value:X,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),Be("nonbreaking_wrap",{processor:"boolean",default:!0})},qe=Lt("nonbreaking_force_tab"),Re=Lt("nonbreaking_wrap"),Pt=(nt,Be)=>{let X="";for(let lt=0;lt<Be;lt++)X+=nt;return X},so=nt=>nt.plugins.visualchars?nt.plugins.visualchars.isEnabled():!1,po=(nt,Be)=>{const X=()=>so(nt)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",lt=()=>`<span class="${X()}" contenteditable="false">${Pt("&nbsp;",Be)}</span>`,pt=Re(nt)||nt.plugins.visualchars?lt():Pt("&nbsp;",Be);nt.undoManager.transact(()=>nt.insertContent(pt))},So=nt=>{nt.addCommand("mceNonBreaking",()=>{po(nt,1)})};var Ft=tinymce.util.Tools.resolve("tinymce.util.VK");const Vt=nt=>{const Be=qe(nt);Be>0&&nt.on("keydown",X=>{if(X.keyCode===Ft.TAB&&!X.isDefaultPrevented()){if(X.shiftKey)return;X.preventDefault(),X.stopImmediatePropagation(),po(nt,Be)}})},St=nt=>Be=>{const X=()=>{Be.setEnabled(nt.selection.isEditable())};return nt.on("NodeChange",X),X(),()=>{nt.off("NodeChange",X)}},to=nt=>{const Be=()=>nt.execCommand("mceNonBreaking");nt.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:Be,onSetup:St(nt)}),nt.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:Be,onSetup:St(nt)})};var Qe=()=>{ro.add("nonbreaking",nt=>{Ht(nt),So(nt),to(nt),Vt(nt)})};Qe()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gt=tinymce.util.Tools.resolve("tinymce.Env");const Wt=St=>to=>to.options.get(St),Jt=St=>{const to=St.options.register;to("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),to("pagebreak_split_block",{processor:"boolean",default:!1})},Lt=Wt("pagebreak_separator"),Ht=Wt("pagebreak_split_block"),qe="mce-pagebreak",Re=St=>{const to=`<img src="${Gt.transparentSrc}" class="${qe}" data-mce-resize="false" data-mce-placeholder />`;return St?`<p>${to}</p>`:to},Pt=St=>{const to=Lt(St),Qe=()=>Ht(St),nt=new RegExp(to.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,Be=>"\\"+Be),"gi");St.on("BeforeSetContent",Be=>{Be.content=Be.content.replace(nt,Re(Qe()))}),St.on("PreInit",()=>{St.serializer.addNodeFilter("img",Be=>{let X=Be.length,lt,Go;for(;X--;)if(lt=Be[X],Go=lt.attr("class"),Go&&Go.indexOf(qe)!==-1){const pt=lt.parent;if(pt&&St.schema.getBlockElements()[pt.name]&&Qe()){pt.type=3,pt.value=to,pt.raw=!0,lt.remove();continue}lt.type=3,lt.value=to,lt.raw=!0}})})},so=St=>{St.addCommand("mcePageBreak",()=>{St.insertContent(Re(Ht(St)))})},po=St=>{St.on("ResolveName",to=>{to.target.nodeName==="IMG"&&St.dom.hasClass(to.target,qe)&&(to.name="pagebreak")})},So=St=>to=>{const Qe=()=>{to.setEnabled(St.selection.isEditable())};return St.on("NodeChange",Qe),Qe(),()=>{St.off("NodeChange",Qe)}},Ft=St=>{const to=()=>St.execCommand("mcePageBreak");St.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:to,onSetup:So(St)}),St.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:to,onSetup:So(St)})};var Vt=()=>{ro.add("pagebreak",St=>{Jt(St),so(St),Ft(St),Pt(St),po(St)})};Vt()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager"),Gt=tinymce.util.Tools.resolve("tinymce.Env"),Wt=tinymce.util.Tools.resolve("tinymce.util.Tools");const Jt=Vt=>St=>St.options.get(Vt),Lt=Jt("content_style"),Ht=Jt("content_css_cors"),qe=Jt("body_class"),Re=Jt("body_id"),Pt=Vt=>{var St;let to="";const Qe=Vt.dom.encode,nt=(St=Lt(Vt))!==null&&St!==void 0?St:"";to+='<base href="'+Qe(Vt.documentBaseURI.getURI())+'">';const Be=Ht(Vt)?' crossorigin="anonymous"':"";Wt.each(Vt.contentCSS,co=>{to+='<link type="text/css" rel="stylesheet" href="'+Qe(Vt.documentBaseURI.toAbsolute(co))+'"'+Be+">"}),nt&&(to+='<style type="text/css">'+nt+"</style>");const X=Re(Vt),lt=qe(Vt),pt='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(Gt.os.isMacOS()||Gt.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",U=Vt.getBody().dir,zt=U?' dir="'+Qe(U)+'"':"";return"<!DOCTYPE html><html><head>"+to+'</head><body id="'+Qe(X)+'" class="mce-content-body '+Qe(lt)+'"'+zt+">"+Vt.getContent()+pt+"</body></html>"},so=Vt=>{const St=Pt(Vt);Vt.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:St}}).focus("close")},po=Vt=>{Vt.addCommand("mcePreview",()=>{so(Vt)})},So=Vt=>{const St=()=>Vt.execCommand("mcePreview");Vt.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:St}),Vt.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:St})};var Ft=()=>{ro.add("preview",Vt=>{po(Vt),So(Vt)})};Ft()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=(Ue,dt,K)=>{var te;return K(Ue,dt.prototype)?!0:((te=Ue.constructor)===null||te===void 0?void 0:te.name)===dt.name},Wt=Ue=>{const dt=typeof Ue;return Ue===null?"null":dt==="object"&&Array.isArray(Ue)?"array":dt==="object"&&Gt(Ue,String,(K,te)=>te.isPrototypeOf(K))?"string":dt},Jt=Ue=>dt=>Wt(dt)===Ue,Lt=Ue=>dt=>typeof dt===Ue,Ht=Jt("string"),qe=Lt("boolean"),Re=Ue=>Ue==null,Pt=Ue=>!Re(Ue),so=Lt("function"),po=Ue=>dt=>dt.options.get(Ue),So=Ue=>{const dt=Ue.options.register,K=re=>de=>{const be=qe(de)||Ht(de);return be?qe(de)?{value:de?re:"",valid:be}:{value:de.trim(),valid:be}:{valid:!1,message:"Must be a boolean or string."}},te="bold italic | quicklink h2 h3 blockquote";dt("quickbars_selection_toolbar",{processor:K(te),default:te});const he="quickimage quicktable";dt("quickbars_insert_toolbar",{processor:K(he),default:he});const V="alignleft aligncenter alignright";dt("quickbars_image_toolbar",{processor:K(V),default:V})},Ft=po("quickbars_selection_toolbar"),Vt=po("quickbars_insert_toolbar"),St=po("quickbars_image_toolbar"),to=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Qe=0;const nt=Ue=>{const K=new Date().getTime(),te=Math.floor(to()*1e9);return Qe++,Ue+"_"+te+Qe+String(K)},Be=(Ue,dt,K)=>{Ue.execCommand("mceInsertTable",!1,{rows:K,columns:dt})},X=(Ue,dt,K)=>{const te=Ue.editorUpload.blobCache,he=te.create(nt("mceu"),K,dt);te.add(he),Ue.insertContent(Ue.dom.createHTML("img",{src:he.blobUri()}))},lt=Ue=>new Promise(dt=>{const K=new FileReader;K.onloadend=()=>{dt(K.result.split(",")[1])},K.readAsDataURL(Ue)});var Go=tinymce.util.Tools.resolve("tinymce.util.Delay");const pt=Ue=>new Promise(dt=>{let K=!1;const te=document.createElement("input");te.type="file",te.accept="image/*",te.style.position="fixed",te.style.left="0",te.style.top="0",te.style.opacity="0.001",document.body.appendChild(te);const he=de=>{var be;K||((be=te.parentNode)===null||be===void 0||be.removeChild(te),K=!0,dt(de))},V=de=>{he(Array.prototype.slice.call(de.target.files))};te.addEventListener("input",V),te.addEventListener("change",V);const re=de=>{const be=()=>{he([])};K||(de.type==="focusin"?Go.setEditorTimeout(Ue,be,1e3):be()),Ue.off("focusin remove",re)};Ue.on("focusin remove",re),te.click()}),U=Ue=>{Ue.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{pt(Ue).then(dt=>{if(dt.length>0){const K=dt[0];lt(K).then(te=>{X(Ue,te,K)})}})}}),Ue.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{Be(Ue,2,2)}})},ko=(Ue=>()=>Ue)(!1);class co{constructor(dt,K){this.tag=dt,this.value=K}static some(dt){return new co(!0,dt)}static none(){return co.singletonNone}fold(dt,K){return this.tag?K(this.value):dt()}isSome(){return this.tag}isNone(){return!this.tag}map(dt){return this.tag?co.some(dt(this.value)):co.none()}bind(dt){return this.tag?dt(this.value):co.none()}exists(dt){return this.tag&&dt(this.value)}forall(dt){return!this.tag||dt(this.value)}filter(dt){return!this.tag||dt(this.value)?this:co.none()}getOr(dt){return this.tag?this.value:dt}or(dt){return this.tag?this:dt}getOrThunk(dt){return this.tag?this.value:dt()}orThunk(dt){return this.tag?this:dt()}getOrDie(dt){if(this.tag)return this.value;throw new Error(dt??"Called getOrDie on None")}static from(dt){return Pt(dt)?co.some(dt):co.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(dt){this.tag&&dt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}co.singletonNone=new co(!1),typeof window<"u"||Function("return this;")();const We=1,ie=Ue=>Ue.dom.nodeName.toLowerCase(),gn=(Ue,dt)=>{const K=Ue.dom;return K&&K.hasAttribute?K.hasAttribute(dt):!1};var Oe=(Ue,dt,K,te,he)=>Ue(K,te)?co.some(K):so(he)&&he(K)?co.none():dt(K,te,he);const Me=(Ue,dt)=>{const te=(dt||document).createElement("div");if(te.innerHTML=Ue,!te.hasChildNodes()||te.childNodes.length>1){const he="HTML does not have a single root node";throw console.error(he,Ue),new Error(he)}return ue(te.childNodes[0])},_=(Ue,dt)=>{const te=(dt||document).createElement(Ue);return ue(te)},ot=(Ue,dt)=>{const te=(dt||document).createTextNode(Ue);return ue(te)},ue=Ue=>{if(Ue==null)throw new Error("Node cannot be null or undefined");return{dom:Ue}},wt={fromHtml:Me,fromTag:_,fromText:ot,fromDom:ue,fromPoint:(Ue,dt,K)=>co.from(Ue.dom.elementFromPoint(dt,K)).map(ue)},ye=(Ue,dt)=>{const K=Ue.dom;if(K.nodeType!==We)return!1;{const te=K;if(te.matches!==void 0)return te.matches(dt);if(te.msMatchesSelector!==void 0)return te.msMatchesSelector(dt);if(te.webkitMatchesSelector!==void 0)return te.webkitMatchesSelector(dt);if(te.mozMatchesSelector!==void 0)return te.mozMatchesSelector(dt);throw new Error("Browser lacks native selectors")}},vt=(Ue,dt,K)=>{let te=Ue.dom;const he=so(K)?K:ko;for(;te.parentNode;){te=te.parentNode;const V=wt.fromDom(te);if(dt(V))return co.some(V);if(he(V))break}return co.none()},yo=(Ue,dt,K)=>Oe((he,V)=>V(he),vt,Ue,dt,K),He=(Ue,dt,K)=>yo(Ue,dt,K).isSome(),Zt=(Ue,dt,K)=>vt(Ue,te=>ye(te,dt),K),ke=(Ue,dt,K)=>Oe((he,V)=>ye(he,V),Zt,Ue,dt,K),Xe=Ue=>{const dt=Vt(Ue);dt.length>0&&Ue.ui.registry.addContextToolbar("quickblock",{predicate:K=>{const te=wt.fromDom(K),he=Ue.schema.getTextBlockElements(),V=re=>re.dom===Ue.getBody();return!gn(te,"data-mce-bogus")&&ke(te,'table,[data-mce-bogus="all"]',V).fold(()=>He(te,re=>ie(re)in he&&Ue.dom.isEmpty(re.dom),V),ko)},items:dt,position:"line",scope:"editor"})},P=Ue=>Ue.dom.classList!==void 0,wn=(Ue,dt)=>P(Ue)&&Ue.dom.classList.contains(dt),st=Ue=>{const dt=re=>Ue.dom.isEditable(re),K=re=>dt(re.parentElement),te=re=>{const de=re.nodeName==="FIGURE"&&/image/i.test(re.className),be=re.nodeName==="IMG"||de,ut=wn(wt.fromDom(re),"mce-pagebreak");return be&&K(re)&&!ut},he=St(Ue);he.length>0&&Ue.ui.registry.addContextToolbar("imageselection",{predicate:te,items:he,position:"node"});const V=Ft(Ue);V.length>0&&Ue.ui.registry.addContextToolbar("textselection",{predicate:re=>!te(re)&&!Ue.selection.isCollapsed()&&dt(re),items:V,position:"selection",scope:"editor"})};var Nt=()=>{ro.add("quickbars",Ue=>{So(Ue),U(Ue),Xe(Ue),st(Ue)})};Nt()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Wt=(nt=>Be=>typeof Be===nt)("function");var Jt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Lt=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ht=nt=>Be=>Be.options.get(nt),qe=nt=>{const Be=nt.options.register;Be("save_enablewhendirty",{processor:"boolean",default:!0}),Be("save_onsavecallback",{processor:"function"}),Be("save_oncancelcallback",{processor:"function"})},Re=Ht("save_enablewhendirty"),Pt=Ht("save_onsavecallback"),so=Ht("save_oncancelcallback"),po=(nt,Be)=>{nt.notificationManager.open({text:Be,type:"error"})},So=nt=>{const Be=Jt.DOM.getParent(nt.id,"form");if(Re(nt)&&!nt.isDirty())return;nt.save();const X=Pt(nt);if(Wt(X)){X.call(nt,nt),nt.nodeChanged();return}Be?(nt.setDirty(!1),(!Be.onsubmit||Be.onsubmit())&&(typeof Be.submit=="function"?Be.submit():po(nt,"Error: Form submit field collision.")),nt.nodeChanged()):po(nt,"Error: No form element found.")},Ft=nt=>{const Be=Lt.trim(nt.startContent),X=so(nt);if(Wt(X)){X.call(nt,nt);return}nt.resetContent(Be)},Vt=nt=>{nt.addCommand("mceSave",()=>{So(nt)}),nt.addCommand("mceCancel",()=>{Ft(nt)})},St=nt=>Be=>{const X=()=>{Be.setEnabled(!Re(nt)||nt.isDirty())};return X(),nt.on("NodeChange dirty",X),()=>nt.off("NodeChange dirty",X)},to=nt=>{nt.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>nt.execCommand("mceSave"),onSetup:St(nt),shortcut:"Meta+S"}),nt.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>nt.execCommand("mceCancel"),onSetup:St(nt)}),nt.addShortcut("Meta+S","","mceSave")};var Qe=()=>{ro.add("save",nt=>{qe(nt),to(nt),Vt(nt)})};Qe()})();(function(){const ro=ve=>{let Se=ve;return{get:()=>Se,set:To=>{Se=To}}};var Gt=tinymce.util.Tools.resolve("tinymce.PluginManager");const Wt=(ve,Se,Mt)=>{var jt;return Mt(ve,Se.prototype)?!0:((jt=ve.constructor)===null||jt===void 0?void 0:jt.name)===Se.name},Jt=ve=>{const Se=typeof ve;return ve===null?"null":Se==="object"&&Array.isArray(ve)?"array":Se==="object"&&Wt(ve,String,(Mt,jt)=>jt.isPrototypeOf(Mt))?"string":Se},Lt=ve=>Se=>Jt(Se)===ve,Ht=ve=>Se=>typeof Se===ve,qe=Lt("string"),Re=Lt("array"),Pt=Ht("boolean"),so=ve=>ve==null,po=ve=>!so(ve),So=Ht("number"),Ft=()=>{},Vt=ve=>()=>ve,St=Vt(!0),Qe=Vt("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");class nt{constructor(Se,Mt){this.tag=Se,this.value=Mt}static some(Se){return new nt(!0,Se)}static none(){return nt.singletonNone}fold(Se,Mt){return this.tag?Mt(this.value):Se()}isSome(){return this.tag}isNone(){return!this.tag}map(Se){return this.tag?nt.some(Se(this.value)):nt.none()}bind(Se){return this.tag?Se(this.value):nt.none()}exists(Se){return this.tag&&Se(this.value)}forall(Se){return!this.tag||Se(this.value)}filter(Se){return!this.tag||Se(this.value)?this:nt.none()}getOr(Se){return this.tag?this.value:Se}or(Se){return this.tag?this:Se}getOrThunk(Se){return this.tag?this.value:Se()}orThunk(Se){return this.tag?this:Se()}getOrDie(Se){if(this.tag)return this.value;throw new Error(Se??"Called getOrDie on None")}static from(Se){return po(Se)?nt.some(Se):nt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Se){this.tag&&Se(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}nt.singletonNone=new nt(!1);const Be=Qe;var X=tinymce.util.Tools.resolve("tinymce.Env"),lt=tinymce.util.Tools.resolve("tinymce.util.Tools");const Go=Array.prototype.slice,pt=Array.prototype.push,U=(ve,Se)=>{const Mt=ve.length,jt=new Array(Mt);for(let To=0;To<Mt;To++){const Zo=ve[To];jt[To]=Se(Zo,To)}return jt},zt=(ve,Se)=>{for(let Mt=0,jt=ve.length;Mt<jt;Mt++){const To=ve[Mt];Se(To,Mt)}},ko=(ve,Se)=>{for(let Mt=ve.length-1;Mt>=0;Mt--){const jt=ve[Mt];Se(jt,Mt)}},co=(ve,Se)=>{if(ve.length===0)return[];{let Mt=Se(ve[0]);const jt=[];let To=[];for(let Zo=0,Ko=ve.length;Zo<Ko;Zo++){const jo=ve[Zo],ln=Se(jo);ln!==Mt&&(jt.push(To),To=[]),Mt=ln,To.push(jo)}return To.length!==0&&jt.push(To),jt}},We=(ve,Se,Mt)=>(zt(ve,(jt,To)=>{Mt=Se(Mt,jt,To)}),Mt),ie=ve=>{const Se=[];for(let Mt=0,jt=ve.length;Mt<jt;++Mt){if(!Re(ve[Mt]))throw new Error("Arr.flatten item "+Mt+" was not an array, input: "+ve);pt.apply(Se,ve[Mt])}return Se},gn=(ve,Se)=>ie(U(ve,Se)),Oe=(ve,Se)=>{const Mt=Go.call(ve,0);return Mt.sort(Se),Mt},Me=Object.hasOwnProperty,_=(ve,Se)=>Me.call(ve,Se);typeof window<"u"||Function("return this;")();const ot=9,ue=11,bt=1,wt=3,ye=ve=>ve.dom.nodeType,yo=(ve=>Se=>ye(Se)===ve)(wt),He=(ve,Se,Mt)=>{if(qe(Mt)||Pt(Mt)||So(Mt))ve.setAttribute(Se,Mt+"");else throw console.error("Invalid call to Attribute.set. Key ",Se,":: Value ",Mt,":: Element ",ve),new Error("Attribute value was not simple")},Zt=(ve,Se,Mt)=>{He(ve.dom,Se,Mt)},ke=(ve,Se)=>{const jt=(Se||document).createElement("div");if(jt.innerHTML=ve,!jt.hasChildNodes()||jt.childNodes.length>1){const To="HTML does not have a single root node";throw console.error(To,ve),new Error(To)}return wn(jt.childNodes[0])},Xe=(ve,Se)=>{const jt=(Se||document).createElement(ve);return wn(jt)},P=(ve,Se)=>{const jt=(Se||document).createTextNode(ve);return wn(jt)},wn=ve=>{if(ve==null)throw new Error("Node cannot be null or undefined");return{dom:ve}},Nt={fromHtml:ke,fromTag:Xe,fromText:P,fromDom:wn,fromPoint:(ve,Se,Mt)=>nt.from(ve.dom.elementFromPoint(Se,Mt)).map(wn)},Ue=ve=>ve.nodeType!==bt&&ve.nodeType!==ot&&ve.nodeType!==ue||ve.childElementCount===0,dt=(ve,Se)=>{const Mt=Se===void 0?document:Se.dom;return Ue(Mt)?[]:U(Mt.querySelectorAll(ve),Nt.fromDom)},K=ve=>nt.from(ve.dom.parentNode).map(Nt.fromDom),te=ve=>U(ve.dom.childNodes,Nt.fromDom),he=(ve,Se)=>({element:ve,offset:Se}),V=(ve,Se)=>{const Mt=te(ve);return Mt.length>0&&Se<Mt.length?he(Mt[Se],0):he(ve,Se)},re=(ve,Se)=>{K(ve).each(jt=>{jt.dom.insertBefore(Se.dom,ve.dom)})},de=(ve,Se)=>{ve.dom.appendChild(Se.dom)},be=(ve,Se)=>{re(ve,Se),de(Se,ve)},Ee=((ve,Se)=>{const Mt=Zo=>{if(!ve(Zo))throw new Error("Can only get "+Se+" value of a "+Se+" node");return jt(Zo).getOr("")},jt=Zo=>ve(Zo)?nt.from(Zo.dom.nodeValue):nt.none();return{get:Mt,getOption:jt,set:(Zo,Ko)=>{if(!ve(Zo))throw new Error("Can only set raw "+Se+" value of a "+Se+" node");Zo.dom.nodeValue=Ko}}})(yo,"text"),Ke=ve=>Ee.get(ve),xt=(ve,Se,Mt)=>(ve.compareDocumentPosition(Se)&Mt)!==0,ho=(ve,Se)=>xt(ve,Se,Node.DOCUMENT_POSITION_PRECEDING),je=(ve,Se)=>dt(Se,ve);var Je=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Ut=(ve,Se)=>ve.isBlock(Se)||_(ve.schema.getVoidElements(),Se.nodeName),io=(ve,Se)=>!ve.isEditable(Se),hn=(ve,Se)=>ve.getContentEditable(Se)==="true"&&Se.parentNode&&!ve.isEditable(Se.parentNode),Lo=(ve,Se)=>!ve.isBlock(Se)&&_(ve.schema.getWhitespaceElements(),Se.nodeName),Mo=(ve,Se)=>Ut(ve,Se)||io(ve,Se)||Lo(ve,Se)||hn(ve,Se),Hn=ve=>ve.nodeType===3,Bo=()=>({sOffset:0,fOffset:0,elements:[]}),Wn=(ve,Se)=>V(Nt.fromDom(ve),Se),bs=(ve,Se,Mt,jt,To,Zo=!0)=>{let Ko=Zo?Se(!1):Mt;for(;Ko;){const jo=io(ve,Ko);if(jo||Lo(ve,Ko)){if(jo?jt.cef(Ko):jt.boundary(Ko))break;Ko=Se(!0);continue}else if(Ut(ve,Ko)){if(jt.boundary(Ko))break}else Hn(Ko)&&jt.text(Ko);if(Ko===To)break;Ko=Se(!1)}},os=(ve,Se,Mt,jt,To)=>{var Zo;if(Mo(ve,Mt))return;const Ko=(Zo=ve.getParent(jt,ve.isBlock))!==null&&Zo!==void 0?Zo:ve.getRoot(),jo=new Je(Mt,Ko),ln=To?jo.next.bind(jo):jo.prev.bind(jo);bs(ve,ln,Mt,{boundary:St,cef:St,text:_n=>{To?Se.fOffset+=_n.length:Se.sOffset+=_n.length,Se.elements.push(Nt.fromDom(_n))}})},Ys=(ve,Se,Mt,jt,To,Zo=!0)=>{const Ko=new Je(Mt,Se),jo=[];let ln=Bo();os(ve,ln,Mt,Se,!1);const _n=()=>(ln.elements.length>0&&(jo.push(ln),ln=Bo()),!1);return bs(ve,Ko.next.bind(Ko),Mt,{boundary:_n,cef:xs=>(_n(),To&&jo.push(...To.cef(xs)),!1),text:xs=>{ln.elements.push(Nt.fromDom(xs)),To&&To.text(xs,ln)}},jt,Zo),jt&&os(ve,ln,jt,Se,!0),_n(),jo},vn=(ve,Se)=>{const Mt=Wn(Se.startContainer,Se.startOffset),jt=Mt.element.dom,To=Wn(Se.endContainer,Se.endOffset),Zo=To.element.dom;return Ys(ve,Se.commonAncestorContainer,jt,Zo,{text:(Ko,jo)=>{Ko===Zo?jo.fOffset+=Ko.length-To.offset:Ko===jt&&(jo.sOffset+=Mt.offset)},cef:Ko=>{const jo=gn(je(Nt.fromDom(Ko),"*[contenteditable=true]"),ln=>{const _n=ln.dom;return Ys(ve,_n,_n)});return Oe(jo,(ln,_n)=>ho(ln.elements[0].dom,_n.elements[0].dom)?1:-1)}},!1)},jr=(ve,Se)=>Se.collapsed?[]:vn(ve,Se),Kt=(ve,Se)=>{const Mt=ve.createRng();return Mt.selectNode(Se),jr(ve,Mt)},Gn=(ve,Se)=>gn(Se,Mt=>Kt(ve,Mt)),hr=(ve,Se,Mt=0,jt=ve.length)=>{const To=Se.regex;To.lastIndex=Mt;const Zo=[];let Ko;for(;Ko=To.exec(ve);){const jo=Ko[Se.matchIndex],ln=Ko.index+Ko[0].indexOf(jo),_n=ln+jo.length;if(_n>jt)break;Zo.push({start:ln,finish:_n}),To.lastIndex=_n}return Zo},ar=(ve,Se)=>{const Mt=We(ve,(jt,To)=>{const Zo=Ke(To),Ko=jt.last,jo=Ko+Zo.length,ln=gn(Se,(_n,xs)=>_n.start<jo&&_n.finish>Ko?[{element:To,start:Math.max(Ko,_n.start)-Ko,finish:Math.min(jo,_n.finish)-Ko,matchId:xs}]:[]);return{results:jt.results.concat(ln),last:jo}},{results:[],last:0}).results;return co(Mt,jt=>jt.matchId)},Pr=(ve,Se)=>gn(Se,Mt=>{const jt=Mt.elements,To=U(jt,Ke).join(""),Zo=hr(To,ve,Mt.sOffset,To.length-Mt.fOffset);return ar(jt,Zo)}),$r=(ve,Se)=>{ko(ve,(Mt,jt)=>{ko(Mt,To=>{const Zo=Nt.fromDom(Se.cloneNode(!1));Zt(Zo,"data-mce-index",jt);const Ko=To.element.dom;if(Ko.length===To.finish&&To.start===0)be(To.element,Zo);else{Ko.length!==To.finish&&Ko.splitText(To.finish);const jo=Ko.splitText(To.start);be(Nt.fromDom(jo),Zo)}})})},ys=(ve,Se,Mt,jt)=>{const To=Kt(ve,Mt),Zo=Pr(Se,To);return $r(Zo,jt),Zo.length},ea=(ve,Se,Mt,jt)=>{const To=Mt.getBookmark(),Zo=ve.select("td[data-mce-selected],th[data-mce-selected]"),Ko=Zo.length>0?Gn(ve,Zo):jr(ve,Mt.getRng()),jo=Pr(Se,Ko);return $r(jo,jt),Mt.moveToBookmark(To),jo.length},ia=ve=>ve.getAttribute("data-mce-index"),vs=(ve,Se,Mt,jt)=>{const To=ve.dom.create("span",{"data-mce-bogus":1});To.className="mce-match-marker";const Zo=ve.getBody();return ir(ve,Se,!1),jt?ea(ve.dom,Mt,ve.selection,To):ys(ve.dom,Mt,Zo,To)},Qo=ve=>{var Se;const Mt=ve.parentNode;ve.firstChild&&Mt.insertBefore(ve.firstChild,ve),(Se=ve.parentNode)===null||Se===void 0||Se.removeChild(ve)},Vs=(ve,Se)=>{const Mt=[],jt=lt.toArray(ve.getBody().getElementsByTagName("span"));if(jt.length)for(let To=0;To<jt.length;To++){const Zo=ia(jt[To]);Zo===null||!Zo.length||Zo===Se.toString()&&Mt.push(jt[To])}return Mt},Le=(ve,Se,Mt)=>{const jt=Se.get();let To=jt.index;const Zo=ve.dom;Mt?To+1===jt.count?To=0:To++:To-1===-1?To=jt.count-1:To--,Zo.removeClass(Vs(ve,jt.index),"mce-match-marker-selected");const Ko=Vs(ve,To);return Ko.length?(Zo.addClass(Vs(ve,To),"mce-match-marker-selected"),ve.selection.scrollIntoView(Ko[0]),To):-1},at=(ve,Se)=>{const Mt=Se.parentNode;ve.remove(Se),Mt&&ve.isEmpty(Mt)&&ve.remove(Mt)},xo=(ve,Se)=>{const jt="("+ve.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return Se?`(?:^|\\s|${Be()})`+jt+`(?=$|\\s|${Be()})`:jt},Ro=(ve,Se,Mt,jt,To,Zo)=>{const Ko=ve.selection,jo=xo(Mt,To),ln=Ko.isForward(),_n={regex:new RegExp(jo,jt?"g":"gi"),matchIndex:1},xs=vs(ve,Se,_n,Zo);if(X.browser.isSafari()&&Ko.setRng(Ko.getRng(),ln),xs){const Rs=Le(ve,Se,!0);Se.set({index:Rs,count:xs,text:Mt,matchCase:jt,wholeWord:To,inSelection:Zo})}return xs},Vn=(ve,Se)=>{const Mt=Le(ve,Se,!0);Se.set({...Se.get(),index:Mt})},is=(ve,Se)=>{const Mt=Le(ve,Se,!1);Se.set({...Se.get(),index:Mt})},_r=ve=>{const Se=ia(ve);return Se!==null&&Se.length>0},Cr=(ve,Se,Mt,jt,To)=>{const Zo=Se.get(),Ko=Zo.index;let jo,ln=Ko;jt=jt!==!1;const _n=ve.getBody(),xs=lt.grep(lt.toArray(_n.getElementsByTagName("span")),_r);for(let Rs=0;Rs<xs.length;Rs++){const Zs=ia(xs[Rs]);let Pa=jo=parseInt(Zs,10);if(To||Pa===Zo.index){for(Mt.length?(xs[Rs].innerText=Mt,Qo(xs[Rs])):at(ve.dom,xs[Rs]);xs[++Rs];)if(Pa=parseInt(ia(xs[Rs]),10),Pa===jo)at(ve.dom,xs[Rs]);else{Rs--;break}jt&&ln--}else jo>Ko&&xs[Rs].setAttribute("data-mce-index",String(jo-1))}return Se.set({...Zo,count:To?0:Zo.count-1,index:ln}),jt?Vn(ve,Se):is(ve,Se),!To&&Se.get().count>0},ir=(ve,Se,Mt)=>{let jt,To;const Zo=Se.get(),Ko=lt.toArray(ve.getBody().getElementsByTagName("span"));for(let jo=0;jo<Ko.length;jo++){const ln=ia(Ko[jo]);ln!==null&&ln.length&&(ln===Zo.index.toString()&&(jt||(jt=Ko[jo].firstChild),To=Ko[jo].firstChild),Qo(Ko[jo]))}if(Se.set({...Zo,index:-1,count:0,text:""}),jt&&To){const jo=ve.dom.createRng();return jo.setStart(jt,0),jo.setEnd(To,To.data.length),Mt!==!1&&ve.selection.setRng(jo),jo}else return},ge=(ve,Se)=>Se.get().count>1,le=(ve,Se)=>Se.get().count>1,tt=(ve,Se)=>({done:jo=>ir(ve,Se,jo),find:(jo,ln,_n,xs=!1)=>Ro(ve,Se,jo,ln,_n,xs),next:()=>Vn(ve,Se),prev:()=>is(ve,Se),replace:(jo,ln,_n)=>Cr(ve,Se,jo,ln,_n)}),mt=ve=>{const Se=ro(nt.none()),Mt=()=>Se.get().each(ve);return{clear:()=>{Mt(),Se.set(nt.none())},isSet:()=>Se.get().isSome(),get:()=>Se.get(),set:jo=>{Mt(),Se.set(nt.some(jo))}}},en=()=>{const ve=mt(Ft);return{...ve,on:Mt=>ve.get().each(Mt)}},kn=(ve,Se)=>{const Mt=en();ve.undoManager.add();const jt=lt.trim(ve.selection.getContent({format:"text"})),To=xn=>{xn.setEnabled("next",ge(ve,Se)),xn.setEnabled("prev",le(ve,Se))},Zo=xn=>{const ds=xn.getData(),ms=Se.get();Se.set({...ms,matchCase:ds.matchcase,wholeWord:ds.wholewords,inSelection:ds.inselection})},Ko=(xn,ds)=>{zt(["replace","replaceall","prev","next"],ua=>xn.setEnabled(ua,!ds))},jo=(xn,ds)=>{ds.redial(Za(xn,ds.getData()))},ln=(xn,ds)=>{X.browser.isSafari()&&X.deviceType.isTouch()&&(ds==="find"||ds==="replace"||ds==="replaceall")&&xn.focus(ds)},_n=xn=>{ir(ve,Se,!1),Ko(xn,!0),To(xn)},xs=xn=>{const ds=xn.getData(),ms=Se.get();if(!ds.findtext.length){_n(xn);return}if(ms.text===ds.findtext&&ms.matchCase===ds.matchcase&&ms.wholeWord===ds.wholewords)Vn(ve,Se);else{const la=Ro(ve,Se,ds.findtext,ds.matchcase,ds.wholewords,ds.inselection);la<=0&&jo(!0,xn),Ko(xn,la===0)}To(xn)},Rs=Se.get(),Zs={findtext:jt,replacetext:"",wholewords:Rs.wholeWord,matchcase:Rs.matchCase,inselection:Rs.inSelection},Pa=xn=>{const ds=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return xn&&ds.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),ds},Za=(xn,ds)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:Pa(xn)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:ds,onChange:(ms,la)=>{xn&&jo(!1,ms),la.name==="findtext"&&Se.get().count>0&&_n(ms)},onAction:(ms,la)=>{const ua=ms.getData();switch(la.name){case"find":xs(ms);break;case"replace":Cr(ve,Se,ua.replacetext)?To(ms):_n(ms);break;case"replaceall":Cr(ve,Se,ua.replacetext,!0,!0),_n(ms);break;case"prev":is(ve,Se),To(ms);break;case"next":Vn(ve,Se),To(ms);break;case"matchcase":case"wholewords":case"inselection":jo(!1,ms),Zo(ms),_n(ms);break}ln(ms,la.name)},onSubmit:ms=>{xs(ms),ln(ms,"find")},onClose:()=>{ve.focus(),ir(ve,Se),ve.undoManager.add()}});Mt.set(ve.windowManager.open(Za(!1,Zs),{inline:"toolbar"}))},Rn=(ve,Se)=>{ve.addCommand("SearchReplace",()=>{kn(ve,Se)})},lr=(ve,Se)=>()=>{kn(ve,Se)},Ae=(ve,Se)=>{ve.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:lr(ve,Se),icon:"search"}),ve.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:lr(ve,Se),icon:"search",shortcut:"Meta+F"}),ve.shortcuts.add("Meta+F","",lr(ve,Se))};var Nn=()=>{Gt.add("searchreplace",ve=>{const Se=ro({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Rn(ve,Se),Ae(ve,Se),tt(ve,Se)})};Nn()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Gt=(w,A,F)=>{var J;return F(w,A.prototype)?!0:((J=w.constructor)===null||J===void 0?void 0:J.name)===A.name},Wt=w=>{const A=typeof w;return w===null?"null":A==="object"&&Array.isArray(w)?"array":A==="object"&&Gt(w,String,(F,J)=>J.isPrototypeOf(F))?"string":A},Jt=w=>A=>Wt(A)===w,Lt=w=>A=>typeof A===w,Ht=w=>A=>w===A,qe=Jt("string"),Re=Jt("array"),Pt=Lt("boolean"),so=Ht(void 0),po=w=>w==null,So=w=>!po(w),Ft=Lt("function"),Vt=Lt("number"),St=()=>{},to=(w,A)=>F=>w(A(F)),Qe=w=>()=>w,nt=w=>w,Be=(w,A)=>w===A;function X(w,...A){return(...F)=>{const J=A.concat(F);return w.apply(null,J)}}const lt=w=>{w()},Go=Qe(!1),pt=Qe(!0);class U{constructor(A,F){this.tag=A,this.value=F}static some(A){return new U(!0,A)}static none(){return U.singletonNone}fold(A,F){return this.tag?F(this.value):A()}isSome(){return this.tag}isNone(){return!this.tag}map(A){return this.tag?U.some(A(this.value)):U.none()}bind(A){return this.tag?A(this.value):U.none()}exists(A){return this.tag&&A(this.value)}forall(A){return!this.tag||A(this.value)}filter(A){return!this.tag||A(this.value)?this:U.none()}getOr(A){return this.tag?this.value:A}or(A){return this.tag?this:A}getOrThunk(A){return this.tag?this.value:A()}orThunk(A){return this.tag?this:A()}getOrDie(A){if(this.tag)return this.value;throw new Error(A??"Called getOrDie on None")}static from(A){return So(A)?U.some(A):U.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(A){this.tag&&A(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}U.singletonNone=new U(!1);const zt=Object.keys,ko=Object.hasOwnProperty,co=(w,A)=>{const F=zt(w);for(let J=0,ze=F.length;J<ze;J++){const Tt=F[J],fo=w[Tt];A(fo,Tt)}},We=w=>(A,F)=>{w[F]=A},ie=(w,A,F,J)=>{co(w,(ze,Tt)=>{(A(ze,Tt)?F:J)(ze,Tt)})},gn=(w,A)=>{const F={};return ie(w,A,We(F),St),F},Oe=(w,A)=>{const F=[];return co(w,(J,ze)=>{F.push(A(J,ze))}),F},Me=w=>Oe(w,nt),_=w=>zt(w).length,ot=(w,A)=>ue(w,A)?U.from(w[A]):U.none(),ue=(w,A)=>ko.call(w,A),bt=(w,A)=>ue(w,A)&&w[A]!==void 0&&w[A]!==null,wt=w=>{for(const A in w)if(ko.call(w,A))return!1;return!0},ye=Array.prototype.indexOf,vt=Array.prototype.push,yo=(w,A)=>ye.call(w,A),He=(w,A)=>yo(w,A)>-1,Zt=(w,A)=>{for(let F=0,J=w.length;F<J;F++){const ze=w[F];if(A(ze,F))return!0}return!1},ke=(w,A)=>{const F=[];for(let J=0;J<w;J++)F.push(A(J));return F},Xe=(w,A)=>{const F=w.length,J=new Array(F);for(let ze=0;ze<F;ze++){const Tt=w[ze];J[ze]=A(Tt,ze)}return J},P=(w,A)=>{for(let F=0,J=w.length;F<J;F++){const ze=w[F];A(ze,F)}},wn=(w,A)=>{for(let F=w.length-1;F>=0;F--){const J=w[F];A(J,F)}},st=(w,A)=>{const F=[],J=[];for(let ze=0,Tt=w.length;ze<Tt;ze++){const fo=w[ze];(A(fo,ze)?F:J).push(fo)}return{pass:F,fail:J}},Nt=(w,A)=>{const F=[];for(let J=0,ze=w.length;J<ze;J++){const Tt=w[J];A(Tt,J)&&F.push(Tt)}return F},Ue=(w,A,F)=>(wn(w,(J,ze)=>{F=A(F,J,ze)}),F),dt=(w,A,F)=>(P(w,(J,ze)=>{F=A(F,J,ze)}),F),K=(w,A,F)=>{for(let J=0,ze=w.length;J<ze;J++){const Tt=w[J];if(A(Tt,J))return U.some(Tt);if(F(Tt,J))break}return U.none()},te=(w,A)=>K(w,A,Go),he=w=>{const A=[];for(let F=0,J=w.length;F<J;++F){if(!Re(w[F]))throw new Error("Arr.flatten item "+F+" was not an array, input: "+w);vt.apply(A,w[F])}return A},V=(w,A)=>he(Xe(w,A)),re=(w,A)=>{for(let F=0,J=w.length;F<J;++F){const ze=w[F];if(A(ze,F)!==!0)return!1}return!0},de=(w,A)=>{const F={};for(let J=0,ze=w.length;J<ze;J++){const Tt=w[J];F[String(Tt)]=A(Tt,J)}return F},be=(w,A)=>A>=0&&A<w.length?U.some(w[A]):U.none(),ut=w=>be(w,0),Ee=w=>be(w,w.length-1),Ke=(w,A)=>{for(let F=0;F<w.length;F++){const J=A(w[F],F);if(J.isSome())return J}return U.none()},xt=8,ho=9,je=11,Je=1,Ut=3,io=(w,A)=>{const J=(A||document).createElement("div");if(J.innerHTML=w,!J.hasChildNodes()||J.childNodes.length>1){const ze="HTML does not have a single root node";throw console.error(ze,w),new Error(ze)}return Mo(J.childNodes[0])},hn=(w,A)=>{const J=(A||document).createElement(w);return Mo(J)},Lo=(w,A)=>{const J=(A||document).createTextNode(w);return Mo(J)},Mo=w=>{if(w==null)throw new Error("Node cannot be null or undefined");return{dom:w}},Bo={fromHtml:io,fromTag:hn,fromText:Lo,fromDom:Mo,fromPoint:(w,A,F)=>U.from(w.dom.elementFromPoint(A,F)).map(Mo)},Wn=(w,A)=>{const F=w.dom;if(F.nodeType!==Je)return!1;{const J=F;if(J.matches!==void 0)return J.matches(A);if(J.msMatchesSelector!==void 0)return J.msMatchesSelector(A);if(J.webkitMatchesSelector!==void 0)return J.webkitMatchesSelector(A);if(J.mozMatchesSelector!==void 0)return J.mozMatchesSelector(A);throw new Error("Browser lacks native selectors")}},bs=w=>w.nodeType!==Je&&w.nodeType!==ho&&w.nodeType!==je||w.childElementCount===0,os=(w,A)=>{const F=A===void 0?document:A.dom;return bs(F)?[]:Xe(F.querySelectorAll(w),Bo.fromDom)},Ys=(w,A)=>{const F=A===void 0?document:A.dom;return bs(F)?U.none():U.from(F.querySelector(w)).map(Bo.fromDom)},vn=(w,A)=>w.dom===A.dom,jr=Wn;typeof window<"u"||Function("return this;")();const Kt=w=>w.dom.nodeName.toLowerCase(),Gn=w=>w.dom.nodeType,hr=w=>A=>Gn(A)===w,ar=w=>Gn(w)===xt||Kt(w)==="#comment",Pr=hr(Je),$r=hr(Ut),ys=hr(ho),ea=hr(je),ia=w=>A=>Pr(A)&&Kt(A)===w,vs=w=>Bo.fromDom(w.dom.ownerDocument),Qo=w=>ys(w)?w:vs(w),Vs=w=>U.from(w.dom.parentNode).map(Bo.fromDom),Le=(w,A)=>{const F=Ft(A)?A:Go;let J=w.dom;const ze=[];for(;J.parentNode!==null&&J.parentNode!==void 0;){const Tt=J.parentNode,fo=Bo.fromDom(Tt);if(ze.push(fo),F(fo)===!0)break;J=Tt}return ze},at=w=>U.from(w.dom.previousSibling).map(Bo.fromDom),xo=w=>U.from(w.dom.nextSibling).map(Bo.fromDom),Ro=w=>Xe(w.dom.childNodes,Bo.fromDom),Vn=(w,A)=>{const F=w.dom.childNodes;return U.from(F[A]).map(Bo.fromDom)},is=w=>Vn(w,0),_r=w=>ea(w)&&So(w.dom.host),Cr=w=>Bo.fromDom(w.dom.getRootNode()),ir=w=>{const A=Cr(w);return _r(A)?U.some(A):U.none()},ge=w=>Bo.fromDom(w.dom.host),le=w=>{const A=$r(w)?w.dom.parentNode:w.dom;if(A==null||A.ownerDocument===null)return!1;const F=A.ownerDocument;return ir(Bo.fromDom(A)).fold(()=>F.body.contains(A),to(le,ge))};var tt=(w,A,F,J,ze)=>w(F,J)?U.some(F):Ft(ze)&&ze(F)?U.none():A(F,J,ze);const mt=(w,A,F)=>{let J=w.dom;const ze=Ft(F)?F:Go;for(;J.parentNode;){J=J.parentNode;const Tt=Bo.fromDom(J);if(A(Tt))return U.some(Tt);if(ze(Tt))break}return U.none()},en=(w,A,F)=>tt((ze,Tt)=>Tt(ze),mt,w,A,F),kn=(w,A)=>{const F=ze=>A(Bo.fromDom(ze));return te(w.dom.childNodes,F).map(Bo.fromDom)},Rn=(w,A,F)=>mt(w,J=>Wn(J,A),F),lr=(w,A)=>kn(w,F=>Wn(F,A)),Ae=(w,A)=>Ys(A,w),Nn=(w,A,F)=>tt((ze,Tt)=>Wn(ze,Tt),Rn,w,A,F),ve=w=>Nn(w,"[contenteditable]"),Se=(w,A=!1)=>le(w)?w.dom.isContentEditable:ve(w).fold(Qe(A),F=>Mt(F)==="true"),Mt=w=>w.dom.contentEditable,jt=w=>w.nodeName.toLowerCase(),To=w=>Bo.fromDom(w.getBody()),Zo=w=>A=>vn(A,To(w)),Ko=w=>w?w.replace(/px$/,""):"",jo=w=>/^\d+(\.\d+)?$/.test(w)?w+"px":w,ln=w=>Bo.fromDom(w.selection.getStart()),_n=w=>Bo.fromDom(w.selection.getEnd()),xs=w=>en(w,ia("table")).forall(Se),Rs=(w,A)=>Nt(Ro(w),A),Zs=(w,A)=>{let F=[];return P(Ro(w),J=>{A(J)&&(F=F.concat([J])),F=F.concat(Zs(J,A))}),F},Pa=(w,A)=>Rs(w,F=>Wn(F,A)),Za=(w,A)=>os(A,w),xn=(w,A,F)=>{if(qe(F)||Pt(F)||Vt(F))w.setAttribute(A,F+"");else throw console.error("Invalid call to Attribute.set. Key ",A,":: Value ",F,":: Element ",w),new Error("Attribute value was not simple")},ds=(w,A,F)=>{xn(w.dom,A,F)},ms=(w,A)=>{const F=w.dom;co(A,(J,ze)=>{xn(F,ze,J)})},la=(w,A)=>{const F=w.dom.getAttribute(A);return F===null?void 0:F},ua=(w,A)=>U.from(la(w,A)),Yr=(w,A)=>{w.dom.removeAttribute(A)},ur=w=>dt(w.dom.attributes,(A,F)=>(A[F.name]=F.value,A),{}),sd=(w,A,F=Be)=>w.exists(J=>F(J,A)),Ac=w=>{const A=[],F=J=>{A.push(J)};for(let J=0;J<w.length;J++)w[J].each(F);return A},Ts=(w,A,F)=>w.isSome()&&A.isSome()?U.some(F(w.getOrDie(),A.getOrDie())):U.none(),Aa=w=>w.bind(nt),ka=(w,A)=>w?U.some(A):U.none(),Wr=(w,A)=>w.substring(A),Mi=(w,A,F)=>A===""||w.length>=A.length&&w.substr(F,F+A.length)===A,za=(w,A)=>$a(w,A)?Wr(w,A.length):w,$a=(w,A)=>Mi(w,A,0),fc=(w=>A=>A.replace(w,""))(/^\s+|\s+$/g),yl=w=>w.length>0,hi=w=>!yl(w),ci=(w,A=10)=>{const F=parseInt(w,A);return isNaN(F)?U.none():U.some(F)},mc=w=>{const A=parseFloat(w);return isNaN(A)?U.none():U.some(A)},ta=w=>w.style!==void 0&&Ft(w.style.getPropertyValue),vl=(w,A,F)=>{if(!qe(F))throw console.error("Invalid call to CSS.set. Property ",A,":: Value ",F,":: Element ",w),new Error("CSS value must be a string: "+F);ta(w)&&w.style.setProperty(A,F)},xl=(w,A)=>{ta(w)&&w.style.removeProperty(A)},wl=(w,A,F)=>{const J=w.dom;vl(J,A,F)},Qi=(w,A)=>{const F=w.dom,ze=window.getComputedStyle(F).getPropertyValue(A);return ze===""&&!le(w)?Xr(F,A):ze},Xr=(w,A)=>ta(w)?w.style.getPropertyValue(A):"",gc=(w,A)=>{const F=w.dom,J=Xr(F,A);return U.from(J).filter(ze=>ze.length>0)},W=(w,A)=>{const F=w.dom;xl(F,A),sd(ua(w,"style").map(fc),"")&&Yr(w,"style")},fe=(w,A,F=0)=>ua(w,A).map(J=>parseInt(J,10)).getOr(F),$e=(w,A)=>Et(w,A,pt),Et=(w,A,F)=>V(Ro(w),J=>Wn(J,A)?F(J)?[J]:[]:Et(J,A,F)),oo=["tfoot","thead","tbody","colgroup"],Ho=w=>He(oo,w),es=(w,A)=>({rows:w,columns:A}),Us=(w,A,F)=>({element:w,rowspan:A,colspan:F}),ls=(w,A,F,J,ze,Tt)=>({element:w,rowspan:A,colspan:F,row:J,column:ze,isLocked:Tt}),Oo=(w,A,F)=>({element:w,cells:A,section:F}),Rr=(w,A,F,J)=>({startRow:w,startCol:A,finishRow:F,finishCol:J}),on=(w,A,F)=>({element:w,colspan:A,column:F}),oa=(w,A)=>({element:w,columns:A}),ii=(w,A,F=Go)=>{if(F(A))return U.none();if(He(w,Kt(A)))return U.some(A);const J=ze=>Wn(ze,"table")||F(ze);return Rn(A,w.join(","),J)},B=(w,A)=>ii(["td","th"],w,A),Q=w=>$e(w,"th,td"),xe=w=>Wn(w,"colgroup")?Pa(w,"col"):V(In(w),A=>Pa(A,"col")),Ge=(w,A)=>Nn(w,"table",A),Dt=w=>$e(w,"tr"),In=w=>Ge(w).fold(Qe([]),A=>Pa(A,"colgroup")),or=(w,A)=>Xe(w,F=>{if(Kt(F)==="colgroup"){const J=Xe(xe(F),ze=>{const Tt=fe(ze,"span",1);return Us(ze,1,Tt)});return Oo(F,J,"colgroup")}else{const J=Xe(Q(F),ze=>{const Tt=fe(ze,"rowspan",1),fo=fe(ze,"colspan",1);return Us(ze,Tt,fo)});return Oo(F,J,A(F))}}),Ns=w=>Vs(w).map(A=>{const F=Kt(A);return Ho(F)?F:"tbody"}).getOr("tbody"),Qt=w=>{const A=Dt(w),J=[...In(w),...A];return or(J,Ns)},nr="data-snooker-locked-cols",_a=w=>ua(w,nr).bind(A=>U.from(A.match(/\d+/g))).map(A=>de(A,pt)),sc=(w,A)=>w+","+A,Zn=(w,A,F)=>U.from(w.access[sc(A,F)]),rc=(w,A,F)=>{const J=Ir(w,ze=>F(A,ze.element));return J.length>0?U.some(J[0]):U.none()},Ir=(w,A)=>{const F=V(w.all,J=>J.cells);return Nt(F,A)},Zl=w=>{const A={};let F=0;return P(w.cells,J=>{const ze=J.colspan;ke(ze,Tt=>{const fo=F+Tt;A[fo]=on(J.element,ze,fo)}),F+=ze}),A},Xs=w=>{const A={},F=[],ze=ut(w).map(ji=>ji.element).bind(Ge).bind(_a).getOr({});let Tt=0,fo=0,Wo=0;const{pass:Un,fail:Qn}=st(w,ji=>ji.section==="colgroup");P(Qn,ji=>{const yc=[];P(ji.cells,ou=>{let El=0;for(;A[sc(Wo,El)]!==void 0;)El++;const Nu=bt(ze,El.toString()),$g=ls(ou.element,ou.rowspan,ou.colspan,Wo,El,Nu);for(let ol=0;ol<ou.colspan;ol++)for(let Cm=0;Cm<ou.rowspan;Cm++){const Lp=Wo+Cm,Hp=El+ol,Pf=sc(Lp,Hp);A[Pf]=$g,fo=Math.max(fo,Hp+1)}yc.push($g)}),Tt++,F.push(Oo(ji.element,yc,ji.section)),Wo++});const{columns:Is,colgroups:Fs}=Ee(Un).map(ji=>{const yc=Zl(ji);return{colgroups:[oa(ji.element,Me(yc))],columns:yc}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:es(Tt,fo),access:A,all:F,columns:Is,colgroups:Fs}},Jr={fromTable:w=>{const A=Qt(w);return Xs(A)},generate:Xs,getAt:Zn,findItem:rc,filterItems:Ir,justCells:w=>V(w.all,A=>A.cells),justColumns:w=>Me(w.columns),hasColumns:w=>zt(w.columns).length>0,getColumnAt:(w,A)=>U.from(w.columns[A])};var Oa=tinymce.util.Tools.resolve("tinymce.util.Tools");const li=(w,A,F)=>{const J=w.select("td,th",A);let ze;for(let Tt=0;Tt<J.length;Tt++){const fo=w.getStyle(J[Tt],F);if(so(ze)&&(ze=fo),ze!==fo)return""}return ze},ui=(w,A,F)=>{Oa.each("left center right".split(" "),J=>{J!==F&&w.formatter.remove("align"+J,{},A)}),F&&w.formatter.apply("align"+F,{},A)},bu=(w,A,F)=>{Oa.each("top middle bottom".split(" "),J=>{J!==F&&w.formatter.remove("valign"+J,{},A)}),F&&w.formatter.apply("valign"+F,{},A)},G=(w,A,F)=>{w.dispatch("TableModified",{...F,table:A})},oe=(w,A)=>mc(w).getOr(A),Ze=(w,A,F)=>oe(Qi(w,A),F),Ct=(w,A,F,J)=>{const ze=Ze(w,`padding-${F}`,0),Tt=Ze(w,`padding-${J}`,0),fo=Ze(w,`border-${F}-width`,0),Wo=Ze(w,`border-${J}-width`,0);return A-ze-Tt-fo-Wo},fn=(w,A)=>{const F=w.dom,J=F.getBoundingClientRect().width||F.offsetWidth;return A==="border-box"?J:Ct(w,J,"left","right")},As=w=>fn(w,"content-box");var qs=tinymce.util.Tools.resolve("tinymce.Env");const Da="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ac=ke(5,w=>{const A=`${w+1}px`;return{title:A,value:A}}),Qr=Xe(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],w=>({title:w,value:w.toLowerCase()})),cc="100%",Js=w=>{var A;const F=w.dom,J=(A=F.getParent(w.selection.getStart(),F.isBlock))!==null&&A!==void 0?A:w.getBody();return As(Bo.fromDom(J))+"px"},pc=(w,A)=>Cg(w)||!da(w)?A:ql(w)?{...A,width:Js(w)}:{...A,width:cc},qa=(w,A)=>Cg(w)||da(w)?A:ql(w)?{...A,width:Js(w)}:{...A,width:cc},Fr=w=>A=>A.options.get(w),Sr=w=>{const A=w.options.register;A("table_border_widths",{processor:"object[]",default:ac}),A("table_border_styles",{processor:"object[]",default:Qr}),A("table_cell_advtab",{processor:"boolean",default:!0}),A("table_row_advtab",{processor:"boolean",default:!0}),A("table_advtab",{processor:"boolean",default:!0}),A("table_appearance_options",{processor:"boolean",default:!0}),A("table_grid",{processor:"boolean",default:!qs.deviceType.isTouch()}),A("table_cell_class_list",{processor:"object[]",default:[]}),A("table_row_class_list",{processor:"object[]",default:[]}),A("table_class_list",{processor:"object[]",default:[]}),A("table_toolbar",{processor:"string",default:Da}),A("table_background_color_map",{processor:"object[]",default:[]}),A("table_border_color_map",{processor:"object[]",default:[]})},dr=Fr("table_sizing_mode"),yu=Fr("table_border_widths"),vu=Fr("table_border_styles"),xu=Fr("table_cell_advtab"),_f=Fr("table_row_advtab"),wu=Fr("table_advtab"),Pi=Fr("table_appearance_options"),Cf=Fr("table_grid"),da=Fr("table_style_by_css"),Sf=Fr("table_cell_class_list"),wg=Fr("table_row_class_list"),kl=Fr("table_class_list"),kg=Fr("table_toolbar"),ku=Fr("table_background_color_map"),_g=Fr("table_border_color_map"),ql=w=>dr(w)==="fixed",Cg=w=>dr(w)==="responsive",Ef=w=>{const A=w.options,F=A.get("table_default_styles");return A.isSet("table_default_styles")?F:pc(w,F)},gm=w=>{const A=w.options,F=A.get("table_default_attributes");return A.isSet("table_default_attributes")?F:qa(w,F)},_u=(w,A)=>A.column>=w.startCol&&A.column+A.colspan-1<=w.finishCol&&A.row>=w.startRow&&A.row+A.rowspan-1<=w.finishRow,pm=(w,A)=>{let F=!0;const J=X(_u,A);for(let ze=A.startRow;ze<=A.finishRow;ze++)for(let Tt=A.startCol;Tt<=A.finishCol;Tt++)F=F&&Jr.getAt(w,ze,Tt).exists(J);return F?U.some(A):U.none()},we=(w,A)=>Rr(Math.min(w.row,A.row),Math.min(w.column,A.column),Math.max(w.row+w.rowspan-1,A.row+A.rowspan-1),Math.max(w.column+w.colspan-1,A.column+A.colspan-1)),Gl=(w,A,F)=>{const J=Jr.findItem(w,A,vn),ze=Jr.findItem(w,F,vn);return J.bind(Tt=>ze.map(fo=>we(Tt,fo)))},_l=(w,A,F)=>Gl(w,A,F).bind(J=>pm(w,J)),Sg=(w,A,F)=>{const J=Jh(w);return _l(J,A,F)},Jh=Jr.fromTable,Cu=(w,A)=>{Vs(w).each(J=>{J.dom.insertBefore(A.dom,w.dom)})},ts=(w,A)=>{xo(w).fold(()=>{Vs(w).each(ze=>{$i(ze,A)})},J=>{Cu(J,A)})},ga=(w,A)=>{is(w).fold(()=>{$i(w,A)},J=>{w.dom.insertBefore(A.dom,J.dom)})},$i=(w,A)=>{w.dom.appendChild(A.dom)},Su=(w,A)=>{Cu(w,A),$i(A,w)},Tf=(w,A)=>{P(A,(F,J)=>{const ze=J===0?w:A[J-1];ts(ze,F)})},Ud=(w,A)=>{P(A,F=>{$i(w,F)})},hc=w=>{const A=w.dom;A.parentNode!==null&&A.parentNode.removeChild(A)},Af=w=>{const A=Ro(w);A.length>0&&Tf(w,A),hc(w)},zf=((w,A)=>{const F=Tt=>{if(!w(Tt))throw new Error("Can only get "+A+" value of a "+A+" node");return J(Tt).getOr("")},J=Tt=>w(Tt)?U.from(Tt.dom.nodeValue):U.none();return{get:F,getOption:J,set:(Tt,fo)=>{if(!w(Tt))throw new Error("Can only set raw "+A+" value of a "+A+" node");Tt.dom.nodeValue=fo}}})($r,"text"),Yl=w=>zf.get(w),Ic=(w,A)=>zf.set(w,A);var Eg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],jd=()=>{const w=Qn=>Bo.fromDom(Qn.dom.cloneNode(!1)),A=Qn=>Qo(Qn).dom,F=Qn=>Pr(Qn)?Kt(Qn)==="body"?!0:He(Eg,Kt(Qn)):!1,J=Qn=>Pr(Qn)?He(["br","img","hr","input"],Kt(Qn)):!1,ze=Qn=>Pr(Qn)&&la(Qn,"contenteditable")==="false",Tt=(Qn,Is)=>Qn.dom.compareDocumentPosition(Is.dom),fo=(Qn,Is)=>{const Fs=ur(Qn);ms(Is,Fs)},Wo=Qn=>{const Is=Kt(Qn);return He(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Is)},Un=Qn=>Pr(Qn)?ua(Qn,"lang"):U.none();return{up:Qe({selector:Rn,closest:Nn,predicate:mt,all:Le}),down:Qe({selector:Za,predicate:Zs}),styles:Qe({get:Qi,getRaw:gc,set:wl,remove:W}),attrs:Qe({get:la,set:ds,remove:Yr,copyTo:fo}),insert:Qe({before:Cu,after:ts,afterAll:Tf,append:$i,appendAll:Ud,prepend:ga,wrap:Su}),remove:Qe({unwrap:Af,remove:hc}),create:Qe({nu:Bo.fromTag,clone:w,text:Bo.fromText}),query:Qe({comparePosition:Tt,prevSibling:at,nextSibling:xo}),property:Qe({children:Ro,name:Kt,parent:Vs,document:A,isText:$r,isComment:ar,isElement:Pr,isSpecial:Wo,getLanguage:Un,getText:Yl,setText:Ic,isBoundary:F,isEmptyTag:J,isNonEditable:ze}),eq:vn,is:jr}};const Ia=(w,A,F,J)=>{const ze=F[0],Tt=F.slice(1);return J(w,A,ze,Tt)},Yc=(w,A,F)=>F.length>0?Ia(w,A,F,zc):U.none(),zc=(w,A,F,J)=>{const ze=A(w,F);return Ue(J,(Tt,fo)=>{const Wo=A(w,fo);return rd(w,Tt,Wo)},ze)},rd=(w,A,F)=>A.bind(J=>F.filter(X(w.eq,J))),Wd=Yc,Tg=jd(),Zd=(w,A)=>Wd(Tg,(F,J)=>w(J),A),el=w=>Rn(w,"table"),Of=(w,A)=>{const F=Za(w,A);return F.length>0?U.some(F):U.none()},Dp=(w,A,F)=>Ae(w,A).bind(J=>Ae(w,F).bind(ze=>Zd(el,[J,ze]).map(Tt=>({first:J,last:ze,table:Tt})))),Ag=(w,A)=>Of(w,A),Dy=(w,A,F)=>Dp(w,A,F).bind(J=>{const ze=Un=>vn(w,Un),Tt="thead,tfoot,tbody,table",fo=Rn(J.first,Tt,ze),Wo=Rn(J.last,Tt,ze);return fo.bind(Un=>Wo.bind(Qn=>vn(Un,Qn)?Sg(J.table,J.first,J.last):U.none()))}),hm=w=>Xe(w,Bo.fromDom),qd="data-mce-selected",ad="td["+qd+"],th["+qd+"]",Gd="data-mce-first-selected",Nr="td["+Gd+"],th["+Gd+"]",Lr="data-mce-last-selected",bi="td["+Lr+"],th["+Lr+"]",cd={selected:qd,selectedSelector:ad,firstSelected:Gd,firstSelectedSelector:Nr,lastSelected:Lr,lastSelectedSelector:bi},zg=w=>Ge(w).bind(A=>Ag(A,cd.firstSelectedSelector)).fold(Qe(w),A=>A[0]),Ca=w=>(A,F)=>{const J=Kt(A),ze=J==="col"||J==="colgroup"?zg(A):A;return Nn(ze,w,F)},nn=Ca("th,td,caption"),Xl=Ca("th,td"),bm=w=>hm(w.model.table.getSelectedCells()),Ga=(w,A)=>{const F=Xl(w),J=F.bind(ze=>Ge(ze)).map(ze=>Dt(ze));return Ts(F,J,(ze,Tt)=>Nt(Tt,fo=>Zt(hm(fo.dom.cells),Wo=>la(Wo,A)==="1"||vn(Wo,ze)))).getOr([])},js=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Eu=w=>({value:Kn(w)}),Og=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Kd=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Rp=w=>Og.test(w)||Kd.test(w),Kn=w=>za(w,"#").toUpperCase(),Sa=w=>Rp(w)?U.some({value:Kn(w)}):U.none(),id=w=>{const A=w.toString(16);return(A.length===1?"0"+A:A).toUpperCase()},ic=w=>{const A=id(w.red)+id(w.green)+id(w.blue);return Eu(A)},Fc=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,yi=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Fa=(w,A,F,J)=>({red:w,green:A,blue:F,alpha:J}),Oc=(w,A,F,J)=>{const ze=parseInt(w,10),Tt=parseInt(A,10),fo=parseInt(F,10),Wo=parseFloat(J);return Fa(ze,Tt,fo,Wo)},di=w=>{const A=Fc.exec(w);if(A!==null)return U.some(Oc(A[1],A[2],A[3],"1"));const F=yi.exec(w);return F!==null?U.some(Oc(F[1],F[2],F[3],F[4])):U.none()},ym=w=>Sa(w).orThunk(()=>di(w).map(ic)).getOrThunk(()=>{const A=document.createElement("canvas");A.height=1,A.width=1;const F=A.getContext("2d");F.clearRect(0,0,A.width,A.height),F.fillStyle="#FFFFFF",F.fillStyle=w,F.fillRect(0,0,1,1);const J=F.getImageData(0,0,1,1).data,ze=J[0],Tt=J[1],fo=J[2],Wo=J[3];return ic(Fa(ze,Tt,fo,Wo))}),Zr=w=>di(w).map(ic).map(A=>"#"+A.value).getOr(w),ld=w=>{let A=w;return{get:()=>A,set:ze=>{A=ze}}},na=w=>{const A=ld(U.none()),F=()=>A.get().each(w);return{clear:()=>{F(),A.set(U.none())},isSet:()=>A.get().isSome(),get:()=>A.get(),set:Wo=>{F(),A.set(U.some(Wo))}}},Tu=()=>na(w=>w.unbind()),ud=(w,A,F)=>J=>{const ze=Tu(),Tt=hi(F),fo=()=>{const Wo=bm(w),Un=Qn=>w.formatter.match(A,{value:F},Qn.dom,Tt);Tt?(J.setActive(!Zt(Wo,Un)),ze.set(w.formatter.formatChanged(A,Qn=>J.setActive(!Qn),!0))):(J.setActive(re(Wo,Un)),ze.set(w.formatter.formatChanged(A,J.setActive,!1,{value:F})))};return w.initialized?fo():w.on("init",fo),ze.clear},sr=w=>bt(w,"menu"),Ii=w=>Xe(w,A=>{const F=A.text||A.title||"";return sr(A)?{text:F,items:Ii(A.menu)}:{text:F,value:A.value}}),Np=w=>w.length?U.some(Ii([{text:"Select...",value:"mce-no-match"},...w])):U.none(),Jl=(w,A,F,J)=>Xe(A,ze=>{const Tt=ze.text||ze.title;return sr(ze)?{type:"nestedmenuitem",text:Tt,getSubmenuItems:()=>Jl(w,ze.menu,F,J)}:{text:Tt,type:"togglemenuitem",onAction:()=>J(ze.value),onSetup:ud(w,F,ze.value)}}),br=(w,A)=>F=>{w.execCommand("mceTableApplyCellStyle",!1,{[A]:F})},Au=w=>V(w,A=>sr(A)?[{...A,menu:Au(A.menu)}]:yl(A.value)?[A]:[]),Xc=(w,A,F,J)=>ze=>ze(Jl(w,A,F,J)),ss=(w,A,F)=>{const J=Xe(A,ze=>({text:ze.title,value:"#"+ym(ze.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:J.length>0?J:void 0,allowCustomColors:!1},onAction:ze=>{const Tt=ze.value==="remove"?"":ze.value;w.execCommand("mceTableApplyCellStyle",!1,{[F]:Tt})}}]},dd=w=>()=>{const F=w.queryCommandValue("mceTableRowType")==="header"?"body":"header";w.execCommand("mceTableRowType",!1,{type:F})},Df=w=>()=>{const F=w.queryCommandValue("mceTableColType")==="th"?"td":"th";w.execCommand("mceTableColType",!1,{type:F})},vm=w=>Np(Sf(w)).map(A=>({name:"class",type:"listbox",label:"Class",items:A})),C=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:js}],D=w=>C.concat(vm(w).toArray()),L=(w,A)=>{const J=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Ii(vu(w)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:A==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(J):J}},Te={normal:(w,A)=>{const F=w.dom;return{setAttrib:(fo,Wo)=>{F.setAttrib(A,fo,Wo)},setStyle:(fo,Wo)=>{F.setStyle(A,fo,Wo)},setFormat:(fo,Wo)=>{Wo===""?w.formatter.remove(fo,{value:null},A,!0):w.formatter.apply(fo,{value:Wo},A)}}}},It=ia("th"),Cn=(w,A)=>w&&A?"sectionCells":w?"section":"cells",Yn=w=>{const A=w.section==="thead",F=sd(Tn(w.cells),"th");return w.section==="tfoot"?{type:"footer"}:A||F?{type:"header",subType:Cn(A,F)}:{type:"body"}},Tn=w=>{const A=Nt(w,F=>It(F.element));return A.length===0?U.some("td"):A.length===w.length?U.some("th"):U.none()},Sn=w=>{const A=Xe(w,ze=>Yn(ze).type),F=He(A,"header"),J=He(A,"footer");if(!F&&!J)return U.some("body");{const ze=He(A,"body");return F&&!ze&&!J?U.some("header"):!F&&!ze&&J?U.some("footer"):U.none()}},yr=w=>{let A=!1,F;return(...J)=>(A||(A=!0,F=w.apply(null,J)),F)},fa=(w,A)=>Ke(w.all,F=>te(F.cells,J=>vn(A,J.element))),vi=(w,A,F)=>{const J=Xe(A.selection,Tt=>B(Tt).bind(fo=>fa(w,fo)).filter(F)),ze=Ac(J);return ka(ze.length>0,ze)},Ql=(w,A)=>A.mergable,Rf=(w,A)=>A.unmergable,Dg=(w,A)=>vi(w,A,pt),Dc=(w,A)=>fa(w,A).exists(F=>!F.isLocked),Rg=(w,A)=>re(A,F=>Dc(w,F)),Ry=(w,A)=>Ql(w,A).filter(F=>Rg(w,F.cells)),Mp=(w,A)=>Rf(w,A).filter(F=>Rg(w,F));({...{generate:w=>{if(!Re(w))throw new Error("cases must be an array");if(w.length===0)throw new Error("there must be at least one case");const A=[],F={};return P(w,(J,ze)=>{const Tt=zt(J);if(Tt.length!==1)throw new Error("one and only one name per case");const fo=Tt[0],Wo=J[fo];if(F[fo]!==void 0)throw new Error("duplicate key detected:"+fo);if(fo==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Re(Wo))throw new Error("case arguments must be an array");A.push(fo),F[fo]=(...Un)=>{const Qn=Un.length;if(Qn!==Wo.length)throw new Error("Wrong number of arguments to case "+fo+". Expected "+Wo.length+" ("+Wo+"), got "+Qn);return{fold:(...Fs)=>{if(Fs.length!==w.length)throw new Error("Wrong number of arguments to fold. Expected "+w.length+", got "+Fs.length);return Fs[ze].apply(null,Un)},match:Fs=>{const Hr=zt(Fs);if(A.length!==Hr.length)throw new Error("Wrong number of arguments to match. Expected: "+A.join(",")+`
Actual: `+Hr.join(","));if(!re(A,yc=>He(Hr,yc)))throw new Error("Not all branches were specified when using match. Specified: "+Hr.join(", ")+`
Required: `+A.join(", "));return Fs[fo].apply(null,Un)},log:Fs=>{console.log(Fs,{constructors:A,constructor:fo,params:Un})}}}}),F}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Jc=(w,A)=>{const F=Jr.fromTable(w);return Dg(F,A).bind(ze=>{const Tt=ze[ze.length-1],fo=ze[0].row,Wo=Tt.row+Tt.rowspan,Un=F.all.slice(fo,Wo);return Sn(Un)}).getOr("")},En=w=>$a(w,"rgb")?Zr(w):w,Fi=w=>{const A=Bo.fromDom(w);return{borderwidth:gc(A,"border-width").getOr(""),borderstyle:gc(A,"border-style").getOr(""),bordercolor:gc(A,"border-color").map(En).getOr(""),backgroundcolor:gc(A,"background-color").map(En).getOr("")}},xm=w=>{const A=w[0],F=w.slice(1);return P(F,J=>{P(zt(A),ze=>{co(J,(Tt,fo)=>{const Wo=A[ze];Wo!==""&&ze===fo&&Wo!==Tt&&(A[ze]=ze==="class"?"mce-no-match":"")})})}),A},Ng=(w,A,F,J)=>te(w,ze=>!so(F.formatter.matchNode(J,A+ze))).getOr(""),Pp=X(Ng,["left","center","right"],"align"),Qh=X(Ng,["top","middle","bottom"],"valign"),Cl=(w,A)=>{const F=Ef(w),J=gm(w),ze=()=>({borderstyle:ot(F,"border-style").getOr(""),bordercolor:En(ot(F,"border-color").getOr("")),backgroundcolor:En(ot(F,"background-color").getOr(""))}),Tt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},fo=()=>{const Is=F["border-width"];return da(w)&&Is?{border:Is}:ot(J,"border").fold(()=>({}),Fs=>({border:Fs}))},Wo=A?ze():{},Un=()=>{const Is=ot(F,"border-spacing").or(ot(J,"cellspacing")).fold(()=>({}),Hr=>({cellspacing:Hr})),Fs=ot(F,"border-padding").or(ot(J,"cellpadding")).fold(()=>({}),Hr=>({cellpadding:Hr}));return{...Is,...Fs}};return{...Tt,...F,...J,...Wo,...fo(),...Un()}},zu=w=>Ge(Bo.fromDom(w)).map(A=>{const F={selection:hm(w.cells)};return Jc(A,F)}).getOr(""),Yd=(w,A,F)=>{const J=(Wo,Un)=>{const Qn=gc(Bo.fromDom(Un),"border-width");return da(w)&&Qn.isSome()?Qn.getOr(""):Wo.getAttrib(Un,"border")||li(w.dom,Un,"border-width")||li(w.dom,Un,"border")||""},ze=w.dom,Tt=da(w)?ze.getStyle(A,"border-spacing")||ze.getAttrib(A,"cellspacing"):ze.getAttrib(A,"cellspacing")||ze.getStyle(A,"border-spacing"),fo=da(w)?li(ze,A,"padding")||ze.getAttrib(A,"cellpadding"):ze.getAttrib(A,"cellpadding")||li(ze,A,"padding");return{width:ze.getStyle(A,"width")||ze.getAttrib(A,"width"),height:ze.getStyle(A,"height")||ze.getAttrib(A,"height"),cellspacing:Tt??"",cellpadding:fo??"",border:J(ze,A),caption:!!ze.select("caption",A)[0],class:ze.getAttrib(A,"class",""),align:Pp(w,A),...F?Fi(A):{}}},Do=(w,A,F)=>{const J=w.dom;return{height:J.getStyle(A,"height")||J.getAttrib(A,"height"),class:J.getAttrib(A,"class",""),type:zu(A),align:Pp(w,A),...F?Fi(A):{}}},tl=(w,A,F,J)=>{const ze=w.dom,Tt=J.getOr(A);return{width:((Wo,Un)=>ze.getStyle(Wo,Un)||ze.getAttrib(Wo,Un))(Tt,"width"),scope:ze.getAttrib(A,"scope"),celltype:jt(A),class:ze.getAttrib(A,"class",""),halign:Pp(w,A),valign:Qh(w,A),...F?Fi(A):{}}},$p=(w,A)=>{const F=Jr.fromTable(w),J=Jr.justCells(F),ze=Nt(J,Tt=>Zt(A,fo=>vn(Tt.element,fo)));return Xe(ze,Tt=>({element:Tt.element.dom,column:Jr.getColumnAt(F,Tt.column).map(fo=>fo.element.dom)}))},Nf=(w,A,F,J)=>{J("scope")&&w.setAttrib("scope",F.scope),J("class")&&F.class!=="mce-no-match"&&w.setAttrib("class",F.class),J("width")&&A.setStyle("width",jo(F.width))},Sl=(w,A,F)=>{F("backgroundcolor")&&w.setFormat("tablecellbackgroundcolor",A.backgroundcolor),F("bordercolor")&&w.setFormat("tablecellbordercolor",A.bordercolor),F("borderstyle")&&w.setFormat("tablecellborderstyle",A.borderstyle),F("borderwidth")&&w.setFormat("tablecellborderwidth",jo(A.borderwidth))},Mg=(w,A,F,J)=>{const ze=A.length===1;P(A,Tt=>{const fo=Tt.element,Wo=ze?pt:J,Un=Te.normal(w,fo),Qn=Tt.column.map(Is=>Te.normal(w,Is)).getOr(Un);Nf(Un,Qn,F,Wo),xu(w)&&Sl(Un,F,Wo),J("halign")&&ui(w,fo,F.halign),J("valign")&&bu(w,fo,F.valign)})},Xd=(w,A)=>{w.execCommand("mceTableCellType",!1,{type:A.celltype,no_events:!0})},Mf=(w,A,F,J)=>{const ze=gn(J,(Tt,fo)=>F[fo]!==Tt);_(ze)>0&&A.length>=1&&Ge(A[0]).each(Tt=>{const fo=$p(Tt,A),Wo=_(gn(ze,(Qn,Is)=>Is!=="scope"&&Is!=="celltype"))>0,Un=ue(ze,"celltype");(Wo||ue(ze,"scope"))&&Mg(w,fo,J,X(ue,ze)),Un&&Xd(w,J),G(w,Tt.dom,{structure:Un,style:Wo})})},Bg=(w,A,F,J)=>{const ze=J.getData();J.close(),w.undoManager.transact(()=>{Mf(w,A,F,ze),w.focus()})},eu=(w,A)=>{const F=Ge(A[0]).map(J=>Xe($p(J,A),ze=>tl(w,ze.element,xu(w),ze.column)));return xm(F.getOrDie())},My=w=>{const A=bm(w);if(A.length===0)return;const F=eu(w,A),J={type:"tabpanel",tabs:[{title:"General",name:"general",items:D(w)},L(w,"cell")]},ze={type:"panel",items:[{type:"grid",columns:2,items:D(w)}]};w.windowManager.open({title:"Cell Properties",size:"normal",body:xu(w)?J:ze,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:F,onSubmit:X(Bg,w,A,F)})},qr=w=>Np(wg(w)).map(A=>({name:"class",type:"listbox",label:"Class",items:A})),Xt=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Lc=w=>Xt.concat(qr(w).toArray()),tu=(w,A,F)=>{F("class")&&A.class!=="mce-no-match"&&w.setAttrib("class",A.class),F("height")&&w.setStyle("height",jo(A.height))},Ka=(w,A,F)=>{F("backgroundcolor")&&w.setStyle("background-color",A.backgroundcolor),F("bordercolor")&&w.setStyle("border-color",A.bordercolor),F("borderstyle")&&w.setStyle("border-style",A.borderstyle)},wm=(w,A,F,J)=>{const Tt=A.length===1?pt:J;P(A,fo=>{const Wo=Pa(Bo.fromDom(fo),"td,th"),Un=Te.normal(w,fo);tu(Un,F,Tt),_f(w)&&Ka(Un,F,Tt),J("height")&&P(Wo,Qn=>{w.dom.setStyle(Qn.dom,"height",null)}),J("align")&&ui(w,fo,F.align)})},La=(w,A)=>{w.execCommand("mceTableRowType",!1,{type:A.type,no_events:!0})},Ms=(w,A,F,J)=>{const ze=gn(J,(Tt,fo)=>F[fo]!==Tt);if(_(ze)>0){const Tt=ue(ze,"type"),fo=Tt?_(ze)>1:!0;fo&&wm(w,A,J,X(ue,ze)),Tt&&La(w,J),Ge(Bo.fromDom(A[0])).each(Wo=>G(w,Wo.dom,{structure:Tt,style:fo}))}},Ip=(w,A,F,J)=>{const ze=J.getData();J.close(),w.undoManager.transact(()=>{Ms(w,A,F,ze),w.focus()})},Ot=w=>{const A=Ga(ln(w),cd.selected);if(A.length===0)return;const F=Xe(A,fo=>Do(w,fo.dom,_f(w))),J=xm(F),ze={type:"tabpanel",tabs:[{title:"General",name:"general",items:Lc(w)},L(w,"row")]},Tt={type:"panel",items:[{type:"grid",columns:2,items:Lc(w)}]};w.windowManager.open({title:"Row Properties",size:"normal",body:_f(w)?ze:Tt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:J,onSubmit:X(Ip,w,Xe(A,fo=>fo.dom),J)})},Bs=(w,A,F)=>{const J=F?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],ze=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Tt=Pi(w)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],fo=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Wo=A.length>0?[{name:"class",type:"listbox",label:"Class",items:A}]:[];return J.concat(ze).concat(Tt).concat(fo).concat(Wo)},Pg=(w,A,F,J)=>{if(A.tagName==="TD"||A.tagName==="TH")qe(F)&&So(J)?w.setStyle(A,F,J):w.setStyles(A,F);else if(A.children)for(let ze=0;ze<A.children.length;ze++)Pg(w,A.children[ze],F,J)},Na=(w,A,F,J)=>{const ze=w.dom,Tt={},fo={},Wo=da(w),Un=wu(w),Qn=parseFloat(F.border)===0;if(!so(F.class)&&F.class!=="mce-no-match"&&(Tt.class=F.class),fo.height=jo(F.height),Wo?fo.width=jo(F.width):ze.getAttrib(A,"width")&&(Tt.width=Ko(F.width)),Wo?(Qn?(Tt.border=0,fo["border-width"]=""):(fo["border-width"]=jo(F.border),Tt.border=1),fo["border-spacing"]=jo(F.cellspacing)):(Tt.border=Qn?0:F.border,Tt.cellpadding=F.cellpadding,Tt.cellspacing=F.cellspacing),Wo&&A.children){const Is={};if(Qn?Is["border-width"]="":J.border&&(Is["border-width"]=jo(F.border)),J.cellpadding&&(Is.padding=jo(F.cellpadding)),Un&&J.bordercolor&&(Is["border-color"]=F.bordercolor),!wt(Is))for(let Fs=0;Fs<A.children.length;Fs++)Pg(ze,A.children[Fs],Is)}if(Un){const Is=F;fo["background-color"]=Is.backgroundcolor,fo["border-color"]=Is.bordercolor,fo["border-style"]=Is.borderstyle}ze.setStyles(A,{...Ef(w),...fo}),ze.setAttribs(A,{...gm(w),...Tt})},Hc=(w,A,F,J)=>{const ze=w.dom,Tt=J.getData(),fo=gn(Tt,(Wo,Un)=>F[Un]!==Wo);J.close(),w.undoManager.transact(()=>{if(!A){const Wo=ci(Tt.cols).getOr(1),Un=ci(Tt.rows).getOr(1);w.execCommand("mceInsertTable",!1,{rows:Un,columns:Wo}),A=Xl(ln(w),Zo(w)).bind(Qn=>Ge(Qn,Zo(w))).map(Qn=>Qn.dom).getOrDie()}if(_(fo)>0){const Wo={border:ue(fo,"border"),bordercolor:ue(fo,"bordercolor"),cellpadding:ue(fo,"cellpadding")};Na(w,A,Tt,Wo);const Un=ze.select("caption",A)[0];(Un&&!Tt.caption||!Un&&Tt.caption)&&w.execCommand("mceTableToggleCaption"),ui(w,A,Tt.align)}if(w.focus(),w.addVisual(),_(fo)>0){const Wo=ue(fo,"caption"),Un=Wo?_(fo)>1:!0;G(w,A,{structure:Wo,style:Un})}})},By=(w,A)=>{const F=w.dom;let J,ze=Cl(w,wu(w));A?(ze.cols="1",ze.rows="1",wu(w)&&(ze.borderstyle="",ze.bordercolor="",ze.backgroundcolor="")):(J=F.getParent(w.selection.getStart(),"table",w.getBody()),J?ze=Yd(w,J,wu(w)):wu(w)&&(ze.borderstyle="",ze.bordercolor="",ze.backgroundcolor=""));const Tt=Np(kl(w));Tt.isSome()&&ze.class&&(ze.class=ze.class.replace(/\s*mce\-item\-table\s*/g,""));const fo={type:"grid",columns:2,items:Bs(w,Tt.getOr([]),A)},Wo=()=>({type:"panel",items:[fo]}),Un=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[fo]},L(w,"table")]}),Qn=wu(w)?Un():Wo();w.windowManager.open({title:"Table Properties",size:"normal",body:Qn,onSubmit:X(Hc,w,J,ze),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ze})},Li=w=>{const A=F=>{xs(ln(w))&&F()};co({mceTableProps:X(By,w,!1),mceTableRowProps:X(Ot,w),mceTableCellProps:X(My,w),mceInsertTableDialog:X(By,w,!0)},(F,J)=>w.addCommand(J,()=>A(F)))},m0=(w,A)=>lr(w,A).isSome(),fd=nt,Py=w=>{const A=(J,ze)=>ua(J,ze).exists(Tt=>parseInt(Tt,10)>1),F=J=>A(J,"rowspan")||A(J,"colspan");return w.length>0&&re(w,F)?U.some(w):U.none()},Hi=(w,A,F)=>A.length<=1?U.none():Dy(w,F.firstSelectedSelector,F.lastSelectedSelector).map(J=>({bounds:J,cells:A})),Os=w=>({element:w,mergable:U.none(),unmergable:U.none(),selection:[w]}),Ou=(w,A,F)=>({element:F,mergable:Hi(A,w,cd),unmergable:Py(w),selection:fd(w)}),Bf=w=>{const A=ld(U.none()),F=ld([]);let J=U.none();const ze=ia("caption"),Tt=zs=>J.forall(vr=>!vr[zs]),fo=()=>nn(ln(w),Zo(w)),Wo=()=>nn(_n(w),Zo(w)),Un=()=>fo().bind(zs=>Aa(Ts(Ge(zs),Wo().bind(Ge),(vr,Qc)=>vn(vr,Qc)?ze(zs)?U.some(Os(zs)):U.some(Ou(bm(w),vr,zs)):U.none()))),Qn=zs=>Ge(zs.element).map(Qc=>{const ma=Jr.fromTable(Qc),Vp=Dg(ma,zs).getOr([]),$f=dt(Vp,(If,nl)=>(nl.isLocked&&(If.onAny=!0,nl.column===0?If.onFirst=!0:nl.column+nl.colspan>=ma.grid.columns&&(If.onLast=!0)),If),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Ry(ma,zs).isSome(),unmergeable:Mp(ma,zs).isSome(),locked:$f}}),Is=()=>{A.set(yr(Un)()),J=A.get().bind(Qn),P(F.get(),lt)},Fs=zs=>(zs(),F.set(F.get().concat([zs])),()=>{F.set(Nt(F.get(),vr=>vr!==zs))}),Hr=(zs,vr)=>Fs(()=>A.get().fold(()=>{zs.setEnabled(!1)},Qc=>{zs.setEnabled(!vr(Qc)&&w.selection.isEditable())})),ji=(zs,vr,Qc)=>Fs(()=>A.get().fold(()=>{zs.setEnabled(!1),zs.setActive(!1)},ma=>{zs.setEnabled(!vr(ma)&&w.selection.isEditable()),zs.setActive(Qc(ma))})),yc=zs=>J.exists(vr=>vr.locked[zs]),ou=zs=>Hr(zs,vr=>!1),El=zs=>Hr(zs,vr=>ze(vr.element)),Nu=zs=>vr=>Hr(vr,Qc=>ze(Qc.element)||yc(zs)),$g=zs=>vr=>Hr(vr,Qc=>ze(Qc.element)||zs().isNone()),ol=(zs,vr)=>Qc=>Hr(Qc,ma=>ze(ma.element)||zs().isNone()||yc(vr)),Cm=zs=>Hr(zs,vr=>Tt("mergeable")),Lp=zs=>Hr(zs,vr=>Tt("unmergeable")),Hp=zs=>ji(zs,Go,vr=>Ge(vr.element,Zo(w)).exists(ma=>m0(ma,"caption"))),Pf=(zs,vr)=>Qc=>ji(Qc,ma=>ze(ma.element),()=>w.queryCommandValue(zs)===vr),Ya=Pf("mceTableRowType","header"),nu=Pf("mceTableColType","th");return w.on("NodeChange ExecCommand TableSelectorChange",Is),{onSetupTable:ou,onSetupCellOrRow:El,onSetupColumn:Nu,onSetupPasteable:$g,onSetupPasteableColumn:ol,onSetupMergeable:Cm,onSetupUnmergeable:Lp,resetTargets:Is,onSetupTableWithCaption:Hp,onSetupTableRowHeaders:Ya,onSetupTableColumnHeaders:nu,targets:A.get}};var Ha=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Fp="x-tinymce/dom-table-",Du=Fp+"rows",Ru=Fp+"columns",kr=w=>{var A;const F=(A=Ha.read())!==null&&A!==void 0?A:[];return Ke(F,J=>U.from(J.getType(w)))},km=()=>kr(Du),Ve=()=>kr(Ru),Vi=w=>A=>{const F=()=>{A.setEnabled(w.selection.isEditable())};return w.on("NodeChange",F),F(),()=>{w.off("NodeChange",F)}},_m=(w,A)=>{w.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Vi(w),fetch:Wo=>Wo("inserttable | cell row column | advtablesort | tableprops deletetable")});const F=Wo=>()=>w.execCommand(Wo),J=(Wo,Un)=>{w.queryCommandSupported(Un.command)&&w.ui.registry.addButton(Wo,{...Un,onAction:Ft(Un.onAction)?Un.onAction:F(Un.command)})},ze=(Wo,Un)=>{w.queryCommandSupported(Un.command)&&w.ui.registry.addToggleButton(Wo,{...Un,onAction:Ft(Un.onAction)?Un.onAction:F(Un.command)})};J("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:A.onSetupTable}),J("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:A.onSetupTable}),J("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:A.onSetupCellOrRow}),J("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:A.onSetupMergeable}),J("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:A.onSetupUnmergeable}),J("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:A.onSetupCellOrRow}),J("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:A.onSetupCellOrRow}),J("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:A.onSetupCellOrRow}),J("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:A.onSetupCellOrRow}),J("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:A.onSetupColumn("onFirst")}),J("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:A.onSetupColumn("onLast")}),J("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:A.onSetupColumn("onAny")}),J("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:A.onSetupCellOrRow}),J("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:A.onSetupCellOrRow}),J("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:A.onSetupPasteable(km)}),J("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:A.onSetupPasteable(km)}),J("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:A.onSetupColumn("onAny")}),J("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:A.onSetupColumn("onAny")}),J("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:A.onSetupPasteableColumn(Ve,"onFirst")}),J("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:A.onSetupPasteableColumn(Ve,"onLast")}),J("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Vi(w)});const Tt=Au(kl(w));Tt.length!==0&&w.queryCommandSupported("mceTableToggleClass")&&w.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Xc(w,Tt,"tableclass",Wo=>w.execCommand("mceTableToggleClass",!1,Wo)),onSetup:A.onSetupTable});const fo=Au(Sf(w));fo.length!==0&&w.queryCommandSupported("mceTableCellToggleClass")&&w.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Xc(w,fo,"tablecellclass",Wo=>w.execCommand("mceTableCellToggleClass",!1,Wo)),onSetup:A.onSetupCellOrRow}),w.queryCommandSupported("mceTableApplyCellStyle")&&(w.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Xc(w,js,"tablecellverticalalign",br(w,"vertical-align")),onSetup:A.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Xc(w,yu(w),"tablecellborderwidth",br(w,"border-width")),onSetup:A.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Xc(w,vu(w),"tablecellborderstyle",br(w,"border-style")),onSetup:A.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Wo=>Wo(ss(w,ku(w),"background-color")),onSetup:A.onSetupCellOrRow}),w.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Wo=>Wo(ss(w,_g(w),"border-color")),onSetup:A.onSetupCellOrRow})),ze("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:A.onSetupTableWithCaption}),ze("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:dd(w),onSetup:A.onSetupTableRowHeaders}),ze("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Df(w),onSetup:A.onSetupTableColumnHeaders})},Vc=w=>{const A=J=>w.dom.is(J,"table")&&w.getBody().contains(J)&&w.dom.isEditable(J.parentNode),F=kg(w);F.length>0&&w.ui.registry.addContextToolbar("table",{predicate:A,items:F,scope:"node",position:"node"})},Ui=w=>A=>{const F=()=>{A.setEnabled(w.selection.isEditable())};return w.on("NodeChange",F),F(),()=>{w.off("NodeChange",F)}},pa=(w,A)=>{const F=Fs=>()=>w.execCommand(Fs),J=(Fs,Hr)=>w.queryCommandSupported(Hr.command)?(w.ui.registry.addMenuItem(Fs,{...Hr,onAction:Ft(Hr.onAction)?Hr.onAction:F(Hr.command)}),!0):!1,ze=(Fs,Hr)=>{w.queryCommandSupported(Hr.command)&&w.ui.registry.addToggleMenuItem(Fs,{...Hr,onAction:Ft(Hr.onAction)?Hr.onAction:F(Hr.command)})},Tt=Fs=>{w.execCommand("mceInsertTable",!1,{rows:Fs.numRows,columns:Fs.numColumns})},fo=[J("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:A.onSetupCellOrRow}),J("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:A.onSetupCellOrRow}),J("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:A.onSetupCellOrRow}),J("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:A.onSetupCellOrRow}),J("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:A.onSetupCellOrRow}),J("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:A.onSetupCellOrRow}),J("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:A.onSetupPasteable(km)}),J("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:A.onSetupPasteable(km)})],Wo=[J("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:A.onSetupColumn("onFirst")}),J("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:A.onSetupColumn("onLast")}),J("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:A.onSetupColumn("onAny")}),J("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:A.onSetupColumn("onAny")}),J("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:A.onSetupColumn("onAny")}),J("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:A.onSetupPasteableColumn(Ve,"onFirst")}),J("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:A.onSetupPasteableColumn(Ve,"onLast")})],Un=[J("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:A.onSetupCellOrRow}),J("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:A.onSetupMergeable}),J("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:A.onSetupUnmergeable})];Cf(w)?w.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Tt}],onSetup:Ui(w)}):w.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:F("mceInsertTableDialog"),onSetup:Ui(w)}),w.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:F("mceInsertTableDialog"),onSetup:Ui(w)}),J("tableprops",{text:"Table properties",onSetup:A.onSetupTable,command:"mceTableProps"}),J("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:A.onSetupTable,command:"mceTableDelete"}),He(fo,!0)&&w.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Qe("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),He(Wo,!0)&&w.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Qe("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),He(Un,!0)&&w.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Qe("tablecellprops tablemergecells tablesplitcells")}),w.ui.registry.addContextMenu("table",{update:()=>(A.resetTargets(),A.targets().fold(Qe(""),Fs=>Kt(Fs.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Qn=Au(kl(w));Qn.length!==0&&w.queryCommandSupported("mceTableToggleClass")&&w.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Jl(w,Qn,"tableclass",Fs=>w.execCommand("mceTableToggleClass",!1,Fs)),onSetup:A.onSetupTable});const Is=Au(Sf(w));Is.length!==0&&w.queryCommandSupported("mceTableCellToggleClass")&&w.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Jl(w,Is,"tablecellclass",Fs=>w.execCommand("mceTableCellToggleClass",!1,Fs)),onSetup:A.onSetupCellOrRow}),w.queryCommandSupported("mceTableApplyCellStyle")&&(w.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Jl(w,js,"tablecellverticalalign",br(w,"vertical-align")),onSetup:A.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Jl(w,yu(w),"tablecellborderwidth",br(w,"border-width")),onSetup:A.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Jl(w,vu(w),"tablecellborderstyle",br(w,"border-style")),onSetup:A.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>ss(w,ku(w),"background-color"),onSetup:A.onSetupCellOrRow}),w.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>ss(w,_g(w),"border-color"),onSetup:A.onSetupCellOrRow})),ze("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:A.onSetupTableWithCaption}),ze("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:dd(w),onSetup:A.onSetupTableRowHeaders}),ze("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Df(w),onSetup:A.onSetupTableRowHeaders})},sa=w=>{const A=Bf(w);Sr(w),Li(w),pa(w,A),_m(w,A),Vc(w)};var g0=()=>{ro.add("table",sa)};g0()})();(function(){const ro=Ft=>{let Vt=Ft;return{get:()=>Vt,set:Qe=>{Vt=Qe}}};var Gt=tinymce.util.Tools.resolve("tinymce.PluginManager");const Wt=(Ft,Vt)=>{Ft.dispatch("VisualBlocks",{state:Vt})},Jt=(Ft,Vt,St)=>{Ft.dom.toggleClass(Ft.getBody(),"mce-visualblocks"),St.set(!St.get()),Wt(Ft,St.get())},Lt=(Ft,Vt,St)=>{Ft.addCommand("mceVisualBlocks",()=>{Jt(Ft,Vt,St)})},Ht=Ft=>Vt=>Vt.options.get(Ft),qe=Ft=>{const Vt=Ft.options.register;Vt("visualblocks_default_state",{processor:"boolean",default:!1})},Re=Ht("visualblocks_default_state"),Pt=(Ft,Vt,St)=>{Ft.on("PreviewFormats AfterPreviewFormats",to=>{St.get()&&Ft.dom.toggleClass(Ft.getBody(),"mce-visualblocks",to.type==="afterpreviewformats")}),Ft.on("init",()=>{Re(Ft)&&Jt(Ft,Vt,St)})},so=(Ft,Vt)=>St=>{St.setActive(Vt.get());const to=Qe=>St.setActive(Qe.state);return Ft.on("VisualBlocks",to),()=>Ft.off("VisualBlocks",to)},po=(Ft,Vt)=>{const St=()=>Ft.execCommand("mceVisualBlocks");Ft.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:St,onSetup:so(Ft,Vt)}),Ft.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:St,onSetup:so(Ft,Vt)})};var So=()=>{Gt.add("visualblocks",(Ft,Vt)=>{qe(Ft);const St=ro(!1);Lt(Ft,Vt,St),po(Ft,St),Pt(Ft,Vt,St)})};So()})();(function(){const ro=Le=>{let at=Le;return{get:()=>at,set:Vn=>{at=Vn}}};var Gt=tinymce.util.Tools.resolve("tinymce.PluginManager");const Wt=Le=>({isEnabled:()=>Le.get()}),Jt=(Le,at)=>Le.dispatch("VisualChars",{state:at}),Lt=(Le,at,xo)=>{var Ro;return xo(Le,at.prototype)?!0:((Ro=Le.constructor)===null||Ro===void 0?void 0:Ro.name)===at.name},Ht=Le=>{const at=typeof Le;return Le===null?"null":at==="object"&&Array.isArray(Le)?"array":at==="object"&&Lt(Le,String,(xo,Ro)=>Ro.isPrototypeOf(xo))?"string":at},qe=Le=>at=>Ht(at)===Le,Re=Le=>at=>typeof at===Le,Pt=Le=>at=>Le===at,so=qe("string"),po=qe("object"),So=Pt(null),Ft=Re("boolean"),Vt=Le=>Le==null,St=Le=>!Vt(Le),to=Re("number");class Qe{constructor(at,xo){this.tag=at,this.value=xo}static some(at){return new Qe(!0,at)}static none(){return Qe.singletonNone}fold(at,xo){return this.tag?xo(this.value):at()}isSome(){return this.tag}isNone(){return!this.tag}map(at){return this.tag?Qe.some(at(this.value)):Qe.none()}bind(at){return this.tag?at(this.value):Qe.none()}exists(at){return this.tag&&at(this.value)}forall(at){return!this.tag||at(this.value)}filter(at){return!this.tag||at(this.value)?this:Qe.none()}getOr(at){return this.tag?this.value:at}or(at){return this.tag?this:at}getOrThunk(at){return this.tag?this.value:at()}orThunk(at){return this.tag?this:at()}getOrDie(at){if(this.tag)return this.value;throw new Error(at??"Called getOrDie on None")}static from(at){return St(at)?Qe.some(at):Qe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(at){this.tag&&at(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Qe.singletonNone=new Qe(!1);const nt=(Le,at)=>{const xo=Le.length,Ro=new Array(xo);for(let Vn=0;Vn<xo;Vn++){const is=Le[Vn];Ro[Vn]=at(is,Vn)}return Ro},Be=(Le,at)=>{for(let xo=0,Ro=Le.length;xo<Ro;xo++){const Vn=Le[xo];at(Vn,xo)}},X=(Le,at)=>{const xo=[];for(let Ro=0,Vn=Le.length;Ro<Vn;Ro++){const is=Le[Ro];at(is,Ro)&&xo.push(is)}return xo},lt=Object.keys,Go=(Le,at)=>{const xo=lt(Le);for(let Ro=0,Vn=xo.length;Ro<Vn;Ro++){const is=xo[Ro],_r=Le[is];at(_r,is)}},pt=typeof window<"u"?window:Function("return this;")(),U=(Le,at)=>{let xo=at??pt;for(let Ro=0;Ro<Le.length&&xo!==void 0&&xo!==null;++Ro)xo=xo[Le[Ro]];return xo},zt=(Le,at)=>{const xo=Le.split(".");return U(xo,at)},ko=(Le,at)=>zt(Le,at),co=(Le,at)=>{const xo=ko(Le,at);if(xo==null)throw new Error(Le+" not available on this browser");return xo},We=Object.getPrototypeOf,ie=Le=>co("HTMLElement",Le),gn=Le=>{const at=zt("ownerDocument.defaultView",Le);return po(Le)&&(ie(at).prototype.isPrototypeOf(Le)||/^HTML\w*Element$/.test(We(Le).constructor.name))},Oe=1,Me=3,_=Le=>Le.dom.nodeType,ot=Le=>Le.dom.nodeValue,ue=Le=>at=>_(at)===Le,bt=Le=>wt(Le)&&gn(Le.dom),wt=ue(Oe),ye=ue(Me),vt=(Le,at,xo)=>{if(so(xo)||Ft(xo)||to(xo))Le.setAttribute(at,xo+"");else throw console.error("Invalid call to Attribute.set. Key ",at,":: Value ",xo,":: Element ",Le),new Error("Attribute value was not simple")},yo=(Le,at,xo)=>{vt(Le.dom,at,xo)},He=(Le,at)=>{const xo=Le.dom.getAttribute(at);return xo===null?void 0:xo},Zt=(Le,at)=>{Le.dom.removeAttribute(at)},ke=(Le,at)=>{const xo=He(Le,at);return xo===void 0||xo===""?[]:xo.split(" ")},Xe=(Le,at,xo)=>{const Vn=ke(Le,at).concat([xo]);return yo(Le,at,Vn.join(" ")),!0},P=(Le,at,xo)=>{const Ro=X(ke(Le,at),Vn=>Vn!==xo);return Ro.length>0?yo(Le,at,Ro.join(" ")):Zt(Le,at),!1},wn=Le=>Le.dom.classList!==void 0,st=Le=>ke(Le,"class"),Nt=(Le,at)=>Xe(Le,"class",at),Ue=(Le,at)=>P(Le,"class",at),dt=(Le,at)=>{wn(Le)?Le.dom.classList.add(at):Nt(Le,at)},K=Le=>{(wn(Le)?Le.dom.classList:st(Le)).length===0&&Zt(Le,"class")},te=(Le,at)=>{wn(Le)?Le.dom.classList.remove(at):Ue(Le,at),K(Le)},he=(Le,at)=>{const Ro=(at||document).createElement("div");if(Ro.innerHTML=Le,!Ro.hasChildNodes()||Ro.childNodes.length>1){const Vn="HTML does not have a single root node";throw console.error(Vn,Le),new Error(Vn)}return de(Ro.childNodes[0])},V=(Le,at)=>{const Ro=(at||document).createElement(Le);return de(Ro)},re=(Le,at)=>{const Ro=(at||document).createTextNode(Le);return de(Ro)},de=Le=>{if(Le==null)throw new Error("Node cannot be null or undefined");return{dom:Le}},ut={fromHtml:he,fromTag:V,fromText:re,fromDom:de,fromPoint:(Le,at,xo)=>Qe.from(Le.dom.elementFromPoint(at,xo)).map(de)},Ee={" ":"nbsp","­":"shy"},Ke=(Le,at)=>{let xo="";return Go(Le,(Ro,Vn)=>{xo+=Vn}),new RegExp("["+xo+"]",at?"g":"")},xt=Le=>{let at="";return Go(Le,xo=>{at&&(at+=","),at+="span.mce-"+xo}),at},ho=Ke(Ee),je=Ke(Ee,!0),Je=xt(Ee),Ut="mce-nbsp",io=Le=>Le.dom.contentEditable,hn=Le=>'<span data-mce-bogus="1" class="mce-'+Ee[Le]+'">'+Le+"</span>",Lo=Le=>Le.nodeName.toLowerCase()==="span"&&Le.classList.contains("mce-nbsp-wrap"),Mo=Le=>{const at=ot(Le);return ye(Le)&&so(at)&&ho.test(at)},Hn=Le=>bt(Le)&&io(Le)==="false",Bo=(Le,at)=>{if(bt(Le)&&!Lo(Le.dom)){const xo=io(Le);if(xo==="true")return!0;if(xo==="false")return!1}return at},Wn=(Le,at,xo)=>{let Ro=[];const Vn=Le.dom,is=nt(Vn.childNodes,ut.fromDom),_r=Cr=>Lo(Cr.dom)||!Hn(Cr);return Be(is,Cr=>{xo&&_r(Cr)&&at(Cr)&&(Ro=Ro.concat([Cr])),Ro=Ro.concat(Wn(Cr,at,Bo(Cr,xo)))}),Ro},bs=(Le,at)=>{for(;Le.parentNode;){if(Le.parentNode===at)return at;Le=Le.parentNode}},os=Le=>Le.replace(je,hn),Ys=(Le,at)=>{const xo=Le.dom,Ro=Wn(ut.fromDom(at),Mo,Le.dom.isEditable(at));Be(Ro,Vn=>{var is;const _r=Vn.dom.parentNode;if(Lo(_r))dt(ut.fromDom(_r),Ut);else{const Cr=os(xo.encode((is=ot(Vn))!==null&&is!==void 0?is:"")),ir=xo.create("div",{},Cr);let ge;for(;ge=ir.lastChild;)xo.insertAfter(ge,Vn.dom);Le.dom.remove(Vn.dom)}})},vn=(Le,at)=>{const xo=Le.dom.select(Je,at);Be(xo,Ro=>{Lo(Ro)?te(ut.fromDom(Ro),Ut):Le.dom.remove(Ro,!0)})},jr=Le=>{const at=Le.getBody(),xo=Le.selection.getBookmark();let Ro=bs(Le.selection.getNode(),at);Ro=Ro!==void 0?Ro:at,vn(Le,Ro),Ys(Le,Ro),Le.selection.moveToBookmark(xo)},Kt=(Le,at)=>{Jt(Le,at.get());const xo=Le.getBody();at.get()===!0?Ys(Le,xo):vn(Le,xo)},Gn=(Le,at)=>{at.set(!at.get());const xo=Le.selection.getBookmark();Kt(Le,at),Le.selection.moveToBookmark(xo)},hr=(Le,at)=>{Le.addCommand("mceVisualChars",()=>{Gn(Le,at)})},ar=Le=>at=>at.options.get(Le),Pr=Le=>{const at=Le.options.register;at("visualchars_default_state",{processor:"boolean",default:!1})},$r=ar("visualchars_default_state"),ys=(Le,at)=>{Le.on("init",()=>{Kt(Le,at)})},ea=(Le,at)=>{let xo=null;return{cancel:()=>{So(xo)||(clearTimeout(xo),xo=null)},throttle:(...is)=>{So(xo)&&(xo=setTimeout(()=>{xo=null,Le.apply(null,is)},at))}}},ia=(Le,at)=>{const xo=ea(()=>{jr(Le)},300);Le.on("keydown",Ro=>{at.get()===!0&&(Ro.keyCode===13?jr(Le):xo.throttle())}),Le.on("remove",xo.cancel)},vs=(Le,at)=>xo=>{xo.setActive(at.get());const Ro=Vn=>xo.setActive(Vn.state);return Le.on("VisualChars",Ro),()=>Le.off("VisualChars",Ro)},Qo=(Le,at)=>{const xo=()=>Le.execCommand("mceVisualChars");Le.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:xo,onSetup:vs(Le,at)}),Le.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:xo,onSetup:vs(Le,at)})};var Vs=()=>{Gt.add("visualchars",Le=>{Pr(Le);const at=ro($r(Le));return hr(Le,at),Qo(Le,at),ia(Le,at),ys(Le,at),Wt(at)})};Vs()})();(function(){var ro=tinymce.util.Tools.resolve("tinymce.PluginManager");const Wt=(K=>te=>K===te)(null),Jt=K=>K,Lt=(K,te)=>{const he=K.length,V=new Array(he);for(let re=0;re<he;re++){const de=K[re];V[re]=te(de,re)}return V},qe={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},Re={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Pt=[new RegExp(qe.aletter),new RegExp(qe.midnumlet),new RegExp(qe.midletter),new RegExp(qe.midnum),new RegExp(qe.numeric),new RegExp(qe.cr),new RegExp(qe.lf),new RegExp(qe.newline),new RegExp(qe.extend),new RegExp(qe.format),new RegExp(qe.katakana),new RegExp(qe.extendnumlet),new RegExp("@")],so="",po=new RegExp("^"+qe.punctuation+"$"),So=/^\s+$/,Ft=Pt,Vt=Re.OTHER,St=K=>{let te=Vt;const he=Ft.length;for(let V=0;V<he;++V){const re=Ft[V];if(re&&re.test(K)){te=V;break}}return te},to=K=>{const te={};return he=>{if(te[he])return te[he];{const V=K(he);return te[he]=V,V}}},Qe=K=>{const te=to(St);return Lt(K,te)},nt=(K,te)=>{const he=K[te],V=K[te+1];if(te<0||te>K.length-1&&te!==0||he===Re.ALETTER&&V===Re.ALETTER)return!1;const re=K[te+2];if(he===Re.ALETTER&&(V===Re.MIDLETTER||V===Re.MIDNUMLET||V===Re.AT)&&re===Re.ALETTER)return!1;const de=K[te-1];return(he===Re.MIDLETTER||he===Re.MIDNUMLET||V===Re.AT)&&V===Re.ALETTER&&de===Re.ALETTER||(he===Re.NUMERIC||he===Re.ALETTER)&&(V===Re.NUMERIC||V===Re.ALETTER)||(he===Re.MIDNUM||he===Re.MIDNUMLET)&&V===Re.NUMERIC&&de===Re.NUMERIC||he===Re.NUMERIC&&(V===Re.MIDNUM||V===Re.MIDNUMLET)&&re===Re.NUMERIC||(he===Re.EXTEND||he===Re.FORMAT)&&(V===Re.ALETTER||V===Re.NUMERIC||V===Re.KATAKANA||V===Re.EXTEND||V===Re.FORMAT)||(V===Re.EXTEND||V===Re.FORMAT&&(re===Re.ALETTER||re===Re.NUMERIC||re===Re.KATAKANA||re===Re.EXTEND||re===Re.FORMAT))&&(he===Re.ALETTER||he===Re.NUMERIC||he===Re.KATAKANA||he===Re.EXTEND||he===Re.FORMAT)||he===Re.CR&&V===Re.LF?!1:he===Re.NEWLINE||he===Re.CR||he===Re.LF||V===Re.NEWLINE||V===Re.CR||V===Re.LF?!0:!(he===Re.KATAKANA&&V===Re.KATAKANA||V===Re.EXTENDNUMLET&&(he===Re.ALETTER||he===Re.NUMERIC||he===Re.KATAKANA||he===Re.EXTENDNUMLET)||he===Re.EXTENDNUMLET&&(V===Re.ALETTER||V===Re.NUMERIC||V===Re.KATAKANA)||he===Re.AT)},Be=so,X=So,lt=po,Go=K=>K==="http"||K==="https",pt=(K,te)=>{let he;for(he=te;he<K.length&&!X.test(K[he]);he++);return he},U=(K,te)=>{const he=pt(K,te+1);return K.slice(te+1,he).join(Be).substr(0,3)==="://"?he:te},zt=(K,te,he,V)=>{const re=[],de=[];let be=[];for(let ut=0;ut<he.length;++ut)if(be.push(K[ut]),nt(he,ut)){const Ee=te[ut];if((V.includeWhitespace||!X.test(Ee))&&(V.includePunctuation||!lt.test(Ee))){const Ke=ut-be.length+1,xt=ut+1,ho=te.slice(Ke,xt).join(Be);if(Go(ho)){const je=U(te,ut),Je=K.slice(xt,je);Array.prototype.push.apply(be,Je),ut=je}te[ut+1]==="."&&/^([a-zA-Z]\.)+$/.test(ho+".")?(be.push(K[ut+1]),de.push({start:Ke,end:xt+1})):de.push({start:Ke,end:xt}),re.push(be)}be=[]}return{words:re,indices:de}},ko=()=>({includeWhitespace:!1,includePunctuation:!1}),co=(K,te,he)=>{he={...ko(),...he};const V=Lt(K,te),re=Qe(V);return zt(K,V,re,he)},ie=(K,te,he)=>co(K,te,he).words,gn=K=>K.replace(/\uFEFF/g,"");var Oe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Me=(K,te)=>{const he=te.getBlockElements(),V=te.getVoidElements(),re=Ke=>he[Ke.nodeName]||V[Ke.nodeName],de=[];let be="";const ut=new Oe(K,K);let Ee;for(;Ee=ut.next();)Ee.nodeType===3?be+=gn(Ee.data):re(Ee)&&be.length&&(de.push(be),be="");return be.length&&de.push(be),de},_=K=>K.replace(/\u200B/g,""),ot=K=>K.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,ue=(K,te)=>{const he=_(Me(K,te).join(`
`));return ie(he.split(""),Jt).length},bt=(K,te)=>{const he=Me(K,te).join("");return ot(he)},wt=(K,te)=>{const he=Me(K,te).join("").replace(/\s/g,"");return ot(he)},ye=(K,te)=>()=>te(K.getBody(),K.schema),vt=(K,te)=>()=>te(K.selection.getRng().cloneContents(),K.schema),yo=K=>ye(K,ue),He=K=>({body:{getWordCount:yo(K),getCharacterCount:ye(K,bt),getCharacterCountWithoutSpaces:ye(K,wt)},selection:{getWordCount:vt(K,ue),getCharacterCount:vt(K,bt),getCharacterCountWithoutSpaces:vt(K,wt)},getCount:yo(K)}),Zt=(K,te)=>{K.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(te.body.getWordCount()),String(te.selection.getWordCount())],["Characters (no spaces)",String(te.body.getCharacterCountWithoutSpaces()),String(te.selection.getCharacterCountWithoutSpaces())],["Characters",String(te.body.getCharacterCount()),String(te.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},ke=(K,te)=>{K.addCommand("mceWordCount",()=>Zt(K,te))},Xe=(K,te)=>{let he=null;return{cancel:()=>{Wt(he)||(clearTimeout(he),he=null)},throttle:(...de)=>{Wt(he)&&(he=setTimeout(()=>{he=null,K.apply(null,de)},te))}}};var P=tinymce.util.Tools.resolve("tinymce.util.Delay");const wn=(K,te)=>{K.dispatch("wordCountUpdate",{wordCount:{words:te.body.getWordCount(),characters:te.body.getCharacterCount(),charactersWithoutSpaces:te.body.getCharacterCountWithoutSpaces()}})},st=(K,te)=>{wn(K,te)},Nt=(K,te,he)=>{const V=Xe(()=>st(K,te),he);K.on("init",()=>{st(K,te),P.setEditorTimeout(K,()=>{K.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",V.throttle)},0),K.on("remove",V.cancel)})},Ue=K=>{const te=()=>K.execCommand("mceWordCount");K.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:te}),K.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:te})};var dt=(K=300)=>{ro.add("wordcount",te=>{const he=He(te);return ke(te,he),Ue(te),Nt(te,he,K),he})};dt()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});tinymce.Resource.add("content/default/content.css",`body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border="0"]):not([style*=border-width]) td,table[border]:not([border="0"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border="0"]):not([style*=border-style]) td,table[border]:not([border="0"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border="0"]):not([style*=border-color]) td,table[border]:not([border="0"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}`);tinymce.Resource.add("ui/default/content.css",`.mce-content-body .mce-item-anchor{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline:0 auto;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{-webkit-text-decoration:none;text-decoration:none}@media print{sup.mce-footnote a{color:#000;-webkit-text-decoration:none;text-decoration:none}div.mce-footnotes{page-break-inside:avoid;break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:first-of-type{cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0 0 0%);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`);function BG(ro){return EE.jsx(NG,{licenseKey:"gpl",...ro})}function IG({...ro}){const{name:Gt,label:Wt,id:Jt,defaultValue:Lt}=ro,{register:Ht,setValue:qe,formState:Re}=ro.form||{},{errors:Pt}=Re||{},so=TE.useRef(null);return TE.useEffect(()=>{(Ht??(()=>{}))(Gt)}),EE.jsxs(yG,{item:!0,xs:12,children:[EE.jsxs(vG,{spacing:1,children:[EE.jsx(xG,{htmlFor:Jt||Gt,children:Wt}),EE.jsx(BG,{onInit:(po,So)=>so.current=So,initialValue:Lt,init:{height:500,promotion:!1,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","editimage","wordcount"],toolbar1:"undo redo | styles | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist",toolbar2:"outdent indent | link image media | preview fullscreen | forecolor backcolor | inserttable | insertimage",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:16px }",object_resizing:"img",relative_urls:!1,remove_script_host:!1,convert_urls:!0,file_picker_callback:function(po,So,Ft){let Vt=window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth,St=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,to="/admin-cp/file-management?editor="+Ft.fieldname;Ft.filetype=="image"?to=to+"&type=image":to=to+"&type=file",tinyMCE.activeEditor.windowManager.openUrl({url:to,title:"Files Management",width:Vt*.8,height:St*.8,resizable:"yes",close_previous:"no",onMessage:(Qe,nt)=>{po(nt.content)}})}}})]}),Pt&&Pt[Gt]&&EE.jsx(wG,{error:!0,id:"standard-weight-helper-text-email-login",children:Pt[Gt].message})]})}export{IG as default};
