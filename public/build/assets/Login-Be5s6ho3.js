import{j as e,G as t,S as g,T as d,u as b,a as E,R as A,I as C,b as L,L as w,D as S,l as k,m as D,c as F,r as P}from"./index-BMvk5DLR.js";import{E as T,a as I,L as V,A as q}from"./EyeInvisibleOutlined-D6S1sMXy.js";import{A as B,B as z}from"./AnimateButton-X6H1JnEB.js";import{F as M,C as R,a as W,b as Z,u as $,T as f,E as G}from"./ErrorMessage-D3oDSmgn.js";import"./Container-DZsSY_QL.js";function O({...r}){const{name:s,label:n,id:c,defaultValue:u,config:m,after:x}=r,{control:o,formState:h}=r.form||{},{errors:i}=h||{},{rules:p}=m||{},l={...r};return delete l.defaultValue,e.jsxs(t,{item:!0,xs:12,sx:{mt:-1},children:[e.jsxs(g,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,children:[e.jsx(M,{control:e.jsx(R,{control:o,rules:p,defaultValue:u||"",render:({field:{onChange:a,onBlur:j,value:v}})=>e.jsx(W,{id:c||s,onChange:a,onBlur:j,value:v,color:"primary",size:"small",...l}),name:s}),label:e.jsx(d,{variant:"h6",children:n})}),x]}),i&&i[s]&&e.jsx(Z,{error:!0,id:"standard-weight-helper-text-email-login",children:i[s].message})]})}function y(){const{loading:r}=b(a=>a.auth),s=$(),{setError:n,setValue:c,formState:{errors:u},handleSubmit:m}=s,x=E(),[o,h]=A.useState(!1),i=()=>{h(!o)},p=a=>{a.preventDefault()},l=a=>{x(k(a)).then(j=>{D(j,n),c("password","")})};return e.jsx(e.Fragment,{children:e.jsx("form",{noValidate:!0,onSubmit:m(l),children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(f,{label:"Email",name:"email",type:"email",form:s,config:{rules:{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}},placeholder:"Enter email address"}),e.jsx(f,{fullWidth:!0,label:"Password",type:o?"text":"password",form:s,name:"password",endAdornment:e.jsx(C,{position:"end",children:e.jsx(L,{"aria-label":"toggle password visibility",onClick:i,onMouseDown:p,edge:"end",color:"secondary",children:o?e.jsx(T,{}):e.jsx(I,{})})}),placeholder:"Enter password",config:{rules:{required:"Password is required"}}}),e.jsx(O,{form:s,name:"remember",label:"Keep me sign in",color:"primary",size:"small",defaultChecked:!0,after:e.jsx(V,{variant:"h6",component:w,color:"text.primary",to:"/admin-cp/forgot-password",children:"Forgot Password?"})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(G,{errors:u})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(B,{children:e.jsx(z,{disableElevation:!0,disabled:r,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Login"})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(S,{children:e.jsx(d,{variant:"caption",children:" Login with"})})})]})})})}y.propTypes={};function J(){const{userToken:r}=b(n=>n.auth),s=F();return P.useEffect(()=>{r&&s("/admin-cp/dashboard")},[s,r]),e.jsx(q,{children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsxs(g,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[e.jsx(d,{variant:"h3",children:"Login"}),e.jsx(d,{component:w,to:"/admin-cp/register",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Don't have an account?"})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(y,{})})]})})}export{J as default};
