import{r as l,u as g,d as F,a as I,j as e,G as r,I as L,T as d,L as f,b as x,D as C,t as M,f as T,m as _,A as q,e as B}from"./index-C7XDJ_kP.js";import{u as N,T as c,E as G,A as W,L as z}from"./LoadingButton-C5RViJFF.js";import{E as O,a as V,F as $}from"./SocialLogin-BHhPx49f.js";import{A as J}from"./Alert-swsxPqK4.js";import{I as U}from"./InputAdornment-Y9IKr8lC.js";import"./InputLabel-R-0Q6san.js";import"./OutlinedInput-Dl_FMo8h.js";const Z=s=>new RegExp(/[0-9]/).test(s),H=s=>new RegExp(/[a-z]/).test(s)&&new RegExp(/[A-Z]/).test(s),K=s=>new RegExp(/[!#@$%^&*)(+=._-]/).test(s),Q=s=>s<2?{label:"Poor",color:"error.main"}:s<3?{label:"Weak",color:"warning.main"}:s<4?{label:"Normal",color:"warning.dark"}:s<5?{label:"Good",color:"success.main"}:s<6?{label:"Strong",color:"success.dark"}:{label:"Poor",color:"error.main"},X=s=>{let i=0;return s.length>5&&(i+=1),s.length>7&&(i+=1),Z(s)&&(i+=1),K(s)&&(i+=1),H(s)&&(i+=1),i};function Y(){const[s,i]=l.useState(),[h,j]=l.useState(),[u,w]=l.useState(!1),{loading:y}=g(t=>t.auth),{settings:m,general:p}=g(t=>t.setting),b=F(),v=I(),n=N(),{handleSubmit:S,setError:E,setValue:a,formState:{errors:A}}=n,P=()=>{w(!u)},k=t=>{t.preventDefault()},D=t=>{const o=X(t);i(Q(o))},R=t=>{v(T(t)).then(o=>{if(o.payload.success)return m!=null&&m.user_verification?(j("Please check your email to verify your account."),a("name",""),a("email",""),a("password",""),a("password_confirmation","")):b("/user/login"),!1;_(o,E),a("password",""),a("password_confirmation","")})};return l.useEffect(()=>{D("")},[]),e.jsx(e.Fragment,{children:e.jsx("form",{noValidate:!0,onSubmit:S(R),children:e.jsxs(r,{container:!0,spacing:3,children:[h&&e.jsx(r,{item:!0,xs:12,md:12,mt:3,children:e.jsx(J,{variant:"filled",severity:"success",children:h})}),e.jsx(r,{item:!0,xs:12,md:12,children:e.jsx(c,{label:"Name",name:"name",form:n,placeholder:"Doe John",config:{rules:["required"]}})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(c,{label:"Email Address*",name:"email",type:"email",form:n,placeholder:"demo@gmail.com",config:{rules:["required","email"]}})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(c,{label:"Password*",name:"password",type:u?"text":"password",form:n,placeholder:"******",endAdornment:e.jsx(U,{position:"end",children:e.jsx(L,{"aria-label":"toggle password visibility",onClick:P,onMouseDown:k,edge:"end",color:"secondary",children:u?e.jsx(O,{}):e.jsx(V,{})})}),config:{rules:["required"]}})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(c,{label:"Confirm Password*",name:"password_confirmation",type:"password",form:n,placeholder:"******",config:{rules:["required"]}})}),e.jsx(r,{item:!0,xs:12,children:e.jsxs(d,{variant:"body2",children:["By Signing up, you agree to our  ",e.jsx(f,{variant:"subtitle2",component:x,to:"#",children:"Terms of Service"}),"  and  ",e.jsx(f,{variant:"subtitle2",component:x,to:"#",children:"Privacy Policy"})]})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(G,{errors:A})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(W,{children:e.jsx(z,{disableElevation:!0,loading:y,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Create Account"})})}),p&&p.login_socials.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(r,{item:!0,xs:12,children:e.jsx(C,{children:e.jsxs(d,{variant:"caption",children:[" ",M("Login with")]})})}),e.jsx(r,{item:!0,xs:12,children:e.jsx($,{})})]})]})})})}function oe(){return e.jsx(q,{title:"Register",children:e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(r,{item:!0,xs:12,children:e.jsxs(B,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[e.jsx(d,{variant:"h3",children:"Sign up"}),e.jsx(d,{component:x,to:"/user/login",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Already have an account?"})]})}),e.jsx(r,{item:!0,xs:12,children:e.jsx(Y,{})})]})})}export{oe as default};
